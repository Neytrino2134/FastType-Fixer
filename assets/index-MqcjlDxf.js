(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();var Kl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vp={exports:{}},Eo={},wp={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xi=Symbol.for("react.element"),J0=Symbol.for("react.portal"),X0=Symbol.for("react.fragment"),Z0=Symbol.for("react.strict_mode"),eg=Symbol.for("react.profiler"),tg=Symbol.for("react.provider"),ng=Symbol.for("react.context"),rg=Symbol.for("react.forward_ref"),ig=Symbol.for("react.suspense"),lg=Symbol.for("react.memo"),og=Symbol.for("react.lazy"),pc=Symbol.iterator;function sg(e){return e===null||typeof e!="object"?null:(e=pc&&e[pc]||e["@@iterator"],typeof e=="function"?e:null)}var kp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cp=Object.assign,bp={};function Qr(e,t,n){this.props=e,this.context=t,this.refs=bp,this.updater=n||kp}Qr.prototype.isReactComponent={};Qr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Sp(){}Sp.prototype=Qr.prototype;function Ka(e,t,n){this.props=e,this.context=t,this.refs=bp,this.updater=n||kp}var Ya=Ka.prototype=new Sp;Ya.constructor=Ka;Cp(Ya,Qr.prototype);Ya.isPureReactComponent=!0;var hc=Array.isArray,Np=Object.prototype.hasOwnProperty,Qa={current:null},Ep={key:!0,ref:!0,__self:!0,__source:!0};function Tp(e,t,n){var r,i={},l=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(l=""+t.key),t)Np.call(t,r)&&!Ep.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Xi,type:e,key:l,ref:o,props:i,_owner:Qa.current}}function ag(e,t){return{$$typeof:Xi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ja(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xi}function ug(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var mc=/\/+/g;function Yo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ug(""+e.key):t.toString(36)}function _l(e,t,n,r,i){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Xi:case J0:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Yo(o,0):r,hc(i)?(n="",e!=null&&(n=e.replace(mc,"$&/")+"/"),_l(i,t,n,"",function(c){return c})):i!=null&&(Ja(i)&&(i=ag(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(mc,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",hc(e))for(var s=0;s<e.length;s++){l=e[s];var u=r+Yo(l,s);o+=_l(l,t,n,u,i)}else if(u=sg(e),typeof u=="function")for(e=u.call(e),s=0;!(l=e.next()).done;)l=l.value,u=r+Yo(l,s++),o+=_l(l,t,n,u,i);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ul(e,t,n){if(e==null)return e;var r=[],i=0;return _l(e,r,"","",function(l){return t.call(n,l,i++)}),r}function cg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ut={current:null},Ml={transition:null},dg={ReactCurrentDispatcher:ut,ReactCurrentBatchConfig:Ml,ReactCurrentOwner:Qa};function Ip(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:ul,forEach:function(e,t,n){ul(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ul(e,function(){t++}),t},toArray:function(e){return ul(e,function(t){return t})||[]},only:function(e){if(!Ja(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ne.Component=Qr;Ne.Fragment=X0;Ne.Profiler=eg;Ne.PureComponent=Ka;Ne.StrictMode=Z0;Ne.Suspense=ig;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dg;Ne.act=Ip;Ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Cp({},e.props),i=e.key,l=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,o=Qa.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)Np.call(t,u)&&!Ep.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&s!==void 0?s[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){s=Array(u);for(var c=0;c<u;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:Xi,type:e.type,key:i,ref:l,props:r,_owner:o}};Ne.createContext=function(e){return e={$$typeof:ng,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:tg,_context:e},e.Consumer=e};Ne.createElement=Tp;Ne.createFactory=function(e){var t=Tp.bind(null,e);return t.type=e,t};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(e){return{$$typeof:rg,render:e}};Ne.isValidElement=Ja;Ne.lazy=function(e){return{$$typeof:og,_payload:{_status:-1,_result:e},_init:cg}};Ne.memo=function(e,t){return{$$typeof:lg,type:e,compare:t===void 0?null:t}};Ne.startTransition=function(e){var t=Ml.transition;Ml.transition={};try{e()}finally{Ml.transition=t}};Ne.unstable_act=Ip;Ne.useCallback=function(e,t){return ut.current.useCallback(e,t)};Ne.useContext=function(e){return ut.current.useContext(e)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(e){return ut.current.useDeferredValue(e)};Ne.useEffect=function(e,t){return ut.current.useEffect(e,t)};Ne.useId=function(){return ut.current.useId()};Ne.useImperativeHandle=function(e,t,n){return ut.current.useImperativeHandle(e,t,n)};Ne.useInsertionEffect=function(e,t){return ut.current.useInsertionEffect(e,t)};Ne.useLayoutEffect=function(e,t){return ut.current.useLayoutEffect(e,t)};Ne.useMemo=function(e,t){return ut.current.useMemo(e,t)};Ne.useReducer=function(e,t,n){return ut.current.useReducer(e,t,n)};Ne.useRef=function(e){return ut.current.useRef(e)};Ne.useState=function(e){return ut.current.useState(e)};Ne.useSyncExternalStore=function(e,t,n){return ut.current.useSyncExternalStore(e,t,n)};Ne.useTransition=function(){return ut.current.useTransition()};Ne.version="18.3.1";wp.exports=Ne;var N=wp.exports;const Mi=Wa(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fg=N,pg=Symbol.for("react.element"),hg=Symbol.for("react.fragment"),mg=Object.prototype.hasOwnProperty,gg=fg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xg={key:!0,ref:!0,__self:!0,__source:!0};function Ap(e,t,n){var r,i={},l=null,o=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)mg.call(t,r)&&!xg.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:pg,type:e,key:l,ref:o,props:i,_owner:gg.current}}Eo.Fragment=hg;Eo.jsx=Ap;Eo.jsxs=Ap;vp.exports=Eo;var a=vp.exports,Ls={},_p={exports:{}},Pt={},Mp={exports:{}},Pp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,Y){var S=z.length;z.push(Y);e:for(;0<S;){var L=S-1>>>1,_=z[L];if(0<i(_,Y))z[L]=Y,z[S]=_,S=L;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var Y=z[0],S=z.pop();if(S!==Y){z[0]=S;e:for(var L=0,_=z.length,v=_>>>1;L<v;){var F=2*(L+1)-1,J=z[F],V=F+1,U=z[V];if(0>i(J,S))V<_&&0>i(U,J)?(z[L]=U,z[V]=S,L=V):(z[L]=J,z[F]=S,L=F);else if(V<_&&0>i(U,S))z[L]=U,z[V]=S,L=V;else break e}}return Y}function i(z,Y){var S=z.sortIndex-Y.sortIndex;return S!==0?S:z.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var u=[],c=[],d=1,f=null,g=3,m=!1,C=!1,k=!1,E=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(z){for(var Y=n(c);Y!==null;){if(Y.callback===null)r(c);else if(Y.startTime<=z)r(c),Y.sortIndex=Y.expirationTime,t(u,Y);else break;Y=n(c)}}function I(z){if(k=!1,y(z),!C)if(n(u)!==null)C=!0,fe(P);else{var Y=n(c);Y!==null&&ie(I,Y.startTime-z)}}function P(z,Y){C=!1,k&&(k=!1,x(A),A=-1),m=!0;var S=g;try{for(y(Y),f=n(u);f!==null&&(!(f.expirationTime>Y)||z&&!D());){var L=f.callback;if(typeof L=="function"){f.callback=null,g=f.priorityLevel;var _=L(f.expirationTime<=Y);Y=e.unstable_now(),typeof _=="function"?f.callback=_:f===n(u)&&r(u),y(Y)}else r(u);f=n(u)}if(f!==null)var v=!0;else{var F=n(c);F!==null&&ie(I,F.startTime-Y),v=!1}return v}finally{f=null,g=S,m=!1}}var b=!1,T=null,A=-1,O=5,j=-1;function D(){return!(e.unstable_now()-j<O)}function M(){if(T!==null){var z=e.unstable_now();j=z;var Y=!0;try{Y=T(!0,z)}finally{Y?H():(b=!1,T=null)}}else b=!1}var H;if(typeof w=="function")H=function(){w(M)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,ee=$.port2;$.port1.onmessage=M,H=function(){ee.postMessage(null)}}else H=function(){E(M,0)};function fe(z){T=z,b||(b=!0,H())}function ie(z,Y){A=E(function(){z(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){C||m||(C=!0,fe(P))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(z){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var S=g;g=Y;try{return z()}finally{g=S}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,Y){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var S=g;g=z;try{return Y()}finally{g=S}},e.unstable_scheduleCallback=function(z,Y,S){var L=e.unstable_now();switch(typeof S=="object"&&S!==null?(S=S.delay,S=typeof S=="number"&&0<S?L+S:L):S=L,z){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=S+_,z={id:d++,callback:Y,priorityLevel:z,startTime:S,expirationTime:_,sortIndex:-1},S>L?(z.sortIndex=S,t(c,z),n(u)===null&&z===n(c)&&(k?(x(A),A=-1):k=!0,ie(I,S-L))):(z.sortIndex=_,t(u,z),C||m||(C=!0,fe(P))),z},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(z){var Y=g;return function(){var S=g;g=Y;try{return z.apply(this,arguments)}finally{g=S}}}})(Pp);Mp.exports=Pp;var yg=Mp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg=N,At=yg;function Q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jp=new Set,Pi={};function ar(e,t){Ur(e,t),Ur(e+"Capture",t)}function Ur(e,t){for(Pi[e]=t,e=0;e<t.length;e++)jp.add(t[e])}var hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zs=Object.prototype.hasOwnProperty,wg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gc={},xc={};function kg(e){return zs.call(xc,e)?!0:zs.call(gc,e)?!1:wg.test(e)?xc[e]=!0:(gc[e]=!0,!1)}function Cg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bg(e,t,n,r){if(t===null||typeof t>"u"||Cg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ct(e,t,n,r,i,l,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=o}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tt[e]=new ct(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tt[t]=new ct(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tt[e]=new ct(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tt[e]=new ct(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tt[e]=new ct(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tt[e]=new ct(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tt[e]=new ct(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tt[e]=new ct(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tt[e]=new ct(e,5,!1,e.toLowerCase(),null,!1,!1)});var Xa=/[\-:]([a-z])/g;function Za(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Xa,Za);tt[t]=new ct(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Xa,Za);tt[t]=new ct(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Xa,Za);tt[t]=new ct(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tt[e]=new ct(e,1,!1,e.toLowerCase(),null,!1,!1)});tt.xlinkHref=new ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tt[e]=new ct(e,1,!1,e.toLowerCase(),null,!0,!0)});function eu(e,t,n,r){var i=tt.hasOwnProperty(t)?tt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(bg(t,n,i,r)&&(n=null),r||i===null?kg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var yn=vg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cl=Symbol.for("react.element"),yr=Symbol.for("react.portal"),vr=Symbol.for("react.fragment"),tu=Symbol.for("react.strict_mode"),Fs=Symbol.for("react.profiler"),Rp=Symbol.for("react.provider"),Dp=Symbol.for("react.context"),nu=Symbol.for("react.forward_ref"),Os=Symbol.for("react.suspense"),Us=Symbol.for("react.suspense_list"),ru=Symbol.for("react.memo"),bn=Symbol.for("react.lazy"),Lp=Symbol.for("react.offscreen"),yc=Symbol.iterator;function ni(e){return e===null||typeof e!="object"?null:(e=yc&&e[yc]||e["@@iterator"],typeof e=="function"?e:null)}var Ve=Object.assign,Qo;function hi(e){if(Qo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Qo=t&&t[1]||""}return`
`+Qo+e}var Jo=!1;function Xo(e,t){if(!e||Jo)return"";Jo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),l=r.stack.split(`
`),o=i.length-1,s=l.length-1;1<=o&&0<=s&&i[o]!==l[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==l[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==l[s]){var u=`
`+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=s);break}}}finally{Jo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?hi(e):""}function Sg(e){switch(e.tag){case 5:return hi(e.type);case 16:return hi("Lazy");case 13:return hi("Suspense");case 19:return hi("SuspenseList");case 0:case 2:case 15:return e=Xo(e.type,!1),e;case 11:return e=Xo(e.type.render,!1),e;case 1:return e=Xo(e.type,!0),e;default:return""}}function Hs(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vr:return"Fragment";case yr:return"Portal";case Fs:return"Profiler";case tu:return"StrictMode";case Os:return"Suspense";case Us:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Dp:return(e.displayName||"Context")+".Consumer";case Rp:return(e._context.displayName||"Context")+".Provider";case nu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ru:return t=e.displayName||null,t!==null?t:Hs(e.type)||"Memo";case bn:t=e._payload,e=e._init;try{return Hs(e(t))}catch{}}return null}function Ng(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hs(t);case 8:return t===tu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Fn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Eg(e){var t=zp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,l.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function dl(e){e._valueTracker||(e._valueTracker=Eg(e))}function Fp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=zp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Yl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vs(e,t){var n=t.checked;return Ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function vc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Fn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Op(e,t){t=t.checked,t!=null&&eu(e,"checked",t,!1)}function Bs(e,t){Op(e,t);var n=Fn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$s(e,t.type,n):t.hasOwnProperty("defaultValue")&&$s(e,t.type,Fn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function $s(e,t,n){(t!=="number"||Yl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var mi=Array.isArray;function _r(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Fn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function qs(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Q(91));return Ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Q(92));if(mi(n)){if(1<n.length)throw Error(Q(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Fn(n)}}function Up(e,t){var n=Fn(t.value),r=Fn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Cc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Hp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gs(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Hp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fl,Vp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fl=fl||document.createElement("div"),fl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ji(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var yi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tg=["Webkit","ms","Moz","O"];Object.keys(yi).forEach(function(e){Tg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),yi[t]=yi[e]})});function Bp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||yi.hasOwnProperty(e)&&yi[e]?(""+t).trim():t+"px"}function $p(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Bp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Ig=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ws(e,t){if(t){if(Ig[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Q(62))}}function Ks(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ys=null;function iu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qs=null,Mr=null,Pr=null;function bc(e){if(e=tl(e)){if(typeof Qs!="function")throw Error(Q(280));var t=e.stateNode;t&&(t=Mo(t),Qs(e.stateNode,e.type,t))}}function qp(e){Mr?Pr?Pr.push(e):Pr=[e]:Mr=e}function Gp(){if(Mr){var e=Mr,t=Pr;if(Pr=Mr=null,bc(e),t)for(e=0;e<t.length;e++)bc(t[e])}}function Wp(e,t){return e(t)}function Kp(){}var Zo=!1;function Yp(e,t,n){if(Zo)return e(t,n);Zo=!0;try{return Wp(e,t,n)}finally{Zo=!1,(Mr!==null||Pr!==null)&&(Kp(),Gp())}}function Ri(e,t){var n=e.stateNode;if(n===null)return null;var r=Mo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Q(231,t,typeof n));return n}var Js=!1;if(hn)try{var ri={};Object.defineProperty(ri,"passive",{get:function(){Js=!0}}),window.addEventListener("test",ri,ri),window.removeEventListener("test",ri,ri)}catch{Js=!1}function Ag(e,t,n,r,i,l,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var vi=!1,Ql=null,Jl=!1,Xs=null,_g={onError:function(e){vi=!0,Ql=e}};function Mg(e,t,n,r,i,l,o,s,u){vi=!1,Ql=null,Ag.apply(_g,arguments)}function Pg(e,t,n,r,i,l,o,s,u){if(Mg.apply(this,arguments),vi){if(vi){var c=Ql;vi=!1,Ql=null}else throw Error(Q(198));Jl||(Jl=!0,Xs=c)}}function ur(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Qp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Sc(e){if(ur(e)!==e)throw Error(Q(188))}function jg(e){var t=e.alternate;if(!t){if(t=ur(e),t===null)throw Error(Q(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var l=i.alternate;if(l===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===n)return Sc(i),e;if(l===r)return Sc(i),t;l=l.sibling}throw Error(Q(188))}if(n.return!==r.return)n=i,r=l;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=l;break}if(s===r){o=!0,r=i,n=l;break}s=s.sibling}if(!o){for(s=l.child;s;){if(s===n){o=!0,n=l,r=i;break}if(s===r){o=!0,r=l,n=i;break}s=s.sibling}if(!o)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?e:t}function Jp(e){return e=jg(e),e!==null?Xp(e):null}function Xp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Xp(e);if(t!==null)return t;e=e.sibling}return null}var Zp=At.unstable_scheduleCallback,Nc=At.unstable_cancelCallback,Rg=At.unstable_shouldYield,Dg=At.unstable_requestPaint,qe=At.unstable_now,Lg=At.unstable_getCurrentPriorityLevel,lu=At.unstable_ImmediatePriority,eh=At.unstable_UserBlockingPriority,Xl=At.unstable_NormalPriority,zg=At.unstable_LowPriority,th=At.unstable_IdlePriority,To=null,rn=null;function Fg(e){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(To,e,void 0,(e.current.flags&128)===128)}catch{}}var Wt=Math.clz32?Math.clz32:Hg,Og=Math.log,Ug=Math.LN2;function Hg(e){return e>>>=0,e===0?32:31-(Og(e)/Ug|0)|0}var pl=64,hl=4194304;function gi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,l=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=gi(s):(l&=o,l!==0&&(r=gi(l)))}else o=n&~i,o!==0?r=gi(o):l!==0&&(r=gi(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,l=t&-t,i>=l||i===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Wt(t),i=1<<n,r|=e[n],t&=~i;return r}function Vg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bg(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,l=e.pendingLanes;0<l;){var o=31-Wt(l),s=1<<o,u=i[o];u===-1?(!(s&n)||s&r)&&(i[o]=Vg(s,t)):u<=t&&(e.expiredLanes|=s),l&=~s}}function Zs(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function nh(){var e=pl;return pl<<=1,!(pl&4194240)&&(pl=64),e}function es(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Zi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Wt(t),e[t]=n}function $g(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Wt(n),l=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~l}}function ou(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Wt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ae=0;function rh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ih,su,lh,oh,sh,ea=!1,ml=[],_n=null,Mn=null,Pn=null,Di=new Map,Li=new Map,Nn=[],qg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ec(e,t){switch(e){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":Mn=null;break;case"mouseover":case"mouseout":Pn=null;break;case"pointerover":case"pointerout":Di.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Li.delete(t.pointerId)}}function ii(e,t,n,r,i,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[i]},t!==null&&(t=tl(t),t!==null&&su(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Gg(e,t,n,r,i){switch(t){case"focusin":return _n=ii(_n,e,t,n,r,i),!0;case"dragenter":return Mn=ii(Mn,e,t,n,r,i),!0;case"mouseover":return Pn=ii(Pn,e,t,n,r,i),!0;case"pointerover":var l=i.pointerId;return Di.set(l,ii(Di.get(l)||null,e,t,n,r,i)),!0;case"gotpointercapture":return l=i.pointerId,Li.set(l,ii(Li.get(l)||null,e,t,n,r,i)),!0}return!1}function ah(e){var t=Jn(e.target);if(t!==null){var n=ur(t);if(n!==null){if(t=n.tag,t===13){if(t=Qp(n),t!==null){e.blockedOn=t,sh(e.priority,function(){lh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ta(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ys=r,n.target.dispatchEvent(r),Ys=null}else return t=tl(n),t!==null&&su(t),e.blockedOn=n,!1;t.shift()}return!0}function Tc(e,t,n){Pl(e)&&n.delete(t)}function Wg(){ea=!1,_n!==null&&Pl(_n)&&(_n=null),Mn!==null&&Pl(Mn)&&(Mn=null),Pn!==null&&Pl(Pn)&&(Pn=null),Di.forEach(Tc),Li.forEach(Tc)}function li(e,t){e.blockedOn===t&&(e.blockedOn=null,ea||(ea=!0,At.unstable_scheduleCallback(At.unstable_NormalPriority,Wg)))}function zi(e){function t(i){return li(i,e)}if(0<ml.length){li(ml[0],e);for(var n=1;n<ml.length;n++){var r=ml[n];r.blockedOn===e&&(r.blockedOn=null)}}for(_n!==null&&li(_n,e),Mn!==null&&li(Mn,e),Pn!==null&&li(Pn,e),Di.forEach(t),Li.forEach(t),n=0;n<Nn.length;n++)r=Nn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Nn.length&&(n=Nn[0],n.blockedOn===null);)ah(n),n.blockedOn===null&&Nn.shift()}var jr=yn.ReactCurrentBatchConfig,eo=!0;function Kg(e,t,n,r){var i=Ae,l=jr.transition;jr.transition=null;try{Ae=1,au(e,t,n,r)}finally{Ae=i,jr.transition=l}}function Yg(e,t,n,r){var i=Ae,l=jr.transition;jr.transition=null;try{Ae=4,au(e,t,n,r)}finally{Ae=i,jr.transition=l}}function au(e,t,n,r){if(eo){var i=ta(e,t,n,r);if(i===null)cs(e,t,r,to,n),Ec(e,r);else if(Gg(i,e,t,n,r))r.stopPropagation();else if(Ec(e,r),t&4&&-1<qg.indexOf(e)){for(;i!==null;){var l=tl(i);if(l!==null&&ih(l),l=ta(e,t,n,r),l===null&&cs(e,t,r,to,n),l===i)break;i=l}i!==null&&r.stopPropagation()}else cs(e,t,r,null,n)}}var to=null;function ta(e,t,n,r){if(to=null,e=iu(r),e=Jn(e),e!==null)if(t=ur(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Qp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return to=e,null}function uh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lg()){case lu:return 1;case eh:return 4;case Xl:case zg:return 16;case th:return 536870912;default:return 16}default:return 16}}var Tn=null,uu=null,jl=null;function ch(){if(jl)return jl;var e,t=uu,n=t.length,r,i="value"in Tn?Tn.value:Tn.textContent,l=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[l-r];r++);return jl=i.slice(e,1<r?1-r:void 0)}function Rl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gl(){return!0}function Ic(){return!1}function jt(e){function t(n,r,i,l,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(l):l[s]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?gl:Ic,this.isPropagationStopped=Ic,this}return Ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gl)},persist:function(){},isPersistent:gl}),t}var Jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cu=jt(Jr),el=Ve({},Jr,{view:0,detail:0}),Qg=jt(el),ts,ns,oi,Io=Ve({},el,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:du,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oi&&(oi&&e.type==="mousemove"?(ts=e.screenX-oi.screenX,ns=e.screenY-oi.screenY):ns=ts=0,oi=e),ts)},movementY:function(e){return"movementY"in e?e.movementY:ns}}),Ac=jt(Io),Jg=Ve({},Io,{dataTransfer:0}),Xg=jt(Jg),Zg=Ve({},el,{relatedTarget:0}),rs=jt(Zg),ex=Ve({},Jr,{animationName:0,elapsedTime:0,pseudoElement:0}),tx=jt(ex),nx=Ve({},Jr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rx=jt(nx),ix=Ve({},Jr,{data:0}),_c=jt(ix),lx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ox={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ax(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sx[e])?!!t[e]:!1}function du(){return ax}var ux=Ve({},el,{key:function(e){if(e.key){var t=lx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Rl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ox[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:du,charCode:function(e){return e.type==="keypress"?Rl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cx=jt(ux),dx=Ve({},Io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mc=jt(dx),fx=Ve({},el,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:du}),px=jt(fx),hx=Ve({},Jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),mx=jt(hx),gx=Ve({},Io,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xx=jt(gx),yx=[9,13,27,32],fu=hn&&"CompositionEvent"in window,wi=null;hn&&"documentMode"in document&&(wi=document.documentMode);var vx=hn&&"TextEvent"in window&&!wi,dh=hn&&(!fu||wi&&8<wi&&11>=wi),Pc=" ",jc=!1;function fh(e,t){switch(e){case"keyup":return yx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ph(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wr=!1;function wx(e,t){switch(e){case"compositionend":return ph(t);case"keypress":return t.which!==32?null:(jc=!0,Pc);case"textInput":return e=t.data,e===Pc&&jc?null:e;default:return null}}function kx(e,t){if(wr)return e==="compositionend"||!fu&&fh(e,t)?(e=ch(),jl=uu=Tn=null,wr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return dh&&t.locale!=="ko"?null:t.data;default:return null}}var Cx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Cx[e.type]:t==="textarea"}function hh(e,t,n,r){qp(r),t=no(t,"onChange"),0<t.length&&(n=new cu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ki=null,Fi=null;function bx(e){Nh(e,0)}function Ao(e){var t=br(e);if(Fp(t))return e}function Sx(e,t){if(e==="change")return t}var mh=!1;if(hn){var is;if(hn){var ls="oninput"in document;if(!ls){var Dc=document.createElement("div");Dc.setAttribute("oninput","return;"),ls=typeof Dc.oninput=="function"}is=ls}else is=!1;mh=is&&(!document.documentMode||9<document.documentMode)}function Lc(){ki&&(ki.detachEvent("onpropertychange",gh),Fi=ki=null)}function gh(e){if(e.propertyName==="value"&&Ao(Fi)){var t=[];hh(t,Fi,e,iu(e)),Yp(bx,t)}}function Nx(e,t,n){e==="focusin"?(Lc(),ki=t,Fi=n,ki.attachEvent("onpropertychange",gh)):e==="focusout"&&Lc()}function Ex(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ao(Fi)}function Tx(e,t){if(e==="click")return Ao(t)}function Ix(e,t){if(e==="input"||e==="change")return Ao(t)}function Ax(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yt=typeof Object.is=="function"?Object.is:Ax;function Oi(e,t){if(Yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!zs.call(t,i)||!Yt(e[i],t[i]))return!1}return!0}function zc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fc(e,t){var n=zc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zc(n)}}function xh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?xh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yh(){for(var e=window,t=Yl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Yl(e.document)}return t}function pu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function _x(e){var t=yh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&xh(n.ownerDocument.documentElement,n)){if(r!==null&&pu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,l=Math.min(r.start,i);r=r.end===void 0?l:Math.min(r.end,i),!e.extend&&l>r&&(i=r,r=l,l=i),i=Fc(n,l);var o=Fc(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Mx=hn&&"documentMode"in document&&11>=document.documentMode,kr=null,na=null,Ci=null,ra=!1;function Oc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ra||kr==null||kr!==Yl(r)||(r=kr,"selectionStart"in r&&pu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ci&&Oi(Ci,r)||(Ci=r,r=no(na,"onSelect"),0<r.length&&(t=new cu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}function xl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cr={animationend:xl("Animation","AnimationEnd"),animationiteration:xl("Animation","AnimationIteration"),animationstart:xl("Animation","AnimationStart"),transitionend:xl("Transition","TransitionEnd")},os={},vh={};hn&&(vh=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);function _o(e){if(os[e])return os[e];if(!Cr[e])return e;var t=Cr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in vh)return os[e]=t[n];return e}var wh=_o("animationend"),kh=_o("animationiteration"),Ch=_o("animationstart"),bh=_o("transitionend"),Sh=new Map,Uc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vn(e,t){Sh.set(e,t),ar(t,[e])}for(var ss=0;ss<Uc.length;ss++){var as=Uc[ss],Px=as.toLowerCase(),jx=as[0].toUpperCase()+as.slice(1);Vn(Px,"on"+jx)}Vn(wh,"onAnimationEnd");Vn(kh,"onAnimationIteration");Vn(Ch,"onAnimationStart");Vn("dblclick","onDoubleClick");Vn("focusin","onFocus");Vn("focusout","onBlur");Vn(bh,"onTransitionEnd");Ur("onMouseEnter",["mouseout","mouseover"]);Ur("onMouseLeave",["mouseout","mouseover"]);Ur("onPointerEnter",["pointerout","pointerover"]);Ur("onPointerLeave",["pointerout","pointerover"]);ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ar("onBeforeInput",["compositionend","keypress","textInput","paste"]);ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rx=new Set("cancel close invalid load scroll toggle".split(" ").concat(xi));function Hc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Pg(r,t,void 0,e),e.currentTarget=null}function Nh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==l&&i.isPropagationStopped())break e;Hc(i,s,c),l=u}else for(o=0;o<r.length;o++){if(s=r[o],u=s.instance,c=s.currentTarget,s=s.listener,u!==l&&i.isPropagationStopped())break e;Hc(i,s,c),l=u}}}if(Jl)throw e=Xs,Jl=!1,Xs=null,e}function Le(e,t){var n=t[aa];n===void 0&&(n=t[aa]=new Set);var r=e+"__bubble";n.has(r)||(Eh(t,e,2,!1),n.add(r))}function us(e,t,n){var r=0;t&&(r|=4),Eh(n,e,r,t)}var yl="_reactListening"+Math.random().toString(36).slice(2);function Ui(e){if(!e[yl]){e[yl]=!0,jp.forEach(function(n){n!=="selectionchange"&&(Rx.has(n)||us(n,!1,e),us(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yl]||(t[yl]=!0,us("selectionchange",!1,t))}}function Eh(e,t,n,r){switch(uh(t)){case 1:var i=Kg;break;case 4:i=Yg;break;default:i=au}n=i.bind(null,t,n,e),i=void 0,!Js||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function cs(e,t,n,r,i){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Jn(s),o===null)return;if(u=o.tag,u===5||u===6){r=l=o;continue e}s=s.parentNode}}r=r.return}Yp(function(){var c=l,d=iu(n),f=[];e:{var g=Sh.get(e);if(g!==void 0){var m=cu,C=e;switch(e){case"keypress":if(Rl(n)===0)break e;case"keydown":case"keyup":m=cx;break;case"focusin":C="focus",m=rs;break;case"focusout":C="blur",m=rs;break;case"beforeblur":case"afterblur":m=rs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Ac;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Xg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=px;break;case wh:case kh:case Ch:m=tx;break;case bh:m=mx;break;case"scroll":m=Qg;break;case"wheel":m=xx;break;case"copy":case"cut":case"paste":m=rx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Mc}var k=(t&4)!==0,E=!k&&e==="scroll",x=k?g!==null?g+"Capture":null:g;k=[];for(var w=c,y;w!==null;){y=w;var I=y.stateNode;if(y.tag===5&&I!==null&&(y=I,x!==null&&(I=Ri(w,x),I!=null&&k.push(Hi(w,I,y)))),E)break;w=w.return}0<k.length&&(g=new m(g,C,null,n,d),f.push({event:g,listeners:k}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",g&&n!==Ys&&(C=n.relatedTarget||n.fromElement)&&(Jn(C)||C[mn]))break e;if((m||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,m?(C=n.relatedTarget||n.toElement,m=c,C=C?Jn(C):null,C!==null&&(E=ur(C),C!==E||C.tag!==5&&C.tag!==6)&&(C=null)):(m=null,C=c),m!==C)){if(k=Ac,I="onMouseLeave",x="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(k=Mc,I="onPointerLeave",x="onPointerEnter",w="pointer"),E=m==null?g:br(m),y=C==null?g:br(C),g=new k(I,w+"leave",m,n,d),g.target=E,g.relatedTarget=y,I=null,Jn(d)===c&&(k=new k(x,w+"enter",C,n,d),k.target=y,k.relatedTarget=E,I=k),E=I,m&&C)t:{for(k=m,x=C,w=0,y=k;y;y=pr(y))w++;for(y=0,I=x;I;I=pr(I))y++;for(;0<w-y;)k=pr(k),w--;for(;0<y-w;)x=pr(x),y--;for(;w--;){if(k===x||x!==null&&k===x.alternate)break t;k=pr(k),x=pr(x)}k=null}else k=null;m!==null&&Vc(f,g,m,k,!1),C!==null&&E!==null&&Vc(f,E,C,k,!0)}}e:{if(g=c?br(c):window,m=g.nodeName&&g.nodeName.toLowerCase(),m==="select"||m==="input"&&g.type==="file")var P=Sx;else if(Rc(g))if(mh)P=Ix;else{P=Ex;var b=Nx}else(m=g.nodeName)&&m.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(P=Tx);if(P&&(P=P(e,c))){hh(f,P,n,d);break e}b&&b(e,g,c),e==="focusout"&&(b=g._wrapperState)&&b.controlled&&g.type==="number"&&$s(g,"number",g.value)}switch(b=c?br(c):window,e){case"focusin":(Rc(b)||b.contentEditable==="true")&&(kr=b,na=c,Ci=null);break;case"focusout":Ci=na=kr=null;break;case"mousedown":ra=!0;break;case"contextmenu":case"mouseup":case"dragend":ra=!1,Oc(f,n,d);break;case"selectionchange":if(Mx)break;case"keydown":case"keyup":Oc(f,n,d)}var T;if(fu)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else wr?fh(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(dh&&n.locale!=="ko"&&(wr||A!=="onCompositionStart"?A==="onCompositionEnd"&&wr&&(T=ch()):(Tn=d,uu="value"in Tn?Tn.value:Tn.textContent,wr=!0)),b=no(c,A),0<b.length&&(A=new _c(A,e,null,n,d),f.push({event:A,listeners:b}),T?A.data=T:(T=ph(n),T!==null&&(A.data=T)))),(T=vx?wx(e,n):kx(e,n))&&(c=no(c,"onBeforeInput"),0<c.length&&(d=new _c("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=T))}Nh(f,t)})}function Hi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function no(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,l=i.stateNode;i.tag===5&&l!==null&&(i=l,l=Ri(e,n),l!=null&&r.unshift(Hi(e,l,i)),l=Ri(e,t),l!=null&&r.push(Hi(e,l,i))),e=e.return}return r}function pr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Vc(e,t,n,r,i){for(var l=t._reactName,o=[];n!==null&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(u!==null&&u===r)break;s.tag===5&&c!==null&&(s=c,i?(u=Ri(n,l),u!=null&&o.unshift(Hi(n,u,s))):i||(u=Ri(n,l),u!=null&&o.push(Hi(n,u,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Dx=/\r\n?/g,Lx=/\u0000|\uFFFD/g;function Bc(e){return(typeof e=="string"?e:""+e).replace(Dx,`
`).replace(Lx,"")}function vl(e,t,n){if(t=Bc(t),Bc(e)!==t&&n)throw Error(Q(425))}function ro(){}var ia=null,la=null;function oa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var sa=typeof setTimeout=="function"?setTimeout:void 0,zx=typeof clearTimeout=="function"?clearTimeout:void 0,$c=typeof Promise=="function"?Promise:void 0,Fx=typeof queueMicrotask=="function"?queueMicrotask:typeof $c<"u"?function(e){return $c.resolve(null).then(e).catch(Ox)}:sa;function Ox(e){setTimeout(function(){throw e})}function ds(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),zi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);zi(t)}function jn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Xr=Math.random().toString(36).slice(2),tn="__reactFiber$"+Xr,Vi="__reactProps$"+Xr,mn="__reactContainer$"+Xr,aa="__reactEvents$"+Xr,Ux="__reactListeners$"+Xr,Hx="__reactHandles$"+Xr;function Jn(e){var t=e[tn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mn]||n[tn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=qc(e);e!==null;){if(n=e[tn])return n;e=qc(e)}return t}e=n,n=e.parentNode}return null}function tl(e){return e=e[tn]||e[mn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function br(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Q(33))}function Mo(e){return e[Vi]||null}var ua=[],Sr=-1;function Bn(e){return{current:e}}function ze(e){0>Sr||(e.current=ua[Sr],ua[Sr]=null,Sr--)}function Re(e,t){Sr++,ua[Sr]=e.current,e.current=t}var On={},lt=Bn(On),xt=Bn(!1),rr=On;function Hr(e,t){var n=e.type.contextTypes;if(!n)return On;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},l;for(l in n)i[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function yt(e){return e=e.childContextTypes,e!=null}function io(){ze(xt),ze(lt)}function Gc(e,t,n){if(lt.current!==On)throw Error(Q(168));Re(lt,t),Re(xt,n)}function Th(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Q(108,Ng(e)||"Unknown",i));return Ve({},n,r)}function lo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||On,rr=lt.current,Re(lt,e),Re(xt,xt.current),!0}function Wc(e,t,n){var r=e.stateNode;if(!r)throw Error(Q(169));n?(e=Th(e,t,rr),r.__reactInternalMemoizedMergedChildContext=e,ze(xt),ze(lt),Re(lt,e)):ze(xt),Re(xt,n)}var cn=null,Po=!1,fs=!1;function Ih(e){cn===null?cn=[e]:cn.push(e)}function Vx(e){Po=!0,Ih(e)}function $n(){if(!fs&&cn!==null){fs=!0;var e=0,t=Ae;try{var n=cn;for(Ae=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}cn=null,Po=!1}catch(i){throw cn!==null&&(cn=cn.slice(e+1)),Zp(lu,$n),i}finally{Ae=t,fs=!1}}return null}var Nr=[],Er=0,oo=null,so=0,Rt=[],Dt=0,ir=null,dn=1,fn="";function Kn(e,t){Nr[Er++]=so,Nr[Er++]=oo,oo=e,so=t}function Ah(e,t,n){Rt[Dt++]=dn,Rt[Dt++]=fn,Rt[Dt++]=ir,ir=e;var r=dn;e=fn;var i=32-Wt(r)-1;r&=~(1<<i),n+=1;var l=32-Wt(t)+i;if(30<l){var o=i-i%5;l=(r&(1<<o)-1).toString(32),r>>=o,i-=o,dn=1<<32-Wt(t)+i|n<<i|r,fn=l+e}else dn=1<<l|n<<i|r,fn=e}function hu(e){e.return!==null&&(Kn(e,1),Ah(e,1,0))}function mu(e){for(;e===oo;)oo=Nr[--Er],Nr[Er]=null,so=Nr[--Er],Nr[Er]=null;for(;e===ir;)ir=Rt[--Dt],Rt[Dt]=null,fn=Rt[--Dt],Rt[Dt]=null,dn=Rt[--Dt],Rt[Dt]=null}var It=null,Nt=null,Fe=!1,Gt=null;function _h(e,t){var n=zt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Kc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,It=e,Nt=jn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,It=e,Nt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ir!==null?{id:dn,overflow:fn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=zt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,It=e,Nt=null,!0):!1;default:return!1}}function ca(e){return(e.mode&1)!==0&&(e.flags&128)===0}function da(e){if(Fe){var t=Nt;if(t){var n=t;if(!Kc(e,t)){if(ca(e))throw Error(Q(418));t=jn(n.nextSibling);var r=It;t&&Kc(e,t)?_h(r,n):(e.flags=e.flags&-4097|2,Fe=!1,It=e)}}else{if(ca(e))throw Error(Q(418));e.flags=e.flags&-4097|2,Fe=!1,It=e}}}function Yc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;It=e}function wl(e){if(e!==It)return!1;if(!Fe)return Yc(e),Fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!oa(e.type,e.memoizedProps)),t&&(t=Nt)){if(ca(e))throw Mh(),Error(Q(418));for(;t;)_h(e,t),t=jn(t.nextSibling)}if(Yc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Nt=jn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Nt=null}}else Nt=It?jn(e.stateNode.nextSibling):null;return!0}function Mh(){for(var e=Nt;e;)e=jn(e.nextSibling)}function Vr(){Nt=It=null,Fe=!1}function gu(e){Gt===null?Gt=[e]:Gt.push(e)}var Bx=yn.ReactCurrentBatchConfig;function si(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,e));var i=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(o){var s=i.refs;o===null?delete s[l]:s[l]=o},t._stringRef=l,t)}if(typeof e!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,e))}return e}function kl(e,t){throw e=Object.prototype.toString.call(t),Error(Q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qc(e){var t=e._init;return t(e._payload)}function Ph(e){function t(x,w){if(e){var y=x.deletions;y===null?(x.deletions=[w],x.flags|=16):y.push(w)}}function n(x,w){if(!e)return null;for(;w!==null;)t(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=zn(x,w),x.index=0,x.sibling=null,x}function l(x,w,y){return x.index=y,e?(y=x.alternate,y!==null?(y=y.index,y<w?(x.flags|=2,w):y):(x.flags|=2,w)):(x.flags|=1048576,w)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function s(x,w,y,I){return w===null||w.tag!==6?(w=vs(y,x.mode,I),w.return=x,w):(w=i(w,y),w.return=x,w)}function u(x,w,y,I){var P=y.type;return P===vr?d(x,w,y.props.children,I,y.key):w!==null&&(w.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===bn&&Qc(P)===w.type)?(I=i(w,y.props),I.ref=si(x,w,y),I.return=x,I):(I=Hl(y.type,y.key,y.props,null,x.mode,I),I.ref=si(x,w,y),I.return=x,I)}function c(x,w,y,I){return w===null||w.tag!==4||w.stateNode.containerInfo!==y.containerInfo||w.stateNode.implementation!==y.implementation?(w=ws(y,x.mode,I),w.return=x,w):(w=i(w,y.children||[]),w.return=x,w)}function d(x,w,y,I,P){return w===null||w.tag!==7?(w=nr(y,x.mode,I,P),w.return=x,w):(w=i(w,y),w.return=x,w)}function f(x,w,y){if(typeof w=="string"&&w!==""||typeof w=="number")return w=vs(""+w,x.mode,y),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case cl:return y=Hl(w.type,w.key,w.props,null,x.mode,y),y.ref=si(x,null,w),y.return=x,y;case yr:return w=ws(w,x.mode,y),w.return=x,w;case bn:var I=w._init;return f(x,I(w._payload),y)}if(mi(w)||ni(w))return w=nr(w,x.mode,y,null),w.return=x,w;kl(x,w)}return null}function g(x,w,y,I){var P=w!==null?w.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return P!==null?null:s(x,w,""+y,I);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case cl:return y.key===P?u(x,w,y,I):null;case yr:return y.key===P?c(x,w,y,I):null;case bn:return P=y._init,g(x,w,P(y._payload),I)}if(mi(y)||ni(y))return P!==null?null:d(x,w,y,I,null);kl(x,y)}return null}function m(x,w,y,I,P){if(typeof I=="string"&&I!==""||typeof I=="number")return x=x.get(y)||null,s(w,x,""+I,P);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case cl:return x=x.get(I.key===null?y:I.key)||null,u(w,x,I,P);case yr:return x=x.get(I.key===null?y:I.key)||null,c(w,x,I,P);case bn:var b=I._init;return m(x,w,y,b(I._payload),P)}if(mi(I)||ni(I))return x=x.get(y)||null,d(w,x,I,P,null);kl(w,I)}return null}function C(x,w,y,I){for(var P=null,b=null,T=w,A=w=0,O=null;T!==null&&A<y.length;A++){T.index>A?(O=T,T=null):O=T.sibling;var j=g(x,T,y[A],I);if(j===null){T===null&&(T=O);break}e&&T&&j.alternate===null&&t(x,T),w=l(j,w,A),b===null?P=j:b.sibling=j,b=j,T=O}if(A===y.length)return n(x,T),Fe&&Kn(x,A),P;if(T===null){for(;A<y.length;A++)T=f(x,y[A],I),T!==null&&(w=l(T,w,A),b===null?P=T:b.sibling=T,b=T);return Fe&&Kn(x,A),P}for(T=r(x,T);A<y.length;A++)O=m(T,x,A,y[A],I),O!==null&&(e&&O.alternate!==null&&T.delete(O.key===null?A:O.key),w=l(O,w,A),b===null?P=O:b.sibling=O,b=O);return e&&T.forEach(function(D){return t(x,D)}),Fe&&Kn(x,A),P}function k(x,w,y,I){var P=ni(y);if(typeof P!="function")throw Error(Q(150));if(y=P.call(y),y==null)throw Error(Q(151));for(var b=P=null,T=w,A=w=0,O=null,j=y.next();T!==null&&!j.done;A++,j=y.next()){T.index>A?(O=T,T=null):O=T.sibling;var D=g(x,T,j.value,I);if(D===null){T===null&&(T=O);break}e&&T&&D.alternate===null&&t(x,T),w=l(D,w,A),b===null?P=D:b.sibling=D,b=D,T=O}if(j.done)return n(x,T),Fe&&Kn(x,A),P;if(T===null){for(;!j.done;A++,j=y.next())j=f(x,j.value,I),j!==null&&(w=l(j,w,A),b===null?P=j:b.sibling=j,b=j);return Fe&&Kn(x,A),P}for(T=r(x,T);!j.done;A++,j=y.next())j=m(T,x,A,j.value,I),j!==null&&(e&&j.alternate!==null&&T.delete(j.key===null?A:j.key),w=l(j,w,A),b===null?P=j:b.sibling=j,b=j);return e&&T.forEach(function(M){return t(x,M)}),Fe&&Kn(x,A),P}function E(x,w,y,I){if(typeof y=="object"&&y!==null&&y.type===vr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case cl:e:{for(var P=y.key,b=w;b!==null;){if(b.key===P){if(P=y.type,P===vr){if(b.tag===7){n(x,b.sibling),w=i(b,y.props.children),w.return=x,x=w;break e}}else if(b.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===bn&&Qc(P)===b.type){n(x,b.sibling),w=i(b,y.props),w.ref=si(x,b,y),w.return=x,x=w;break e}n(x,b);break}else t(x,b);b=b.sibling}y.type===vr?(w=nr(y.props.children,x.mode,I,y.key),w.return=x,x=w):(I=Hl(y.type,y.key,y.props,null,x.mode,I),I.ref=si(x,w,y),I.return=x,x=I)}return o(x);case yr:e:{for(b=y.key;w!==null;){if(w.key===b)if(w.tag===4&&w.stateNode.containerInfo===y.containerInfo&&w.stateNode.implementation===y.implementation){n(x,w.sibling),w=i(w,y.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else t(x,w);w=w.sibling}w=ws(y,x.mode,I),w.return=x,x=w}return o(x);case bn:return b=y._init,E(x,w,b(y._payload),I)}if(mi(y))return C(x,w,y,I);if(ni(y))return k(x,w,y,I);kl(x,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,w!==null&&w.tag===6?(n(x,w.sibling),w=i(w,y),w.return=x,x=w):(n(x,w),w=vs(y,x.mode,I),w.return=x,x=w),o(x)):n(x,w)}return E}var Br=Ph(!0),jh=Ph(!1),ao=Bn(null),uo=null,Tr=null,xu=null;function yu(){xu=Tr=uo=null}function vu(e){var t=ao.current;ze(ao),e._currentValue=t}function fa(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Rr(e,t){uo=e,xu=Tr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(gt=!0),e.firstContext=null)}function Ut(e){var t=e._currentValue;if(xu!==e)if(e={context:e,memoizedValue:t,next:null},Tr===null){if(uo===null)throw Error(Q(308));Tr=e,uo.dependencies={lanes:0,firstContext:e}}else Tr=Tr.next=e;return t}var Xn=null;function wu(e){Xn===null?Xn=[e]:Xn.push(e)}function Rh(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,wu(t)):(n.next=i.next,i.next=n),t.interleaved=n,gn(e,r)}function gn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Sn=!1;function ku(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ee&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,gn(e,n)}return i=r.interleaved,i===null?(t.next=t,wu(r)):(t.next=i.next,i.next=t),r.interleaved=t,gn(e,n)}function Dl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ou(e,n)}}function Jc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?i=l=o:l=l.next=o,n=n.next}while(n!==null);l===null?i=l=t:l=l.next=t}else i=l=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function co(e,t,n,r){var i=e.updateQueue;Sn=!1;var l=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var u=s,c=u.next;u.next=null,o===null?l=c:o.next=c,o=u;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=u))}if(l!==null){var f=i.baseState;o=0,d=c=u=null,s=l;do{var g=s.lane,m=s.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var C=e,k=s;switch(g=t,m=n,k.tag){case 1:if(C=k.payload,typeof C=="function"){f=C.call(m,f,g);break e}f=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=k.payload,g=typeof C=="function"?C.call(m,f,g):C,g==null)break e;f=Ve({},f,g);break e;case 2:Sn=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,g=i.effects,g===null?i.effects=[s]:g.push(s))}else m={eventTime:m,lane:g,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(c=d=m,u=f):d=d.next=m,o|=g;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;g=s,s=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(d===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else l===null&&(i.shared.lanes=0);or|=o,e.lanes=o,e.memoizedState=f}}function Xc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Q(191,i));i.call(r)}}}var nl={},ln=Bn(nl),Bi=Bn(nl),$i=Bn(nl);function Zn(e){if(e===nl)throw Error(Q(174));return e}function Cu(e,t){switch(Re($i,t),Re(Bi,e),Re(ln,nl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Gs(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Gs(t,e)}ze(ln),Re(ln,t)}function $r(){ze(ln),ze(Bi),ze($i)}function Lh(e){Zn($i.current);var t=Zn(ln.current),n=Gs(t,e.type);t!==n&&(Re(Bi,e),Re(ln,n))}function bu(e){Bi.current===e&&(ze(ln),ze(Bi))}var Ue=Bn(0);function fo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ps=[];function Su(){for(var e=0;e<ps.length;e++)ps[e]._workInProgressVersionPrimary=null;ps.length=0}var Ll=yn.ReactCurrentDispatcher,hs=yn.ReactCurrentBatchConfig,lr=0,He=null,Ke=null,Qe=null,po=!1,bi=!1,qi=0,$x=0;function nt(){throw Error(Q(321))}function Nu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yt(e[n],t[n]))return!1;return!0}function Eu(e,t,n,r,i,l){if(lr=l,He=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ll.current=e===null||e.memoizedState===null?Kx:Yx,e=n(r,i),bi){l=0;do{if(bi=!1,qi=0,25<=l)throw Error(Q(301));l+=1,Qe=Ke=null,t.updateQueue=null,Ll.current=Qx,e=n(r,i)}while(bi)}if(Ll.current=ho,t=Ke!==null&&Ke.next!==null,lr=0,Qe=Ke=He=null,po=!1,t)throw Error(Q(300));return e}function Tu(){var e=qi!==0;return qi=0,e}function Zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?He.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function Ht(){if(Ke===null){var e=He.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var t=Qe===null?He.memoizedState:Qe.next;if(t!==null)Qe=t,Ke=e;else{if(e===null)throw Error(Q(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Qe===null?He.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function Gi(e,t){return typeof t=="function"?t(e):t}function ms(e){var t=Ht(),n=t.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=e;var r=Ke,i=r.baseQueue,l=n.pending;if(l!==null){if(i!==null){var o=i.next;i.next=l.next,l.next=o}r.baseQueue=i=l,n.pending=null}if(i!==null){l=i.next,r=r.baseState;var s=o=null,u=null,c=l;do{var d=c.lane;if((lr&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(s=u=f,o=r):u=u.next=f,He.lanes|=d,or|=d}c=c.next}while(c!==null&&c!==l);u===null?o=r:u.next=s,Yt(r,t.memoizedState)||(gt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do l=i.lane,He.lanes|=l,or|=l,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function gs(e){var t=Ht(),n=t.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,l=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do l=e(l,o.action),o=o.next;while(o!==i);Yt(l,t.memoizedState)||(gt=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function zh(){}function Fh(e,t){var n=He,r=Ht(),i=t(),l=!Yt(r.memoizedState,i);if(l&&(r.memoizedState=i,gt=!0),r=r.queue,Iu(Hh.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||Qe!==null&&Qe.memoizedState.tag&1){if(n.flags|=2048,Wi(9,Uh.bind(null,n,r,i,t),void 0,null),Je===null)throw Error(Q(349));lr&30||Oh(n,t,i)}return i}function Oh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Uh(e,t,n,r){t.value=n,t.getSnapshot=r,Vh(t)&&Bh(e)}function Hh(e,t,n){return n(function(){Vh(t)&&Bh(e)})}function Vh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yt(e,n)}catch{return!0}}function Bh(e){var t=gn(e,1);t!==null&&Kt(t,e,1,-1)}function Zc(e){var t=Zt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:e},t.queue=e,e=e.dispatch=Wx.bind(null,He,e),[t.memoizedState,e]}function Wi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function $h(){return Ht().memoizedState}function zl(e,t,n,r){var i=Zt();He.flags|=e,i.memoizedState=Wi(1|t,n,void 0,r===void 0?null:r)}function jo(e,t,n,r){var i=Ht();r=r===void 0?null:r;var l=void 0;if(Ke!==null){var o=Ke.memoizedState;if(l=o.destroy,r!==null&&Nu(r,o.deps)){i.memoizedState=Wi(t,n,l,r);return}}He.flags|=e,i.memoizedState=Wi(1|t,n,l,r)}function ed(e,t){return zl(8390656,8,e,t)}function Iu(e,t){return jo(2048,8,e,t)}function qh(e,t){return jo(4,2,e,t)}function Gh(e,t){return jo(4,4,e,t)}function Wh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Kh(e,t,n){return n=n!=null?n.concat([e]):null,jo(4,4,Wh.bind(null,t,e),n)}function Au(){}function Yh(e,t){var n=Ht();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Nu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qh(e,t){var n=Ht();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Nu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jh(e,t,n){return lr&21?(Yt(n,t)||(n=nh(),He.lanes|=n,or|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,gt=!0),e.memoizedState=n)}function qx(e,t){var n=Ae;Ae=n!==0&&4>n?n:4,e(!0);var r=hs.transition;hs.transition={};try{e(!1),t()}finally{Ae=n,hs.transition=r}}function Xh(){return Ht().memoizedState}function Gx(e,t,n){var r=Ln(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Zh(e))em(t,n);else if(n=Rh(e,t,n,r),n!==null){var i=at();Kt(n,e,r,i),tm(n,t,r)}}function Wx(e,t,n){var r=Ln(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zh(e))em(t,i);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var o=t.lastRenderedState,s=l(o,n);if(i.hasEagerState=!0,i.eagerState=s,Yt(s,o)){var u=t.interleaved;u===null?(i.next=i,wu(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=Rh(e,t,i,r),n!==null&&(i=at(),Kt(n,e,r,i),tm(n,t,r))}}function Zh(e){var t=e.alternate;return e===He||t!==null&&t===He}function em(e,t){bi=po=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function tm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ou(e,n)}}var ho={readContext:Ut,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useInsertionEffect:nt,useLayoutEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useMutableSource:nt,useSyncExternalStore:nt,useId:nt,unstable_isNewReconciler:!1},Kx={readContext:Ut,useCallback:function(e,t){return Zt().memoizedState=[e,t===void 0?null:t],e},useContext:Ut,useEffect:ed,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,zl(4194308,4,Wh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zl(4194308,4,e,t)},useInsertionEffect:function(e,t){return zl(4,2,e,t)},useMemo:function(e,t){var n=Zt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Zt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gx.bind(null,He,e),[r.memoizedState,e]},useRef:function(e){var t=Zt();return e={current:e},t.memoizedState=e},useState:Zc,useDebugValue:Au,useDeferredValue:function(e){return Zt().memoizedState=e},useTransition:function(){var e=Zc(!1),t=e[0];return e=qx.bind(null,e[1]),Zt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=He,i=Zt();if(Fe){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=t(),Je===null)throw Error(Q(349));lr&30||Oh(r,t,n)}i.memoizedState=n;var l={value:n,getSnapshot:t};return i.queue=l,ed(Hh.bind(null,r,l,e),[e]),r.flags|=2048,Wi(9,Uh.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=Zt(),t=Je.identifierPrefix;if(Fe){var n=fn,r=dn;n=(r&~(1<<32-Wt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=qi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=$x++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Yx={readContext:Ut,useCallback:Yh,useContext:Ut,useEffect:Iu,useImperativeHandle:Kh,useInsertionEffect:qh,useLayoutEffect:Gh,useMemo:Qh,useReducer:ms,useRef:$h,useState:function(){return ms(Gi)},useDebugValue:Au,useDeferredValue:function(e){var t=Ht();return Jh(t,Ke.memoizedState,e)},useTransition:function(){var e=ms(Gi)[0],t=Ht().memoizedState;return[e,t]},useMutableSource:zh,useSyncExternalStore:Fh,useId:Xh,unstable_isNewReconciler:!1},Qx={readContext:Ut,useCallback:Yh,useContext:Ut,useEffect:Iu,useImperativeHandle:Kh,useInsertionEffect:qh,useLayoutEffect:Gh,useMemo:Qh,useReducer:gs,useRef:$h,useState:function(){return gs(Gi)},useDebugValue:Au,useDeferredValue:function(e){var t=Ht();return Ke===null?t.memoizedState=e:Jh(t,Ke.memoizedState,e)},useTransition:function(){var e=gs(Gi)[0],t=Ht().memoizedState;return[e,t]},useMutableSource:zh,useSyncExternalStore:Fh,useId:Xh,unstable_isNewReconciler:!1};function $t(e,t){if(e&&e.defaultProps){t=Ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function pa(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ro={isMounted:function(e){return(e=e._reactInternals)?ur(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=at(),i=Ln(e),l=pn(r,i);l.payload=t,n!=null&&(l.callback=n),t=Rn(e,l,i),t!==null&&(Kt(t,e,i,r),Dl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=at(),i=Ln(e),l=pn(r,i);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Rn(e,l,i),t!==null&&(Kt(t,e,i,r),Dl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=at(),r=Ln(e),i=pn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Rn(e,i,r),t!==null&&(Kt(t,e,r,n),Dl(t,e,r))}};function td(e,t,n,r,i,l,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,o):t.prototype&&t.prototype.isPureReactComponent?!Oi(n,r)||!Oi(i,l):!0}function nm(e,t,n){var r=!1,i=On,l=t.contextType;return typeof l=="object"&&l!==null?l=Ut(l):(i=yt(t)?rr:lt.current,r=t.contextTypes,l=(r=r!=null)?Hr(e,i):On),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ro,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=l),t}function nd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ro.enqueueReplaceState(t,t.state,null)}function ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},ku(e);var l=t.contextType;typeof l=="object"&&l!==null?i.context=Ut(l):(l=yt(t)?rr:lt.current,i.context=Hr(e,l)),i.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(pa(e,t,l,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ro.enqueueReplaceState(i,i.state,null),co(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function qr(e,t){try{var n="",r=t;do n+=Sg(r),r=r.return;while(r);var i=n}catch(l){i=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:i,digest:null}}function xs(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ma(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Jx=typeof WeakMap=="function"?WeakMap:Map;function rm(e,t,n){n=pn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){go||(go=!0,Na=r),ma(e,t)},n}function im(e,t,n){n=pn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ma(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){ma(e,t),typeof r!="function"&&(Dn===null?Dn=new Set([this]):Dn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function rd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Jx;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=dy.bind(null,e,t,n),t.then(e,e))}function id(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ld(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=pn(-1,1),t.tag=2,Rn(n,t,1))),n.lanes|=1),e)}var Xx=yn.ReactCurrentOwner,gt=!1;function st(e,t,n,r){t.child=e===null?jh(t,null,n,r):Br(t,e.child,n,r)}function od(e,t,n,r,i){n=n.render;var l=t.ref;return Rr(t,i),r=Eu(e,t,n,r,l,i),n=Tu(),e!==null&&!gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,xn(e,t,i)):(Fe&&n&&hu(t),t.flags|=1,st(e,t,r,i),t.child)}function sd(e,t,n,r,i){if(e===null){var l=n.type;return typeof l=="function"&&!zu(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,lm(e,t,l,r,i)):(e=Hl(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&i)){var o=l.memoizedProps;if(n=n.compare,n=n!==null?n:Oi,n(o,r)&&e.ref===t.ref)return xn(e,t,i)}return t.flags|=1,e=zn(l,r),e.ref=t.ref,e.return=t,t.child=e}function lm(e,t,n,r,i){if(e!==null){var l=e.memoizedProps;if(Oi(l,r)&&e.ref===t.ref)if(gt=!1,t.pendingProps=r=l,(e.lanes&i)!==0)e.flags&131072&&(gt=!0);else return t.lanes=e.lanes,xn(e,t,i)}return ga(e,t,n,r,i)}function om(e,t,n){var r=t.pendingProps,i=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(Ar,St),St|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Re(Ar,St),St|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,Re(Ar,St),St|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,Re(Ar,St),St|=r;return st(e,t,i,n),t.child}function sm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ga(e,t,n,r,i){var l=yt(n)?rr:lt.current;return l=Hr(t,l),Rr(t,i),n=Eu(e,t,n,r,l,i),r=Tu(),e!==null&&!gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,xn(e,t,i)):(Fe&&r&&hu(t),t.flags|=1,st(e,t,n,i),t.child)}function ad(e,t,n,r,i){if(yt(n)){var l=!0;lo(t)}else l=!1;if(Rr(t,i),t.stateNode===null)Fl(e,t),nm(t,n,r),ha(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ut(c):(c=yt(n)?rr:lt.current,c=Hr(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||u!==c)&&nd(t,o,r,c),Sn=!1;var g=t.memoizedState;o.state=g,co(t,r,o,i),u=t.memoizedState,s!==r||g!==u||xt.current||Sn?(typeof d=="function"&&(pa(t,n,d,r),u=t.memoizedState),(s=Sn||td(t,n,s,r,g,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Dh(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:$t(t.type,s),o.props=c,f=t.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Ut(u):(u=yt(n)?rr:lt.current,u=Hr(t,u));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||g!==u)&&nd(t,o,r,u),Sn=!1,g=t.memoizedState,o.state=g,co(t,r,o,i);var C=t.memoizedState;s!==f||g!==C||xt.current||Sn?(typeof m=="function"&&(pa(t,n,m,r),C=t.memoizedState),(c=Sn||td(t,n,c,r,g,C,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,C,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,C,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=C),o.props=r,o.state=C,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return xa(e,t,n,r,l,i)}function xa(e,t,n,r,i,l){sm(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Wc(t,n,!1),xn(e,t,l);r=t.stateNode,Xx.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Br(t,e.child,null,l),t.child=Br(t,null,s,l)):st(e,t,s,l),t.memoizedState=r.state,i&&Wc(t,n,!0),t.child}function am(e){var t=e.stateNode;t.pendingContext?Gc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gc(e,t.context,!1),Cu(e,t.containerInfo)}function ud(e,t,n,r,i){return Vr(),gu(i),t.flags|=256,st(e,t,n,r),t.child}var ya={dehydrated:null,treeContext:null,retryLane:0};function va(e){return{baseLanes:e,cachePool:null,transitions:null}}function um(e,t,n){var r=t.pendingProps,i=Ue.current,l=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Re(Ue,i&1),e===null)return da(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,l?(r=t.mode,l=t.child,o={mode:"hidden",children:o},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=zo(o,r,0,null),e=nr(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=va(n),t.memoizedState=ya,e):_u(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return Zx(e,t,o,r,s,i,n);if(l){l=r.fallback,o=t.mode,i=e.child,s=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=zn(i,u),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?l=zn(s,l):(l=nr(l,o,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,o=e.child.memoizedState,o=o===null?va(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~n,t.memoizedState=ya,r}return l=e.child,e=l.sibling,r=zn(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function _u(e,t){return t=zo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Cl(e,t,n,r){return r!==null&&gu(r),Br(t,e.child,null,n),e=_u(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Zx(e,t,n,r,i,l,o){if(n)return t.flags&256?(t.flags&=-257,r=xs(Error(Q(422))),Cl(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,i=t.mode,r=zo({mode:"visible",children:r.children},i,0,null),l=nr(l,i,o,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&Br(t,e.child,null,o),t.child.memoizedState=va(o),t.memoizedState=ya,l);if(!(t.mode&1))return Cl(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,l=Error(Q(419)),r=xs(l,r,void 0),Cl(e,t,o,r)}if(s=(o&e.childLanes)!==0,gt||s){if(r=Je,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==l.retryLane&&(l.retryLane=i,gn(e,i),Kt(r,e,i,-1))}return Lu(),r=xs(Error(Q(421))),Cl(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=fy.bind(null,e),i._reactRetry=t,null):(e=l.treeContext,Nt=jn(i.nextSibling),It=t,Fe=!0,Gt=null,e!==null&&(Rt[Dt++]=dn,Rt[Dt++]=fn,Rt[Dt++]=ir,dn=e.id,fn=e.overflow,ir=t),t=_u(t,r.children),t.flags|=4096,t)}function cd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),fa(e.return,t,n)}function ys(e,t,n,r,i){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=i)}function cm(e,t,n){var r=t.pendingProps,i=r.revealOrder,l=r.tail;if(st(e,t,r.children,n),r=Ue.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cd(e,n,t);else if(e.tag===19)cd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Re(Ue,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&fo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ys(t,!1,i,n,l);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&fo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ys(t,!0,n,null,l);break;case"together":ys(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),or|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Q(153));if(t.child!==null){for(e=t.child,n=zn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=zn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ey(e,t,n){switch(t.tag){case 3:am(t),Vr();break;case 5:Lh(t);break;case 1:yt(t.type)&&lo(t);break;case 4:Cu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Re(ao,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Re(Ue,Ue.current&1),t.flags|=128,null):n&t.child.childLanes?um(e,t,n):(Re(Ue,Ue.current&1),e=xn(e,t,n),e!==null?e.sibling:null);Re(Ue,Ue.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return cm(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Re(Ue,Ue.current),r)break;return null;case 22:case 23:return t.lanes=0,om(e,t,n)}return xn(e,t,n)}var dm,wa,fm,pm;dm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wa=function(){};fm=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Zn(ln.current);var l=null;switch(n){case"input":i=Vs(e,i),r=Vs(e,r),l=[];break;case"select":i=Ve({},i,{value:void 0}),r=Ve({},r,{value:void 0}),l=[];break;case"textarea":i=qs(e,i),r=qs(e,r),l=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ro)}Ws(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Pi.hasOwnProperty(c)?l||(l=[]):(l=l||[]).push(c,null));for(c in r){var u=r[c];if(s=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==s&&(u!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&s[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(l||(l=[]),l.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,s=s?s.__html:void 0,u!=null&&s!==u&&(l=l||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(l=l||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Pi.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Le("scroll",e),l||s===u||(l=[])):(l=l||[]).push(c,u))}n&&(l=l||[]).push("style",n);var c=l;(t.updateQueue=c)&&(t.flags|=4)}};pm=function(e,t,n,r){n!==r&&(t.flags|=4)};function ai(e,t){if(!Fe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ty(e,t,n){var r=t.pendingProps;switch(mu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(t),null;case 1:return yt(t.type)&&io(),rt(t),null;case 3:return r=t.stateNode,$r(),ze(xt),ze(lt),Su(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(wl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Gt!==null&&(Ia(Gt),Gt=null))),wa(e,t),rt(t),null;case 5:bu(t);var i=Zn($i.current);if(n=t.type,e!==null&&t.stateNode!=null)fm(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Q(166));return rt(t),null}if(e=Zn(ln.current),wl(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[tn]=t,r[Vi]=l,e=(t.mode&1)!==0,n){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(i=0;i<xi.length;i++)Le(xi[i],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":vc(r,l),Le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Le("invalid",r);break;case"textarea":kc(r,l),Le("invalid",r)}Ws(n,l),i=null;for(var o in l)if(l.hasOwnProperty(o)){var s=l[o];o==="children"?typeof s=="string"?r.textContent!==s&&(l.suppressHydrationWarning!==!0&&vl(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(l.suppressHydrationWarning!==!0&&vl(r.textContent,s,e),i=["children",""+s]):Pi.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Le("scroll",r)}switch(n){case"input":dl(r),wc(r,l,!0);break;case"textarea":dl(r),Cc(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=ro)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Hp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[tn]=t,e[Vi]=r,dm(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ks(n,r),n){case"dialog":Le("cancel",e),Le("close",e),i=r;break;case"iframe":case"object":case"embed":Le("load",e),i=r;break;case"video":case"audio":for(i=0;i<xi.length;i++)Le(xi[i],e);i=r;break;case"source":Le("error",e),i=r;break;case"img":case"image":case"link":Le("error",e),Le("load",e),i=r;break;case"details":Le("toggle",e),i=r;break;case"input":vc(e,r),i=Vs(e,r),Le("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ve({},r,{value:void 0}),Le("invalid",e);break;case"textarea":kc(e,r),i=qs(e,r),Le("invalid",e);break;default:i=r}Ws(n,i),s=i;for(l in s)if(s.hasOwnProperty(l)){var u=s[l];l==="style"?$p(e,u):l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Vp(e,u)):l==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ji(e,u):typeof u=="number"&&ji(e,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Pi.hasOwnProperty(l)?u!=null&&l==="onScroll"&&Le("scroll",e):u!=null&&eu(e,l,u,o))}switch(n){case"input":dl(e),wc(e,r,!1);break;case"textarea":dl(e),Cc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Fn(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?_r(e,!!r.multiple,l,!1):r.defaultValue!=null&&_r(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ro)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return rt(t),null;case 6:if(e&&t.stateNode!=null)pm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Q(166));if(n=Zn($i.current),Zn(ln.current),wl(t)){if(r=t.stateNode,n=t.memoizedProps,r[tn]=t,(l=r.nodeValue!==n)&&(e=It,e!==null))switch(e.tag){case 3:vl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vl(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[tn]=t,t.stateNode=r}return rt(t),null;case 13:if(ze(Ue),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Fe&&Nt!==null&&t.mode&1&&!(t.flags&128))Mh(),Vr(),t.flags|=98560,l=!1;else if(l=wl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(Q(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(Q(317));l[tn]=t}else Vr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;rt(t),l=!1}else Gt!==null&&(Ia(Gt),Gt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ue.current&1?Ye===0&&(Ye=3):Lu())),t.updateQueue!==null&&(t.flags|=4),rt(t),null);case 4:return $r(),wa(e,t),e===null&&Ui(t.stateNode.containerInfo),rt(t),null;case 10:return vu(t.type._context),rt(t),null;case 17:return yt(t.type)&&io(),rt(t),null;case 19:if(ze(Ue),l=t.memoizedState,l===null)return rt(t),null;if(r=(t.flags&128)!==0,o=l.rendering,o===null)if(r)ai(l,!1);else{if(Ye!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=fo(e),o!==null){for(t.flags|=128,ai(l,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Re(Ue,Ue.current&1|2),t.child}e=e.sibling}l.tail!==null&&qe()>Gr&&(t.flags|=128,r=!0,ai(l,!1),t.lanes=4194304)}else{if(!r)if(e=fo(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ai(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!Fe)return rt(t),null}else 2*qe()-l.renderingStartTime>Gr&&n!==1073741824&&(t.flags|=128,r=!0,ai(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(n=l.last,n!==null?n.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=qe(),t.sibling=null,n=Ue.current,Re(Ue,r?n&1|2:n&1),t):(rt(t),null);case 22:case 23:return Du(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?St&1073741824&&(rt(t),t.subtreeFlags&6&&(t.flags|=8192)):rt(t),null;case 24:return null;case 25:return null}throw Error(Q(156,t.tag))}function ny(e,t){switch(mu(t),t.tag){case 1:return yt(t.type)&&io(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $r(),ze(xt),ze(lt),Su(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return bu(t),null;case 13:if(ze(Ue),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Q(340));Vr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze(Ue),null;case 4:return $r(),null;case 10:return vu(t.type._context),null;case 22:case 23:return Du(),null;case 24:return null;default:return null}}var bl=!1,it=!1,ry=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Ir(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Be(e,t,r)}else n.current=null}function ka(e,t,n){try{n()}catch(r){Be(e,t,r)}}var dd=!1;function iy(e,t){if(ia=eo,e=yh(),pu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var o=0,s=-1,u=-1,c=0,d=0,f=e,g=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(s=o+i),f!==l||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)g=f,f=m;for(;;){if(f===e)break t;if(g===n&&++c===i&&(s=o),g===l&&++d===r&&(u=o),(m=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=m}n=s===-1||u===-1?null:{start:s,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(la={focusedElem:e,selectionRange:n},eo=!1,ue=t;ue!==null;)if(t=ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ue=e;else for(;ue!==null;){t=ue;try{var C=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var k=C.memoizedProps,E=C.memoizedState,x=t.stateNode,w=x.getSnapshotBeforeUpdate(t.elementType===t.type?k:$t(t.type,k),E);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(I){Be(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,ue=e;break}ue=t.return}return C=dd,dd=!1,C}function Si(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var l=i.destroy;i.destroy=void 0,l!==void 0&&ka(t,n,l)}i=i.next}while(i!==r)}}function Do(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ca(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function hm(e){var t=e.alternate;t!==null&&(e.alternate=null,hm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[tn],delete t[Vi],delete t[aa],delete t[Ux],delete t[Hx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mm(e){return e.tag===5||e.tag===3||e.tag===4}function fd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ba(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ro));else if(r!==4&&(e=e.child,e!==null))for(ba(e,t,n),e=e.sibling;e!==null;)ba(e,t,n),e=e.sibling}function Sa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Sa(e,t,n),e=e.sibling;e!==null;)Sa(e,t,n),e=e.sibling}var Ze=null,qt=!1;function kn(e,t,n){for(n=n.child;n!==null;)gm(e,t,n),n=n.sibling}function gm(e,t,n){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(To,n)}catch{}switch(n.tag){case 5:it||Ir(n,t);case 6:var r=Ze,i=qt;Ze=null,kn(e,t,n),Ze=r,qt=i,Ze!==null&&(qt?(e=Ze,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ze.removeChild(n.stateNode));break;case 18:Ze!==null&&(qt?(e=Ze,n=n.stateNode,e.nodeType===8?ds(e.parentNode,n):e.nodeType===1&&ds(e,n),zi(e)):ds(Ze,n.stateNode));break;case 4:r=Ze,i=qt,Ze=n.stateNode.containerInfo,qt=!0,kn(e,t,n),Ze=r,qt=i;break;case 0:case 11:case 14:case 15:if(!it&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var l=i,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&ka(n,t,o),i=i.next}while(i!==r)}kn(e,t,n);break;case 1:if(!it&&(Ir(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Be(n,t,s)}kn(e,t,n);break;case 21:kn(e,t,n);break;case 22:n.mode&1?(it=(r=it)||n.memoizedState!==null,kn(e,t,n),it=r):kn(e,t,n);break;default:kn(e,t,n)}}function pd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ry),t.forEach(function(r){var i=py.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Bt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var l=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:Ze=s.stateNode,qt=!1;break e;case 3:Ze=s.stateNode.containerInfo,qt=!0;break e;case 4:Ze=s.stateNode.containerInfo,qt=!0;break e}s=s.return}if(Ze===null)throw Error(Q(160));gm(l,o,i),Ze=null,qt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Be(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)xm(t,e),t=t.sibling}function xm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Bt(t,e),Xt(e),r&4){try{Si(3,e,e.return),Do(3,e)}catch(k){Be(e,e.return,k)}try{Si(5,e,e.return)}catch(k){Be(e,e.return,k)}}break;case 1:Bt(t,e),Xt(e),r&512&&n!==null&&Ir(n,n.return);break;case 5:if(Bt(t,e),Xt(e),r&512&&n!==null&&Ir(n,n.return),e.flags&32){var i=e.stateNode;try{ji(i,"")}catch(k){Be(e,e.return,k)}}if(r&4&&(i=e.stateNode,i!=null)){var l=e.memoizedProps,o=n!==null?n.memoizedProps:l,s=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{s==="input"&&l.type==="radio"&&l.name!=null&&Op(i,l),Ks(s,o);var c=Ks(s,l);for(o=0;o<u.length;o+=2){var d=u[o],f=u[o+1];d==="style"?$p(i,f):d==="dangerouslySetInnerHTML"?Vp(i,f):d==="children"?ji(i,f):eu(i,d,f,c)}switch(s){case"input":Bs(i,l);break;case"textarea":Up(i,l);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!l.multiple;var m=l.value;m!=null?_r(i,!!l.multiple,m,!1):g!==!!l.multiple&&(l.defaultValue!=null?_r(i,!!l.multiple,l.defaultValue,!0):_r(i,!!l.multiple,l.multiple?[]:"",!1))}i[Vi]=l}catch(k){Be(e,e.return,k)}}break;case 6:if(Bt(t,e),Xt(e),r&4){if(e.stateNode===null)throw Error(Q(162));i=e.stateNode,l=e.memoizedProps;try{i.nodeValue=l}catch(k){Be(e,e.return,k)}}break;case 3:if(Bt(t,e),Xt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zi(t.containerInfo)}catch(k){Be(e,e.return,k)}break;case 4:Bt(t,e),Xt(e);break;case 13:Bt(t,e),Xt(e),i=e.child,i.flags&8192&&(l=i.memoizedState!==null,i.stateNode.isHidden=l,!l||i.alternate!==null&&i.alternate.memoizedState!==null||(ju=qe())),r&4&&pd(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(it=(c=it)||d,Bt(t,e),it=c):Bt(t,e),Xt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(ue=e,d=e.child;d!==null;){for(f=ue=d;ue!==null;){switch(g=ue,m=g.child,g.tag){case 0:case 11:case 14:case 15:Si(4,g,g.return);break;case 1:Ir(g,g.return);var C=g.stateNode;if(typeof C.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,C.props=t.memoizedProps,C.state=t.memoizedState,C.componentWillUnmount()}catch(k){Be(r,n,k)}}break;case 5:Ir(g,g.return);break;case 22:if(g.memoizedState!==null){md(f);continue}}m!==null?(m.return=g,ue=m):md(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(l=i.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(s=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,s.style.display=Bp("display",o))}catch(k){Be(e,e.return,k)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(k){Be(e,e.return,k)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Bt(t,e),Xt(e),r&4&&pd(e);break;case 21:break;default:Bt(t,e),Xt(e)}}function Xt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(mm(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ji(i,""),r.flags&=-33);var l=fd(e);Sa(e,l,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=fd(e);ba(e,s,o);break;default:throw Error(Q(161))}}catch(u){Be(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ly(e,t,n){ue=e,ym(e)}function ym(e,t,n){for(var r=(e.mode&1)!==0;ue!==null;){var i=ue,l=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||bl;if(!o){var s=i.alternate,u=s!==null&&s.memoizedState!==null||it;s=bl;var c=it;if(bl=o,(it=u)&&!c)for(ue=i;ue!==null;)o=ue,u=o.child,o.tag===22&&o.memoizedState!==null?gd(i):u!==null?(u.return=o,ue=u):gd(i);for(;l!==null;)ue=l,ym(l),l=l.sibling;ue=i,bl=s,it=c}hd(e)}else i.subtreeFlags&8772&&l!==null?(l.return=i,ue=l):hd(e)}}function hd(e){for(;ue!==null;){var t=ue;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:it||Do(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!it)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:$t(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Xc(t,l,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Xc(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&zi(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}it||t.flags&512&&Ca(t)}catch(g){Be(t,t.return,g)}}if(t===e){ue=null;break}if(n=t.sibling,n!==null){n.return=t.return,ue=n;break}ue=t.return}}function md(e){for(;ue!==null;){var t=ue;if(t===e){ue=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ue=n;break}ue=t.return}}function gd(e){for(;ue!==null;){var t=ue;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Do(4,t)}catch(u){Be(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){Be(t,i,u)}}var l=t.return;try{Ca(t)}catch(u){Be(t,l,u)}break;case 5:var o=t.return;try{Ca(t)}catch(u){Be(t,o,u)}}}catch(u){Be(t,t.return,u)}if(t===e){ue=null;break}var s=t.sibling;if(s!==null){s.return=t.return,ue=s;break}ue=t.return}}var oy=Math.ceil,mo=yn.ReactCurrentDispatcher,Mu=yn.ReactCurrentOwner,Ot=yn.ReactCurrentBatchConfig,Ee=0,Je=null,We=null,et=0,St=0,Ar=Bn(0),Ye=0,Ki=null,or=0,Lo=0,Pu=0,Ni=null,ht=null,ju=0,Gr=1/0,un=null,go=!1,Na=null,Dn=null,Sl=!1,In=null,xo=0,Ei=0,Ea=null,Ol=-1,Ul=0;function at(){return Ee&6?qe():Ol!==-1?Ol:Ol=qe()}function Ln(e){return e.mode&1?Ee&2&&et!==0?et&-et:Bx.transition!==null?(Ul===0&&(Ul=nh()),Ul):(e=Ae,e!==0||(e=window.event,e=e===void 0?16:uh(e.type)),e):1}function Kt(e,t,n,r){if(50<Ei)throw Ei=0,Ea=null,Error(Q(185));Zi(e,n,r),(!(Ee&2)||e!==Je)&&(e===Je&&(!(Ee&2)&&(Lo|=n),Ye===4&&En(e,et)),vt(e,r),n===1&&Ee===0&&!(t.mode&1)&&(Gr=qe()+500,Po&&$n()))}function vt(e,t){var n=e.callbackNode;Bg(e,t);var r=Zl(e,e===Je?et:0);if(r===0)n!==null&&Nc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Nc(n),t===1)e.tag===0?Vx(xd.bind(null,e)):Ih(xd.bind(null,e)),Fx(function(){!(Ee&6)&&$n()}),n=null;else{switch(rh(r)){case 1:n=lu;break;case 4:n=eh;break;case 16:n=Xl;break;case 536870912:n=th;break;default:n=Xl}n=Em(n,vm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function vm(e,t){if(Ol=-1,Ul=0,Ee&6)throw Error(Q(327));var n=e.callbackNode;if(Dr()&&e.callbackNode!==n)return null;var r=Zl(e,e===Je?et:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=yo(e,r);else{t=r;var i=Ee;Ee|=2;var l=km();(Je!==e||et!==t)&&(un=null,Gr=qe()+500,tr(e,t));do try{uy();break}catch(s){wm(e,s)}while(!0);yu(),mo.current=l,Ee=i,We!==null?t=0:(Je=null,et=0,t=Ye)}if(t!==0){if(t===2&&(i=Zs(e),i!==0&&(r=i,t=Ta(e,i))),t===1)throw n=Ki,tr(e,0),En(e,r),vt(e,qe()),n;if(t===6)En(e,r);else{if(i=e.current.alternate,!(r&30)&&!sy(i)&&(t=yo(e,r),t===2&&(l=Zs(e),l!==0&&(r=l,t=Ta(e,l))),t===1))throw n=Ki,tr(e,0),En(e,r),vt(e,qe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Q(345));case 2:Yn(e,ht,un);break;case 3:if(En(e,r),(r&130023424)===r&&(t=ju+500-qe(),10<t)){if(Zl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){at(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=sa(Yn.bind(null,e,ht,un),t);break}Yn(e,ht,un);break;case 4:if(En(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Wt(r);l=1<<o,o=t[o],o>i&&(i=o),r&=~l}if(r=i,r=qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*oy(r/1960))-r,10<r){e.timeoutHandle=sa(Yn.bind(null,e,ht,un),r);break}Yn(e,ht,un);break;case 5:Yn(e,ht,un);break;default:throw Error(Q(329))}}}return vt(e,qe()),e.callbackNode===n?vm.bind(null,e):null}function Ta(e,t){var n=Ni;return e.current.memoizedState.isDehydrated&&(tr(e,t).flags|=256),e=yo(e,t),e!==2&&(t=ht,ht=n,t!==null&&Ia(t)),e}function Ia(e){ht===null?ht=e:ht.push.apply(ht,e)}function sy(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],l=i.getSnapshot;i=i.value;try{if(!Yt(l(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function En(e,t){for(t&=~Pu,t&=~Lo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function xd(e){if(Ee&6)throw Error(Q(327));Dr();var t=Zl(e,0);if(!(t&1))return vt(e,qe()),null;var n=yo(e,t);if(e.tag!==0&&n===2){var r=Zs(e);r!==0&&(t=r,n=Ta(e,r))}if(n===1)throw n=Ki,tr(e,0),En(e,t),vt(e,qe()),n;if(n===6)throw Error(Q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Yn(e,ht,un),vt(e,qe()),null}function Ru(e,t){var n=Ee;Ee|=1;try{return e(t)}finally{Ee=n,Ee===0&&(Gr=qe()+500,Po&&$n())}}function sr(e){In!==null&&In.tag===0&&!(Ee&6)&&Dr();var t=Ee;Ee|=1;var n=Ot.transition,r=Ae;try{if(Ot.transition=null,Ae=1,e)return e()}finally{Ae=r,Ot.transition=n,Ee=t,!(Ee&6)&&$n()}}function Du(){St=Ar.current,ze(Ar)}function tr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,zx(n)),We!==null)for(n=We.return;n!==null;){var r=n;switch(mu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&io();break;case 3:$r(),ze(xt),ze(lt),Su();break;case 5:bu(r);break;case 4:$r();break;case 13:ze(Ue);break;case 19:ze(Ue);break;case 10:vu(r.type._context);break;case 22:case 23:Du()}n=n.return}if(Je=e,We=e=zn(e.current,null),et=St=t,Ye=0,Ki=null,Pu=Lo=or=0,ht=Ni=null,Xn!==null){for(t=0;t<Xn.length;t++)if(n=Xn[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,l=n.pending;if(l!==null){var o=l.next;l.next=i,r.next=o}n.pending=r}Xn=null}return e}function wm(e,t){do{var n=We;try{if(yu(),Ll.current=ho,po){for(var r=He.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}po=!1}if(lr=0,Qe=Ke=He=null,bi=!1,qi=0,Mu.current=null,n===null||n.return===null){Ye=1,Ki=t,We=null;break}e:{var l=e,o=n.return,s=n,u=t;if(t=et,s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=id(o);if(m!==null){m.flags&=-257,ld(m,o,s,l,t),m.mode&1&&rd(l,c,t),t=m,u=c;var C=t.updateQueue;if(C===null){var k=new Set;k.add(u),t.updateQueue=k}else C.add(u);break e}else{if(!(t&1)){rd(l,c,t),Lu();break e}u=Error(Q(426))}}else if(Fe&&s.mode&1){var E=id(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),ld(E,o,s,l,t),gu(qr(u,s));break e}}l=u=qr(u,s),Ye!==4&&(Ye=2),Ni===null?Ni=[l]:Ni.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var x=rm(l,u,t);Jc(l,x);break e;case 1:s=u;var w=l.type,y=l.stateNode;if(!(l.flags&128)&&(typeof w.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Dn===null||!Dn.has(y)))){l.flags|=65536,t&=-t,l.lanes|=t;var I=im(l,s,t);Jc(l,I);break e}}l=l.return}while(l!==null)}bm(n)}catch(P){t=P,We===n&&n!==null&&(We=n=n.return);continue}break}while(!0)}function km(){var e=mo.current;return mo.current=ho,e===null?ho:e}function Lu(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),Je===null||!(or&268435455)&&!(Lo&268435455)||En(Je,et)}function yo(e,t){var n=Ee;Ee|=2;var r=km();(Je!==e||et!==t)&&(un=null,tr(e,t));do try{ay();break}catch(i){wm(e,i)}while(!0);if(yu(),Ee=n,mo.current=r,We!==null)throw Error(Q(261));return Je=null,et=0,Ye}function ay(){for(;We!==null;)Cm(We)}function uy(){for(;We!==null&&!Rg();)Cm(We)}function Cm(e){var t=Nm(e.alternate,e,St);e.memoizedProps=e.pendingProps,t===null?bm(e):We=t,Mu.current=null}function bm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ny(n,t),n!==null){n.flags&=32767,We=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ye=6,We=null;return}}else if(n=ty(n,t,St),n!==null){We=n;return}if(t=t.sibling,t!==null){We=t;return}We=t=e}while(t!==null);Ye===0&&(Ye=5)}function Yn(e,t,n){var r=Ae,i=Ot.transition;try{Ot.transition=null,Ae=1,cy(e,t,n,r)}finally{Ot.transition=i,Ae=r}return null}function cy(e,t,n,r){do Dr();while(In!==null);if(Ee&6)throw Error(Q(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Q(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if($g(e,l),e===Je&&(We=Je=null,et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Sl||(Sl=!0,Em(Xl,function(){return Dr(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Ot.transition,Ot.transition=null;var o=Ae;Ae=1;var s=Ee;Ee|=4,Mu.current=null,iy(e,n),xm(n,e),_x(la),eo=!!ia,la=ia=null,e.current=n,ly(n),Dg(),Ee=s,Ae=o,Ot.transition=l}else e.current=n;if(Sl&&(Sl=!1,In=e,xo=i),l=e.pendingLanes,l===0&&(Dn=null),Fg(n.stateNode),vt(e,qe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(go)throw go=!1,e=Na,Na=null,e;return xo&1&&e.tag!==0&&Dr(),l=e.pendingLanes,l&1?e===Ea?Ei++:(Ei=0,Ea=e):Ei=0,$n(),null}function Dr(){if(In!==null){var e=rh(xo),t=Ot.transition,n=Ae;try{if(Ot.transition=null,Ae=16>e?16:e,In===null)var r=!1;else{if(e=In,In=null,xo=0,Ee&6)throw Error(Q(331));var i=Ee;for(Ee|=4,ue=e.current;ue!==null;){var l=ue,o=l.child;if(ue.flags&16){var s=l.deletions;if(s!==null){for(var u=0;u<s.length;u++){var c=s[u];for(ue=c;ue!==null;){var d=ue;switch(d.tag){case 0:case 11:case 15:Si(8,d,l)}var f=d.child;if(f!==null)f.return=d,ue=f;else for(;ue!==null;){d=ue;var g=d.sibling,m=d.return;if(hm(d),d===c){ue=null;break}if(g!==null){g.return=m,ue=g;break}ue=m}}}var C=l.alternate;if(C!==null){var k=C.child;if(k!==null){C.child=null;do{var E=k.sibling;k.sibling=null,k=E}while(k!==null)}}ue=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,ue=o;else e:for(;ue!==null;){if(l=ue,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Si(9,l,l.return)}var x=l.sibling;if(x!==null){x.return=l.return,ue=x;break e}ue=l.return}}var w=e.current;for(ue=w;ue!==null;){o=ue;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,ue=y;else e:for(o=w;ue!==null;){if(s=ue,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Do(9,s)}}catch(P){Be(s,s.return,P)}if(s===o){ue=null;break e}var I=s.sibling;if(I!==null){I.return=s.return,ue=I;break e}ue=s.return}}if(Ee=i,$n(),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(To,e)}catch{}r=!0}return r}finally{Ae=n,Ot.transition=t}}return!1}function yd(e,t,n){t=qr(n,t),t=rm(e,t,1),e=Rn(e,t,1),t=at(),e!==null&&(Zi(e,1,t),vt(e,t))}function Be(e,t,n){if(e.tag===3)yd(e,e,n);else for(;t!==null;){if(t.tag===3){yd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Dn===null||!Dn.has(r))){e=qr(n,e),e=im(t,e,1),t=Rn(t,e,1),e=at(),t!==null&&(Zi(t,1,e),vt(t,e));break}}t=t.return}}function dy(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=at(),e.pingedLanes|=e.suspendedLanes&n,Je===e&&(et&n)===n&&(Ye===4||Ye===3&&(et&130023424)===et&&500>qe()-ju?tr(e,0):Pu|=n),vt(e,t)}function Sm(e,t){t===0&&(e.mode&1?(t=hl,hl<<=1,!(hl&130023424)&&(hl=4194304)):t=1);var n=at();e=gn(e,t),e!==null&&(Zi(e,t,n),vt(e,n))}function fy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Sm(e,n)}function py(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(t),Sm(e,n)}var Nm;Nm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||xt.current)gt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return gt=!1,ey(e,t,n);gt=!!(e.flags&131072)}else gt=!1,Fe&&t.flags&1048576&&Ah(t,so,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Fl(e,t),e=t.pendingProps;var i=Hr(t,lt.current);Rr(t,n),i=Eu(null,t,r,e,i,n);var l=Tu();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,yt(r)?(l=!0,lo(t)):l=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ku(t),i.updater=Ro,t.stateNode=i,i._reactInternals=t,ha(t,r,e,n),t=xa(null,t,r,!0,l,n)):(t.tag=0,Fe&&l&&hu(t),st(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Fl(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=my(r),e=$t(r,e),i){case 0:t=ga(null,t,r,e,n);break e;case 1:t=ad(null,t,r,e,n);break e;case 11:t=od(null,t,r,e,n);break e;case 14:t=sd(null,t,r,$t(r.type,e),n);break e}throw Error(Q(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$t(r,i),ga(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$t(r,i),ad(e,t,r,i,n);case 3:e:{if(am(t),e===null)throw Error(Q(387));r=t.pendingProps,l=t.memoizedState,i=l.element,Dh(e,t),co(t,r,null,n);var o=t.memoizedState;if(r=o.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){i=qr(Error(Q(423)),t),t=ud(e,t,r,n,i);break e}else if(r!==i){i=qr(Error(Q(424)),t),t=ud(e,t,r,n,i);break e}else for(Nt=jn(t.stateNode.containerInfo.firstChild),It=t,Fe=!0,Gt=null,n=jh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vr(),r===i){t=xn(e,t,n);break e}st(e,t,r,n)}t=t.child}return t;case 5:return Lh(t),e===null&&da(t),r=t.type,i=t.pendingProps,l=e!==null?e.memoizedProps:null,o=i.children,oa(r,i)?o=null:l!==null&&oa(r,l)&&(t.flags|=32),sm(e,t),st(e,t,o,n),t.child;case 6:return e===null&&da(t),null;case 13:return um(e,t,n);case 4:return Cu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Br(t,null,r,n):st(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$t(r,i),od(e,t,r,i,n);case 7:return st(e,t,t.pendingProps,n),t.child;case 8:return st(e,t,t.pendingProps.children,n),t.child;case 12:return st(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,l=t.memoizedProps,o=i.value,Re(ao,r._currentValue),r._currentValue=o,l!==null)if(Yt(l.value,o)){if(l.children===i.children&&!xt.current){t=xn(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var s=l.dependencies;if(s!==null){o=l.child;for(var u=s.firstContext;u!==null;){if(u.context===r){if(l.tag===1){u=pn(-1,n&-n),u.tag=2;var c=l.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),fa(l.return,n,t),s.lanes|=n;break}u=u.next}}else if(l.tag===10)o=l.type===t.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(Q(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),fa(o,n,t),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===t){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}st(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Rr(t,n),i=Ut(i),r=r(i),t.flags|=1,st(e,t,r,n),t.child;case 14:return r=t.type,i=$t(r,t.pendingProps),i=$t(r.type,i),sd(e,t,r,i,n);case 15:return lm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$t(r,i),Fl(e,t),t.tag=1,yt(r)?(e=!0,lo(t)):e=!1,Rr(t,n),nm(t,r,i),ha(t,r,i,n),xa(null,t,r,!0,e,n);case 19:return cm(e,t,n);case 22:return om(e,t,n)}throw Error(Q(156,t.tag))};function Em(e,t){return Zp(e,t)}function hy(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,t,n,r){return new hy(e,t,n,r)}function zu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function my(e){if(typeof e=="function")return zu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===nu)return 11;if(e===ru)return 14}return 2}function zn(e,t){var n=e.alternate;return n===null?(n=zt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hl(e,t,n,r,i,l){var o=2;if(r=e,typeof e=="function")zu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case vr:return nr(n.children,i,l,t);case tu:o=8,i|=8;break;case Fs:return e=zt(12,n,t,i|2),e.elementType=Fs,e.lanes=l,e;case Os:return e=zt(13,n,t,i),e.elementType=Os,e.lanes=l,e;case Us:return e=zt(19,n,t,i),e.elementType=Us,e.lanes=l,e;case Lp:return zo(n,i,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Rp:o=10;break e;case Dp:o=9;break e;case nu:o=11;break e;case ru:o=14;break e;case bn:o=16,r=null;break e}throw Error(Q(130,e==null?e:typeof e,""))}return t=zt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=l,t}function nr(e,t,n,r){return e=zt(7,e,r,t),e.lanes=n,e}function zo(e,t,n,r){return e=zt(22,e,r,t),e.elementType=Lp,e.lanes=n,e.stateNode={isHidden:!1},e}function vs(e,t,n){return e=zt(6,e,null,t),e.lanes=n,e}function ws(e,t,n){return t=zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function gy(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=es(0),this.expirationTimes=es(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=es(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fu(e,t,n,r,i,l,o,s,u){return e=new gy(e,t,n,s,u),t===1?(t=1,l===!0&&(t|=8)):t=0,l=zt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ku(l),e}function xy(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Tm(e){if(!e)return On;e=e._reactInternals;e:{if(ur(e)!==e||e.tag!==1)throw Error(Q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(yt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Q(171))}if(e.tag===1){var n=e.type;if(yt(n))return Th(e,n,t)}return t}function Im(e,t,n,r,i,l,o,s,u){return e=Fu(n,r,!0,e,i,l,o,s,u),e.context=Tm(null),n=e.current,r=at(),i=Ln(n),l=pn(r,i),l.callback=t??null,Rn(n,l,i),e.current.lanes=i,Zi(e,i,r),vt(e,r),e}function Fo(e,t,n,r){var i=t.current,l=at(),o=Ln(i);return n=Tm(n),t.context===null?t.context=n:t.pendingContext=n,t=pn(l,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Rn(i,t,o),e!==null&&(Kt(e,i,o,l),Dl(e,i,o)),o}function vo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ou(e,t){vd(e,t),(e=e.alternate)&&vd(e,t)}function yy(){return null}var Am=typeof reportError=="function"?reportError:function(e){console.error(e)};function Uu(e){this._internalRoot=e}Oo.prototype.render=Uu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Q(409));Fo(e,t,null,null)};Oo.prototype.unmount=Uu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;sr(function(){Fo(null,e,null,null)}),t[mn]=null}};function Oo(e){this._internalRoot=e}Oo.prototype.unstable_scheduleHydration=function(e){if(e){var t=oh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nn.length&&t!==0&&t<Nn[n].priority;n++);Nn.splice(n,0,e),n===0&&ah(e)}};function Hu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Uo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wd(){}function vy(e,t,n,r,i){if(i){if(typeof r=="function"){var l=r;r=function(){var c=vo(o);l.call(c)}}var o=Im(t,r,e,0,null,!1,!1,"",wd);return e._reactRootContainer=o,e[mn]=o.current,Ui(e.nodeType===8?e.parentNode:e),sr(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var c=vo(u);s.call(c)}}var u=Fu(e,0,!1,null,null,!1,!1,"",wd);return e._reactRootContainer=u,e[mn]=u.current,Ui(e.nodeType===8?e.parentNode:e),sr(function(){Fo(t,u,n,r)}),u}function Ho(e,t,n,r,i){var l=n._reactRootContainer;if(l){var o=l;if(typeof i=="function"){var s=i;i=function(){var u=vo(o);s.call(u)}}Fo(t,o,e,i)}else o=vy(n,t,e,i,r);return vo(o)}ih=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=gi(t.pendingLanes);n!==0&&(ou(t,n|1),vt(t,qe()),!(Ee&6)&&(Gr=qe()+500,$n()))}break;case 13:sr(function(){var r=gn(e,1);if(r!==null){var i=at();Kt(r,e,1,i)}}),Ou(e,1)}};su=function(e){if(e.tag===13){var t=gn(e,134217728);if(t!==null){var n=at();Kt(t,e,134217728,n)}Ou(e,134217728)}};lh=function(e){if(e.tag===13){var t=Ln(e),n=gn(e,t);if(n!==null){var r=at();Kt(n,e,t,r)}Ou(e,t)}};oh=function(){return Ae};sh=function(e,t){var n=Ae;try{return Ae=e,t()}finally{Ae=n}};Qs=function(e,t,n){switch(t){case"input":if(Bs(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Mo(r);if(!i)throw Error(Q(90));Fp(r),Bs(r,i)}}}break;case"textarea":Up(e,n);break;case"select":t=n.value,t!=null&&_r(e,!!n.multiple,t,!1)}};Wp=Ru;Kp=sr;var wy={usingClientEntryPoint:!1,Events:[tl,br,Mo,qp,Gp,Ru]},ui={findFiberByHostInstance:Jn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ky={bundleType:ui.bundleType,version:ui.version,rendererPackageName:ui.rendererPackageName,rendererConfig:ui.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Jp(e),e===null?null:e.stateNode},findFiberByHostInstance:ui.findFiberByHostInstance||yy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nl.isDisabled&&Nl.supportsFiber)try{To=Nl.inject(ky),rn=Nl}catch{}}Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wy;Pt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hu(t))throw Error(Q(200));return xy(e,t,null,n)};Pt.createRoot=function(e,t){if(!Hu(e))throw Error(Q(299));var n=!1,r="",i=Am;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Fu(e,1,!1,null,null,n,!1,r,i),e[mn]=t.current,Ui(e.nodeType===8?e.parentNode:e),new Uu(t)};Pt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Q(188)):(e=Object.keys(e).join(","),Error(Q(268,e)));return e=Jp(t),e=e===null?null:e.stateNode,e};Pt.flushSync=function(e){return sr(e)};Pt.hydrate=function(e,t,n){if(!Uo(t))throw Error(Q(200));return Ho(null,e,t,!0,n)};Pt.hydrateRoot=function(e,t,n){if(!Hu(e))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,i=!1,l="",o=Am;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Im(t,null,e,1,n??null,i,!1,l,o),e[mn]=t.current,Ui(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Oo(t)};Pt.render=function(e,t,n){if(!Uo(t))throw Error(Q(200));return Ho(null,e,t,!1,n)};Pt.unmountComponentAtNode=function(e){if(!Uo(e))throw Error(Q(40));return e._reactRootContainer?(sr(function(){Ho(null,null,e,!1,function(){e._reactRootContainer=null,e[mn]=null})}),!0):!1};Pt.unstable_batchedUpdates=Ru;Pt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Uo(n))throw Error(Q(200));if(e==null||e._reactInternals===void 0)throw Error(Q(38));return Ho(e,t,n,!1,r)};Pt.version="18.3.1-next-f1338f8080-20240426";function _m(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_m)}catch(e){console.error(e)}}_m(),_p.exports=Pt;var Cy=_p.exports,kd=Cy;Ls.createRoot=kd.createRoot,Ls.hydrateRoot=kd.hydrateRoot;/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vu{}function Ie(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const l=t[i];return l!=null?String(l):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function h(e,t,n){for(let l=0;l<t.length-1;l++){const o=t[l];if(o.endsWith("[]")){const s=o.slice(0,-2);if(!(s in e))if(Array.isArray(n))e[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(e[s])){const u=e[s];if(Array.isArray(n))for(let c=0;c<u.length;c++){const d=u[c];h(d,t.slice(l+1),n[c])}else for(const c of u)h(c,t.slice(l+1),n)}return}else if(o.endsWith("[0]")){const s=o.slice(0,-3);s in e||(e[s]=[{}]);const u=e[s];h(u[0],t.slice(l+1),n);return}(!e[o]||typeof e[o]!="object")&&(e[o]={}),e=e[o]}const r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else e[r]=n}function p(e,t){try{if(t.length===1&&t[0]==="_self")return e;for(let n=0;n<t.length;n++){if(typeof e!="object"||e===null)return;const r=t[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in e){const l=e[i];return Array.isArray(l)?l.map(o=>p(o,t.slice(n+1))):void 0}else return}else e=e[r]}return e}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _t(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Mm(e,t){const n=_t(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function Cd(e,t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Yi(e,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(n=>Cd(e,n)):[Cd(e,t)]}function Pm(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function by(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function Bu(e){return!(e==null||by(e))}function jm(e){return e==null||Array.isArray(e)&&e.length===0?!1:e.every(Bu)}function Ft(e,t){if(t==null)throw new Error("ContentUnion is required");return Pm(t)?t:Bu(t)?{role:"user",parts:Yi(e,t)}:{role:"model",parts:Yi(e,t)}}function Rm(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=Ft(e,n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=Ft(e,t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Ft(e,n)):[Ft(e,t)]}function Vl(e,t,n){n.length!==0&&(jm(n)?t.push({role:"user",parts:Yi(e,n)}):t.push({role:"model",parts:Yi(e,n)}),n.length=0)}function Sy(e,t,n,r){Bu(r)===jm(n)||(Vl(e,t,n),n.length=0),n.push(r)}function $e(e,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t))return[Ft(e,t)];const n=[],r=[];for(const i of t)if(Pm(i))Vl(e,n,r),n.push(i);else if(typeof i=="string"||typeof i=="object"&&!Array.isArray(i))Sy(e,n,r,i);else if(Array.isArray(i))Vl(e,n,r),n.push({role:"user",parts:Yi(e,i)});else throw new Error(`Unsupported content type: ${typeof i}`);return Vl(e,n,r),n}function Dm(e,t){if(!e.isVertexAI()&&("title"in t&&delete t.title,"default"in t))throw new Error("Default value is not supported in the response schema for the Gemini API.");if("anyOf"in t){if(!e.isVertexAI())throw new Error("AnyOf is not supported in the response schema for the Gemini API.");if(t.anyOf!==void 0)for(const n of t.anyOf)Dm(e,n)}}function Lm(e,t){return Dm(e,t),t}function zm(e,t){if(typeof t=="object"&&"voiceConfig"in t)return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Fm(e,t){return t}function Lr(e,t){if(!Array.isArray(t))throw new Error("tool is required and must be an array of Tools");return t}function Ny(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function qn(e,t){if(typeof t!="string")throw new Error("name must be a string");return Ny(e,t,"cachedContents")}function Om(e,t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function Ey(e,t){if(typeof t!="string")throw new Error("fromName must be a string");return t.startsWith("files/")?t.split("files/")[1]:t}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var wo;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(wo||(wo={}));class Um{constructor(t,n,r,i){this.pageInternal=[],this.requestInternal=n,this.init(t,r,i)}init(t,n,r){var i,l;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let o={config:{}};r?typeof r=="object"?o=Object.assign({},r):o=r:o={config:{}},o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(l=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var bd;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(bd||(bd={}));var Sd;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(Sd||(Sd={}));var Nd;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT"})(Nd||(Nd={}));var Ed;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Ed||(Ed={}));var Td;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(Td||(Td={}));var Id;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(Id||(Id={}));var Ad;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Ad||(Ad={}));var _d;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL"})(_d||(_d={}));var Md;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Md||(Md={}));var Pd;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Pd||(Pd={}));var jd;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(jd||(jd={}));var Rd;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.ACTIVE="ACTIVE",e.ERROR="ERROR"})(Rd||(Rd={}));var Dd;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Dd||(Dd={}));var Ld;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(Ld||(Ld={}));var zd;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(zd||(zd={}));var Fd;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Fd||(Fd={}));var Od;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(Od||(Od={}));var Ud;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi"})(Ud||(Ud={}));var Hd;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(Hd||(Hd={}));var Vd;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(Vd||(Vd={}));var Bd;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Bd||(Bd={}));var $d;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})($d||($d={}));var qd;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(qd||(qd={}));var Gd;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Gd||(Gd={}));class El{get text(){var t,n,r,i,l,o,s,u;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",d=!1;const f=[];for(const g of(u=(s=(o=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)!==null&&u!==void 0?u:[]){for(const[m,C]of Object.entries(g))m!=="text"&&m!=="thought"&&(C!==null||C!==void 0)&&f.push(m);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,c+=g.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?c:void 0}get functionCalls(){var t,n,r,i,l,o,s,u;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(u=(s=(o=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var t,n,r,i,l,o,s,u,c;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(u=(s=(o=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(c=d==null?void 0:d[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var t,n,r,i,l,o,s,u,c;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(u=(s=(o=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(c=d==null?void 0:d[0])===null||c===void 0?void 0:c.output}}class Wd{}class Kd{}class Yd{}class Qd{}class Jd{}class Xd{}class Zd{}class Hm{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class ef{}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ty extends Vu{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Um(wo.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI()){const s=Ky(this.apiClient,t);return l=Ie("cachedContents",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(u=>u.json()),i.then(u=>$l(this.apiClient,u))}else{const s=Wy(this.apiClient,t);return l=Ie("cachedContents",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(u=>u.json()),i.then(u=>Bl(this.apiClient,u))}}async get(t){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI()){const s=Qy(this.apiClient,t);return l=Ie("{name}",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(u=>u.json()),i.then(u=>$l(this.apiClient,u))}else{const s=Yy(this.apiClient,t);return l=Ie("{name}",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(u=>u.json()),i.then(u=>Bl(this.apiClient,u))}}async delete(t){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI()){const s=Xy(this.apiClient,t);return l=Ie("{name}",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(u=>u.json()),i.then(u=>{const c=a1(this.apiClient),d=new Jd;return Object.assign(d,c),d})}else{const s=Jy(this.apiClient,t);return l=Ie("{name}",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(u=>u.json()),i.then(u=>{const c=s1(this.apiClient),d=new Jd;return Object.assign(d,c),d})}}async update(t){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI()){const s=n1(this.apiClient,t);return l=Ie("{name}",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(u=>u.json()),i.then(u=>$l(this.apiClient,u))}else{const s=t1(this.apiClient,t);return l=Ie("{name}",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(u=>u.json()),i.then(u=>Bl(this.apiClient,u))}}async listInternal(t){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI()){const s=o1(this.apiClient,t);return l=Ie("cachedContents",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(u=>u.json()),i.then(u=>{const c=c1(this.apiClient,u),d=new Xd;return Object.assign(d,c),d})}else{const s=l1(this.apiClient,t);return l=Ie("cachedContents",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(u=>u.json()),i.then(u=>{const c=u1(this.apiClient,u),d=new Xd;return Object.assign(d,c),d})}}}function Iy(e,t){const n={};if(p(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=p(t,["thought"]);r!=null&&h(n,["thought"],r);const i=p(t,["codeExecutionResult"]);i!=null&&h(n,["codeExecutionResult"],i);const l=p(t,["executableCode"]);l!=null&&h(n,["executableCode"],l);const o=p(t,["fileData"]);o!=null&&h(n,["fileData"],o);const s=p(t,["functionCall"]);s!=null&&h(n,["functionCall"],s);const u=p(t,["functionResponse"]);u!=null&&h(n,["functionResponse"],u);const c=p(t,["inlineData"]);c!=null&&h(n,["inlineData"],c);const d=p(t,["text"]);return d!=null&&h(n,["text"],d),n}function Ay(e,t){const n={},r=p(t,["videoMetadata"]);r!=null&&h(n,["videoMetadata"],r);const i=p(t,["thought"]);i!=null&&h(n,["thought"],i);const l=p(t,["codeExecutionResult"]);l!=null&&h(n,["codeExecutionResult"],l);const o=p(t,["executableCode"]);o!=null&&h(n,["executableCode"],o);const s=p(t,["fileData"]);s!=null&&h(n,["fileData"],s);const u=p(t,["functionCall"]);u!=null&&h(n,["functionCall"],u);const c=p(t,["functionResponse"]);c!=null&&h(n,["functionResponse"],c);const d=p(t,["inlineData"]);d!=null&&h(n,["inlineData"],d);const f=p(t,["text"]);return f!=null&&h(n,["text"],f),n}function tf(e,t){const n={},r=p(t,["parts"]);r!=null&&(Array.isArray(r)?h(n,["parts"],r.map(l=>Iy(e,l))):h(n,["parts"],r));const i=p(t,["role"]);return i!=null&&h(n,["role"],i),n}function nf(e,t){const n={},r=p(t,["parts"]);r!=null&&(Array.isArray(r)?h(n,["parts"],r.map(l=>Ay(e,l))):h(n,["parts"],r));const i=p(t,["role"]);return i!=null&&h(n,["role"],i),n}function _y(e,t){const n={},r=p(t,["example"]);r!=null&&h(n,["example"],r);const i=p(t,["pattern"]);i!=null&&h(n,["pattern"],i);const l=p(t,["minimum"]);l!=null&&h(n,["minimum"],l);const o=p(t,["default"]);o!=null&&h(n,["default"],o);const s=p(t,["anyOf"]);s!=null&&h(n,["anyOf"],s);const u=p(t,["maxLength"]);u!=null&&h(n,["maxLength"],u);const c=p(t,["title"]);c!=null&&h(n,["title"],c);const d=p(t,["minLength"]);d!=null&&h(n,["minLength"],d);const f=p(t,["minProperties"]);f!=null&&h(n,["minProperties"],f);const g=p(t,["maximum"]);g!=null&&h(n,["maximum"],g);const m=p(t,["maxProperties"]);m!=null&&h(n,["maxProperties"],m);const C=p(t,["description"]);C!=null&&h(n,["description"],C);const k=p(t,["enum"]);k!=null&&h(n,["enum"],k);const E=p(t,["format"]);E!=null&&h(n,["format"],E);const x=p(t,["items"]);x!=null&&h(n,["items"],x);const w=p(t,["maxItems"]);w!=null&&h(n,["maxItems"],w);const y=p(t,["minItems"]);y!=null&&h(n,["minItems"],y);const I=p(t,["nullable"]);I!=null&&h(n,["nullable"],I);const P=p(t,["properties"]);P!=null&&h(n,["properties"],P);const b=p(t,["propertyOrdering"]);b!=null&&h(n,["propertyOrdering"],b);const T=p(t,["required"]);T!=null&&h(n,["required"],T);const A=p(t,["type"]);return A!=null&&h(n,["type"],A),n}function My(e,t){const n={};if(p(t,["response"])!==void 0)throw new Error("response parameter is not supported in Gemini API.");const r=p(t,["description"]);r!=null&&h(n,["description"],r);const i=p(t,["name"]);i!=null&&h(n,["name"],i);const l=p(t,["parameters"]);return l!=null&&h(n,["parameters"],l),n}function Py(e,t){const n={},r=p(t,["response"]);r!=null&&h(n,["response"],_y(e,r));const i=p(t,["description"]);i!=null&&h(n,["description"],i);const l=p(t,["name"]);l!=null&&h(n,["name"],l);const o=p(t,["parameters"]);return o!=null&&h(n,["parameters"],o),n}function jy(e,t){return{}}function Ry(e,t){return{}}function Dy(e,t){const n={},r=p(t,["mode"]);r!=null&&h(n,["mode"],r);const i=p(t,["dynamicThreshold"]);return i!=null&&h(n,["dynamicThreshold"],i),n}function Ly(e,t){const n={},r=p(t,["mode"]);r!=null&&h(n,["mode"],r);const i=p(t,["dynamicThreshold"]);return i!=null&&h(n,["dynamicThreshold"],i),n}function zy(e,t){const n={},r=p(t,["dynamicRetrievalConfig"]);return r!=null&&h(n,["dynamicRetrievalConfig"],Dy(e,r)),n}function Fy(e,t){const n={},r=p(t,["dynamicRetrievalConfig"]);return r!=null&&h(n,["dynamicRetrievalConfig"],Ly(e,r)),n}function Oy(e,t){const n={},r=p(t,["functionDeclarations"]);if(r!=null&&(Array.isArray(r)?h(n,["functionDeclarations"],r.map(s=>My(e,s))):h(n,["functionDeclarations"],r)),p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");p(t,["googleSearch"])!=null&&h(n,["googleSearch"],jy());const l=p(t,["googleSearchRetrieval"]);l!=null&&h(n,["googleSearchRetrieval"],zy(e,l));const o=p(t,["codeExecution"]);return o!=null&&h(n,["codeExecution"],o),n}function Uy(e,t){const n={},r=p(t,["functionDeclarations"]);r!=null&&(Array.isArray(r)?h(n,["functionDeclarations"],r.map(u=>Py(e,u))):h(n,["functionDeclarations"],r));const i=p(t,["retrieval"]);i!=null&&h(n,["retrieval"],i),p(t,["googleSearch"])!=null&&h(n,["googleSearch"],Ry());const o=p(t,["googleSearchRetrieval"]);o!=null&&h(n,["googleSearchRetrieval"],Fy(e,o));const s=p(t,["codeExecution"]);return s!=null&&h(n,["codeExecution"],s),n}function Hy(e,t){const n={},r=p(t,["mode"]);r!=null&&h(n,["mode"],r);const i=p(t,["allowedFunctionNames"]);return i!=null&&h(n,["allowedFunctionNames"],i),n}function Vy(e,t){const n={},r=p(t,["mode"]);r!=null&&h(n,["mode"],r);const i=p(t,["allowedFunctionNames"]);return i!=null&&h(n,["allowedFunctionNames"],i),n}function By(e,t){const n={},r=p(t,["functionCallingConfig"]);return r!=null&&h(n,["functionCallingConfig"],Hy(e,r)),n}function $y(e,t){const n={},r=p(t,["functionCallingConfig"]);return r!=null&&h(n,["functionCallingConfig"],Vy(e,r)),n}function qy(e,t,n){const r={},i=p(t,["ttl"]);n!==void 0&&i!=null&&h(n,["ttl"],i);const l=p(t,["expireTime"]);n!==void 0&&l!=null&&h(n,["expireTime"],l);const o=p(t,["displayName"]);n!==void 0&&o!=null&&h(n,["displayName"],o);const s=p(t,["contents"]);n!==void 0&&s!=null&&(Array.isArray(s)?h(n,["contents"],$e(e,$e(e,s).map(f=>tf(e,f)))):h(n,["contents"],$e(e,s)));const u=p(t,["systemInstruction"]);n!==void 0&&u!=null&&h(n,["systemInstruction"],tf(e,Ft(e,u)));const c=p(t,["tools"]);n!==void 0&&c!=null&&(Array.isArray(c)?h(n,["tools"],c.map(f=>Oy(e,f))):h(n,["tools"],c));const d=p(t,["toolConfig"]);return n!==void 0&&d!=null&&h(n,["toolConfig"],By(e,d)),r}function Gy(e,t,n){const r={},i=p(t,["ttl"]);n!==void 0&&i!=null&&h(n,["ttl"],i);const l=p(t,["expireTime"]);n!==void 0&&l!=null&&h(n,["expireTime"],l);const o=p(t,["displayName"]);n!==void 0&&o!=null&&h(n,["displayName"],o);const s=p(t,["contents"]);n!==void 0&&s!=null&&(Array.isArray(s)?h(n,["contents"],$e(e,$e(e,s).map(f=>nf(e,f)))):h(n,["contents"],$e(e,s)));const u=p(t,["systemInstruction"]);n!==void 0&&u!=null&&h(n,["systemInstruction"],nf(e,Ft(e,u)));const c=p(t,["tools"]);n!==void 0&&c!=null&&(Array.isArray(c)?h(n,["tools"],c.map(f=>Uy(e,f))):h(n,["tools"],c));const d=p(t,["toolConfig"]);return n!==void 0&&d!=null&&h(n,["toolConfig"],$y(e,d)),r}function Wy(e,t){const n={},r=p(t,["model"]);r!=null&&h(n,["model"],Mm(e,r));const i=p(t,["config"]);return i!=null&&h(n,["config"],qy(e,i,n)),n}function Ky(e,t){const n={},r=p(t,["model"]);r!=null&&h(n,["model"],Mm(e,r));const i=p(t,["config"]);return i!=null&&h(n,["config"],Gy(e,i,n)),n}function Yy(e,t){const n={},r=p(t,["name"]);r!=null&&h(n,["_url","name"],qn(e,r));const i=p(t,["config"]);return i!=null&&h(n,["config"],i),n}function Qy(e,t){const n={},r=p(t,["name"]);r!=null&&h(n,["_url","name"],qn(e,r));const i=p(t,["config"]);return i!=null&&h(n,["config"],i),n}function Jy(e,t){const n={},r=p(t,["name"]);r!=null&&h(n,["_url","name"],qn(e,r));const i=p(t,["config"]);return i!=null&&h(n,["config"],i),n}function Xy(e,t){const n={},r=p(t,["name"]);r!=null&&h(n,["_url","name"],qn(e,r));const i=p(t,["config"]);return i!=null&&h(n,["config"],i),n}function Zy(e,t,n){const r={},i=p(t,["ttl"]);n!==void 0&&i!=null&&h(n,["ttl"],i);const l=p(t,["expireTime"]);return n!==void 0&&l!=null&&h(n,["expireTime"],l),r}function e1(e,t,n){const r={},i=p(t,["ttl"]);n!==void 0&&i!=null&&h(n,["ttl"],i);const l=p(t,["expireTime"]);return n!==void 0&&l!=null&&h(n,["expireTime"],l),r}function t1(e,t){const n={},r=p(t,["name"]);r!=null&&h(n,["_url","name"],qn(e,r));const i=p(t,["config"]);return i!=null&&h(n,["config"],Zy(e,i,n)),n}function n1(e,t){const n={},r=p(t,["name"]);r!=null&&h(n,["_url","name"],qn(e,r));const i=p(t,["config"]);return i!=null&&h(n,["config"],e1(e,i,n)),n}function r1(e,t,n){const r={},i=p(t,["pageSize"]);n!==void 0&&i!=null&&h(n,["_query","pageSize"],i);const l=p(t,["pageToken"]);return n!==void 0&&l!=null&&h(n,["_query","pageToken"],l),r}function i1(e,t,n){const r={},i=p(t,["pageSize"]);n!==void 0&&i!=null&&h(n,["_query","pageSize"],i);const l=p(t,["pageToken"]);return n!==void 0&&l!=null&&h(n,["_query","pageToken"],l),r}function l1(e,t){const n={},r=p(t,["config"]);return r!=null&&h(n,["config"],r1(e,r,n)),n}function o1(e,t){const n={},r=p(t,["config"]);return r!=null&&h(n,["config"],i1(e,r,n)),n}function Bl(e,t){const n={},r=p(t,["name"]);r!=null&&h(n,["name"],r);const i=p(t,["displayName"]);i!=null&&h(n,["displayName"],i);const l=p(t,["model"]);l!=null&&h(n,["model"],l);const o=p(t,["createTime"]);o!=null&&h(n,["createTime"],o);const s=p(t,["updateTime"]);s!=null&&h(n,["updateTime"],s);const u=p(t,["expireTime"]);u!=null&&h(n,["expireTime"],u);const c=p(t,["usageMetadata"]);return c!=null&&h(n,["usageMetadata"],c),n}function $l(e,t){const n={},r=p(t,["name"]);r!=null&&h(n,["name"],r);const i=p(t,["displayName"]);i!=null&&h(n,["displayName"],i);const l=p(t,["model"]);l!=null&&h(n,["model"],l);const o=p(t,["createTime"]);o!=null&&h(n,["createTime"],o);const s=p(t,["updateTime"]);s!=null&&h(n,["updateTime"],s);const u=p(t,["expireTime"]);u!=null&&h(n,["expireTime"],u);const c=p(t,["usageMetadata"]);return c!=null&&h(n,["usageMetadata"],c),n}function s1(e,t){return{}}function a1(e,t){return{}}function u1(e,t){const n={},r=p(t,["nextPageToken"]);r!=null&&h(n,["nextPageToken"],r);const i=p(t,["cachedContents"]);return i!=null&&(Array.isArray(i)?h(n,["cachedContents"],i.map(l=>Bl(e,l))):h(n,["cachedContents"],i)),n}function c1(e,t){const n={},r=p(t,["nextPageToken"]);r!=null&&h(n,["nextPageToken"],r);const i=p(t,["cachedContents"]);return i!=null&&(Array.isArray(i)?h(n,["cachedContents"],i.map(l=>$l(e,l))):h(n,["cachedContents"],i)),n}function rf(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function mt(e){return this instanceof mt?(this.v=e,this):new mt(e)}function ko(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,l=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(m){return function(C){return Promise.resolve(C).then(m,f)}}function s(m,C){r[m]&&(i[m]=function(k){return new Promise(function(E,x){l.push([m,k,E,x])>1||u(m,k)})},C&&(i[m]=C(i[m])))}function u(m,C){try{c(r[m](C))}catch(k){g(l[0][3],k)}}function c(m){m.value instanceof mt?Promise.resolve(m.value.v).then(d,f):g(l[0][2],m)}function d(m){u("next",m)}function f(m){u("throw",m)}function g(m,C){m(C),l.shift(),l.length&&u(l[0][0],l[0][1])}}function Aa(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof rf=="function"?rf(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(l){n[l]=e[l]&&function(o){return new Promise(function(s,u){o=e[l](o),i(s,u,o.done,o.value)})}}function i(l,o,s,u){Promise.resolve(u).then(function(c){l({value:c,done:s})},o)}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function d1(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:Vm(n)}function Vm(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0||t.text!==void 0&&t.text==="")return!1;return!0}function f1(e){if(e.length!==0){if(e[0].role!=="user")throw new Error("History must start with a user turn.");for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function p1(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0,i=e[0];for(;r<n;)if(e[r].role==="user")i=e[r],r++;else{const l=[];let o=!0;for(;r<n&&e[r].role==="model";)l.push(e[r]),o&&!Vm(e[r])&&(o=!1),r++;o&&(t.push(i),t.push(...l))}return t}class h1{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new m1(this.apiClient,this.modelsModule,t.model,t.config,t.history)}}class m1{constructor(t,n,r,i={},l=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=i,this.history=l,this.sendPromise=Promise.resolve(),f1(l)}async sendMessage(t){var n;await this.sendPromise;const r=Ft(this.apiClient,t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,o;const u=(o=(l=(await i).candidates)===null||l===void 0?void 0:l[0])===null||o===void 0?void 0:o.content,c=u?[u]:[];this.recordHistory(r,c)})(),await this.sendPromise,i}async sendMessageStream(t){var n;await this.sendPromise;const r=Ft(this.apiClient,t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{});const l=await i;return this.processStreamResponse(l,r)}getHistory(t=!1){return t?p1(this.history):this.history}processStreamResponse(t,n){var r,i;return ko(this,arguments,function*(){var o,s,u,c;const d=[];try{for(var f=!0,g=Aa(t),m;m=yield mt(g.next()),o=m.done,!o;f=!0){c=m.value,f=!1;const C=c;if(d1(C)){const k=(i=(r=C.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;k!==void 0&&d.push(k)}yield yield mt(C)}}catch(C){s={error:C}}finally{try{!f&&!o&&(u=g.return)&&(yield mt(u.call(g)))}finally{if(s)throw s.error}}this.recordHistory(n,d)})}recordHistory(t,n){let r=[];n.length>0&&n.every(i=>i.role==="model")?r=n:r.push({role:"model",parts:[]}),this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class g1 extends Vu{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>await this.generateContentInternal(n),this.generateContentStream=async n=>await this.generateContentStreamInternal(n)}async generateContentInternal(t){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI()){const s=of(this.apiClient,t);return l=Ie("{model}:generateContent",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(u=>u.json()),i.then(u=>{const c=af(this.apiClient,u),d=new El;return Object.assign(d,c),d})}else{const s=lf(this.apiClient,t);return l=Ie("{model}:generateContent",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(u=>u.json()),i.then(u=>{const c=sf(this.apiClient,u),d=new El;return Object.assign(d,c),d})}}async generateContentStreamInternal(t){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI()){const s=of(this.apiClient,t);l=Ie("{model}:streamGenerateContent?alt=sse",s._url),o=s._query,delete s.config,delete s._url,delete s._query;const u=this.apiClient;return i=u.requestStream({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}),i.then(function(c){return ko(this,arguments,function*(){var d,f,g,m;try{for(var C=!0,k=Aa(c),E;E=yield mt(k.next()),d=E.done,!d;C=!0){m=E.value,C=!1;const w=af(u,m),y=new El;Object.assign(y,w),yield yield mt(y)}}catch(x){f={error:x}}finally{try{!C&&!d&&(g=k.return)&&(yield mt(g.call(k)))}finally{if(f)throw f.error}}})})}else{const s=lf(this.apiClient,t);l=Ie("{model}:streamGenerateContent?alt=sse",s._url),o=s._query,delete s.config,delete s._url,delete s._query;const u=this.apiClient;return i=u.requestStream({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}),i.then(function(c){return ko(this,arguments,function*(){var d,f,g,m;try{for(var C=!0,k=Aa(c),E;E=yield mt(k.next()),d=E.done,!d;C=!0){m=E.value,C=!1;const w=sf(u,m),y=new El;Object.assign(y,w),yield yield mt(y)}}catch(x){f={error:x}}finally{try{!C&&!d&&(g=k.return)&&(yield mt(g.call(k)))}finally{if(f)throw f.error}}})})}}async embedContent(t){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI()){const s=W1(this.apiClient,t);return l=Ie("{model}:predict",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(u=>u.json()),i.then(u=>{const c=gv(this.apiClient,u),d=new Wd;return Object.assign(d,c),d})}else{const s=G1(this.apiClient,t);return l=Ie("{model}:batchEmbedContents",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(u=>u.json()),i.then(u=>{const c=mv(this.apiClient,u),d=new Wd;return Object.assign(d,c),d})}}async generateImages(t){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI()){const s=J1(this.apiClient,t);return l=Ie("{model}:predict",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(u=>u.json()),i.then(u=>{const c=Cv(this.apiClient,u),d=new Kd;return Object.assign(d,c),d})}else{const s=Q1(this.apiClient,t);return l=Ie("{model}:predict",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(u=>u.json()),i.then(u=>{const c=kv(this.apiClient,u),d=new Kd;return Object.assign(d,c),d})}}async countTokens(t){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI()){const s=tv(this.apiClient,t);return l=Ie("{model}:countTokens",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(u=>u.json()),i.then(u=>{const c=Sv(this.apiClient,u),d=new Yd;return Object.assign(d,c),d})}else{const s=ev(this.apiClient,t);return l=Ie("{model}:countTokens",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(u=>u.json()),i.then(u=>{const c=bv(this.apiClient,u),d=new Yd;return Object.assign(d,c),d})}}async computeTokens(t){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI()){const s=rv(this.apiClient,t);return l=Ie("{model}:computeTokens",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(u=>u.json()),i.then(u=>{const c=Ev(this.apiClient,u),d=new Qd;return Object.assign(d,c),d})}else{const s=nv(this.apiClient,t);return l=Ie("None",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(u=>u.json()),i.then(u=>{const c=Nv(this.apiClient,u),d=new Qd;return Object.assign(d,c),d})}}}function x1(e,t){const n={};if(p(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=p(t,["thought"]);r!=null&&h(n,["thought"],r);const i=p(t,["codeExecutionResult"]);i!=null&&h(n,["codeExecutionResult"],i);const l=p(t,["executableCode"]);l!=null&&h(n,["executableCode"],l);const o=p(t,["fileData"]);o!=null&&h(n,["fileData"],o);const s=p(t,["functionCall"]);s!=null&&h(n,["functionCall"],s);const u=p(t,["functionResponse"]);u!=null&&h(n,["functionResponse"],u);const c=p(t,["inlineData"]);c!=null&&h(n,["inlineData"],c);const d=p(t,["text"]);return d!=null&&h(n,["text"],d),n}function y1(e,t){const n={},r=p(t,["videoMetadata"]);r!=null&&h(n,["videoMetadata"],r);const i=p(t,["thought"]);i!=null&&h(n,["thought"],i);const l=p(t,["codeExecutionResult"]);l!=null&&h(n,["codeExecutionResult"],l);const o=p(t,["executableCode"]);o!=null&&h(n,["executableCode"],o);const s=p(t,["fileData"]);s!=null&&h(n,["fileData"],s);const u=p(t,["functionCall"]);u!=null&&h(n,["functionCall"],u);const c=p(t,["functionResponse"]);c!=null&&h(n,["functionResponse"],c);const d=p(t,["inlineData"]);d!=null&&h(n,["inlineData"],d);const f=p(t,["text"]);return f!=null&&h(n,["text"],f),n}function rl(e,t){const n={},r=p(t,["parts"]);r!=null&&(Array.isArray(r)?h(n,["parts"],r.map(l=>x1(e,l))):h(n,["parts"],r));const i=p(t,["role"]);return i!=null&&h(n,["role"],i),n}function cr(e,t){const n={},r=p(t,["parts"]);r!=null&&(Array.isArray(r)?h(n,["parts"],r.map(l=>y1(e,l))):h(n,["parts"],r));const i=p(t,["role"]);return i!=null&&h(n,["role"],i),n}function v1(e,t){const n={};if(p(t,["example"])!==void 0)throw new Error("example parameter is not supported in Gemini API.");if(p(t,["pattern"])!==void 0)throw new Error("pattern parameter is not supported in Gemini API.");if(p(t,["minimum"])!==void 0)throw new Error("minimum parameter is not supported in Gemini API.");if(p(t,["default"])!==void 0)throw new Error("default parameter is not supported in Gemini API.");if(p(t,["anyOf"])!==void 0)throw new Error("anyOf parameter is not supported in Gemini API.");if(p(t,["maxLength"])!==void 0)throw new Error("maxLength parameter is not supported in Gemini API.");if(p(t,["title"])!==void 0)throw new Error("title parameter is not supported in Gemini API.");if(p(t,["minLength"])!==void 0)throw new Error("minLength parameter is not supported in Gemini API.");if(p(t,["minProperties"])!==void 0)throw new Error("minProperties parameter is not supported in Gemini API.");if(p(t,["maximum"])!==void 0)throw new Error("maximum parameter is not supported in Gemini API.");if(p(t,["maxProperties"])!==void 0)throw new Error("maxProperties parameter is not supported in Gemini API.");const r=p(t,["description"]);r!=null&&h(n,["description"],r);const i=p(t,["enum"]);i!=null&&h(n,["enum"],i);const l=p(t,["format"]);l!=null&&h(n,["format"],l);const o=p(t,["items"]);o!=null&&h(n,["items"],o);const s=p(t,["maxItems"]);s!=null&&h(n,["maxItems"],s);const u=p(t,["minItems"]);u!=null&&h(n,["minItems"],u);const c=p(t,["nullable"]);c!=null&&h(n,["nullable"],c);const d=p(t,["properties"]);d!=null&&h(n,["properties"],d);const f=p(t,["propertyOrdering"]);f!=null&&h(n,["propertyOrdering"],f);const g=p(t,["required"]);g!=null&&h(n,["required"],g);const m=p(t,["type"]);return m!=null&&h(n,["type"],m),n}function Bm(e,t){const n={},r=p(t,["example"]);r!=null&&h(n,["example"],r);const i=p(t,["pattern"]);i!=null&&h(n,["pattern"],i);const l=p(t,["minimum"]);l!=null&&h(n,["minimum"],l);const o=p(t,["default"]);o!=null&&h(n,["default"],o);const s=p(t,["anyOf"]);s!=null&&h(n,["anyOf"],s);const u=p(t,["maxLength"]);u!=null&&h(n,["maxLength"],u);const c=p(t,["title"]);c!=null&&h(n,["title"],c);const d=p(t,["minLength"]);d!=null&&h(n,["minLength"],d);const f=p(t,["minProperties"]);f!=null&&h(n,["minProperties"],f);const g=p(t,["maximum"]);g!=null&&h(n,["maximum"],g);const m=p(t,["maxProperties"]);m!=null&&h(n,["maxProperties"],m);const C=p(t,["description"]);C!=null&&h(n,["description"],C);const k=p(t,["enum"]);k!=null&&h(n,["enum"],k);const E=p(t,["format"]);E!=null&&h(n,["format"],E);const x=p(t,["items"]);x!=null&&h(n,["items"],x);const w=p(t,["maxItems"]);w!=null&&h(n,["maxItems"],w);const y=p(t,["minItems"]);y!=null&&h(n,["minItems"],y);const I=p(t,["nullable"]);I!=null&&h(n,["nullable"],I);const P=p(t,["properties"]);P!=null&&h(n,["properties"],P);const b=p(t,["propertyOrdering"]);b!=null&&h(n,["propertyOrdering"],b);const T=p(t,["required"]);T!=null&&h(n,["required"],T);const A=p(t,["type"]);return A!=null&&h(n,["type"],A),n}function w1(e,t){const n={};if(p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["category"]);r!=null&&h(n,["category"],r);const i=p(t,["threshold"]);return i!=null&&h(n,["threshold"],i),n}function k1(e,t){const n={},r=p(t,["method"]);r!=null&&h(n,["method"],r);const i=p(t,["category"]);i!=null&&h(n,["category"],i);const l=p(t,["threshold"]);return l!=null&&h(n,["threshold"],l),n}function C1(e,t){const n={};if(p(t,["response"])!==void 0)throw new Error("response parameter is not supported in Gemini API.");const r=p(t,["description"]);r!=null&&h(n,["description"],r);const i=p(t,["name"]);i!=null&&h(n,["name"],i);const l=p(t,["parameters"]);return l!=null&&h(n,["parameters"],l),n}function b1(e,t){const n={},r=p(t,["response"]);r!=null&&h(n,["response"],Bm(e,r));const i=p(t,["description"]);i!=null&&h(n,["description"],i);const l=p(t,["name"]);l!=null&&h(n,["name"],l);const o=p(t,["parameters"]);return o!=null&&h(n,["parameters"],o),n}function S1(e,t){return{}}function N1(e,t){return{}}function E1(e,t){const n={},r=p(t,["mode"]);r!=null&&h(n,["mode"],r);const i=p(t,["dynamicThreshold"]);return i!=null&&h(n,["dynamicThreshold"],i),n}function T1(e,t){const n={},r=p(t,["mode"]);r!=null&&h(n,["mode"],r);const i=p(t,["dynamicThreshold"]);return i!=null&&h(n,["dynamicThreshold"],i),n}function I1(e,t){const n={},r=p(t,["dynamicRetrievalConfig"]);return r!=null&&h(n,["dynamicRetrievalConfig"],E1(e,r)),n}function A1(e,t){const n={},r=p(t,["dynamicRetrievalConfig"]);return r!=null&&h(n,["dynamicRetrievalConfig"],T1(e,r)),n}function $m(e,t){const n={},r=p(t,["functionDeclarations"]);if(r!=null&&(Array.isArray(r)?h(n,["functionDeclarations"],r.map(s=>C1(e,s))):h(n,["functionDeclarations"],r)),p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");p(t,["googleSearch"])!=null&&h(n,["googleSearch"],S1());const l=p(t,["googleSearchRetrieval"]);l!=null&&h(n,["googleSearchRetrieval"],I1(e,l));const o=p(t,["codeExecution"]);return o!=null&&h(n,["codeExecution"],o),n}function $u(e,t){const n={},r=p(t,["functionDeclarations"]);r!=null&&(Array.isArray(r)?h(n,["functionDeclarations"],r.map(u=>b1(e,u))):h(n,["functionDeclarations"],r));const i=p(t,["retrieval"]);i!=null&&h(n,["retrieval"],i),p(t,["googleSearch"])!=null&&h(n,["googleSearch"],N1());const o=p(t,["googleSearchRetrieval"]);o!=null&&h(n,["googleSearchRetrieval"],A1(e,o));const s=p(t,["codeExecution"]);return s!=null&&h(n,["codeExecution"],s),n}function _1(e,t){const n={},r=p(t,["mode"]);r!=null&&h(n,["mode"],r);const i=p(t,["allowedFunctionNames"]);return i!=null&&h(n,["allowedFunctionNames"],i),n}function M1(e,t){const n={},r=p(t,["mode"]);r!=null&&h(n,["mode"],r);const i=p(t,["allowedFunctionNames"]);return i!=null&&h(n,["allowedFunctionNames"],i),n}function P1(e,t){const n={},r=p(t,["functionCallingConfig"]);return r!=null&&h(n,["functionCallingConfig"],_1(e,r)),n}function j1(e,t){const n={},r=p(t,["functionCallingConfig"]);return r!=null&&h(n,["functionCallingConfig"],M1(e,r)),n}function R1(e,t){const n={},r=p(t,["voiceName"]);return r!=null&&h(n,["voiceName"],r),n}function D1(e,t){const n={},r=p(t,["voiceName"]);return r!=null&&h(n,["voiceName"],r),n}function L1(e,t){const n={},r=p(t,["prebuiltVoiceConfig"]);return r!=null&&h(n,["prebuiltVoiceConfig"],R1(e,r)),n}function z1(e,t){const n={},r=p(t,["prebuiltVoiceConfig"]);return r!=null&&h(n,["prebuiltVoiceConfig"],D1(e,r)),n}function F1(e,t){const n={},r=p(t,["voiceConfig"]);return r!=null&&h(n,["voiceConfig"],L1(e,r)),n}function O1(e,t){const n={},r=p(t,["voiceConfig"]);return r!=null&&h(n,["voiceConfig"],z1(e,r)),n}function U1(e,t){const n={},r=p(t,["includeThoughts"]);return r!=null&&h(n,["includeThoughts"],r),n}function H1(e,t){const n={},r=p(t,["includeThoughts"]);return r!=null&&h(n,["includeThoughts"],r),n}function V1(e,t,n){const r={},i=p(t,["systemInstruction"]);n!==void 0&&i!=null&&h(n,["systemInstruction"],rl(e,Ft(e,i)));const l=p(t,["temperature"]);l!=null&&h(r,["temperature"],l);const o=p(t,["topP"]);o!=null&&h(r,["topP"],o);const s=p(t,["topK"]);s!=null&&h(r,["topK"],s);const u=p(t,["candidateCount"]);u!=null&&h(r,["candidateCount"],u);const c=p(t,["maxOutputTokens"]);c!=null&&h(r,["maxOutputTokens"],c);const d=p(t,["stopSequences"]);d!=null&&h(r,["stopSequences"],d);const f=p(t,["responseLogprobs"]);f!=null&&h(r,["responseLogprobs"],f);const g=p(t,["logprobs"]);g!=null&&h(r,["logprobs"],g);const m=p(t,["presencePenalty"]);m!=null&&h(r,["presencePenalty"],m);const C=p(t,["frequencyPenalty"]);C!=null&&h(r,["frequencyPenalty"],C);const k=p(t,["seed"]);k!=null&&h(r,["seed"],k);const E=p(t,["responseMimeType"]);E!=null&&h(r,["responseMimeType"],E);const x=p(t,["responseSchema"]);if(x!=null&&h(r,["responseSchema"],v1(e,Lm(e,x))),p(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");const w=p(t,["safetySettings"]);n!==void 0&&w!=null&&(Array.isArray(w)?h(n,["safetySettings"],w.map(j=>w1(e,j))):h(n,["safetySettings"],w));const y=p(t,["tools"]);n!==void 0&&y!=null&&(Array.isArray(y)?h(n,["tools"],Lr(e,Lr(e,y).map(j=>$m(e,Fm(e,j))))):h(n,["tools"],Lr(e,y)));const I=p(t,["toolConfig"]);if(n!==void 0&&I!=null&&h(n,["toolConfig"],P1(e,I)),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=p(t,["cachedContent"]);n!==void 0&&P!=null&&h(n,["cachedContent"],qn(e,P));const b=p(t,["responseModalities"]);b!=null&&h(r,["responseModalities"],b);const T=p(t,["mediaResolution"]);T!=null&&h(r,["mediaResolution"],T);const A=p(t,["speechConfig"]);if(A!=null&&h(r,["speechConfig"],F1(e,zm(e,A))),p(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const O=p(t,["thinkingConfig"]);return O!=null&&h(r,["thinkingConfig"],U1(e,O)),r}function B1(e,t,n){const r={},i=p(t,["systemInstruction"]);n!==void 0&&i!=null&&h(n,["systemInstruction"],cr(e,Ft(e,i)));const l=p(t,["temperature"]);l!=null&&h(r,["temperature"],l);const o=p(t,["topP"]);o!=null&&h(r,["topP"],o);const s=p(t,["topK"]);s!=null&&h(r,["topK"],s);const u=p(t,["candidateCount"]);u!=null&&h(r,["candidateCount"],u);const c=p(t,["maxOutputTokens"]);c!=null&&h(r,["maxOutputTokens"],c);const d=p(t,["stopSequences"]);d!=null&&h(r,["stopSequences"],d);const f=p(t,["responseLogprobs"]);f!=null&&h(r,["responseLogprobs"],f);const g=p(t,["logprobs"]);g!=null&&h(r,["logprobs"],g);const m=p(t,["presencePenalty"]);m!=null&&h(r,["presencePenalty"],m);const C=p(t,["frequencyPenalty"]);C!=null&&h(r,["frequencyPenalty"],C);const k=p(t,["seed"]);k!=null&&h(r,["seed"],k);const E=p(t,["responseMimeType"]);E!=null&&h(r,["responseMimeType"],E);const x=p(t,["responseSchema"]);x!=null&&h(r,["responseSchema"],Bm(e,Lm(e,x)));const w=p(t,["routingConfig"]);w!=null&&h(r,["routingConfig"],w);const y=p(t,["safetySettings"]);n!==void 0&&y!=null&&(Array.isArray(y)?h(n,["safetySettings"],y.map(H=>k1(e,H))):h(n,["safetySettings"],y));const I=p(t,["tools"]);n!==void 0&&I!=null&&(Array.isArray(I)?h(n,["tools"],Lr(e,Lr(e,I).map(H=>$u(e,Fm(e,H))))):h(n,["tools"],Lr(e,I)));const P=p(t,["toolConfig"]);n!==void 0&&P!=null&&h(n,["toolConfig"],j1(e,P));const b=p(t,["labels"]);n!==void 0&&b!=null&&h(n,["labels"],b);const T=p(t,["cachedContent"]);n!==void 0&&T!=null&&h(n,["cachedContent"],qn(e,T));const A=p(t,["responseModalities"]);A!=null&&h(r,["responseModalities"],A);const O=p(t,["mediaResolution"]);O!=null&&h(r,["mediaResolution"],O);const j=p(t,["speechConfig"]);j!=null&&h(r,["speechConfig"],O1(e,zm(e,j)));const D=p(t,["audioTimestamp"]);D!=null&&h(r,["audioTimestamp"],D);const M=p(t,["thinkingConfig"]);return M!=null&&h(r,["thinkingConfig"],H1(e,M)),r}function lf(e,t){const n={},r=p(t,["model"]);r!=null&&h(n,["_url","model"],_t(e,r));const i=p(t,["contents"]);i!=null&&(Array.isArray(i)?h(n,["contents"],$e(e,$e(e,i).map(o=>rl(e,o)))):h(n,["contents"],$e(e,i)));const l=p(t,["config"]);return l!=null&&h(n,["generationConfig"],V1(e,l,n)),n}function of(e,t){const n={},r=p(t,["model"]);r!=null&&h(n,["_url","model"],_t(e,r));const i=p(t,["contents"]);i!=null&&(Array.isArray(i)?h(n,["contents"],$e(e,$e(e,i).map(o=>cr(e,o)))):h(n,["contents"],$e(e,i)));const l=p(t,["config"]);return l!=null&&h(n,["generationConfig"],B1(e,l,n)),n}function $1(e,t,n){const r={},i=p(t,["taskType"]);n!==void 0&&i!=null&&h(n,["requests[]","taskType"],i);const l=p(t,["title"]);n!==void 0&&l!=null&&h(n,["requests[]","title"],l);const o=p(t,["outputDimensionality"]);if(n!==void 0&&o!=null&&h(n,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function q1(e,t,n){const r={},i=p(t,["taskType"]);n!==void 0&&i!=null&&h(n,["instances[]","task_type"],i);const l=p(t,["title"]);n!==void 0&&l!=null&&h(n,["instances[]","title"],l);const o=p(t,["outputDimensionality"]);n!==void 0&&o!=null&&h(n,["parameters","outputDimensionality"],o);const s=p(t,["mimeType"]);n!==void 0&&s!=null&&h(n,["instances[]","mimeType"],s);const u=p(t,["autoTruncate"]);return n!==void 0&&u!=null&&h(n,["parameters","autoTruncate"],u),r}function G1(e,t){const n={},r=p(t,["model"]);r!=null&&h(n,["_url","model"],_t(e,r));const i=p(t,["contents"]);i!=null&&h(n,["requests[]","content"],Rm(e,i));const l=p(t,["config"]);l!=null&&h(n,["config"],$1(e,l,n));const o=p(t,["model"]);return o!==void 0&&h(n,["requests[]","model"],_t(e,o)),n}function W1(e,t){const n={},r=p(t,["model"]);r!=null&&h(n,["_url","model"],_t(e,r));const i=p(t,["contents"]);i!=null&&h(n,["instances[]","content"],Rm(e,i));const l=p(t,["config"]);return l!=null&&h(n,["config"],q1(e,l,n)),n}function K1(e,t,n){const r={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=p(t,["numberOfImages"]);n!==void 0&&i!=null&&h(n,["parameters","sampleCount"],i);const l=p(t,["aspectRatio"]);n!==void 0&&l!=null&&h(n,["parameters","aspectRatio"],l);const o=p(t,["guidanceScale"]);if(n!==void 0&&o!=null&&h(n,["parameters","guidanceScale"],o),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=p(t,["safetyFilterLevel"]);n!==void 0&&s!=null&&h(n,["parameters","safetySetting"],s);const u=p(t,["personGeneration"]);n!==void 0&&u!=null&&h(n,["parameters","personGeneration"],u);const c=p(t,["includeSafetyAttributes"]);n!==void 0&&c!=null&&h(n,["parameters","includeSafetyAttributes"],c);const d=p(t,["includeRaiReason"]);n!==void 0&&d!=null&&h(n,["parameters","includeRaiReason"],d);const f=p(t,["language"]);n!==void 0&&f!=null&&h(n,["parameters","language"],f);const g=p(t,["outputMimeType"]);n!==void 0&&g!=null&&h(n,["parameters","outputOptions","mimeType"],g);const m=p(t,["outputCompressionQuality"]);if(n!==void 0&&m!=null&&h(n,["parameters","outputOptions","compressionQuality"],m),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function Y1(e,t,n){const r={},i=p(t,["outputGcsUri"]);n!==void 0&&i!=null&&h(n,["parameters","storageUri"],i);const l=p(t,["negativePrompt"]);n!==void 0&&l!=null&&h(n,["parameters","negativePrompt"],l);const o=p(t,["numberOfImages"]);n!==void 0&&o!=null&&h(n,["parameters","sampleCount"],o);const s=p(t,["aspectRatio"]);n!==void 0&&s!=null&&h(n,["parameters","aspectRatio"],s);const u=p(t,["guidanceScale"]);n!==void 0&&u!=null&&h(n,["parameters","guidanceScale"],u);const c=p(t,["seed"]);n!==void 0&&c!=null&&h(n,["parameters","seed"],c);const d=p(t,["safetyFilterLevel"]);n!==void 0&&d!=null&&h(n,["parameters","safetySetting"],d);const f=p(t,["personGeneration"]);n!==void 0&&f!=null&&h(n,["parameters","personGeneration"],f);const g=p(t,["includeSafetyAttributes"]);n!==void 0&&g!=null&&h(n,["parameters","includeSafetyAttributes"],g);const m=p(t,["includeRaiReason"]);n!==void 0&&m!=null&&h(n,["parameters","includeRaiReason"],m);const C=p(t,["language"]);n!==void 0&&C!=null&&h(n,["parameters","language"],C);const k=p(t,["outputMimeType"]);n!==void 0&&k!=null&&h(n,["parameters","outputOptions","mimeType"],k);const E=p(t,["outputCompressionQuality"]);n!==void 0&&E!=null&&h(n,["parameters","outputOptions","compressionQuality"],E);const x=p(t,["addWatermark"]);n!==void 0&&x!=null&&h(n,["parameters","addWatermark"],x);const w=p(t,["enhancePrompt"]);return n!==void 0&&w!=null&&h(n,["parameters","enhancePrompt"],w),r}function Q1(e,t){const n={},r=p(t,["model"]);r!=null&&h(n,["_url","model"],_t(e,r));const i=p(t,["prompt"]);i!=null&&h(n,["instances[0]","prompt"],i);const l=p(t,["config"]);return l!=null&&h(n,["config"],K1(e,l,n)),n}function J1(e,t){const n={},r=p(t,["model"]);r!=null&&h(n,["_url","model"],_t(e,r));const i=p(t,["prompt"]);i!=null&&h(n,["instances[0]","prompt"],i);const l=p(t,["config"]);return l!=null&&h(n,["config"],Y1(e,l,n)),n}function X1(e,t){const n={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function Z1(e,t,n){const r={},i=p(t,["systemInstruction"]);n!==void 0&&i!=null&&h(n,["systemInstruction"],cr(e,Ft(e,i)));const l=p(t,["tools"]);n!==void 0&&l!=null&&(Array.isArray(l)?h(n,["tools"],l.map(s=>$u(e,s))):h(n,["tools"],l));const o=p(t,["generationConfig"]);return n!==void 0&&o!=null&&h(n,["generationConfig"],o),r}function ev(e,t){const n={},r=p(t,["model"]);r!=null&&h(n,["_url","model"],_t(e,r));const i=p(t,["contents"]);i!=null&&(Array.isArray(i)?h(n,["contents"],$e(e,$e(e,i).map(o=>rl(e,o)))):h(n,["contents"],$e(e,i)));const l=p(t,["config"]);return l!=null&&h(n,["config"],X1(e,l)),n}function tv(e,t){const n={},r=p(t,["model"]);r!=null&&h(n,["_url","model"],_t(e,r));const i=p(t,["contents"]);i!=null&&(Array.isArray(i)?h(n,["contents"],$e(e,$e(e,i).map(o=>cr(e,o)))):h(n,["contents"],$e(e,i)));const l=p(t,["config"]);return l!=null&&h(n,["config"],Z1(e,l,n)),n}function nv(e,t){const n={},r=p(t,["model"]);if(r!=null&&h(n,["_url","model"],_t(e,r)),p(t,["contents"])!==void 0)throw new Error("contents parameter is not supported in Gemini API.");const i=p(t,["config"]);return i!=null&&h(n,["config"],i),n}function rv(e,t){const n={},r=p(t,["model"]);r!=null&&h(n,["_url","model"],_t(e,r));const i=p(t,["contents"]);i!=null&&(Array.isArray(i)?h(n,["contents"],$e(e,$e(e,i).map(o=>cr(e,o)))):h(n,["contents"],$e(e,i)));const l=p(t,["config"]);return l!=null&&h(n,["config"],l),n}function iv(e,t){const n={},r=p(t,["thought"]);r!=null&&h(n,["thought"],r);const i=p(t,["codeExecutionResult"]);i!=null&&h(n,["codeExecutionResult"],i);const l=p(t,["executableCode"]);l!=null&&h(n,["executableCode"],l);const o=p(t,["fileData"]);o!=null&&h(n,["fileData"],o);const s=p(t,["functionCall"]);s!=null&&h(n,["functionCall"],s);const u=p(t,["functionResponse"]);u!=null&&h(n,["functionResponse"],u);const c=p(t,["inlineData"]);c!=null&&h(n,["inlineData"],c);const d=p(t,["text"]);return d!=null&&h(n,["text"],d),n}function lv(e,t){const n={},r=p(t,["videoMetadata"]);r!=null&&h(n,["videoMetadata"],r);const i=p(t,["thought"]);i!=null&&h(n,["thought"],i);const l=p(t,["codeExecutionResult"]);l!=null&&h(n,["codeExecutionResult"],l);const o=p(t,["executableCode"]);o!=null&&h(n,["executableCode"],o);const s=p(t,["fileData"]);s!=null&&h(n,["fileData"],s);const u=p(t,["functionCall"]);u!=null&&h(n,["functionCall"],u);const c=p(t,["functionResponse"]);c!=null&&h(n,["functionResponse"],c);const d=p(t,["inlineData"]);d!=null&&h(n,["inlineData"],d);const f=p(t,["text"]);return f!=null&&h(n,["text"],f),n}function qm(e,t){const n={},r=p(t,["parts"]);r!=null&&(Array.isArray(r)?h(n,["parts"],r.map(l=>iv(e,l))):h(n,["parts"],r));const i=p(t,["role"]);return i!=null&&h(n,["role"],i),n}function Gm(e,t){const n={},r=p(t,["parts"]);r!=null&&(Array.isArray(r)?h(n,["parts"],r.map(l=>lv(e,l))):h(n,["parts"],r));const i=p(t,["role"]);return i!=null&&h(n,["role"],i),n}function ov(e,t){const n={},r=p(t,["citationSources"]);return r!=null&&h(n,["citations"],r),n}function sv(e,t){const n={},r=p(t,["citations"]);return r!=null&&h(n,["citations"],r),n}function av(e,t){const n={},r=p(t,["content"]);r!=null&&h(n,["content"],qm(e,r));const i=p(t,["citationMetadata"]);i!=null&&h(n,["citationMetadata"],ov(e,i));const l=p(t,["tokenCount"]);l!=null&&h(n,["tokenCount"],l);const o=p(t,["avgLogprobs"]);o!=null&&h(n,["avgLogprobs"],o);const s=p(t,["finishReason"]);s!=null&&h(n,["finishReason"],s);const u=p(t,["groundingMetadata"]);u!=null&&h(n,["groundingMetadata"],u);const c=p(t,["index"]);c!=null&&h(n,["index"],c);const d=p(t,["logprobsResult"]);d!=null&&h(n,["logprobsResult"],d);const f=p(t,["safetyRatings"]);return f!=null&&h(n,["safetyRatings"],f),n}function uv(e,t){const n={},r=p(t,["content"]);r!=null&&h(n,["content"],Gm(e,r));const i=p(t,["citationMetadata"]);i!=null&&h(n,["citationMetadata"],sv(e,i));const l=p(t,["finishMessage"]);l!=null&&h(n,["finishMessage"],l);const o=p(t,["avgLogprobs"]);o!=null&&h(n,["avgLogprobs"],o);const s=p(t,["finishReason"]);s!=null&&h(n,["finishReason"],s);const u=p(t,["groundingMetadata"]);u!=null&&h(n,["groundingMetadata"],u);const c=p(t,["index"]);c!=null&&h(n,["index"],c);const d=p(t,["logprobsResult"]);d!=null&&h(n,["logprobsResult"],d);const f=p(t,["safetyRatings"]);return f!=null&&h(n,["safetyRatings"],f),n}function sf(e,t){const n={},r=p(t,["candidates"]);r!=null&&(Array.isArray(r)?h(n,["candidates"],r.map(s=>av(e,s))):h(n,["candidates"],r));const i=p(t,["modelVersion"]);i!=null&&h(n,["modelVersion"],i);const l=p(t,["promptFeedback"]);l!=null&&h(n,["promptFeedback"],l);const o=p(t,["usageMetadata"]);return o!=null&&h(n,["usageMetadata"],o),n}function af(e,t){const n={},r=p(t,["candidates"]);r!=null&&(Array.isArray(r)?h(n,["candidates"],r.map(c=>uv(e,c))):h(n,["candidates"],r));const i=p(t,["createTime"]);i!=null&&h(n,["createTime"],i);const l=p(t,["responseId"]);l!=null&&h(n,["responseId"],l);const o=p(t,["modelVersion"]);o!=null&&h(n,["modelVersion"],o);const s=p(t,["promptFeedback"]);s!=null&&h(n,["promptFeedback"],s);const u=p(t,["usageMetadata"]);return u!=null&&h(n,["usageMetadata"],u),n}function cv(e,t){const n={},r=p(t,["truncated"]);r!=null&&h(n,["truncated"],r);const i=p(t,["token_count"]);return i!=null&&h(n,["tokenCount"],i),n}function dv(e,t){const n={},r=p(t,["values"]);return r!=null&&h(n,["values"],r),n}function fv(e,t){const n={},r=p(t,["values"]);r!=null&&h(n,["values"],r);const i=p(t,["statistics"]);return i!=null&&h(n,["statistics"],cv(e,i)),n}function pv(e,t){return{}}function hv(e,t){const n={},r=p(t,["billableCharacterCount"]);return r!=null&&h(n,["billableCharacterCount"],r),n}function mv(e,t){const n={},r=p(t,["embeddings"]);return r!=null&&(Array.isArray(r)?h(n,["embeddings"],r.map(l=>dv(e,l))):h(n,["embeddings"],r)),p(t,["metadata"])!=null&&h(n,["metadata"],pv()),n}function gv(e,t){const n={},r=p(t,["predictions[]","embeddings"]);r!=null&&(Array.isArray(r)?h(n,["embeddings"],r.map(l=>fv(e,l))):h(n,["embeddings"],r));const i=p(t,["metadata"]);return i!=null&&h(n,["metadata"],hv(e,i)),n}function xv(e,t){const n={},r=p(t,["bytesBase64Encoded"]);r!=null&&h(n,["imageBytes"],Om(e,r));const i=p(t,["mimeType"]);return i!=null&&h(n,["mimeType"],i),n}function yv(e,t){const n={},r=p(t,["gcsUri"]);r!=null&&h(n,["gcsUri"],r);const i=p(t,["bytesBase64Encoded"]);i!=null&&h(n,["imageBytes"],Om(e,i));const l=p(t,["mimeType"]);return l!=null&&h(n,["mimeType"],l),n}function vv(e,t){const n={},r=p(t,["_self"]);r!=null&&h(n,["image"],xv(e,r));const i=p(t,["raiFilteredReason"]);return i!=null&&h(n,["raiFilteredReason"],i),n}function wv(e,t){const n={},r=p(t,["_self"]);r!=null&&h(n,["image"],yv(e,r));const i=p(t,["raiFilteredReason"]);i!=null&&h(n,["raiFilteredReason"],i);const l=p(t,["prompt"]);return l!=null&&h(n,["enhancedPrompt"],l),n}function kv(e,t){const n={},r=p(t,["predictions"]);return r!=null&&(Array.isArray(r)?h(n,["generatedImages"],r.map(i=>vv(e,i))):h(n,["generatedImages"],r)),n}function Cv(e,t){const n={},r=p(t,["predictions"]);return r!=null&&(Array.isArray(r)?h(n,["generatedImages"],r.map(i=>wv(e,i))):h(n,["generatedImages"],r)),n}function bv(e,t){const n={},r=p(t,["totalTokens"]);r!=null&&h(n,["totalTokens"],r);const i=p(t,["cachedContentTokenCount"]);return i!=null&&h(n,["cachedContentTokenCount"],i),n}function Sv(e,t){const n={},r=p(t,["totalTokens"]);return r!=null&&h(n,["totalTokens"],r),n}function Nv(e,t){const n={},r=p(t,["tokensInfo"]);return r!=null&&h(n,["tokensInfo"],r),n}function Ev(e,t){const n={},r=p(t,["tokensInfo"]);return r!=null&&h(n,["tokensInfo"],r),n}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tv="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";function Iv(e,t){const n={},r=p(t,["generationConfig"]);r!==void 0&&h(n,["generationConfig"],r);const i=p(t,["responseModalities"]);i!==void 0&&h(n,["generationConfig","responseModalities"],i);const l=p(t,["speechConfig"]);l!==void 0&&h(n,["generationConfig","speechConfig"],l);const o=p(t,["systemInstruction"]);o!=null&&h(n,["systemInstruction"],rl(e,o));const s=p(t,["tools"]);return s!=null&&Array.isArray(s)&&h(n,["tools"],s.map(u=>$m(e,u))),n}function Av(e,t){const n={},r=p(t,["generationConfig"]);r!==void 0&&h(n,["generationConfig"],r);const i=p(t,["responseModalities"]);i!==void 0?h(n,["generationConfig","responseModalities"],i):h(n,["generationConfig","responseModalities"],["AUDIO"]);const l=p(t,["speechConfig"]);l!==void 0&&h(n,["generationConfig","speechConfig"],l);const o=p(t,["systemInstruction"]);o!=null&&h(n,["systemInstruction"],cr(e,o));const s=p(t,["tools"]);return s!=null&&Array.isArray(s)&&h(n,["tools"],s.map(u=>$u(e,u))),n}function _v(e,t){const n={},r=p(t,["config"]);r!=null&&h(n,["setup"],Iv(e,r));const i=p(t,["model"]);return i!==void 0&&h(n,["setup","model"],i),n}function Mv(e,t){const n={},r=p(t,["config"]);r!=null&&h(n,["setup"],Av(e,r));const i=p(t,["model"]);return i!==void 0&&h(n,["setup","model"],i),n}function Pv(e,t){const n={},r=p(t,["modelTurn"]);r!=null&&h(n,["modelTurn"],qm(e,r));const i=p(t,["turnComplete"]);i!==void 0&&h(n,["turnComplete"],i);const l=p(t,["interrupted"]);return l!==void 0&&h(n,["interrupted"],l),n}function jv(e,t){const n={},r=p(t,["modelTurn"]);r!=null&&h(n,["modelTurn"],Gm(e,r));const i=p(t,["turnComplete"]);i!==void 0&&h(n,["turnComplete"],i);const l=p(t,["interrupted"]);return l!==void 0&&h(n,["interrupted"],l),n}function Rv(e,t){const n={},r=p(t,["id"]);r!==void 0&&h(n,["id"],r);const i=p(t,["args"]);i!==void 0&&h(n,["args"],i);const l=p(t,["name"]);return l!==void 0&&h(n,["name"],l),n}function Dv(e,t){const n={},r=p(t,["args"]);r!==void 0&&h(n,["args"],r);const i=p(t,["name"]);return i!==void 0&&h(n,["name"],i),n}function Lv(e,t){const n={},r=p(t,["functionCalls"]);return r!=null&&Array.isArray(r)&&h(n,["functionCalls"],r.map(i=>Rv(e,i))),n}function zv(e,t){const n={},r=p(t,["functionCalls"]);return r!=null&&Array.isArray(r)&&h(n,["functionCalls"],r.map(i=>Dv(e,i))),n}function Fv(e,t){const n={},r=p(t,["ids"]);return r!==void 0&&h(n,["ids"],r),n}function Ov(e,t){const n={},r=p(t,["ids"]);return r!==void 0&&h(n,["ids"],r),n}function Uv(e,t){const n={},r=p(t,["setupComplete"]);r!==void 0&&h(n,["setupComplete"],r);const i=p(t,["serverContent"]);i!=null&&h(n,["serverContent"],Pv(e,i));const l=p(t,["toolCall"]);l!=null&&h(n,["toolCall"],Lv(e,l));const o=p(t,["toolCallCancellation"]);return o!=null&&h(n,["toolCallCancellation"],Fv(e,o)),n}function Hv(e,t){const n={},r=p(t,["setupComplete"]);r!==void 0&&h(n,["setupComplete"],r);const i=p(t,["serverContent"]);i!=null&&h(n,["serverContent"],jv(e,i));const l=p(t,["toolCall"]);l!=null&&h(n,["toolCall"],zv(e,l));const o=p(t,["toolCallCancellation"]);return o!=null&&h(n,["toolCallCancellation"],Ov(e,o)),n}async function Vv(e,t,n){let r,i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),e.isVertexAI()?r=Hv(e,i):r=Uv(e,i),t(r)}class Bv{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("This SDK does not yet support the live API for **Google Vertex AI**.");const i=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion();let o;const s=Gv(this.apiClient.getDefaultHeaders());if(this.apiClient.isVertexAI())o=`${i}/ws/google.cloud.aiplatform.${l}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(s);else{const w=this.apiClient.getApiKey();o=`${i}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateContent?key=${w}`}let u=()=>{};const c=new Promise(w=>{u=w}),d=t.callbacks,f=function(){var w;(w=d==null?void 0:d.onopen)===null||w===void 0||w.call(d),u({})},g=this.apiClient,m={onopen:f,onmessage:w=>{Vv(g,d.onmessage,w)},onerror:(n=d==null?void 0:d.onerror)!==null&&n!==void 0?n:function(w){},onclose:(r=d==null?void 0:d.onclose)!==null&&r!==void 0?r:function(w){}},C=this.webSocketFactory.create(o,qv(s),m);C.connect(),await c;let k=_t(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&k.startsWith("publishers/")){const w=this.apiClient.getProject(),y=this.apiClient.getLocation();k=`projects/${w}/locations/${y}/`+k}let E={};const x={model:k,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?E=Mv(this.apiClient,x):E=_v(this.apiClient,x),C.send(JSON.stringify(E)),new $v(C,this.apiClient)}}class $v{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=$e(t,n.turns),t.isVertexAI()?r=r.map(i=>cr(t,i)):r=r.map(i=>rl(t,i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClientRealtimeInput(t,n){let r={};if(!("media"in n)||!n.media)throw new Error(`Failed to convert realtime input "media", type: '${typeof n.media}'`);return r={realtimeInput:{mediaChunks:[n.media]}},r}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)||(r=[n.functionResponses]),r.length===0)throw new Error("functionResponses is required.");for(const l of r){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!t.isVertexAI()&&!("id"in l))throw new Error(Tv)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t.turns==null&&t.turnComplete==null&&(t={turnComplete:!0});const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){if(t.media==null)throw new Error("Media is required.");const n=this.tLiveClientRealtimeInput(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function qv(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function Gv(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wv="Content-Type",Kv="User-Agent",Yv="x-goog-api-client",Qv="0.2.0",Jv=`google-genai-sdk/${Qv}`,Xv="v1beta1",Zv="v1beta",uf=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class ew extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ClientError"}}class cf extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ServerError"}}class tw{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Xv,i.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`,this.clientOptions.apiKey=void 0):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Zv,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol="wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n){const r=[this.getRequestUrlInternal(n)];return this.clientOptions.vertexai&&!t.startsWith("projects/")&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.constructUrl(t.path,n);if(t.queryParams)for(const[l,o]of Object.entries(t.queryParams))r.searchParams.append(l,String(o));let i={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=t.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n),this.unaryApiCall(r,i,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[i,l]of Object.entries(n))typeof l=="object"?r[i]=Object.assign(Object.assign({},r[i]),l):l!==void 0&&(r[i]=l);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.constructUrl(t.path,n);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let i={};return i.body=t.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n),this.streamApiCall(r,i,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n){if(n&&n.timeout&&n.timeout>0){const r=new AbortController,i=r.signal;setTimeout(()=>r.abort(),n.timeout),t.signal=i}return t.headers=await this.getHeadersInternal(n),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await df(i,t.toString()),new Hm(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await df(i,t.toString()),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){var n;return ko(this,arguments,function*(){const i=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),l=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";for(;;){const{done:s,value:u}=yield mt(i.read());if(s){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=l.decode(u);o+=c;let d=o.match(uf);for(;d;){const f=d[1];try{const g=JSON.parse(f);yield yield mt(g),o=o.slice(d[0].length),d=o.match(uf)}catch(g){throw new Error(`exception parsing stream chunk ${f}. ${g}`)}}}}finally{i.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=Jv+" "+this.clientOptions.userAgentExtra;return t[Kv]=n,t[Yv]=n,t[Wv]="application/json",t}async getHeadersInternal(t){const n=new Headers;if(t&&t.headers)for(const[r,i]of Object.entries(t.headers))n.append(r,i);return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(t,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const l=this.clientOptions.uploader,o=await l.stat(t);i.sizeBytes=o.size;const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const u=await this.fetchUploadUrl(i,n);return l.upload(t,u,this)}async fetchUploadUrl(t,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${t.mimeType}`}};const l={file:t},o=await this.request({path:Ie("upload/v1beta/files",l._url),body:JSON.stringify(l),httpMethod:"POST",httpOptions:i});if(!o||!(o!=null&&o.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const s=(r=o==null?void 0:o.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(s===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return s}}async function df(e,t,n){var r;if(e===void 0)throw new cf("response is undefined");if(!e.ok){const i=e.status,l=e.statusText;let o;!((r=e.headers.get("content-type"))===null||r===void 0)&&r.includes("application/json")?o=await e.json():o={error:{message:"exception parsing response",code:e.status,status:e.statusText}};const s=`got status: ${i} ${l}. ${JSON.stringify(o)}`;throw i>=400&&i<500?new ew(s):i>=500&&i<600?new cf(s):new Error(s)}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nw extends Vu{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Um(wo.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t,n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t,n).then(r=>_a(this.apiClient,r))}async listInternal(t){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI()){const s=lw(this.apiClient,t);return l=Ie("None",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(u=>u.json()),i.then(u=>{const c=mw(this.apiClient),d=new Zd;return Object.assign(d,c),d})}else{const s=iw(this.apiClient,t);return l=Ie("files",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(u=>u.json()),i.then(u=>{const c=hw(this.apiClient,u),d=new Zd;return Object.assign(d,c),d})}}async createInternal(t){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI()){const s=uw(this.apiClient,t);return l=Ie("",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(u=>u.json()),i.then(u=>{const c=xw(this.apiClient,u),d=new ef;return Object.assign(d,c),d})}else{const s=aw(this.apiClient,t);return l=Ie("upload/v1beta/files",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(u=>u.json()),i.then(u=>{const c=gw(this.apiClient,u),d=new ef;return Object.assign(d,c),d})}}async get(t){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI()){const s=dw(this.apiClient,t);return l=Ie("None",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(u=>u.json()),i.then(u=>pw(this.apiClient))}else{const s=cw(this.apiClient,t);return l=Ie("files/{file}",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(u=>u.json()),i.then(u=>_a(this.apiClient,u))}}}function rw(e,t,n){const r={},i=p(t,["pageSize"]);n!==void 0&&i!=null&&h(n,["_query","pageSize"],i);const l=p(t,["pageToken"]);return n!==void 0&&l!=null&&h(n,["_query","pageToken"],l),r}function iw(e,t){const n={},r=p(t,["config"]);return r!=null&&h(n,["config"],rw(e,r,n)),n}function lw(e,t){const n={};if(p(t,["config"])!==void 0)throw new Error("config parameter is not supported in Vertex AI.");return n}function ow(e,t){const n={},r=p(t,["details"]);r!=null&&h(n,["details"],r);const i=p(t,["message"]);i!=null&&h(n,["message"],i);const l=p(t,["code"]);return l!=null&&h(n,["code"],l),n}function sw(e,t){const n={},r=p(t,["name"]);r!=null&&h(n,["name"],r);const i=p(t,["displayName"]);i!=null&&h(n,["displayName"],i);const l=p(t,["mimeType"]);l!=null&&h(n,["mimeType"],l);const o=p(t,["sizeBytes"]);o!=null&&h(n,["sizeBytes"],o);const s=p(t,["createTime"]);s!=null&&h(n,["createTime"],s);const u=p(t,["expirationTime"]);u!=null&&h(n,["expirationTime"],u);const c=p(t,["updateTime"]);c!=null&&h(n,["updateTime"],c);const d=p(t,["sha256Hash"]);d!=null&&h(n,["sha256Hash"],d);const f=p(t,["uri"]);f!=null&&h(n,["uri"],f);const g=p(t,["downloadUri"]);g!=null&&h(n,["downloadUri"],g);const m=p(t,["state"]);m!=null&&h(n,["state"],m);const C=p(t,["source"]);C!=null&&h(n,["source"],C);const k=p(t,["videoMetadata"]);k!=null&&h(n,["videoMetadata"],k);const E=p(t,["error"]);return E!=null&&h(n,["error"],ow(e,E)),n}function aw(e,t){const n={},r=p(t,["file"]);r!=null&&h(n,["file"],sw(e,r));const i=p(t,["config"]);return i!=null&&h(n,["config"],i),n}function uw(e,t){const n={};if(p(t,["file"])!==void 0)throw new Error("file parameter is not supported in Vertex AI.");if(p(t,["config"])!==void 0)throw new Error("config parameter is not supported in Vertex AI.");return n}function cw(e,t){const n={},r=p(t,["name"]);r!=null&&h(n,["_url","file"],Ey(e,r));const i=p(t,["config"]);return i!=null&&h(n,["config"],i),n}function dw(e,t){const n={};if(p(t,["name"])!==void 0)throw new Error("name parameter is not supported in Vertex AI.");if(p(t,["config"])!==void 0)throw new Error("config parameter is not supported in Vertex AI.");return n}function fw(e,t){const n={},r=p(t,["details"]);r!=null&&h(n,["details"],r);const i=p(t,["message"]);i!=null&&h(n,["message"],i);const l=p(t,["code"]);return l!=null&&h(n,["code"],l),n}function _a(e,t){const n={},r=p(t,["name"]);r!=null&&h(n,["name"],r);const i=p(t,["displayName"]);i!=null&&h(n,["displayName"],i);const l=p(t,["mimeType"]);l!=null&&h(n,["mimeType"],l);const o=p(t,["sizeBytes"]);o!=null&&h(n,["sizeBytes"],o);const s=p(t,["createTime"]);s!=null&&h(n,["createTime"],s);const u=p(t,["expirationTime"]);u!=null&&h(n,["expirationTime"],u);const c=p(t,["updateTime"]);c!=null&&h(n,["updateTime"],c);const d=p(t,["sha256Hash"]);d!=null&&h(n,["sha256Hash"],d);const f=p(t,["uri"]);f!=null&&h(n,["uri"],f);const g=p(t,["downloadUri"]);g!=null&&h(n,["downloadUri"],g);const m=p(t,["state"]);m!=null&&h(n,["state"],m);const C=p(t,["source"]);C!=null&&h(n,["source"],C);const k=p(t,["videoMetadata"]);k!=null&&h(n,["videoMetadata"],k);const E=p(t,["error"]);return E!=null&&h(n,["error"],fw(e,E)),n}function pw(e,t){return{}}function hw(e,t){const n={},r=p(t,["nextPageToken"]);r!=null&&h(n,["nextPageToken"],r);const i=p(t,["files"]);return i!=null&&(Array.isArray(i)?h(n,["files"],i.map(l=>_a(e,l))):h(n,["files"],i)),n}function mw(e,t){return{}}function gw(e,t){const n={},r=p(t,["httpHeaders"]);return r!=null&&h(n,["httpHeaders"],r),n}function xw(e,t){const n={},r=p(t,["httpHeaders"]);return r!=null&&h(n,["httpHeaders"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ff(){return new Error(`This feature requires the web or Node specific @google/genai implementation, you can fix this by either:

*Enabling conditional exports for your project [recommended]*

*Using a platform specific import* - Make sure your code imports either '@google/genai/web' or '@google/genai/node' instead of '@google/genai'.
`)}const yw=1024*1024*8;class vw{async upload(t,n,r){throw ff()}async stat(t){throw ff()}async uploadBlob(t,n,r){var i,l;let o=0,s=0,u=new Hm(new Response),c="upload";for(o=t.size;s<o;){const f=Math.min(yw,o-s),g=t.slice(s,s+f);if(s+f>=o&&(c+=", finalize"),u=await r.request({path:"",body:g,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:n,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(f)}}}),s+=f,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i["x-goog-upload-status"])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const d=await(u==null?void 0:u.json());if(((l=u==null?void 0:u.headers)===null||l===void 0?void 0:l["x-goog-upload-status"])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}}class ww{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await new vw().uploadBlob(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return{size:t.size,type:t.type}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kw{create(t,n,r){return new Cw(t,n,r)}}class Cw{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pf="x-goog-api-key";class bw{constructor(t){this.apiKey=t}async addAuthHeaders(t){t.get(pf)===null&&t.append(pf,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Sw="gl-node/";class Vo{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey,this.apiVersion=t.apiVersion;const r=new bw(this.apiKey);this.apiClient=new tw({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:Sw+"web",uploader:new ww}),this.models=new g1(this.apiClient),this.live=new Bv(this.apiClient,r,new kw),this.chats=new h1(this.models,this.apiClient),this.caches=new Ty(this.apiClient),this.files=new nw(this.apiClient)}}const Nw={ru:{fixTypos:`
    .
 :
1.    .     .
2.     (    ).
3.    .
4.    -    .
`,finalize:`
  .     ,   ,      .
 :
1.   .            .     .
2.         (, ).
3.   (,   ..):   -   .          (, ,  ).
4.     (***)   .    .
5.      .
6.    .
`,combined:`
   .
:       .   (*).
:      .     ,   .
   .
`,system:" .",enhance:`
  ,  .
 :
1.   .    .
2.      .
3.       .
   .
`,transcribe:`
 :     .
  (   ):
1.    (, 00:00:00 --> 00:00:05).
2.    (: [], [], [], []).
3.     " ", " ", " ".
4.    .
5.       .
   .
`,ocr:`
 :     (OCR).
 :
1.   ,    .
2.     "  ", " ".
3.   ( ),   .
4.   ,   .
`},en:{fixTypos:`
Fix ONLY spelling typos.
STRICT RULES:
1. DO NOT change punctuation.
2. DO NOT change capitalization yet.
3. Return ONLY corrected text.
`,finalize:`
You are a proofreader. Fix grammar, spelling, punctuation, and remove profanity.
STRICT RULES:
1. PRESERVE ORIGINAL STRUCTURE. Do not rewrite commands or fragments into full sentences.
2. DO NOT add new words or change the meaning.
3. PROFANITY: Remove profane filler words. Replace meaningful profanity with mild euphemisms (heck, darn).
4. NEVER USE ASTERISKS (***) or masking symbols.
5. Remove accidental repetitions.
6. Return ONLY the corrected text.
`,combined:`
Fix errors and punctuation.
CENSORSHIP: Remove profanity or replace with mild euphemisms. NO ASTERISKS (*).
IMPORTANT: Preserve the original structure and style. Do not rewrite, only fix errors.
RETURN ONLY THE ONE BEST VERSION.
`,system:"You are a typo fixer.",enhance:`
Polish the text for clarity and grammar.
RULES:
1. Only ONE final version.
2. Do not alter technical meaning or commands.
3. Remove or soften profanity.
RETURN ONLY THE TEXT.
`,transcribe:`
Your task: Transcribe HUMAN SPEECH from audio.
STRICT PROHIBITIONS (NEVER DO THIS):
1. NO timecodes (e.g., 00:00:00 --> 00:00:05).
2. NO sound descriptions (e.g., [music], [laughter], [silence], [bell]).
3. NO meta-comments like "No speech", "End of recording".
4. Ignore stutters.
5. If there is no speech, return an empty string.
RETURN ONLY THE SPOKEN TEXT.
`,ocr:`
Your task: Extract text from the image (OCR).
STRICT RULES:
1. Return ONLY the text visible in the image.
2. DO NOT add descriptions like "The image says", "Here is the text".
3. Preserve line breaks where appropriate.
4. If there is no text, return an empty string.
`}},Ew={ru:{wizStep0Title:" ",wizStep0Subtitle:"  ?",btnSoundOn:" ",btnSoundOff:" ",wizStep1Title:" ",wizStep1Subtitle:"  -",wizStep1Desc:"FastType AI   ,        .",wizStep2Title:" ",wizStep2Desc:"  ,        .",wizStep3Title:"  ",wizStep3Desc:"   .  ,      .",wizDemoInput:"  ",wizDemoOutput:"!  ?",wizStep4Title:" ",wizStep4Desc:"     Google Gemini API.",welcomeTitle:"  ",welcomeSubtitle:"  .",welcomeDesc:"FastType AI          .  ,     .",welcomeDisclaimer:"    API  Google (Gemini).    ,           2 .          AI .",feature1Title:" ",feature1Desc:"  .",feature2Title:" ",feature2Desc:"   .",feature3Title:" ",feature3Desc:"Gemini 3 Flash  .",setupTitle:" ",setupDesc:"  API  Google Gemini   .",securityNote:"    .   :     ,      .",apiKeyLabel:" API KEY ",apiKeyTooltip:"       /.",linkGetKey:" ",linkTutorial:"",startBtn:"",btnHaveKey:" API Key",btnNoKey:"  / ",guideTitle:"  API ",guideStep0:"  Google AI Studio (   ).",guideStep1:"  'Create API Key'    .",guideStep2:" 'Create API key in new project'.    .",guideStep3:"  .",guideGoToGoogle:"  Google AI Studio",guideDone:" ",guideRepeat:" ",getKeyLink:"   Gemini",keyStorageInfo:"     .",placeholder:"  ... (  )",chars:".",btnRecord:" (Alt+R)",btnStop:" (Alt+R)",btnDevRecord:" (DEV)",btnEnhance:" ",btnUndo:"",btnRedo:"",statusTyping:"...",statusThinking:"...",statusDictCheck:"...",statusAiFixing:": ...",statusAiFinalizing:": ...",statusScriptFix:"-...",statusGrammar:" ...",statusCorrecting:"...",statusEnhancing:"...",statusRecording:"...",statusTranscribing:"...",statusDictation:" (  )",statusDone:"",statusIdle:"  ",statusPaused:" ",statusError:" ",btnPause:"",btnResume:"",nothingToImprove:" .   .",groupActive:" ",groupSilence:" ",groupModel:" ",settingsTitle:" ",settingsActive:" ",settingsMiniScripts:"-",settingsMiniScriptsDesc:"     ( )",settingsDevMode:" ",settingsDevModeDesc:"   (Visualizer Test)",settingsDelay:" (ms)",settingsDelayDesc:"    ",settingsFinalization:"  ()",howItWorksTitle:" ",howItWorksDesc:`1. : 
2. :  
3. :  ()
4. :  ()
5. :  
6. : `,changeKey:" API ",footer:"FastType AI",clipboardTitle:"  (Alt+W)",clipboardEmpty:" ",clipboardCopy:"",clipboardClear:"",clipboardEnable:".  ",clipboardSearch:"...",tooltipLang:" ",tooltipStats:" ",tooltipSettings:" (Alt+S)",tooltipMin:"",tooltipMax:"",tooltipClose:"",btnHeaderClear:" ",btnHeaderCopy:"",btnHeaderPaste:"",detailDictation:` : 
:  
:   `,detailTyping:` : 
:   
:  `,detailDictCheck:` : ...
 :  ()
 :  (  )`,detailAiFixing:` : 
: Gemini 
:  `,detailFinalizing:` : 
: 
: `,detailScriptFix:` -
:    
:  `,detailReset:"   (Reset)",detailPause:"/ ",tooltipPauseAction:" (Alt+A)",tooltipResumeAction:" (Alt+A)",tooltipPin:"   ",tooltipUnpin:" ",waveProcessing:"...",waveProcessed:"",visGeminiLabel:"GEMINI",visListening:"",visEditing:" / .",visAnalyzingListening:" / ",visAnalyzing:"",visDone:"",testMic:" ",stopTest:"",noiseLevel:" ",silenceZone:" ()",speechZone:" ()",micAccessError:"   ",audioModelTitle:" ",modelFlash:"Gemini 2.5 Flash ()",modelPro:"Gemini 2.5 Pro ()",settingsEconomy:" ",settingsEconomyDesc:"   .      .",btnHelp:"",btnHome:"",tooltipHelp:"  (F1)",tooltipHome:"   (Home)",historyTitle:"  (Alt+H)",historyEmpty:" ",historyRestore:"  ",historyCurrent:" ",tagRaw:" ",tagDictated:"",tagProcessed:"",tagFinalized:"",tagEnhanced:"",tagRawDictation:"  ()",tagAiCorrected:" ",helpModalTitle:" FastType AI",helpSection1:" ",helpDesc1:"    .    :  () ->  () ->  () ->   () ->  ().  = .",helpSection2:" ",helpDesc2:`Ctrl+Z - 
Alt+R - 
Alt+W - 
Alt+H - 
Alt+S - 
Alt+A - /`,helpSection3:"",helpDesc3:"  .    .",lockTitle:"  ",lockDesc:" .  PIN-.",lockPlaceholder:" PIN",lockBtn:"",lockCreateTitle:" ",lockCreateDesc:" PIN    .",lockCreatePlaceholder:" PIN",lockSetBtn:" PIN",lockError:" PIN-",lockRemove:" PIN-",lockChange:" PIN-",lockVerifyOld:"  PIN",lockNew:" PIN",lockSaved:"PIN- ",lockForgot:" PIN / ?",wipeTitle:"!  ",wipeDesc:`   PIN-   . 

     :
  
   
  

  .`,wipeConfirm:",    ",wipeCancel:"",btnCreatePin:" PIN-",btnBack:"",dictStatus:" ",dictRu:" RU",dictEn:" EN",dictWords:"",dictMissing:"",transTitle:"",transInput:" ",transOutput:"",transCopy:"",transClear:"",transLangRuEn:"RU  EN",transLangEnRu:"EN  RU",transPlaceholder:"   ...",tabEditor:"",tabAssist:"",tabTrans:"",uploadMedia:" /",uploadProcessing:"...",dropHere:"  ",dropHint:" (.mp3, .wav)  "},en:{wizStep0Title:"Sound Setup",wizStep0Subtitle:"Enable voice guidance?",btnSoundOn:"Enable Sound",btnSoundOff:"Mute",wizStep1Title:"Welcome",wizStep1Subtitle:"Your Intelligent AI Assistant",wizStep1Desc:"FastType AI speeds up typing, fixes errors on the fly, and helps formulate thoughts.",wizStep2Title:"System Language",wizStep2Desc:"Choose the primary language you write in and want to see the interface in.",wizStep3Title:"Magic in Action",wizStep3Desc:"Just type naturally. AI will understand, correct, and format the text for you.",wizDemoInput:"hello hwo are yuo",wizDemoOutput:"Hello! How are you?",wizStep4Title:"Final Step",wizStep4Desc:"The intelligence requires a Google Gemini API key.",welcomeTitle:"Your Intelligent",welcomeSubtitle:"Typing Assistant.",welcomeDesc:"FastType AI runs in the background. Just type, and we'll handle the rest via a smart pipeline.",welcomeDisclaimer:"The app requires a Google (Gemini) API key. It is free, takes only 2 minutes to set up once, and allows you to use this and many other AI apps.",feature1Title:"Instant Corrections",feature1Desc:"Automatically fixes typos during pauses.",feature2Title:"Style Enhancement",feature2Desc:"Turns drafts into professional text.",feature3Title:"Context Aware",feature3Desc:"Powered by Gemini 3 Flash.",setupTitle:"Access Setup",setupDesc:"Enter your Google Gemini API key to get started.",securityNote:"Developed with AI assistance. We guarantee privacy: data is not shared with third parties, and there are no hidden phishing or tracking mechanisms.",apiKeyLabel:"ENTER API KEY HERE",apiKeyTooltip:"Your key is stored locally only in your browser/app.",linkGetKey:"Get Key",linkTutorial:"Tutorial",startBtn:"Let's Go",btnHaveKey:"Enter API Key",btnNoKey:"No Key / Tutorial",guideTitle:"How to get an API Key",guideStep0:"Accept the Google AI Studio agreements (if it's your first time).",guideStep1:"Click 'Create API Key' in the top-left corner.",guideStep2:"Select 'Create API key in new project'. It will create a project automatically.",guideStep3:"Copy the generated key.",guideGoToGoogle:"Go to Google AI Studio",guideDone:"Enter Key",guideRepeat:"Repeat Tutorial",getKeyLink:"Get free Gemini API Key",keyStorageInfo:"Key is stored locally on your device.",placeholder:"Start typing here... (or drop file)",chars:"chars",btnRecord:"Dictate (Alt+R)",btnStop:"Stop (Alt+R)",btnDevRecord:"Dictate (DEV)",btnEnhance:"Improve Text",btnUndo:"Undo",btnRedo:"Redo",statusTyping:"Typing...",statusThinking:"Waiting...",statusDictCheck:"Dictionary...",statusAiFixing:"AI: Fixing...",statusAiFinalizing:"AI: Finalizing...",statusScriptFix:"Auto-Format...",statusGrammar:"AI Error Check...",statusCorrecting:"Fixing...",statusEnhancing:"Enhancing...",statusRecording:"Recording...",statusTranscribing:"Processing...",statusDictation:"Dictation (Speech to Text)",statusDone:"Done",statusIdle:"Ready",statusPaused:"Paused",statusError:"Network Error",btnPause:"Pause",btnResume:"Resume",nothingToImprove:"Text is perfect. No improvements needed.",groupActive:"Active Correction",groupSilence:"Silence Threshold",groupModel:"Processing Model",settingsTitle:"Analysis Settings",settingsActive:"Active Mode",settingsMiniScripts:"Mini-Scripts",settingsMiniScriptsDesc:"Instant regex fixes for spacing and case (No AI)",settingsDevMode:"Developer Mode",settingsDevModeDesc:"Enables test buttons (Visualizer Test)",settingsDelay:"Delay (ms)",settingsDelayDesc:"Wait time before processing",settingsFinalization:"Idle Finalization (sec)",howItWorksTitle:"COLOR LEGEND",howItWorksDesc:`1. Grey: Input
2. Yellow: Checking
3. Red: Dict Error
4. Blue: Verified (OK)
5. Purple: AI Fixed
6. Green: Final
7. Orange: Dictation`,changeKey:"Change API Key",footer:"FastType AI",clipboardTitle:"Clipboard History (Alt+W)",clipboardEmpty:"History is empty",clipboardCopy:"Copy",clipboardClear:"Clear All",clipboardEnable:"Enable History",clipboardSearch:"Search...",tooltipLang:"Switch Language",tooltipStats:"Corrections made",tooltipSettings:"Settings (Alt+S)",tooltipMin:"Minimize",tooltipMax:"Maximize",tooltipClose:"Close",btnHeaderClear:"Clear All",btnHeaderCopy:"Copy All",btnHeaderPaste:"Paste",detailDictation:` COLOR: Orange
ACTION: Voice Recording
RESULT: Audio to Text`,detailTyping:` COLOR: Grey
ACTION: Keyboard Input
RESULT: Raw Text`,detailDictCheck:` Yellow: Checking...
 Blue: Found (OK)
 Red: Error (Not in DB)`,detailAiFixing:` COLOR: Purple
ACTION: Gemini Fixing
RESULT: Clean Text`,detailFinalizing:` COLOR: Green
ACTION: Finalizing
RESULT: Punctuation`,detailScriptFix:` AUTO-FORMAT
ACTION: Spacing and capitalization
RESULT: Clean Format`,detailReset:"Reset Processor State",detailPause:"Pause/Resume Processing",tooltipPauseAction:"Pause Processing (Alt+A)",tooltipResumeAction:"Resume Processing (Alt+A)",tooltipPin:"Pin Always on Top",tooltipUnpin:"Unpin",waveProcessing:"Processing...",waveProcessed:"Processed",visGeminiLabel:"GEMINI",visListening:"LISTENING",visEditing:"LISTENING / EDIT",visAnalyzingListening:"LISTENING / ANALYZE",visAnalyzing:"ANALYZING",visDone:"DONE",testMic:"Test Microphone",stopTest:"Stop",noiseLevel:"Noise Level",silenceZone:"Silence (Ignored)",speechZone:"Speech (Recorded)",micAccessError:"Microphone access denied",audioModelTitle:"Audio Model",modelFlash:"Gemini 2.5 Flash (Fast)",modelPro:"Gemini 2.5 Pro (Smart)",settingsEconomy:"Traffic Saver",settingsEconomyDesc:"Checks local dictionary first.",btnHelp:"Help",btnHome:"Home",tooltipHelp:"Quick Help (F1)",tooltipHome:"Return to Welcome (Home)",historyTitle:"Version History (Alt+H)",historyEmpty:"History is empty",historyRestore:"Restore this version",historyCurrent:"Current Version",tagRaw:"Raw Input",tagDictated:"Dictated",tagProcessed:"Edited",tagFinalized:"Final",tagEnhanced:"Enhanced",tagRawDictation:"Raw Dictation",tagAiCorrected:"AI Corrected",helpModalTitle:"FastType AI Help",helpSection1:"Core Features",helpDesc1:"Pipeline: Checking (Yellow) -> Error (Red) -> Verified (Blue) -> AI Fixed (Purple) -> Final (Green). Orange = Dictation.",helpSection2:"Shortcuts",helpDesc2:`Ctrl+Z - Undo
Alt+R - Record
Alt+W - Clipboard
Alt+H - History
Alt+S - Settings
Alt+A - Pause/Resume`,helpSection3:"Microphone",helpDesc3:"Click and speak. AI automatically filters silence.",lockTitle:"System Login",lockDesc:"Application is locked. Enter PIN to continue.",lockPlaceholder:"Enter PIN",lockBtn:"Unlock",lockCreateTitle:"App Protection",lockCreateDesc:"Set a PIN code to protect access.",lockCreatePlaceholder:"Create a PIN",lockSetBtn:"Save PIN",lockError:"Invalid PIN code",lockRemove:"Remove PIN",lockChange:"Change PIN",lockVerifyOld:"Enter current PIN",lockNew:"New PIN",lockSaved:"PIN code set",lockForgot:"Forgot PIN / Reset?",wipeTitle:"WARNING! FULL RESET",wipeDesc:`This action will remove the PIN code and unlock access. 

 ALL DATA WILL BE DELETED:
 Text History
 Clipboard Content
 Personal Settings

This action cannot be undone.`,wipeConfirm:"Yes, wipe data and unlock",wipeCancel:"Cancel",btnCreatePin:"Create PIN Code",btnBack:"Back",dictStatus:"Dictionary Check",dictRu:"RU Database",dictEn:"EN Database",dictWords:"",dictMissing:"",transTitle:"Translator",transInput:"Source Text",transOutput:"Translation",transCopy:"Copy",transClear:"Clear",transLangRuEn:"RU  EN",transLangEnRu:"EN  RU",transPlaceholder:"Enter text to translate...",tabEditor:"Editor",tabAssist:"Assistant",tabTrans:"Translator",uploadMedia:"Upload Audio/Image",uploadProcessing:"Processing...",dropHere:"Drop file here",dropHint:"Audio (.mp3, .wav) or Images"}},dt=e=>Ew[e],Zr=e=>Nw[e],hf={ru:["","","","","","","","","","","","","","","","","","-","-","-","","","",""," "," "," ","",""],en:["ding","beep","click","clack","thump","noise","silence","sound","music","applause","laughter","sigh","cough","squeak","knock","tap","m","m-m","uh","uh-uh","hm","hmm","subtitles","transcription","to be continued","end of recording","beep","boop"]},mf={ru:["","","-","",""," ","",""," "," ","","","","","","","",""],en:["um","umm","uh","er","ah","like","you know","sort of","kind of","basically","literally","actually","so","mean","right","okay","well","hmm","huh"]},Wm=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),Tw=(e,t)=>{if(!e)return"";let n=e;n=n.replace(/\d{2}:\d{2}:\d{2}([.,]\d{3})?(\s*-->\s*\d{2}:\d{2}:\d{2}([.,]\d{3})?)?/g,""),n=n.replace(/\d{2}:\d{2}/g,""),n=n.replace(/\[.*?\]/g," "),n=n.replace(/\((||||music|sound|silence|laughter|applause|).*?\)/gi," ");const r=t==="ru"?hf.ru:hf.en,i=n.trim().toLowerCase().replace(/[.,!?;:]/g,"");if(r.includes(i))return"";r.forEach(o=>{const s=new RegExp(`(^|[^a-zA-Z--])${Wm(o)}($|[^a-zA-Z--])`,"gi");n=n.replace(s,"$1$2").replace(/\s+/g," ")});const l=t==="ru"?/(^|\s)([^])(\s|$)/gi:/(^|\s)([^ai])(\s|$)/gi;return n=n.replace(l," "),n.replace(/\s+/g," ").trim()},qu=(e,t)=>{if(!e)return"";let n=e;return(t==="ru"?mf.ru:mf.en).forEach(i=>{const l=new RegExp(`(^|[^a-zA-Z--])${Wm(i)}($|[^a-zA-Z--])`,"gi");n=n.replace(l,"$1$2")}),n.replace(/\s+/g," ").trim()},il=e=>{if(!e)return"";let t=e.split(`
`);t=t.filter(r=>{const i=r.trim();return!(/^[\*\-]\s/.test(i)||/^(here is|sure|||| |option).*?[:\n]/i.test(i))}),t.length===0&&(t=e.split(`
`).map(r=>r.replace(/^\s*[\*\-]\s/,"")));let n=t.join(" ").trim();return n=n.replace(/\([a-zA-Z\s\d]+\)/g,""),n=n.replace(/\b\w+=\w+\b/g,""),n=n.replace(/^Wait,.*?:/i,""),n=n.replace(/^(Here is|Sure|Okay|||| ).*?[:\n]/i,""),n=n.replace(/\s+/g," ").trim(),n},gf=e=>{if(!e)return"";let t=e.replace(/([.,:;])([a-zA-Z--])/g,"$1 $2");return t=t.replace(/([?!])([a-zA-Z--0-9])/g,"$1 $2"),t},xf=e=>e?e.replace(/\s+([.,!?:;])/g,"$1"):"";let Mt=null;const yf=e=>{e&&(Mt=new Vo({apiKey:e}))},Iw=async(e,t)=>{var r;if(!e||e.trim().length===0||!Mt)return e;const n=Zr(t);try{let l=((r=(await Mt.models.generateContent({model:"gemini-3-flash-preview",contents:e,config:{systemInstruction:n.fixTypos,temperature:.2,maxOutputTokens:2048,thinkingConfig:{thinkingBudget:0}}})).text)==null?void 0:r.trim())||e;return l=il(l),l}catch(i){return console.error("Gemini Typo Fix Error:",i),e}},Aw=async(e,t)=>{var r;if(!e||e.trim().length===0||!Mt)return e;const n=Zr(t);try{let l=((r=(await Mt.models.generateContent({model:"gemini-3-flash-preview",contents:e,config:{systemInstruction:n.finalize,temperature:.1,maxOutputTokens:8192,thinkingConfig:{thinkingBudget:0}}})).text)==null?void 0:r.trim())||e;return l=qu(l,t),l=il(l),l}catch(i){return console.error("Gemini Finalize Error:",i),e}},_w=async(e,t)=>{var r;if(!e||e.trim().length===0||!Mt)return e;const n=Zr(t);try{let l=((r=(await Mt.models.generateContent({model:"gemini-3-flash-preview",contents:e,config:{systemInstruction:n.combined,temperature:.1,maxOutputTokens:8192,thinkingConfig:{thinkingBudget:0}}})).text)==null?void 0:r.trim())||e;return l=qu(l,t),l=il(l),l}catch(i){return console.error("Gemini Combined Fix Error:",i),e}},Mw=async(e,t)=>{if(!e||e.trim().length===0||!Mt)return e;const n=Zr(t);try{let i=(await Mt.models.generateContent({model:"gemini-3-flash-preview",contents:e,config:{systemInstruction:n.enhance,temperature:.1,maxOutputTokens:8192,thinkingConfig:{thinkingBudget:0}}})).text||e;return i=qu(i,t),i=il(i),i}catch(r){return console.error("Gemini Enhancement Error:",r),e}},Pw=e=>{if(!e||e.length<10)return!1;if(e.toLowerCase().split(",  ").length>3)return!0;const r=e.split(/[.!?]\s+/);return r.length>3&&new Set(r.map(l=>l.trim().toLowerCase())).size<r.length/2},vf=async(e,t,n,r="gemini-2.5-flash")=>{if(!Mt)throw new Error("API Key not set");const i=Zr(n);try{if(!e||e.length<100)return console.warn("Audio chunk too small, skipping."),"";console.log(`Sending to Gemini [${r}]: ${t}, size: ${Math.round(e.length/1024)}KB`);let o=(await Mt.models.generateContent({model:r,contents:{parts:[{inlineData:{mimeType:t,data:e}}]},config:{systemInstruction:i.transcribe,temperature:.1}})).text||"";if(console.log("Raw Transcription:",o),o=Tw(o,n),!o)return"";const s=o.toLowerCase().trim();return s.includes("  ")||s.includes("expert transcriber")||s.startsWith(" , ")||Pw(o)?"":o}catch(l){return console.error("Gemini Transcription Error:",l),""}},jw=async(e,t,n)=>{if(!Mt)throw new Error("API Key not set");const r=Zr(n);try{console.log(`Sending Image to Gemini [OCR]: ${t}, size: ${Math.round(e.length/1024)}KB`);let l=(await Mt.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[{inlineData:{mimeType:t,data:e}}]},config:{systemInstruction:r.ocr,temperature:.1}})).text||"";return l=il(l),l}catch(i){return console.error("Gemini OCR Error:",i),""}},wf="fasttype_editor_state_v2",Rw=()=>{const t=(()=>{try{const L=localStorage.getItem(wf);if(L){const _=JSON.parse(L);return{text:_.text||"",committedLength:_.committedLength||0,correctedLength:_.correctedLength||_.processedLength||0,checkedLength:_.checkedLength||0,history:_.history||[],historyIndex:_.historyIndex||0,finalizedSentences:_.finalizedSentences||[],aiFixedSegments:_.aiFixedSegments||[],dictatedSegments:_.dictatedSegments||[],unknownSegments:_.unknownSegments||[]}}}catch(L){console.error("Failed to load editor state",L)}return null})(),[n,r]=N.useState((t==null?void 0:t.text)||""),[i,l]=N.useState((t==null?void 0:t.committedLength)||0),[o,s]=N.useState((t==null?void 0:t.correctedLength)||0),[u,c]=N.useState((t==null?void 0:t.checkedLength)||0),[d,f]=N.useState(0),[g,m]=N.useState(Date.now()),[C,k]=N.useState(new Set((t==null?void 0:t.aiFixedSegments)||[])),[E,x]=N.useState(new Set((t==null?void 0:t.dictatedSegments)||[])),[w,y]=N.useState(new Set((t==null?void 0:t.unknownSegments)||[])),[I,P]=N.useState(new Set((t==null?void 0:t.finalizedSentences)||[])),[b,T]=N.useState(t&&t.history&&t.history.length>0?t.history:[{id:"init",text:"",committedLength:0,correctedLength:0,processedLength:0,checkedLength:0,timestamp:Date.now(),tags:[],finalizedSentences:[],aiFixedSegments:[],dictatedSegments:[],unknownSegments:[]}]),[A,O]=N.useState((t==null?void 0:t.historyIndex)||0),j=N.useRef(!1);N.useEffect(()=>{const L={text:n,committedLength:i,correctedLength:o,checkedLength:u,history:b,historyIndex:A,finalizedSentences:Array.from(I),aiFixedSegments:Array.from(C),dictatedSegments:Array.from(E),unknownSegments:Array.from(w)};localStorage.setItem(wf,JSON.stringify(L))},[n,i,o,u,b,A,I,C,E,w]),N.useEffect(()=>{O(L=>Math.min(L,b.length-1))},[b.length]);const D=N.useCallback(L=>{const _=L.trim();_.length>0&&P(v=>{const F=new Set(v);return F.add(_),F})},[]),M=N.useCallback(L=>{const _=L.trim();_.length>0&&k(v=>{const F=new Set(v);return F.add(_),F})},[]),H=N.useCallback(L=>{const _=L.trim();_.length>0&&x(v=>{const F=new Set(v);return F.add(_),F})},[]),$=N.useCallback(L=>{L.length>0&&y(_=>{const v=new Set(_);return L.forEach(F=>v.add(F.toLowerCase())),v})},[]),ee=N.useCallback(L=>{if(j.current||L.length===0)return;let _=b.slice(0,A+1),v=!1;for(const F of L){const J=_[_.length-1];!F.tags.includes("raw_dictation")&&J&&J.text===F.text&&J.correctedLength===F.correctedLength&&(!F.tags.length||JSON.stringify(J.tags)===JSON.stringify(F.tags))||(_.push({id:Math.random().toString(36).substring(2,9),text:F.text,committedLength:F.committedLength,correctedLength:F.correctedLength,processedLength:F.correctedLength,checkedLength:F.checkedLength??Math.max(F.correctedLength,u),timestamp:Date.now(),tags:F.tags,finalizedSentences:Array.from(I),aiFixedSegments:Array.from(C),dictatedSegments:Array.from(E),unknownSegments:Array.from(w)}),v=!0)}v&&(_.length>50&&(_=_.slice(_.length-50)),T(_),O(_.length-1),m(Date.now()))},[b,A,I,C,E,w,u]),fe=N.useCallback((L,_,v,F=[])=>{ee([{text:L,committedLength:_,correctedLength:v,tags:F}])},[ee]),ie=N.useCallback(()=>{if(A>0){j.current=!0;const L=b[A-1];return r(L.text),l(L.committedLength),s(L.correctedLength??L.processedLength),c(L.checkedLength??L.correctedLength??L.processedLength),f(0),L.finalizedSentences&&P(new Set(L.finalizedSentences)),L.aiFixedSegments&&k(new Set(L.aiFixedSegments)),L.dictatedSegments&&x(new Set(L.dictatedSegments)),L.unknownSegments&&y(new Set(L.unknownSegments)),O(A-1),setTimeout(()=>{j.current=!1},50),!0}return!1},[b,A]),z=N.useCallback(()=>{if(A<b.length-1){j.current=!0;const L=b[A+1];return r(L.text),l(L.committedLength),s(L.correctedLength??L.processedLength),c(L.checkedLength??L.correctedLength??L.processedLength),f(0),L.finalizedSentences&&P(new Set(L.finalizedSentences)),L.aiFixedSegments&&k(new Set(L.aiFixedSegments)),L.dictatedSegments&&x(new Set(L.dictatedSegments)),L.unknownSegments&&y(new Set(L.unknownSegments)),O(A+1),setTimeout(()=>{j.current=!1},50),!0}return!1},[b,A]),Y=N.useCallback(L=>{if(L>=0&&L<b.length){j.current=!0;const _=b[L];return r(_.text),l(_.committedLength),s(_.correctedLength??_.processedLength),c(_.checkedLength??_.correctedLength??_.processedLength),f(0),_.finalizedSentences&&P(new Set(_.finalizedSentences)),_.aiFixedSegments&&k(new Set(_.aiFixedSegments)),_.dictatedSegments&&x(new Set(_.dictatedSegments)),_.unknownSegments&&y(new Set(_.unknownSegments)),O(L),setTimeout(()=>{j.current=!1},50),!0}return!1},[b]),S=N.useCallback(()=>{if(b.length===0)return;const _={...b[A],id:"reset_"+Date.now(),tags:["reset"]};T([_]),O(0),f(0),m(Date.now())},[b,A]);return{text:n,setText:r,committedLength:i,setCommittedLength:l,correctedLength:o,setCorrectedLength:s,checkedLength:u,setCheckedLength:c,checkingLength:d,setCheckingLength:f,finalizedSentences:I,addFinalizedSentence:D,aiFixedSegments:C,addAiFixedSegment:M,dictatedSegments:E,addDictatedSegment:H,unknownSegments:w,addUnknownSegments:$,saveCheckpoint:fe,saveCheckpoints:ee,undo:ie,redo:z,jumpTo:Y,clearHistory:S,canUndo:A>0,canRedo:A<b.length-1,isUndoing:j.current,history:b,historyIndex:A,lastUpdate:g}},Km=(e=25)=>{const[t,n]=N.useState(!1),[r,i]=N.useState(null),l=N.useRef(null),o=N.useRef(null),s=N.useRef(null),u=N.useRef(null),c=N.useRef(null),d=N.useRef([]),f=N.useRef(null),g=N.useRef(null),m=N.useRef(null),C=N.useRef(null),k=N.useRef(null),E=N.useRef(!1),x=N.useRef(0),w=1200,y=6e3;N.useEffect(()=>()=>{I()},[]);const I=()=>{k.current&&clearInterval(k.current),c.current&&c.current.state!=="inactive"&&c.current.stop(),f.current&&f.current.getTracks().forEach(j=>j.stop()),l.current&&l.current.close(),i(null)},P=j=>{let D=0;for(let M=0;M<j.length;M++){const H=(j[M]-128)/128;D+=H*H}return Math.sqrt(D/j.length)},b=async j=>{if(j.size!==0){m.current&&m.current("analyzing_listening");try{const D=new FileReader;D.onloadend=()=>{const M=D.result;if(M&&g.current){const H=M.split(",")[1],$=j.type||"audio/webm";console.log(`Sending audio chunk: ${Math.round(j.size/1024)}KB, MIME: ${$}`),g.current(H,$)}},D.readAsDataURL(j)}catch(D){console.error("Chunk processing failed",D)}}},T=j=>{let D;MediaRecorder.isTypeSupported("audio/webm;codecs=opus")?D={mimeType:"audio/webm;codecs=opus"}:MediaRecorder.isTypeSupported("audio/webm")?D={mimeType:"audio/webm"}:MediaRecorder.isTypeSupported("audio/mp4")&&(D={mimeType:"audio/mp4"});const M=new MediaRecorder(j,D);c.current=M,d.current=[],x.current=0,m.current&&m.current("listening"),M.ondataavailable=H=>{H.data.size>0&&d.current.push(H.data)},M.onstop=()=>{const H=M.mimeType||"audio/webm",$=new Blob(d.current,{type:H});d.current=[],b($)},M.start()},A=N.useCallback(async(j,D)=>{try{I(),g.current=j,m.current=D||null;const M=await navigator.mediaDevices.getUserMedia({audio:!0});f.current=M;const H=new(window.AudioContext||window.webkitAudioContext);l.current=H;const $=H.createAnalyser();$.fftSize=512,$.smoothingTimeConstant=.3,o.current=$;const ee=H.createMediaStreamSource(M);s.current=ee,ee.connect($);const fe=$.frequencyBinCount,ie=new Uint8Array(fe);u.current=ie;const z=new Uint8Array(fe);return T(M),n(!0),C.current=Date.now(),k.current=setInterval(()=>{if(!o.current||!c.current)return;o.current.getByteFrequencyData(ie),o.current.getByteTimeDomainData(z);const Y=P(z);Y>x.current&&(x.current=Y);const S=Math.max(.01,e/100*.15);if(Y>S)C.current=null,i(null);else if(C.current===null)C.current=Date.now();else{const _=Date.now()-C.current,v=Math.max(0,y-_),F=Math.ceil(v/1e3);if(F<=5&&F>0?i(J=>J!==F?F:J):F<=0&&i(0),_>y){O();return}_>w&&!E.current&&(E.current=!0,m.current&&m.current("editing"),c.current.state==="recording"&&c.current.stop(),f.current&&f.current.active&&T(f.current),setTimeout(()=>{E.current=!1},200))}},50),!0}catch(M){return console.error("Error accessing microphone:",M),!1}},[e]),O=N.useCallback(async()=>{console.log("Stopping recording..."),k.current&&clearInterval(k.current),i(null),c.current&&c.current.state==="recording"&&c.current.stop(),setTimeout(()=>{f.current&&(f.current.getTracks().forEach(j=>j.stop()),f.current=null),l.current&&(l.current.close(),l.current=null),n(!1)},200)},[]);return{isRecording:t,startRecording:A,stopRecording:O,visualizerDataRef:u,autoStopCountdown:r}},Ym=N.createContext(void 0),Dw=({children:e})=>{const[t,n]=N.useState([]),r=N.useCallback(l=>{n(o=>o.filter(s=>s.id!==l))},[]),i=N.useCallback((l,o,s=2e3)=>{const u=Math.random().toString(36).substring(2,9),c={id:u,message:l,type:o,duration:s};n(d=>[...d,c]),s>0&&setTimeout(()=>{r(u)},s)},[r]);return a.jsx(Ym.Provider,{value:{notifications:t,addNotification:i,removeNotification:r},children:e})},dr=()=>{const e=N.useContext(Ym);if(!e)throw new Error("useNotification must be used within a NotificationProvider");return e},Lw=({undo:e,redo:t,toggleRecording:n,toggleProcessing:r,onStatusChange:i,onPauseProcessing:l})=>{const o=N.useCallback(()=>{e()&&(i("paused"),l())},[e,i,l]),s=N.useCallback(()=>{t()&&(i("paused"),l())},[t,i,l]),u=N.useCallback(c=>{(c.metaKey||c.ctrlKey)&&c.key==="z"?(c.preventDefault(),c.shiftKey?s():o()):(c.metaKey||c.ctrlKey)&&c.key==="y"&&(c.preventDefault(),s())},[o,s]);return N.useEffect(()=>{const c=d=>{d.altKey&&d.code==="KeyR"&&(d.preventDefault(),n()),d.altKey&&d.code==="KeyA"&&(d.preventDefault(),r())};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[n,r]),{handleUndo:o,handleRedo:s,handleKeyDown:u}},gr=e=>{const t=[],n=/([^.!?]+[.!?]+(\s+|$))/g;let r,i=0;for(;(r=n.exec(e))!==null;){if(r.index>i){const l=e.slice(i,r.index);t.push({text:l,start:i,end:r.index,isSeparator:!0})}t.push({text:r[0],start:r.index,end:r.index+r[0].length,isSeparator:!1}),i=r.index+r[0].length}return i<e.length&&t.push({text:e.slice(i),start:i,end:e.length,isSeparator:!1}),t},An=e=>e.trim(),Qm=e=>{if(!e)return e;let t=e;return t=t.replace(/\s+([.,!?:;])/g,"$1"),t=t.replace(/([.,!?:;])([a-zA-Z--])/g,"$1 $2"),t=t.replace(/([.!?]\s+)([a-z-])/g,(n,r,i)=>r+i.toUpperCase()),t=t.replace(/[ \t]{2,}/g," "),t},zw=({textRef:e,committedLengthRef:t,correctedLengthRef:n,checkedLengthRef:r,checkingLengthRef:i,settingsRef:l,statusRef:o,language:s,setText:u,setCorrectedLength:c,setCommittedLength:d,setCheckedLength:f,setCheckingLength:g,finalizedSentences:m,addFinalizedSentence:C,addAiFixedSegment:k,addUnknownSegments:E,saveCheckpoint:x,saveCheckpoints:w,onStatsUpdate:y,onStatusChange:I,onAutoFormat:P,workerRef:b})=>{const T=N.useRef(!1),A=N.useRef(null),O=N.useRef(Date.now()),[j,D]=N.useState(null),M=async()=>{const _=e.current,v=l.current.enabled;let F=t.current;const J=_.slice(F);if(J.length>0&&v){const de=gr(J);let me=0;for(const xe of de){const be=An(xe.text);if(m.has(be))me=xe.end;else break}if(me>0){const xe=F+me;d(xe),c(Math.max(n.current,xe)),f(Math.max(r.current,xe)),g(Math.max(i.current,xe));return}}const V=t.current,U=n.current,le=r.current,te=_.slice(V),Z=gr(te);let q=te.length;for(const de of Z)if(m.has(An(de.text))){q=de.start;break}const B=V+q;if(l.current.miniScripts){const de=Qm(_);if(de!==_){P(de),I("script_fix");return}}if(v){const de=_.slice(V,B),me=de.match(/[.!?](\s|$)/g);if(me&&me.length>=1){const xe=gr(de);let be=0,ke=!1;for(const ce of xe)/[.!?](\s|$)/.test(ce.text)&&(be=ce.end,ke=!0);if(ke&&be>0){const ce=de.slice(0,be);await $(ce,V);return}}}if(v&&l.current.fixPunctuation){const de=Math.min(U,B);if(de>V){const me=_.slice(V,de),xe=Array.from(me.matchAll(/[.!?](\s|$)/g));if(xe.length>0){const ke=(xe[xe.length-1].index??0)+1,ce=me.slice(0,ke);if(ce.trim().length>1){await fe(ce,V);return}}}}const oe=Math.min(le,B);if(v&&l.current.fixTypos&&oe>U){const de=_.slice(U,oe);if(de.trim()){await ee(de,U);return}else{c(oe);return}}if(l.current.dictionaryCheck&&B>le){const de=_.slice(le,B);let me=0;const xe=de.split(/(\s+)/);let be=0;for(const ce of xe)if(me+=ce.length,ce.trim()&&be++,be>=3||/[.!?]/.test(ce))break;const ke=le+me>=_.length;if(me>0&&(be>=3||ke||/[.!?]/.test(de))){const ce=de.slice(0,me);await H(ce,le);return}}o.current!=="done"&&o.current!=="error"&&(v?o.current!=="idle"&&I("idle"):o.current!=="paused"&&I("paused"))},H=(_,v)=>new Promise(F=>{if(!b.current){F();return}I("dict_check");const J=_.length,V=v+J;g(V);const U=Z=>{const{type:q,unknownWords:B}=Z.data;if(q==="CHECK_RESULT"){if(te(),V>e.current.length){g(0),F();return}B&&B.length>0&&E(B),f(V),F()}},le=setTimeout(()=>{te(),f(V),F()},2e3),te=()=>{var Z;(Z=b.current)==null||Z.removeEventListener("message",U),clearTimeout(le)};b.current.addEventListener("message",U),b.current.postMessage({type:"CHECK_CHUNK",text:_,language:s})}),$=async(_,v)=>{var U;I("ai_finalizing"),D({start:v,end:v+_.length,type:"finalizing"});const F={text:e.current,committed:t.current,corrected:n.current},J=((U=_.match(/^\s*/))==null?void 0:U[0])||"",V=_.trim();try{const le=await _w(V,s);let te=J+le;if(te=gf(te),te=xf(te),/[.!?]$/.test(te)&&!/\s$/.test(te)){const q=e.current[v+_.length];q&&q!==" "&&(te+=" ")}if(te!==_){const Z=ie(v,v+_.length,te);if(!Z)return;y(1);const q=v+te.length;d(q),c(q),f(q),g(q),gr(te).forEach(oe=>{oe.isSeparator||C(oe.text)}),k(An(te)),w([{text:F.text,committedLength:F.committed,correctedLength:F.corrected,checkedLength:r.current,tags:["pre_ai"]},{text:Z,committedLength:q,correctedLength:q,checkedLength:q,tags:["finalized","ai_corrected","bulk"]}]),I("done")}else{if(e.current.length>=v+_.length){const Z=v+_.length;d(Z),c(Z),f(Z),g(Z),gr(_).forEach(B=>{B.isSeparator||C(B.text)})}I("idle")}}catch(le){console.error("Bulk finalize error",le),I("error")}finally{D(null)}},ee=async(_,v)=>{var le,te;I("ai_fixing"),D({start:v,end:v+_.length,type:"fixing"});const F={text:e.current,committed:t.current,corrected:n.current},J=((le=_.match(/^\s*/))==null?void 0:le[0])||"",V=((te=_.match(/\s*$/))==null?void 0:te[0])||"",U=_.trim();if(!U){c(v+_.length),D(null);return}try{const Z=await Iw(U,s),q=J+Z+V;if(q!==_){const B=ie(v,v+_.length,q);if(!B)return;y(1),k(An(q));const oe=v+q.length;c(oe),f(Math.max(r.current,oe)),w([{text:F.text,committedLength:F.committed,correctedLength:F.corrected,checkedLength:r.current,tags:["pre_ai"]},{text:B,committedLength:t.current,correctedLength:oe,checkedLength:Math.max(r.current,oe),tags:["processed","ai_corrected"]}])}else e.current.length>=v+_.length&&c(v+_.length)}catch{e.current.length>=v+_.length&&c(v+_.length)}finally{D(null)}},fe=async(_,v)=>{var U;I("ai_finalizing"),D({start:v,end:v+_.length,type:"finalizing"});const F={text:e.current,committed:t.current,corrected:n.current},J=((U=_.match(/^\s*/))==null?void 0:U[0])||"",V=_.trim();try{const le=await Aw(V,s);let te=J+le;if(te=gf(te),te=xf(te),/[.!?]$/.test(te)&&!/\s$/.test(te)){const q=e.current[v+_.length];q&&q!==" "&&(te+=" ")}if(te!==_){const Z=ie(v,v+_.length,te);if(!Z)return;y(1);const q=v+te.length;d(q);const B=Math.max(n.current,q);c(B),f(Math.max(r.current,q)),C(te),w([{text:F.text,committedLength:F.committed,correctedLength:F.corrected,checkedLength:r.current,tags:["pre_ai"]},{text:Z,committedLength:q,correctedLength:q,checkedLength:Math.max(r.current,q),tags:["finalized","ai_corrected"]}]),I("done")}else e.current.length>=v+_.length&&(d(v+_.length),C(_)),I("idle")}catch{e.current.length>=v+_.length&&d(v+_.length)}finally{D(null)}},ie=(_,v,F)=>{const J=e.current;if(_>J.length||v>J.length)return console.warn("Attempted replace out of bounds. Aborting."),null;const V=J.slice(0,_),U=J.slice(v),le=V+F+U;return u(le),le},z=N.useRef(M);N.useEffect(()=>{z.current=M});const Y=N.useCallback(async()=>{if(!(T.current||o.current==="recording"||Date.now()-O.current<l.current.debounceMs)){T.current=!0;try{z.current&&await z.current()}catch(F){console.error("Processor Cycle Error:",F),I("error"),setTimeout(()=>I("idle"),2e3)}finally{T.current=!1}}},[l,o,I]);N.useEffect(()=>(A.current=setInterval(Y,500),()=>{A.current&&clearInterval(A.current)}),[Y]);const S=N.useCallback(()=>{O.current=Date.now()},[]),L=N.useCallback(()=>{T.current=!1,D(null),I("idle")},[I]);return{notifyActivity:S,reset:L,processingOverlay:j}},Fw=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Ow=["the","be","to","of","and","a","in","that","have","i","it","for","not","on","with","he","as","you","do","at","this","but","his","by","from","they","we","say","her","she","or","an","will","my","one","all","would","there","their","what","so","up","out","if","about","who","get","which","go","me","when","make","can","like","time","no","just","him","know","take","people","into","year","your","good","some","could","them","see","other","than","then","now","look","only","come","its","over","think","also","back","after","use","two","how","our","work","first","well","way","even","new","want","because","any","these","give","day","most","us","hello","hi","ok","yes","thanks"],zr=new Set(Fw),er=new Set(Ow),ci=e=>e.toLowerCase().replace(/[^a-zA-Z--0-9]/g,"").trim(),Uw=()=>({ruCount:zr.size,enCount:er.size,ruLoaded:zr.size>200,enLoaded:er.size>200}),Hw=async()=>{console.log("Starting dictionary load...");try{try{const t=await fetch("./dictionaries/en/oxford-3000.json");if(t.ok){const n=await t.json();Array.isArray(n)?n.forEach(r=>{typeof r=="string"?er.add(ci(r)):r.word&&typeof r.word=="string"&&er.add(ci(r.word))}):typeof n=="object"&&Object.keys(n).forEach(r=>er.add(ci(r))),console.log(`Loaded English Dictionary: ${er.size} words`)}}catch(t){console.warn("Error parsing EN dictionary:",t)}try{const t=await fetch("./dictionaries/ru/dictionary.json");if(t.ok){const n=await t.json();if(Array.isArray(n)){n.forEach(r=>zr.add(ci(r))),console.log(` Loaded Optimized RU Dictionary: ${n.length} words`);return}}}catch{console.log("Optimized dictionary.json not found, falling back to CSVs...")}const e=["nouns.csv","adjectives.csv","verbs.csv","others.csv"];for(const t of e)try{const n=await fetch(`./dictionaries/ru/${t}`);if(!n.ok)continue;const i=(await n.text()).split(`
`);let l=0;for(const o of i){if(!o.trim())continue;const u=o.split(/[\t,;]/)[0];if(u&&u.length>1){const c=ci(u);c&&/[-]/i.test(c)&&(zr.add(c),l++)}}console.log(`Loaded RU file ${t}: added ${l} words`)}catch(n){console.warn(`Error loading RU file ${t}:`,n)}console.log(`Total RU Dictionary: ${zr.size} words`)}catch(e){console.error("Critical error loading dictionaries:",e)}},Vw=1500,Bw=1e3,$w=({settings:e,onStatsUpdate:t,language:n,status:r,onStatusChange:i,setIsGrammarChecking:l,onClipboardAction:o,resetSignal:s,onPauseProcessing:u,onToggleProcessing:c})=>{const{text:d,setText:f,committedLength:g,setCommittedLength:m,correctedLength:C,setCorrectedLength:k,checkedLength:E,setCheckedLength:x,checkingLength:w,setCheckingLength:y,finalizedSentences:I,addFinalizedSentence:P,aiFixedSegments:b,addAiFixedSegment:T,dictatedSegments:A,addDictatedSegment:O,unknownSegments:j,addUnknownSegments:D,saveCheckpoint:M,saveCheckpoints:H,undo:$,redo:ee,canUndo:fe,canRedo:ie,history:z,historyIndex:Y,jumpTo:S,lastUpdate:L,clearHistory:_}=Rw(),v=N.useRef(d),F=N.useRef(g),J=N.useRef(C),V=N.useRef(E),U=N.useRef(w),le=N.useRef(e),te=N.useRef(r),Z=N.useRef(null),q=N.useRef(null),B=N.useRef(null);N.useEffect(()=>{v.current=d},[d]),N.useEffect(()=>{F.current=g},[g]),N.useEffect(()=>{J.current=C},[C]),N.useEffect(()=>{V.current=E},[E]),N.useEffect(()=>{U.current=w},[w]),N.useEffect(()=>{le.current=e},[e]),N.useEffect(()=>{te.current=r},[r]),N.useEffect(()=>(B.current=new Worker(new URL(""+new URL("dictionary.worker-bxzOvmOe.js",import.meta.url).href,import.meta.url),{type:"module"}),B.current.postMessage({type:"SET_DICTIONARY",language:"ru",words:Array.from(zr)}),B.current.postMessage({type:"SET_DICTIONARY",language:"en",words:Array.from(er)}),()=>{var Se;(Se=B.current)==null||Se.terminate()}),[]);const{isRecording:oe,startRecording:de,stopRecording:me,visualizerDataRef:xe,autoStopCountdown:be}=Km(e.silenceThreshold),{addNotification:ke}=dr(),[ce,G]=N.useState("idle"),[ae,W]=N.useState(!1),[re,ve]=N.useState(!1),ge=N.useRef(null),R=N.useRef(null),K=N.useRef(0),se=N.useCallback(Se=>{const Pe=v.current;if(f(Se),Z.current&&clearTimeout(Z.current),q.current&&clearTimeout(q.current),Se.length===0){m(0),k(0),x(0),y(0),i(e.enabled?"idle":"paused"),M("",0,0,["raw"]);return}if(Math.abs(Se.length-Pe.length)>5){Math.min(V.current,Se.length);const Oe=Math.min(J.current,Se.length),vn=Math.min(F.current,Se.length);U.current>Se.length&&y(0),M(Se,vn,Oe,["raw"])}else q.current=setTimeout(()=>{const Oe=v.current;M(Oe,F.current,J.current,["raw"])},Bw);te.current!=="recording"&&te.current!=="ai_fixing"&&te.current!=="ai_finalizing"&&i("typing"),Z.current=setTimeout(()=>{te.current==="typing"&&i(e.enabled?"idle":"paused")},Vw);let Ce=0;for(;Ce<Pe.length&&Ce<Se.length&&Pe[Ce]===Se[Ce];)Ce++;Ce<V.current&&x(Ce),Ce<U.current&&y(Ce),Ce<J.current&&k(Ce),Ce<F.current&&m(Math.max(0,Ce))},[M,i,m,k,x,y,f,e.enabled]),pe=N.useCallback(Se=>{const Pe=ge.current;if(!Pe){se(Se);return}const Ce=Pe.selectionStart,vn=v.current.substring(0,Ce),Jt=Qm(vn).length;se(Se),requestAnimationFrame(()=>{ge.current&&ge.current.setSelectionRange(Jt,Jt)})},[se]),{notifyActivity:he,reset:Me,processingOverlay:Vt}=zw({textRef:v,committedLengthRef:F,correctedLengthRef:J,checkedLengthRef:V,checkingLengthRef:U,settingsRef:le,statusRef:te,language:n,setText:f,setCorrectedLength:k,setCommittedLength:m,setCheckedLength:x,setCheckingLength:y,finalizedSentences:I,addFinalizedSentence:P,addAiFixedSegment:T,addUnknownSegments:D,saveCheckpoint:M,saveCheckpoints:H,onStatsUpdate:t,onStatusChange:i,onAutoFormat:pe,workerRef:B}),{handleUndo:Ct,handleRedo:sn,handleKeyDown:an}=Lw({undo:$,redo:ee,toggleRecording:()=>fc(),toggleProcessing:c,onStatusChange:i,onPauseProcessing:u}),Xe=Se=>{R.current&&(R.current.scrollTop=Se.currentTarget.scrollTop)},Qt=Se=>{const Pe=Se.currentTarget,Ce=Pe.value.substring(Pe.selectionStart,Pe.selectionEnd);Ce&&o(Ce)},ft=N.useCallback(Se=>{S(Se)&&(i("paused"),u())},[S,i,u]);N.useEffect(()=>{s>0&&(Me(),i("idle"),G("idle"),W(!1),y(0))},[s,i,Me,y]),N.useEffect(()=>{if(!oe&&r==="recording"){if(re){ve(!1),i(e.enabled?"idle":"paused"),G("idle");return}K.current>0?i("transcribing"):i("idle"),G("idle")}},[oe,r,i,re,e.enabled]);const G0=async()=>{const Se=dt(n);if(te.current==="recording"||te.current==="enhancing"||!v.current.trim())return;if(F.current>=v.current.trim().length){ke(Se.nothingToImprove,"info");return}i("enhancing");const Pe=v.current;M(Pe,F.current,J.current,["pre_ai"]);try{const Ce=await Mw(Pe,n);if(Ce&&Ce!==Pe){f(Ce);const Oe=Ce.length;m(Oe),k(Oe),x(Oe),y(Oe),T(An(Ce)),M(Ce,Oe,Oe,["enhanced","ai_corrected"]),t(1)}else{ke(Se.nothingToImprove,"info");const Oe=Pe.length;m(Oe),k(Oe),x(Oe),y(Oe)}}catch(Ce){console.error("Enhance failed",Ce),ke(n==="ru"?" ":"Enhance failed","error")}finally{i("idle")}},W0=Se=>{se(Se.target.value),he()},K0=N.useCallback(Se=>{const Pe=new FileReader,Ce=Se.type.startsWith("audio/"),Oe=Se.type.startsWith("image/");if(!Ce&&!Oe){ke(n==="ru"?"  ":"Unsupported file format","error");return}K.current+=1,W(!0),te.current!=="recording"&&i("transcribing"),Pe.onload=async vn=>{var Wn;if((Wn=vn.target)!=null&&Wn.result){const Jt=vn.target.result.split(",")[1];try{let wn="";if(Ce?wn=await vf(Jt,Se.type,n,le.current.audioModel):Oe&&(wn=await jw(Jt,Se.type,n)),wn&&wn.trim()){const Wo=v.current,Q0=Wo.trim().length>0&&!Wo.endsWith(" ")?" ":"",Ko=Wo+Q0+wn,al=Ko.length;f(Ko),he(),O(An(wn)),k(al),x(al),y(al),t(1),M(Ko,F.current,al,["dictated","raw_dictation"]),setTimeout(()=>{ge.current&&(ge.current.scrollTop=ge.current.scrollHeight,R.current&&(R.current.scrollTop=ge.current.scrollHeight))},10)}}catch(wn){console.error("Media processing failed",wn),ke(n==="ru"?"  ":"File processing error","error")}finally{K.current-=1,K.current===0&&(W(!1),te.current==="transcribing"&&i(e.enabled?"idle":"paused"))}}},Pe.readAsDataURL(Se)},[n,t,i,f,M,he,O,k,x,y,ke]),dc=N.useCallback(async(Se,Pe)=>{K.current+=1,W(!0),te.current!=="recording"&&i("transcribing");try{let Ce=await vf(Se,Pe,n,le.current.audioModel);if(Ce&&Ce.trim()){const Oe=v.current,vn=Oe.trim().length>0&&!Oe.endsWith(" ")?" ":"",Wn=Oe+vn+Ce,Jt=Wn.length;f(Wn),he(),O(An(Ce)),k(Jt),x(Jt),y(Jt),t(1),M(Wn,F.current,Jt,["dictated","raw_dictation"]),setTimeout(()=>{ge.current&&(ge.current.scrollTop=ge.current.scrollHeight,R.current&&(R.current.scrollTop=ge.current.scrollHeight))},10)}}catch(Ce){console.error("Chunk transcription failed",Ce)}finally{K.current-=1,K.current===0&&(W(!1),te.current==="transcribing"&&i(e.enabled?"idle":"paused"))}},[n,t,i,f,M,he,O,k,x,y]),fc=N.useCallback(async()=>{if(re){await me(),ve(!1),i(e.enabled?"idle":"paused");return}oe?await me():(Me(),await de(async(Pe,Ce)=>{await dc(Pe,Ce)},Pe=>G(Pe))&&(i("recording"),G("listening")))},[oe,me,de,i,dc,Me,re,e.enabled]),Y0=N.useCallback(async()=>{if(oe&&!re){await me();return}re?(await me(),ve(!1),i(e.enabled?"idle":"paused")):(Me(),await de(async()=>{},Pe=>G(Pe))&&(ve(!0),i("recording"),G("listening")))},[oe,re,me,de,i,Me,e.enabled]);return{text:d,committedLength:g,correctedLength:C,checkedLength:E,checkingLength:w,processedLength:C,finalizedSentences:I,aiFixedSegments:b,dictatedSegments:A,unknownSegments:j,textareaRef:ge,backdropRef:R,isBusy:r!=="idle"&&r!=="typing"&&r!=="paused"&&r!=="done",canUndo:fe,canRedo:ie,handleScroll:Xe,handleChange:W0,handleKeyDown:an,handleClipboardEvent:Qt,handleUndo:Ct,handleRedo:sn,handleEnhance:G0,toggleRecording:fc,visualizerDataRef:xe,autoStopCountdown:be,visualizerStatus:ce,isAnalyzing:ae,isRecording:oe,history:z,historyIndex:Y,handleHistoryJump:ft,lastHistoryUpdate:L,clearHistory:_,setFullText:se,handleMediaFile:K0,toggleDevRecording:Y0,isDevRecording:re,processingOverlay:Vt}};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ne=(e,t)=>{const n=N.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:s="",children:u,...c},d)=>N.createElement("svg",{ref:d,...qw,width:i,height:i,stroke:r,strokeWidth:o?Number(l)*24/Number(i):l,className:["lucide",`lucide-${Gw(e)}`,s].join(" "),...c},[...t.map(([f,g])=>N.createElement(f,g)),...Array.isArray(u)?u:[u]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=ne("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=ne("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=ne("AlertOctagon",[["polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2",key:"h1p8hx"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=ne("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=ne("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=ne("AudioWaveform",[["path",{d:"M2 13a2 2 0 0 0 2-2V7a2 2 0 0 1 4 0v13a2 2 0 0 0 4 0V4a2 2 0 0 1 4 0v13a2 2 0 0 0 4 0v-4a2 2 0 0 1 2-2",key:"57tc96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=ne("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=ne("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=ne("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=ne("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=ne("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=ne("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=ne("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=ne("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=ne("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=ne("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=ne("ClipboardPaste",[["path",{d:"M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z",key:"1pp7kr"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10",key:"2ik1ml"}],["path",{d:"m17 10 4 4-4 4",key:"vp2hj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=ne("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=ne("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=ne("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=ne("FileAudio",[["path",{d:"M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"rslqgf"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0",key:"9f7x3i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=ne("FileInput",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 15h10",key:"jfw4w8"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=ne("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=ne("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=ne("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=ne("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=ne("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=ne("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=ne("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=ne("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=ne("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=ne("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=ne("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=ne("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=ne("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=ne("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=ne("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=ne("MousePointer2",[["path",{d:"m4 4 7.07 17 2.51-7.39L21 11.07z",key:"1vqm48"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=ne("MoveVertical",[["polyline",{points:"8 18 12 22 16 18",key:"1uutw3"}],["polyline",{points:"8 6 12 2 16 6",key:"d60sxy"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=ne("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=ne("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=ne("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=ne("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=ne("PencilLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}],["path",{d:"m15 5 3 3",key:"1w25hb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=ne("PinOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V17h12",key:"13x2n8"}],["path",{d:"M15 9.34V6h1a2 2 0 0 0 0-4H7.89",key:"reo3ki"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=ne("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=ne("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=ne("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=ne("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5v0A5.5 5.5 0 0 0 9.5 20H13",key:"19mnr4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=ne("Replace",[["path",{d:"M14 4c0-1.1.9-2 2-2",key:"1mvvbw"}],["path",{d:"M20 2c1.1 0 2 .9 2 2",key:"1mj6oe"}],["path",{d:"M22 8c0 1.1-.9 2-2 2",key:"v1wql3"}],["path",{d:"M16 10c-1.1 0-2-.9-2-2",key:"821ux0"}],["path",{d:"m3 7 3 3 3-3",key:"x25e72"}],["path",{d:"M6 10V5c0-1.7 1.3-3 3-3h1",key:"13af7h"}],["rect",{width:"8",height:"8",x:"2",y:"14",rx:"2",key:"17ihk4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=ne("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=ne("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=ne("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=ne("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=ne("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=ne("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=ne("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=ne("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=ne("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=ne("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=ne("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=ne("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=ne("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=ne("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=ne("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=ne("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=ne("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=ne("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),hr=(e,t,n)=>e*(1-n)+t*n,a0=N.memo(({visualizerDataRef:e,isRecording:t,lowCut:n=0,highCut:r=128,amp:i=.4,visualizerStyle:l="classic",silenceThreshold:o=15,norm:s=!1,gravity:u=2,mirror:c=!1,rounded:d=!1})=>{const f=N.useRef(null),g=N.useRef({lowCut:n,highCut:r,amp:i,visualizerStyle:l,silenceThreshold:o,norm:s,gravity:u,mirror:c,rounded:d}),m=N.useRef({volBass:0,volMid:0,volHigh:0,phaseFront:0,phaseMid:0,phaseBack:0,waveAlpha:0}),C=N.useRef([]);return N.useEffect(()=>{g.current={lowCut:n,highCut:r,amp:i,visualizerStyle:l,silenceThreshold:o,norm:s,gravity:u,mirror:c,rounded:d}},[n,r,i,l,o,s,u,c,d]),N.useEffect(()=>{const k=f.current;if(!k||!k.parentElement)return;let E=null;const x=new ResizeObserver(w=>{const y=w[0];y&&(E&&cancelAnimationFrame(E),E=requestAnimationFrame(()=>{const{width:I,height:P}=y.contentRect;(k.width!==Math.floor(I)||k.height!==Math.floor(P))&&(k.width=Math.floor(I),k.height=Math.floor(P))}))});return x.observe(k.parentElement),()=>{x.disconnect(),E&&cancelAnimationFrame(E)}},[]),N.useLayoutEffect(()=>{const k=f.current;if(!k)return;const E=k.getContext("2d",{alpha:!0});if(!E)return;C.current.length===0&&(C.current=new Array(256).fill(0));let x;const w=()=>{const y=k.width,I=k.height,P=y/2,b=I/2;E.clearRect(0,0,y,I);const{lowCut:T,highCut:A,amp:O,visualizerStyle:j,norm:D,gravity:M,silenceThreshold:H,mirror:$,rounded:ee}=g.current,fe=t?1:0;if(m.current.waveAlpha=hr(m.current.waveAlpha,fe,.1),m.current.waveAlpha<.01){x=requestAnimationFrame(w);return}const ie=e.current;if(!ie){x=requestAnimationFrame(w);return}const z=m.current.waveAlpha,Y=(H||0)/100;if(j==="classic"){let S=0,L=0,_=0,v=0,F=0,J=0;for(let q=0;q<ie.length;q++){if(q<T||q>A)continue;let B=ie[q]/255;B<Y?B=0:B=(B-Y)/(1-Y),D&&B>0&&(B=Math.pow(B,.6)),B<.05&&(B=0),q<=5?(S+=B,v++):q<=30?(L+=B,F++):(_+=B,J++)}v>0&&(S/=v),F>0&&(L/=F),J>0&&(_/=J);const V=Math.max(.1,S*6),U=Math.max(.05,L*5),le=Math.max(.02,_*3),te=M*.1;m.current.volBass=hr(m.current.volBass,V,V>m.current.volBass?.2:te),m.current.volMid=hr(m.current.volMid,U,U>m.current.volMid?.2:te),m.current.volHigh=hr(m.current.volHigh,le,le>m.current.volHigh?.2:te),m.current.phaseBack+=.003,m.current.phaseMid+=.01,m.current.phaseFront+=.03,[{color:`rgba(56, 189, 248, ${.3*z})`,lineWidth:2,amplitudeMod:.8,freqMod:.8,phase:m.current.phaseBack,volume:m.current.volBass,phaseOffset:0},{color:`rgba(168, 85, 247, ${.5*z})`,lineWidth:3,amplitudeMod:.9,freqMod:1,phase:m.current.phaseMid,volume:m.current.volMid,phaseOffset:2},{color:`rgba(99, 102, 241, ${.9*z})`,lineWidth:2,amplitudeMod:1.1,freqMod:.8,phase:m.current.phaseFront,volume:m.current.volHigh,phaseOffset:4}].forEach(q=>{E.beginPath(),E.strokeStyle=q.color,E.lineWidth=q.lineWidth,E.lineCap="round",E.lineJoin="round";let B=!1;for(let oe=0;oe<=y;oe+=2){const de=oe/y*2-1,me=Math.pow(1-Math.abs(de),3),xe=Math.sin(oe*.01*q.freqMod+q.phase+q.phaseOffset),be=1+q.volume*2,ke=Math.sin(oe*.1*be+q.phase*5),ce=(xe*.5+ke*.8)*(q.volume*(I*.4)*q.amplitudeMod*O),G=b+ce*me;B?E.lineTo(oe,G):(E.moveTo(oe,G),B=!0)}E.stroke()})}else if(j==="bars"){const S=A-T,L=Math.floor(S/2),v=($?y/2:y)/L,F=M*.02;for(let J=0;J<L;J++){const V=T+J*2;if(V>=ie.length)break;let U=ie[V]/255;U<Y?U=0:U=(U-Y)/(1-Y),D&&U>0&&(U=Math.pow(U,.6));const le=U*I*.8*O,te=C.current[J]||0;let Z=te;le>te?Z=le:Z=hr(te,le,F),C.current[J]=Z;const q=J*2+200;if(E.fillStyle=`hsla(${q}, 80%, 60%, ${z})`,$){const B=J*v;E.fillRect(P+B,b-Z/2,v-1,Z),E.fillRect(P-B-v,b-Z/2,v-1,Z)}else{const B=J*v;E.fillRect(B,b-Z/2,v-1,Z)}}}else if(j==="circular"){const S=Math.min(y,I)*.2,L=A-T,_=2,v=Math.floor(L/_),F=M*.02,J=$?Math.PI/v:2*Math.PI/v,V=0;E.translate(P,b);for(let U=0;U<v;U++){const le=T+U*_;if(le>=ie.length)break;let te=ie[le]/255;te<Y?te=0:te=(te-Y)/(1-Y),D&&te>0&&(te=Math.pow(te,.6));const Z=te*(Math.min(y,I)*.3)*O,q=C.current[U]||0;let B=q;Z>q?B=Z:B=hr(q,Z,F),C.current[U]=B;const oe=U*3+240;E.fillStyle=`hsla(${oe}, 90%, 65%, ${z})`;const de=$?3:2;if($){const me=U*J;E.save(),E.rotate(V-me),E.fillRect(0,S,de,B),E.restore(),E.save(),E.rotate(V+me),E.fillRect(0,S,de,B),E.restore()}else{const me=U*J;E.save(),E.rotate(V+me),E.fillRect(0,S,de,B),E.restore()}}E.setTransform(1,0,0,1,0,0)}else if(j==="wave"){E.beginPath(),E.strokeStyle=`rgba(99, 102, 241, ${z})`,E.lineWidth=2,E.lineJoin="round",E.lineCap="round";const S=A-T,L=(v,F,J=1)=>{let V=ie[T+v]/255;V<Y?V=0:V=(V-Y)/(1-Y),D&&V>0&&(V=Math.pow(V,.6));const U=V*(I*.4)*O,le=v%2===0?1:-1;return{x:F,y:b+U*le*J}},_=v=>{if(!(v.length<2))if(E.moveTo(v[0].x,v[0].y),ee){for(let F=1;F<v.length-2;F++){const J=(v[F].x+v[F+1].x)/2,V=(v[F].y+v[F+1].y)/2;E.quadraticCurveTo(v[F].x,v[F].y,J,V)}v.length>2?E.quadraticCurveTo(v[v.length-2].x,v[v.length-2].y,v[v.length-1].x,v[v.length-1].y):E.lineTo(v[1].x,v[1].y)}else for(let F=1;F<v.length;F++)E.lineTo(v[F].x,v[F].y)};if($){const v=y/2/S,F=[];for(let V=0;V<S;V++)F.push(L(V,P+V*v));_(F);const J=[];for(let V=0;V<S;V++)J.push(L(V,P-V*v));J.length>0&&(E.moveTo(P,b),_(J))}else{const v=y/S,F=[];let J=0;for(let V=0;V<S;V++)F.push(L(V,J)),J+=v;_(F)}E.stroke()}x=requestAnimationFrame(w)};return w(),()=>cancelAnimationFrame(x)},[t,e]),a.jsx("canvas",{ref:f,className:"absolute inset-0 w-full h-full pointer-events-none z-0 opacity-80"})}),L2=({text:e,committedLength:t,correctedLength:n,checkedLength:r,checkingLength:i,finalizedSentences:l,aiFixedSegments:o,dictatedSegments:s,unknownSegments:u,status:c,visualizerStatus:d,isAnalyzing:f,isRecording:g,language:m,textareaRef:C,backdropRef:k,onChange:E,onScroll:x,onKeyDown:w,onClipboard:y,visualizerDataRef:I,onInteraction:P,isPaused:b,showResumeAnimation:T,lowCut:A=0,highCut:O=128,amp:j=.4,visualizerStyle:D="classic",silenceThreshold:M,visualizerNorm:H=!1,visualizerGravity:$=2,visualizerMirror:ee=!1,onDropFile:fe,processingOverlay:ie})=>{const z=dt(m),[Y,S]=N.useState(!1),L=V=>{V.preventDefault(),V.stopPropagation(),S(!0)},_=V=>{V.preventDefault(),V.stopPropagation(),!V.currentTarget.contains(V.relatedTarget)&&S(!1)},v=V=>{if(V.preventDefault(),V.stopPropagation(),S(!1),V.dataTransfer.files&&V.dataTransfer.files.length>0){const U=V.dataTransfer.files[0];fe&&fe(U)}},F=V=>V.toLowerCase().replace(/[^a-zA-Z--0-9]/g,"").trim(),J=N.useMemo(()=>{const V=gr(e),U=Math.min(t,e.length),le=Math.min(Math.max(U,n),e.length),te=Math.min(Math.max(le,r),e.length),Z=Math.min(Math.max(te,i),e.length);return V.map((q,B)=>{const oe=An(q.text);if(ie&&q.start>=ie.start&&q.end<=ie.end){if(ie.type==="fixing")return a.jsx("span",{className:"text-fuchsia-300 animate-pulse brightness-150 transition-all duration-300",children:q.text},B);if(ie.type==="finalizing")return a.jsx("span",{className:"text-emerald-300 animate-pulse brightness-150 transition-all duration-300",children:q.text},B)}if(l.has(oe))return a.jsx("span",{className:"text-emerald-500 transition-colors duration-500",children:q.text},B);if(s.has(oe))return a.jsx("span",{className:"text-orange-400 transition-colors duration-500",children:q.text},B);const de=(ce,G)=>{const ae=G+ce.length;if(ie&&G>=ie.start&&ae<=ie.end){if(ie.type==="fixing")return a.jsx("span",{className:"text-fuchsia-300 animate-pulse brightness-150 transition-all duration-300",children:ce},G);if(ie.type==="finalizing")return a.jsx("span",{className:"text-emerald-300 animate-pulse brightness-150 transition-all duration-300",children:ce},G)}if(ae<=U)return a.jsx("span",{className:"text-emerald-500 transition-colors duration-500",children:ce},G);if(ae<=le)return o.has(oe)?a.jsx("span",{className:"text-violet-400 font-medium transition-colors duration-300",children:ce},G):a.jsx("span",{className:"text-sky-400 transition-colors duration-300",children:ce},G);if(G>=le&&ae<=te){const W=ce.split(/([^\s.,!?;:()""''\-\/_+]+)/);return a.jsx("span",{children:W.map((re,ve)=>{if(!re)return null;if(/[a-zA-Z--0-9]/.test(re)){const R=F(re),K=u.has(R);return a.jsx("span",{className:K?"text-red-400 font-medium transition-colors duration-200":"text-sky-400 transition-colors duration-200",children:re},ve)}return a.jsx("span",{className:"text-sky-400 transition-colors duration-200",children:re},ve)})},G)}return ae<=Z?a.jsx("span",{className:"text-yellow-400 font-medium transition-colors duration-300",children:ce},G):a.jsx("span",{className:"text-slate-200 transition-colors duration-200",children:ce},G)},me=[U,le,te,Z].filter(ce=>ce>q.start&&ce<q.end);if(me.length===0)return de(q.text,q.start);const xe=[];let be=q.start;const ke=[...new Set(me)].sort((ce,G)=>ce-G);for(const ce of ke){const G=e.slice(be,ce);xe.push(de(G,be)),be=ce}if(be<q.end){const ce=e.slice(be,q.end);xe.push(de(ce,be))}return a.jsx(Mi.Fragment,{children:xe},B)})},[e,t,n,r,i,l,o,s,u,ie]);return a.jsxs("div",{className:"relative flex-1 w-full overflow-hidden",onDragOver:L,onDragLeave:_,onDrop:v,children:[Y&&a.jsxs("div",{className:"absolute inset-4 z-50 rounded-3xl border-4 border-dashed border-indigo-500/50 bg-slate-900/90 backdrop-blur-sm flex flex-col items-center justify-center animate-in fade-in duration-200 pointer-events-none",children:[a.jsx("div",{className:"p-6 rounded-full bg-indigo-500/20 mb-4 animate-bounce",children:a.jsx(s2,{className:"w-12 h-12 text-indigo-400"})}),a.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:z.dropHere||"Drop file here"}),a.jsx("p",{className:"text-slate-400 text-sm",children:z.dropHint||"Audio or Image"})]}),a.jsx(a0,{visualizerDataRef:I,isRecording:g,lowCut:A,highCut:O,amp:j,visualizerStyle:D,silenceThreshold:M,norm:H,gravity:$,mirror:ee}),a.jsx("div",{className:`absolute inset-0 flex items-center justify-center z-0 pointer-events-none transition-[opacity,transform] duration-500 ease-in-out ${b?"opacity-100 scale-100":"opacity-0 scale-110 scale-95"}`,children:a.jsxs("div",{className:"flex flex-col items-center text-slate-700/20 select-none",children:[a.jsx(xr,{className:"w-32 h-32 md:w-48 md:h-48 fill-current"}),a.jsx("span",{className:"text-2xl md:text-4xl font-black tracking-[0.5em] uppercase mt-4",children:z.statusPaused})]})}),a.jsx("div",{className:`absolute inset-0 flex items-center justify-center z-20 pointer-events-none transition-[opacity,transform] duration-500 ease-in-out ${T?"opacity-100 scale-100":"opacity-0 scale-110"}`,children:a.jsx("div",{className:"flex flex-col items-center justify-center p-12 bg-slate-900/40 backdrop-blur-sm rounded-3xl shadow-2xl border border-emerald-500/20",children:a.jsx(o0,{className:"w-24 h-24 text-emerald-400 fill-current animate-pulse"})})}),a.jsxs("div",{className:"absolute bottom-24 left-1/2 -translate-x-1/2 z-20 flex flex-col-reverse items-center gap-3 pointer-events-none",children:[a.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border shadow-lg backdrop-blur-md transition-all duration-500 ease-out transform ${g?"opacity-100 translate-y-0 scale-100 bg-orange-950/80 border-orange-500/50 text-orange-200 shadow-orange-500/20":"opacity-0 translate-y-8 scale-90"}`,children:[a.jsx(Un,{className:"w-4 h-4 text-orange-400"}),a.jsx("span",{className:"text-xs font-bold tracking-wider",children:z.visListening||"LISTENING"})]}),a.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border shadow-lg backdrop-blur-md transition-all duration-500 ease-out transform ${f?"opacity-100 translate-y-0 scale-100 bg-sky-950/80 border-sky-500/50 text-sky-200 shadow-sky-500/20":"opacity-0 translate-y-4 scale-90 h-0 py-0 border-0 overflow-hidden"}`,children:[a.jsx(Hn,{className:"w-4 h-4 text-sky-400 animate-spin"}),a.jsx("span",{className:"text-xs font-bold tracking-wider",children:z.visAnalyzing||"ANALYZING"})]})]}),a.jsxs("div",{ref:k,className:"custom-scrollbar absolute inset-0 w-full h-full p-8 pb-32 text-lg leading-relaxed font-medium whitespace-pre-wrap break-words overflow-y-scroll cursor-text z-10","aria-hidden":"true",onClick:P,children:[J,e.endsWith(`
`)&&a.jsx("br",{})]}),a.jsx("textarea",{ref:C,value:e,onChange:E,onScroll:x,onKeyDown:w,onCopy:y,onCut:y,onClick:P,placeholder:z.placeholder,className:"custom-scrollbar absolute inset-0 w-full h-full p-8 pb-32 resize-none focus:outline-none text-lg leading-relaxed font-medium bg-transparent text-transparent caret-white placeholder:text-slate-700 z-20 overflow-y-scroll break-words",spellCheck:!1})]})},_e=({content:e,children:t,side:n="top"})=>{const r={top:"bottom-full left-1/2 -translate-x-1/2 mb-2",bottom:"top-full left-1/2 -translate-x-1/2 mt-2",left:"right-full top-1/2 -translate-y-1/2 mr-2",right:"left-full top-1/2 -translate-y-1/2 ml-2"};return a.jsxs("div",{className:"relative flex items-center group z-[100]",children:[t,a.jsxs("div",{className:`
          absolute pointer-events-none z-[9999] px-3 py-2 
          bg-slate-800/95 border border-slate-700/80 rounded-lg shadow-2xl backdrop-blur-md
          whitespace-pre-wrap text-[10px] font-medium text-slate-200 tracking-wide
          opacity-0 group-hover:opacity-100 transition-opacity duration-200
          select-none w-max max-w-[200px] text-center
          ${r[n]}
        `,children:[e,a.jsx("div",{className:`
                absolute w-2 h-2 bg-slate-800 border-slate-700 transform rotate-45
                ${n==="top"?"bottom-[-5px] left-1/2 -translate-x-1/2 border-b border-r":""}
                ${n==="bottom"?"top-[-5px] left-1/2 -translate-x-1/2 border-t border-l":""}
                ${n==="left"?"right-[-5px] top-1/2 -translate-y-1/2 border-t border-r":""}
                ${n==="right"?"left-[-5px] top-1/2 -translate-y-1/2 border-b border-l":""}
            `})]})]})},z2=N.forwardRef(({textLength:e,committedLength:t,processedLength:n,status:r,language:i,isBusy:l,canUndo:o,canRedo:s,onUndo:u,onRedo:c,onRecord:d,onEnhance:f,onFileUpload:g,autoStopCountdown:m,onHistoryClick:C,isHistoryOpen:k,developerMode:E=!1,onDevRecord:x,isDevRecording:w=!1,showClipboard:y,onToggleClipboard:I},P)=>{const b=dt(i),T=r==="enhancing",[A,O]=N.useState(null),j=N.useRef(null);N.useImperativeHandle(P,()=>({setFile:$=>{O($)}}));const D=$=>{$.target.files&&$.target.files[0]&&O($.target.files[0])},M=()=>{A&&(g(A),O(null),j.current&&(j.current.value=""))},H=()=>{O(null),j.current&&(j.current.value="")};return a.jsxs("div",{className:"absolute bottom-0 md:bottom-6 left-0 md:left-auto md:right-6 w-full md:w-auto flex md:inline-flex items-center justify-between md:justify-start gap-3 md:gap-4 z-30 pointer-events-auto select-none bg-slate-900/90 md:bg-transparent backdrop-blur-lg md:backdrop-blur-none border-t md:border-none border-slate-800 p-3 md:p-0 safe-area-bottom",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"hidden sm:flex items-center gap-3",children:[a.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-emerald-950/30 rounded border border-emerald-900/50",children:[a.jsx(bo,{className:"w-3 h-3 text-emerald-500"}),a.jsxs("span",{className:"text-[10px] text-emerald-400 font-mono",children:[Math.round(t/(e||1)*100),"%"]})]}),n>t&&a.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-sky-950/30 rounded border border-sky-900/50 animate-in fade-in zoom-in duration-300",children:[a.jsx(Jm,{className:"w-3 h-3 text-sky-400"}),a.jsx("span",{className:"text-[10px] text-sky-400 font-mono",children:n-t})]})]}),a.jsxs("span",{className:"text-xs text-slate-600 font-mono md:hidden",children:[e," ",b.chars]})]}),a.jsxs("div",{className:"hidden md:block text-xs text-slate-600 font-mono",children:[e," ",b.chars]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex items-center bg-slate-800 rounded-lg p-1 border border-slate-700 shadow-lg",children:[a.jsx(_e,{content:b.btnUndo,side:"top",children:a.jsx("button",{onClick:u,disabled:!o||l,className:"p-2 md:p-1.5 rounded hover:bg-slate-700 text-slate-400 hover:text-white disabled:opacity-30 disabled:hover:bg-transparent transition-colors touch-manipulation",children:a.jsx(M2,{className:"w-5 h-5 md:w-4 md:h-4"})})}),a.jsx("div",{className:"w-px h-5 md:h-4 bg-slate-700 mx-1"}),a.jsx(_e,{content:b.btnRedo,side:"top",children:a.jsx("button",{onClick:c,disabled:!s||l,className:"p-2 md:p-1.5 rounded hover:bg-slate-700 text-slate-400 hover:text-white disabled:opacity-30 disabled:hover:bg-transparent transition-colors touch-manipulation",children:a.jsx(b2,{className:"w-5 h-5 md:w-4 md:h-4"})})}),a.jsx("div",{className:"w-px h-5 md:h-4 bg-slate-700 mx-1"}),a.jsx(_e,{content:b.historyTitle,side:"top",children:a.jsx("button",{onClick:C,className:`p-2 md:p-1.5 rounded transition-colors touch-manipulation ${k?"bg-indigo-600 text-white":"text-slate-400 hover:bg-slate-700 hover:text-white"}`,children:a.jsx(Pa,{className:"w-5 h-5 md:w-4 md:h-4"})})})]}),a.jsx("div",{className:"flex items-center bg-slate-800 rounded-lg p-1 border border-slate-700 shadow-lg",children:a.jsx(_e,{content:b.clipboardTitle,side:"top",children:a.jsx("button",{onClick:I,className:`p-2 md:p-1.5 rounded transition-colors touch-manipulation ${y?"bg-indigo-600 text-white":"text-slate-400 hover:bg-slate-700 hover:text-white"}`,children:a.jsx(Ma,{className:"w-5 h-5 md:w-4 md:h-4"})})})}),E&&x&&a.jsx(_e,{content:b.btnDevRecord||"Dictate (DEV)",side:"top",children:a.jsx("button",{onClick:x,className:`flex items-center justify-center p-2.5 md:p-2 rounded-lg text-sm font-medium shadow-lg transition-all active:scale-95 group border touch-manipulation ${w?"bg-fuchsia-900/50 text-fuchsia-400 border-fuchsia-500/50 hover:bg-fuchsia-900/70 animate-pulse":"bg-slate-800 text-fuchsia-500 border-slate-700 hover:bg-slate-700"}`,children:w?a.jsx(Kr,{className:"w-5 h-5 md:w-4 md:h-4 fill-current"}):a.jsx(_2,{className:"w-5 h-5 md:w-4 md:h-4"})})}),a.jsx(_e,{content:r==="recording"&&!w?b.btnStop:b.btnRecord,side:"top",children:a.jsx("button",{onClick:d,disabled:w,className:`flex items-center justify-center gap-2 px-4 md:px-4 py-2.5 md:py-2 rounded-lg text-sm font-medium shadow-lg transition-all active:scale-95 group border touch-manipulation ${r==="recording"&&!w?"bg-red-500/20 text-red-400 border-red-500/50 hover:bg-red-500/30":w?"opacity-50 cursor-not-allowed bg-slate-800 border-slate-700":"bg-slate-800 text-slate-300 border-slate-700 hover:bg-slate-700"}`,children:r==="recording"&&!w?a.jsxs("div",{className:"flex items-center",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Kr,{className:"w-5 h-5 md:w-4 md:h-4 fill-current animate-pulse"}),a.jsx("span",{className:"hidden sm:inline font-semibold",children:b.btnStop})]}),a.jsx("div",{className:"mx-2 h-4 w-px bg-red-400/40"}),a.jsx("div",{className:"w-4 flex justify-center text-xs font-mono font-bold tabular-nums",children:typeof m=="number"?m:""})]}):a.jsxs(a.Fragment,{children:[a.jsx(Un,{className:"w-5 h-5 md:w-4 md:h-4"}),a.jsx("span",{className:"hidden sm:inline",children:b.btnRecord})]})})}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("input",{type:"file",ref:j,className:"hidden",accept:"audio/*,image/*",onChange:D}),A?a.jsxs("div",{className:"flex items-center gap-1 bg-slate-800 rounded-lg border border-slate-700 p-1 pr-2 animate-in fade-in slide-in-from-bottom-2",children:[a.jsx("button",{onClick:H,className:"p-1 hover:bg-slate-700 rounded text-slate-400 hover:text-red-400",children:a.jsx(Et,{className:"w-4 h-4"})}),a.jsxs("span",{className:"text-xs text-slate-300 max-w-[80px] truncate flex items-center gap-1",children:[A.type.startsWith("image/")?a.jsx(c2,{className:"w-3 h-3 shrink-0"}):a.jsx(o2,{className:"w-3 h-3 shrink-0"}),A.name]}),a.jsx("button",{onClick:M,className:"ml-1 p-1 bg-indigo-600 hover:bg-indigo-500 text-white rounded shadow-sm",title:i==="ru"?"":"Process",children:a.jsx(s0,{className:"w-3.5 h-3.5"})})]}):a.jsx(_e,{content:b.uploadMedia||"Upload Audio/Image",side:"top",children:a.jsx("button",{onClick:()=>{var $;return($=j.current)==null?void 0:$.click()},disabled:l,className:"p-2.5 md:p-2 rounded-lg bg-slate-800 text-slate-300 border border-slate-700 hover:bg-slate-700 hover:text-white transition-colors",children:a.jsx(j2,{className:"w-5 h-5 md:w-4 md:h-4"})})})]}),a.jsx(_e,{content:b.btnEnhance,side:"top",children:a.jsxs("button",{onClick:f,disabled:l||T,className:`flex items-center gap-2 px-4 md:px-4 py-2.5 md:py-2 rounded-lg text-sm font-medium shadow-lg transition-all active:scale-95 group touch-manipulation
                ${T?"bg-indigo-600 text-white cursor-wait opacity-80 border border-indigo-500 shadow-indigo-900/50":"bg-slate-800 text-slate-400 border border-slate-700 hover:bg-purple-600 hover:text-white hover:border-purple-500 hover:shadow-purple-900/30"}
            `,children:[T?a.jsx(l0,{className:"w-5 h-5 md:w-4 md:h-4 animate-spin"}):a.jsx(ll,{className:"w-5 h-5 md:w-4 md:h-4 group-hover:rotate-12 transition-transform"}),a.jsx("span",{className:"hidden sm:inline",children:b.btnEnhance})]})})]})]})}),F2=({history:e,currentIndex:t,isOpen:n,onClose:r,onRestore:i,onClear:l,language:o})=>{const s=dt(o),[u,c]=N.useState(!1);N.useEffect(()=>{const m=setTimeout(()=>c(!0),100);return()=>clearTimeout(m)},[]);const d=m=>new Intl.DateTimeFormat(o==="ru"?"ru-RU":"en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date(m)),f=m=>{switch(m){case"raw_dictation":return a.jsxs("span",{className:"flex items-center gap-0.5 px-1.5 py-0.5 rounded-md bg-orange-900/40 text-orange-300 text-[10px] font-semibold border border-orange-700/50 shadow-sm",title:s.tagRawDictation||"Raw Dictation",children:[a.jsx(Un,{className:"w-3 h-3"}),a.jsx("span",{className:"hidden sm:inline",children:s.tagRawDictation||"Raw Dictation"})]});case"pre_ai":return a.jsxs("span",{className:"flex items-center gap-0.5 px-1.5 py-0.5 rounded-md bg-slate-700 text-slate-200 text-[10px] font-semibold border border-slate-600 shadow-sm",title:"Snapshot before AI processing",children:[a.jsx(t0,{className:"w-3 h-3"}),a.jsx("span",{className:"hidden sm:inline",children:"Before AI"})]});case"ai_corrected":return a.jsxs("span",{className:"flex items-center gap-0.5 px-1.5 py-0.5 rounded-md bg-purple-900/40 text-purple-300 text-[10px] font-semibold border border-purple-700/50 shadow-sm",title:s.tagAiCorrected||"AI Corrected",children:[a.jsx(ll,{className:"w-3 h-3"}),a.jsx("span",{className:"hidden sm:inline",children:s.tagAiCorrected||"AI Corrected"})]});case"raw":return a.jsxs("span",{className:"flex items-center gap-0.5 px-1.5 py-0.5 rounded-md bg-slate-700/50 text-slate-300 text-[9px] border border-slate-600/50",title:s.tagRaw,children:[a.jsx(Co,{className:"w-2.5 h-2.5"}),a.jsx("span",{className:"hidden sm:inline",children:s.tagRaw})]});case"dictated":return a.jsxs("span",{className:"flex items-center gap-0.5 px-1.5 py-0.5 rounded-md bg-red-900/30 text-red-300 text-[9px] border border-red-800/50",title:s.tagDictated,children:[a.jsx(Un,{className:"w-2.5 h-2.5"}),a.jsx("span",{className:"hidden sm:inline",children:s.tagDictated})]});case"processed":return a.jsxs("span",{className:"flex items-center gap-0.5 px-1.5 py-0.5 rounded-md bg-amber-900/30 text-amber-300 text-[9px] border border-amber-800/50",title:s.tagProcessed,children:[a.jsx(Hn,{className:"w-2.5 h-2.5"}),a.jsx("span",{className:"hidden sm:inline",children:s.tagProcessed})]});case"finalized":return a.jsxs("span",{className:"flex items-center gap-0.5 px-1.5 py-0.5 rounded-md bg-emerald-900/30 text-emerald-300 text-[9px] border border-emerald-800/50",title:s.tagFinalized,children:[a.jsx(Jm,{className:"w-2.5 h-2.5"}),a.jsx("span",{className:"hidden sm:inline",children:s.tagFinalized})]});case"enhanced":return a.jsxs("span",{className:"flex items-center gap-0.5 px-1.5 py-0.5 rounded-md bg-pink-900/30 text-pink-300 text-[9px] border border-pink-800/50",title:s.tagEnhanced,children:[a.jsx(Hn,{className:"w-2.5 h-2.5"}),a.jsx("span",{className:"hidden sm:inline",children:s.tagEnhanced})]});case"reset":return a.jsxs("span",{className:"flex items-center gap-0.5 px-1.5 py-0.5 rounded-md bg-slate-800 text-slate-400 text-[9px] border border-slate-700 font-mono",children:[a.jsx(Yr,{className:"w-2.5 h-2.5"}),a.jsx("span",{className:"hidden sm:inline",children:"Reset"})]});default:return null}},g=[...e].map((m,C)=>({item:m,idx:C})).reverse();return a.jsxs("div",{className:`
            absolute top-0 right-0 w-80 h-full bg-slate-900 border-l border-slate-800 shadow-2xl z-40 
            flex flex-col no-drag
            ${u?"transition-transform duration-300 ease-in-out":""} 
            ${n?"translate-x-0":"translate-x-full"}
        `,children:[a.jsxs("div",{className:"p-4 border-b border-slate-800 flex items-center justify-between shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Pa,{className:"w-4 h-4 text-indigo-400"}),a.jsx("h3",{className:"text-sm font-semibold text-slate-200",children:s.historyTitle})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:l,className:"p-1.5 hover:bg-slate-800 rounded text-slate-500 hover:text-red-400 transition-colors",title:s.clipboardClear||"Clear History",children:a.jsx(Yr,{className:"w-4 h-4"})}),a.jsx("div",{className:"w-px h-4 bg-slate-800 mx-1"}),a.jsx("button",{onClick:r,className:"p-1 hover:bg-slate-800 rounded text-slate-500 hover:text-white transition-colors",children:a.jsx(Et,{className:"w-4 h-4"})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2 space-y-2",children:e.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-slate-600 space-y-2",children:[a.jsx(Pa,{className:"w-8 h-8 opacity-50"}),a.jsx("p",{className:"text-xs",children:s.historyEmpty})]}):g.map(({item:m,idx:C})=>{var I,P,b;const k=C===t,E=(I=m.tags)==null?void 0:I.includes("raw_dictation"),x=(P=m.tags)==null?void 0:P.includes("ai_corrected"),w=(b=m.tags)==null?void 0:b.includes("pre_ai");let y="border-slate-700/50";return E&&(y="border-orange-900/50"),x&&(y="border-purple-900/50"),w&&(y="border-slate-600/80"),k&&(y="border-indigo-500/50"),a.jsxs("div",{onClick:()=>!k&&i(C),className:`
                        group relative rounded-lg p-3 transition-all border
                        ${y}
                        ${k?"bg-indigo-900/20 cursor-default":"bg-slate-800/50 hover:bg-slate-800 hover:border-slate-600 cursor-pointer"}
                    `,children:[a.jsx("div",{className:"flex items-center justify-between mb-2",children:a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("span",{className:"text-[10px] text-slate-500 font-mono",children:d(m.timestamp)}),m.tags&&m.tags.length>0&&a.jsx("div",{className:"flex gap-1 flex-wrap",children:m.tags.map(T=>a.jsx(Mi.Fragment,{children:f(T)},T))})]})}),a.jsx("p",{className:`text-xs line-clamp-3 font-medium break-all opacity-90 group-hover:opacity-100 ${E?"text-orange-200":x?"text-purple-200":"text-slate-300"}`,children:m.text||a.jsx("span",{className:"text-slate-600 italic",children:"Empty"})}),!k&&a.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx("div",{className:"p-1.5 bg-indigo-600 text-white rounded-md shadow-lg",children:a.jsx(Ku,{className:"w-3.5 h-3.5"})})}),k&&a.jsx("div",{className:"absolute top-2 right-2",children:a.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-bold text-indigo-400 bg-indigo-900/30 px-1.5 py-0.5 rounded",children:[a.jsx(n2,{className:"w-3 h-3"}),a.jsx("span",{className:"hidden sm:inline",children:s.historyCurrent})]})})]},m.id)})})]})},O2=N.forwardRef((e,t)=>{const{text:n,committedLength:r,correctedLength:i,checkedLength:l,checkingLength:o,finalizedSentences:s,aiFixedSegments:u,dictatedSegments:c,unknownSegments:d,textareaRef:f,backdropRef:g,isBusy:m,canUndo:C,canRedo:k,handleScroll:E,handleChange:x,handleKeyDown:w,handleClipboardEvent:y,handleUndo:I,handleRedo:P,handleEnhance:b,toggleRecording:T,visualizerDataRef:A,autoStopCountdown:O,visualizerStatus:j,isAnalyzing:D,isRecording:M,history:H,historyIndex:$,handleHistoryJump:ee,lastHistoryUpdate:fe,clearHistory:ie,setFullText:z,handleMediaFile:Y,toggleDevRecording:S,isDevRecording:L,processingOverlay:_}=$w(e),{addNotification:v}=dr();dt(e.language);const[F,J]=N.useState(!1),V=N.useRef(!0),U=N.useRef(null),le=async Z=>{if(window.require)try{const{clipboard:q}=window.require("electron");q.writeText(Z);return}catch(q){console.warn("Electron clipboard write error (fallback to web)",q)}try{await navigator.clipboard.writeText(Z)}catch(q){throw console.error("Web clipboard write error",q),q}},te=async()=>{if(window.require)try{const{clipboard:Z}=window.require("electron");return Z.readText()}catch(Z){console.warn("Electron clipboard read error (fallback to web)",Z)}try{return await navigator.clipboard.readText()}catch(Z){throw console.error("Web clipboard read error",Z),Z}};return N.useImperativeHandle(t,()=>({clear:()=>{z("")},copy:async()=>{if(n)try{await le(n),v(e.language==="ru"?"!":"Copied!","success")}catch{v(e.language==="ru"?" ":"Copy failed","error")}},cut:async()=>{if(n)try{await le(n),z(""),v(e.language==="ru"?"!":"Cut!","success")}catch{v(e.language==="ru"?"":"Error","error")}},paste:async()=>{try{try{const B=await navigator.clipboard.read();for(const oe of B){const de=oe.types.find(me=>me.startsWith("image/"));if(de){const me=await oe.getType(de),xe=new File([me],`pasted_image_${Date.now()}.png`,{type:de});U.current&&(U.current.setFile(xe),v(e.language==="ru"?" ":"Image pasted","success"));return}}}catch{}const Z=await te();if(!Z)return;const q=f.current;if(q){const B=q.selectionStart,oe=q.selectionEnd,de=n.length;let me="",xe=0;de>0&&B===0&&oe===0?(me=n+Z,xe=me.length):(me=n.substring(0,B)+Z+n.substring(oe),xe=B+Z.length),z(me),setTimeout(()=>{f.current&&(f.current.focus(),f.current.setSelectionRange(xe,xe))},10)}else z(n+Z)}catch(Z){console.error("Paste failed",Z),v(e.language==="ru"?"  ( ?)":"Paste failed (permissions?)","error")}},clearAndPaste:async()=>{try{const Z=await te();z(Z||""),setTimeout(()=>{f.current&&Z&&(f.current.focus(),f.current.setSelectionRange(Z.length,Z.length))},10)}catch(Z){console.error("Replace failed",Z),v(e.language==="ru"?" ":"Paste Error","error")}},fullWipe:()=>{z(""),ie()}})),N.useEffect(()=>{if(V.current){V.current=!1;return}if(e.settings.enabled){J(!0);const Z=setTimeout(()=>J(!1),800);return()=>clearTimeout(Z)}},[e.settings.enabled]),N.useEffect(()=>{e.onHistoryUpdate()},[fe]),a.jsxs("div",{className:"relative w-full h-full flex flex-col overflow-hidden",children:[a.jsx(L2,{text:n,committedLength:r,correctedLength:i,checkedLength:l,checkingLength:o,finalizedSentences:s,aiFixedSegments:u,dictatedSegments:c,unknownSegments:d,status:e.status,visualizerStatus:j,isAnalyzing:D,isRecording:M,language:e.language,textareaRef:f,backdropRef:g,onChange:x,onScroll:E,onKeyDown:w,onClipboard:y,visualizerDataRef:A,onInteraction:e.onInteraction,isPaused:!e.settings.enabled,showResumeAnimation:F,lowCut:e.settings.visualizerLowCut,highCut:e.settings.visualizerHighCut,amp:e.settings.visualizerAmp,visualizerStyle:e.settings.visualizerStyle,silenceThreshold:e.settings.silenceThreshold,visualizerNorm:e.settings.visualizerNorm,visualizerGravity:e.settings.visualizerGravity,visualizerMirror:e.settings.visualizerMirror,onDropFile:Y,processingOverlay:_}),a.jsx(z2,{ref:U,textLength:n.length,committedLength:r,processedLength:i,status:e.status,language:e.language,isBusy:m,canUndo:C,canRedo:k,onUndo:I,onRedo:P,onRecord:T,onEnhance:b,onFileUpload:Y,autoStopCountdown:O,onHistoryClick:e.onToggleHistory,isHistoryOpen:e.showHistory,developerMode:e.settings.developerMode,onDevRecord:S,isDevRecording:L,showClipboard:e.showClipboard,onToggleClipboard:e.onToggleClipboard}),a.jsx(F2,{history:H,currentIndex:$,isOpen:e.showHistory,onClose:e.onToggleHistory,onRestore:ee,language:e.language,onClear:ie})]})}),U2=({language:e,onDone:t,isActive:n,isMuted:r})=>{const i=dt(e),[l,o]=N.useState(0),[s,u]=N.useState(!1),[c,d]=N.useState(0),f=N.useRef(!1),g=N.useRef(null),m=N.useRef([]),[C,k]=N.useState({x:-100,y:-100}),E=N.useRef(null),x=N.useRef(!1);N.useEffect(()=>{if(!n){x.current=!1,E.current&&(E.current.pause(),E.current=null);return}x.current=!0,f.current=!1,u(!1);let A;const O=[0,1,2,3,4,5,6],j=D=>{if(!x.current)return;const M=O[D];o(M),E.current&&(E.current.pause(),E.current=null);const H=()=>{x.current&&(A=setTimeout(()=>{const ie=(D+1)%O.length;ie===0&&(f.current=!0,u(!0)),j(ie)},1e3))};if(r||f.current){A=setTimeout(H,4e3);return}const $=`./sounds/guide_step_${M}_${e}.wav`,ee=new Audio($);ee.volume=.6,E.current=ee,ee.onended=H,ee.onerror=()=>{console.warn(`Audio missing for step ${M}, using fallback timer.`),A=setTimeout(H,4e3)};const fe=ee.play();fe!==void 0&&fe.catch(ie=>{console.log("Guide audio autoplay blocked or failed:",ie),A=setTimeout(H,4e3)})};return j(0),()=>{x.current=!1,clearTimeout(A),E.current&&(E.current.pause(),E.current.onended=null,E.current.onerror=null,E.current=null)}},[n,e,r,c]);const w=()=>{u(!1),d(A=>A+1)},y=N.useCallback(()=>{if(!g.current)return;if(l===0||l===6){k({x:-100,y:500});return}const A=m.current[l];if(A){const O=g.current.getBoundingClientRect(),j=A.getBoundingClientRect(),D=j.left-O.left+j.width/2,M=j.top-O.top+j.height/2;k({x:D,y:M})}},[l]);N.useEffect(()=>{requestAnimationFrame(y);const A=setInterval(y,16),O=setTimeout(()=>clearInterval(A),600),j=new ResizeObserver(()=>{y()});return g.current&&j.observe(g.current),window.addEventListener("resize",y),()=>{clearInterval(A),clearTimeout(O),j.disconnect(),window.removeEventListener("resize",y)}},[l,y]);const I=()=>{if(e==="ru")switch(l){case 0:return" 1:   Google AI Studio";case 1:return" 2:  'Create API key'";case 2:return" 3:   ";case 3:return" 4:  'Create in new project'";case 4:return" 5:  ";case 5:return" 6:   ";case 6:return" 7:    ' '";default:return""}else switch(l){case 0:return"Step 1: Go to Google AI Studio";case 1:return"Step 2: Click 'Create API key'";case 2:return"Step 3: Open project menu";case 3:return"Step 4: Select 'New project'";case 4:return"Step 5: Confirm creation";case 5:return"Step 6: Copy your new key";case 6:return"Step 7: Return and click 'Enter key'";default:return""}},P=()=>{if(e==="ru")switch(l){case 1:return" Create";case 2:return" ";case 3:return" 'New Project'";case 4:return"";case 5:return"";default:return""}else switch(l){case 1:return"Click Create";case 2:return"Open Menu";case 3:return"Select 'New Project'";case 4:return"Confirm";case 5:return"Copy Key";default:return""}},b=A=>{if(window.require){A.preventDefault();try{const{shell:O}=window.require("electron");O.openExternal(A.currentTarget.href)}catch(O){console.error("Failed to open external link",O),window.open(A.currentTarget.href,"_blank")}}},T=C.x>400;return a.jsxs("div",{className:"flex flex-col h-full bg-slate-900 overflow-hidden relative",children:[a.jsx("div",{className:"p-6 pb-4 shrink-0 z-20 bg-slate-900 border-b border-slate-800 flex flex-col items-center",children:a.jsxs("div",{className:"w-full max-w-5xl",children:[a.jsxs("h2",{className:"text-xl font-bold text-white mb-2 flex items-center gap-2",children:[a.jsx(r0,{className:"w-5 h-5 text-indigo-400"}),i.guideTitle]}),a.jsx("div",{className:"h-6 flex items-center",children:a.jsx("span",{className:"text-sm text-indigo-300 font-mono animate-in slide-in-from-bottom-2 fade-in duration-300 bg-indigo-900/30 px-2 py-0.5 rounded border border-indigo-500/30",children:I()},l)})]})}),a.jsx("div",{className:"flex-1 w-full max-w-6xl mx-auto relative flex flex-col",children:a.jsxs("div",{ref:g,className:"flex-1 min-h-[350px] relative mx-4 my-4 flex flex-col font-sans select-none z-10",children:[a.jsxs("div",{className:"absolute inset-0 rounded-xl border border-slate-700 bg-[#1e1e1e] overflow-hidden shadow-2xl flex flex-col pointer-events-none",children:[a.jsxs("div",{className:"h-8 bg-[#2d2d2d] border-b border-[#1e1e1e] flex items-center px-3 gap-2 shrink-0",children:[a.jsxs("div",{className:"flex gap-1.5",children:[a.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-red-500/50"}),a.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-yellow-500/50"}),a.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-green-500/50"})]}),a.jsxs("div",{className:"ml-4 px-3 py-0.5 bg-[#1e1e1e] rounded text-[10px] text-slate-500 w-full max-w-[200px] flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-slate-600"}),"aistudio.google.com"]})]}),a.jsxs("div",{className:"flex-1 relative p-6 overflow-hidden bg-[#1e1e1e]",children:[a.jsxs("div",{className:"absolute left-0 top-0 bottom-0 w-16 border-r border-[#333] flex flex-col items-center pt-4 gap-4 bg-[#1e1e1e] z-10",children:[a.jsx("div",{className:"w-8 h-8 rounded bg-blue-600/20 text-blue-500 flex items-center justify-center font-bold text-xs",children:"AI"}),a.jsx("div",{className:"w-8 h-8 rounded bg-[#333]"}),a.jsx("div",{className:"w-8 h-8 rounded bg-[#333] border-l-2 border-blue-500"})]}),a.jsxs("div",{className:"ml-16 h-full relative",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsx("h1",{className:"text-2xl font-semibold text-white",children:"API Keys"}),a.jsxs("div",{ref:A=>{m.current[1]=A},className:`
                                    relative flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300
                                    ${l===1?"bg-blue-600 text-white scale-110 shadow-[0_0_20px_rgba(37,99,235,0.6)] ring-2 ring-white z-20":"bg-[#333] text-gray-400"}
                              `,children:[a.jsx(k2,{className:"w-4 h-4"}),"Create API key"]})]}),a.jsxs("div",{className:"border-b border-[#333] pb-2 mb-4 flex text-xs text-gray-500 gap-8",children:[a.jsx("span",{className:"w-1/3",children:"Key"}),a.jsx("span",{className:"w-1/3",children:"Project"}),a.jsx("span",{className:"w-1/3 text-right",children:"Action"})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[l<5&&a.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-gray-600 text-sm gap-2 opacity-50",children:[a.jsx("div",{className:"w-10 h-10 border-2 border-dashed border-gray-700 rounded rotate-45"}),a.jsx("span",{children:"No API keys found"})]}),a.jsxs("div",{className:`
                                    w-full bg-[#252525] p-3 rounded flex items-center border border-green-900/30 transition-all duration-500
                                    ${l>=5?"opacity-100 translate-y-0":"opacity-0 translate-y-4 absolute"}
                               `,children:[a.jsxs("div",{className:"w-1/3 flex flex-col",children:[a.jsx("span",{className:"text-white text-xs font-mono",children:"AIzaSy...7x92"}),a.jsx("span",{className:"text-[10px] text-gray-500",children:"Created just now"})]}),a.jsx("div",{className:"w-1/3 text-xs text-gray-400",children:"Gemini Project"}),a.jsx("div",{className:"w-1/3 flex justify-end",children:a.jsxs("div",{ref:A=>{m.current[5]=A},className:`
                                          p-2 rounded transition-all duration-300
                                          ${l===5?"bg-blue-600 text-white scale-125 ring-2 ring-white shadow-[0_0_15px_rgba(37,99,235,0.5)]":"hover:bg-[#333] text-gray-500"}
                                       `,children:[a.jsx(Qi,{className:"w-4 h-4"}),l===5&&a.jsx("div",{className:"absolute inset-0 bg-white/30 rounded-full animate-ping"})]})})]})]})]}),a.jsx("div",{className:`absolute inset-0 bg-black/60 z-20 flex items-center justify-center transition-all duration-300 ${l>=2&&l<=4?"opacity-100":"opacity-0 pointer-events-none"}`,children:a.jsxs("div",{className:`bg-[#1e1e1e] w-full max-w-sm rounded-xl border border-[#333] shadow-2xl overflow-hidden p-6 relative transition-transform duration-300 ${l>=2&&l<=4?"scale-100":"scale-95"}`,children:[a.jsx("h3",{className:"text-lg text-white mb-6",children:"Create a new key"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"space-y-1 relative",children:[a.jsx("label",{className:"text-xs text-gray-400",children:"Choose an imported project"}),a.jsxs("div",{ref:A=>{m.current[2]=A},className:`
                                          w-full flex justify-between bg-[#111] border rounded p-2 text-sm text-left relative transition-all duration-300
                                          ${l===2?"border-blue-500 text-white ring-2 ring-blue-500 shadow-[0_0_15px_rgba(59,130,246,0.4)] scale-105 z-10":"border-[#333] text-gray-500"}
                                      `,children:[l>=3?"New Project":"Select a Cloud Project",a.jsx(Xm,{className:"w-4 h-4"})]}),a.jsxs("div",{className:`
                                          absolute top-full left-0 w-full bg-[#252525] border border-[#333] rounded mt-1 shadow-xl z-30 overflow-hidden transition-all duration-200 origin-top 
                                          ${l>=2&&l<=3?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}
                                      `,children:[a.jsx("div",{className:"p-2 text-gray-400 text-xs border-b border-[#333]",children:"Existing Project"}),a.jsxs("div",{ref:A=>{m.current[3]=A},className:`
                                                p-2 font-medium text-xs flex items-center gap-2 transition-all duration-200
                                                ${l===3?"bg-blue-600 text-white scale-105 origin-left pl-4 font-bold shadow-md":"text-blue-500"}
                                            `,children:[a.jsx("span",{children:"+"})," Create API key in new project"]})]})]})}),a.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[a.jsx("div",{className:"px-3 py-1.5 rounded text-sm text-gray-400",children:"Cancel"}),a.jsx("div",{ref:A=>{m.current[4]=A},className:`
                                        px-4 py-1.5 rounded text-sm font-medium transition-all duration-300
                                        ${l===4?"bg-blue-600 text-white scale-110 shadow-[0_0_20px_rgba(37,99,235,0.6)] ring-2 ring-white z-10":"bg-[#333] text-gray-500"}
                                    `,children:"Create key"})]})]})})]})]}),a.jsxs("div",{className:"absolute z-50 transition-all duration-500 ease-[cubic-bezier(0.25,1,0.5,1)] pointer-events-none",style:{top:`${C.y}px`,left:`${C.x}px`,opacity:l>0&&l<6?1:0},children:[a.jsx(p2,{className:"w-8 h-8 text-indigo-500 fill-white drop-shadow-xl relative z-10 -mt-1 -ml-1"}),l>0&&l<6&&a.jsxs("div",{className:`
                            absolute top-8 flex items-center gap-2 whitespace-nowrap bg-indigo-600 text-white text-xs font-bold px-3 py-2 rounded-xl shadow-xl animate-bounce border border-indigo-400
                            ${T?"right-0 mr-[-20px]":"left-0 ml-[-20px]"}
                       `,children:[a.jsx("div",{className:"w-5 h-5 bg-white text-indigo-600 rounded-full flex items-center justify-center text-[10px] shrink-0",children:l}),a.jsx("span",{children:P()})]})]})]})}),a.jsx("div",{className:"p-6 pt-0 shrink-0 flex flex-col items-center z-20",children:a.jsxs("div",{className:"w-full max-w-2xl flex flex-col gap-3 relative",children:[l===0&&a.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 z-30 animate-bounce whitespace-nowrap",children:a.jsxs("div",{className:"bg-indigo-600 text-white text-xs font-bold px-3 py-2 rounded-xl shadow-xl flex items-center gap-2",children:[a.jsx("div",{className:"w-5 h-5 bg-white text-indigo-600 rounded-full flex items-center justify-center text-[10px] shrink-0",children:"1"}),a.jsx("span",{children:e==="ru"?"  Google AI Studio":"Go to Google AI Studio"}),a.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-3 h-3 bg-indigo-600 rotate-45"})]})}),a.jsxs("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",onClick:b,className:`
                    w-full font-medium py-3 px-4 rounded-xl transition-all flex items-center justify-center gap-2 border
                    ${l===0?"bg-indigo-600 text-white border-indigo-500 shadow-lg shadow-indigo-900/40 ring-2 ring-indigo-400 ring-offset-2 ring-offset-slate-900":"bg-slate-800 hover:bg-slate-700 text-indigo-400 border-slate-700"}
                  `,children:[a.jsx("span",{children:i.guideGoToGoogle}),a.jsx(Wu,{className:"w-4 h-4"})]}),a.jsxs("div",{className:"relative w-full space-y-3",children:[l===6&&a.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 z-30 animate-bounce whitespace-nowrap",children:a.jsxs("div",{className:"bg-emerald-600 text-white text-xs font-bold px-3 py-2 rounded-xl shadow-xl flex items-center gap-2",children:[a.jsx("div",{className:"w-5 h-5 bg-white text-emerald-600 rounded-full flex items-center justify-center text-[10px] shrink-0",children:"7"}),a.jsx("span",{children:e==="ru"?" ":"Click here"}),a.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-3 h-3 bg-emerald-600 rotate-45"})]})}),a.jsxs("button",{onClick:t,className:`
                            w-full font-bold py-3.5 px-4 rounded-xl transition-all duration-200 flex items-center justify-center gap-2 border
                            ${l===6?"bg-emerald-600 text-white border-emerald-500 shadow-lg shadow-emerald-900/40 ring-2 ring-emerald-400 ring-offset-2 ring-offset-slate-900":"bg-slate-800 hover:bg-emerald-600 hover:text-white text-slate-300 border-slate-700 hover:border-emerald-500"}
                        `,children:[a.jsx("span",{children:i.guideDone}),a.jsx(Wr,{className:"w-4 h-4"})]}),s&&a.jsxs("button",{onClick:w,className:"w-full text-slate-500 hover:text-white text-xs font-medium py-2 transition-colors flex items-center justify-center gap-2",children:[a.jsx(Ku,{className:"w-3 h-3"}),i.guideRepeat]})]})]})})]})},H2=({language:e})=>{const t=dt(e),[n,r]=N.useState(t.wizDemoInput),[i,l]=N.useState("typing");return N.useEffect(()=>{const o=()=>{r(t.wizDemoInput),l("typing"),setTimeout(()=>{l("fixing")},1500),setTimeout(()=>{r(t.wizDemoOutput),l("done")},2500)};o();const s=setInterval(o,5e3);return()=>clearInterval(s)},[e,t]),a.jsxs("div",{className:"w-full max-w-sm bg-slate-950 border border-slate-800 rounded-xl p-4 shadow-lg mb-6 relative overflow-hidden",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 border-b border-slate-800 pb-2",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${i==="typing"?"bg-slate-500":i==="fixing"?"bg-purple-500 animate-pulse":"bg-emerald-500"}`}),a.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider",children:i==="typing"?"Input":i==="fixing"?"AI Processing":"Fixed"})]}),a.jsx("div",{className:`text-lg font-medium transition-all duration-500 ${i==="typing"?"text-slate-400":i==="fixing"?"text-purple-300 blur-[1px]":"text-emerald-400 scale-105 origin-left"}`,children:n}),i==="fixing"&&a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-purple-500/10 to-transparent w-full h-full animate-[shimmer_1s_infinite] pointer-events-none"})]})},V2=({initialKey:e,onStart:t,language:n,setLanguage:r,isLocked:i,hasLock:l,onUnlock:o,onSetLock:s,isExiting:u,onWindowControl:c,onWipeData:d})=>{const[f,g]=N.useState(e),[m,C]=N.useState(""),[k,E]=N.useState(e?"setup":"welcome"),[x,w]=N.useState("forward"),[y,I]=N.useState(0),P=5,[b,T]=N.useState(""),[A,O]=N.useState(""),[j,D]=N.useState(""),[M,H]=N.useState(!1),[$,ee]=N.useState(!1),[fe,ie]=N.useState(!1),[z,Y]=N.useState(!1),S=N.useRef(null),L=N.useRef(null),_=N.useRef(null),v=N.useRef(null),F=N.useRef(new Uint8Array(128)),J=N.useRef(null),{addNotification:V}=dr(),U=dt(n),le={next:n==="ru"?"":"Next",back:n==="ru"?"":"Back",tutorial:n==="ru"?"":"Tutorial"};N.useEffect(()=>{g(e)},[e]),N.useEffect(()=>{D("")},[b,A]),N.useEffect(()=>{const G=new Audio;G.crossOrigin="anonymous",v.current=G;const ae=window.AudioContext||window.webkitAudioContext,W=new ae;S.current=W;const re=W.createAnalyser();re.fftSize=256,L.current=re;const ve=W.createMediaElementSource(G);_.current=ve,ve.connect(re),re.connect(W.destination);const ge=()=>{L.current&&L.current.getByteFrequencyData(F.current),J.current=requestAnimationFrame(ge)};return ge(),()=>{J.current&&cancelAnimationFrame(J.current),S.current&&S.current.close(),v.current&&(v.current.pause(),v.current=null)}},[]),N.useEffect(()=>{if(!v.current||(v.current.pause(),Y(!1),k!=="welcome"||fe||y===0))return;let G=y;y===1?G=2:y===2&&(G=1);const ae=`./sounds/welcome_step_${G}_${n}.wav`;v.current.src=ae,v.current.volume=.6,S.current&&S.current.state==="suspended"&&S.current.resume();const W=v.current.play();W!==void 0&&W.then(()=>{Y(!0)}).catch(ve=>{console.log("Audio autoplay waiting for interaction:",ve),Y(!1)});const re=()=>Y(!1);return v.current.addEventListener("ended",re),()=>{v.current&&v.current.removeEventListener("ended",re)}},[y,n,k,fe]);const te=G=>{w(k==="welcome"?"forward":G==="welcome"?"backward":"forward"),E(G)},Z=()=>{y<P-1&&I(G=>G+1)},q=()=>{y>0&&I(G=>G-1)},B=G=>{if(G.preventDefault(),f.trim().length<10){C(n==="ru"?" API   .":"API Key looks too short.");return}t(f.trim()),V(n==="ru"?"API  ":"API Key Saved","success")},oe=G=>{G.preventDefault(),A.trim().length>0&&(s(A.trim()),V(U.lockSaved||"PIN saved","success"),H(!1),O(""))},de=G=>{G.preventDefault(),o(b)?T(""):D(U.lockError)},me=async()=>{try{const G=await navigator.clipboard.readText();G&&(g(G.trim()),C(""))}catch(G){console.error("Failed to paste",G)}},xe=G=>{if(window.require)try{const{shell:ae}=window.require("electron");ae.openExternal(G)}catch{window.open(G,"_blank")}else window.open(G,"_blank")},be=G=>{const ae=k===G;let W="absolute inset-0 w-full h-full transition-all duration-500 ease-[cubic-bezier(0.2,0.8,0.2,1)] will-change-transform flex flex-col";if(ae)return`${W} opacity-100 scale-100 z-10 pointer-events-auto blur-0 translate-y-0`;if(x==="forward"){const re=["welcome","setup","guide"],ve=re.indexOf(G),ge=re.indexOf(k);return ve<ge?`${W} opacity-0 scale-90 z-0 pointer-events-none blur-sm`:`${W} opacity-0 scale-110 z-20 pointer-events-none blur-sm`}else{const re=["welcome","setup","guide"],ve=re.indexOf(G),ge=re.indexOf(k);return ve<ge?`${W} opacity-0 scale-90 z-0 pointer-events-none blur-sm`:`${W} opacity-0 scale-110 z-20 pointer-events-none blur-sm`}},ke=k==="setup"||k==="guide",ce=({className:G=""})=>a.jsx("button",{onClick:()=>ie(!fe),className:`p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-colors no-drag ${G}`,title:fe?n==="ru"?" ":"Unmute":n==="ru"?" ":"Mute",children:fe?a.jsx(Da,{className:"w-5 h-5"}):a.jsx(Ti,{className:"w-5 h-5"})});return i?a.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-slate-950 text-slate-200 h-full w-full overflow-hidden titlebar-drag-region p-4",children:[a.jsxs("div",{className:"absolute top-0 right-0 p-3 flex gap-2 no-drag z-50",children:[a.jsx("button",{onClick:()=>c("minimize"),className:"p-1.5 rounded hover:bg-slate-800 text-slate-400 hover:text-white transition-colors",children:a.jsx(ja,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>c("maximize"),className:"p-1.5 rounded hover:bg-slate-800 text-slate-400 hover:text-white transition-colors",children:a.jsx(Kr,{className:"w-3.5 h-3.5"})}),a.jsx("button",{onClick:()=>c("close"),className:"p-1.5 rounded hover:bg-red-600 text-slate-400 hover:text-white transition-colors",children:a.jsx(Et,{className:"w-4 h-4"})})]}),$&&a.jsx("div",{className:"absolute inset-0 z-[60] bg-slate-950/90 backdrop-blur-md flex items-center justify-center p-4 animate-in fade-in duration-300",children:a.jsx("div",{className:"bg-red-950/20 border border-red-900 rounded-2xl p-6 max-w-sm w-full shadow-2xl ring-1 ring-red-900/50",children:a.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[a.jsx("div",{className:"p-4 bg-red-900/30 rounded-full text-red-500",children:a.jsx(Kw,{className:"w-10 h-10"})}),a.jsx("h3",{className:"text-xl font-bold text-red-400",children:U.wipeTitle}),a.jsx("p",{className:"text-sm text-red-200/70 whitespace-pre-line leading-relaxed",children:U.wipeDesc}),a.jsxs("div",{className:"flex flex-col w-full gap-3 pt-2",children:[a.jsx("button",{onClick:d,className:"w-full py-3 rounded-lg bg-red-600 hover:bg-red-500 text-white font-bold transition-all shadow-lg shadow-red-900/40",children:U.wipeConfirm}),a.jsx("button",{onClick:()=>ee(!1),className:"w-full py-2.5 rounded-lg border border-red-900/50 text-red-300 hover:bg-red-900/20 transition-all text-sm",children:U.wipeCancel})]})]})})}),a.jsxs("div",{className:`no-drag w-full max-w-sm bg-slate-900 border border-slate-800 rounded-2xl shadow-2xl overflow-hidden p-8 flex flex-col items-center text-center animate-in zoom-in duration-300 ${$?"blur-sm scale-95 opacity-50 pointer-events-none":""}`,children:[a.jsx("div",{className:"bg-slate-800 p-4 rounded-full mb-6 ring-1 ring-indigo-500/30",children:a.jsx(bo,{className:"w-8 h-8 text-indigo-400"})}),a.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:U.lockTitle}),a.jsxs("form",{onSubmit:de,className:"w-full space-y-4",children:[a.jsx("input",{type:"password",inputMode:"numeric",value:b,onChange:G=>T(G.target.value),placeholder:U.lockPlaceholder,className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-4 py-3 text-center text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 font-mono tracking-widest text-lg",autoFocus:!0}),j&&a.jsx("p",{className:"text-red-400 text-xs animate-pulse",children:j}),a.jsxs("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-semibold py-3 px-4 rounded-lg flex items-center justify-center gap-2",children:[a.jsx(P2,{className:"w-4 h-4"}),a.jsx("span",{children:U.lockBtn})]})]}),a.jsx("button",{onClick:()=>ee(!0),className:"mt-6 text-[10px] text-slate-500 hover:text-red-400 transition-colors uppercase tracking-wider font-semibold",children:U.lockForgot})]})]}):a.jsxs("div",{className:`fixed inset-0 z-40 flex items-center justify-center bg-slate-950 text-slate-200 h-full w-full titlebar-drag-region overflow-hidden ${u?"pointer-events-none":""}`,children:[a.jsxs("div",{className:`fixed top-0 left-0 w-full h-full overflow-hidden pointer-events-none transition-opacity duration-1000 ${u?"opacity-0":"opacity-100"}`,children:[a.jsx("div",{className:`absolute inset-0 z-0 opacity-40 transition-opacity duration-1000 ${k==="welcome"&&z?"opacity-40":"opacity-0"}`,children:a.jsx(a0,{visualizerDataRef:F,isRecording:!0,visualizerStyle:"wave",amp:.6,highCut:50,lowCut:2,gravity:1.5,silenceThreshold:5,norm:!0,mirror:!0,rounded:!0})}),a.jsx("div",{className:"absolute top-[-10%] right-[-5%] w-96 h-96 bg-indigo-900/10 blur-[120px] rounded-full animate-pulse [animation-duration:8s]"}),a.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[500px] h-[500px] bg-blue-900/10 blur-[150px] rounded-full animate-pulse [animation-duration:10s]"})]}),a.jsxs("div",{className:`
            no-drag relative z-10 
            transition-all duration-700 ease-[cubic-bezier(0.2,0.8,0.2,1)]
            bg-transparent md:bg-slate-900 md:shadow-2xl md:overflow-hidden

            ${ke?"w-full h-full rounded-none border-none":"w-full h-full md:w-[600px] md:h-[650px] md:max-h-[90vh] md:rounded-2xl md:border md:border-slate-800"}

            ${u?"scale-90 opacity-0 blur-lg translate-y-10":"scale-100 opacity-100 blur-0 translate-y-0"}
        `,children:[a.jsx("div",{className:be("welcome"),children:a.jsxs("div",{className:"flex-1 flex flex-col relative overflow-hidden",children:[a.jsx("div",{className:"shrink-0 h-14 w-full flex items-center px-4 z-50 titlebar-drag-region",children:y>0&&a.jsx(ce,{})}),a.jsxs("div",{className:"flex-1 relative",children:[a.jsxs("div",{className:`absolute inset-0 flex flex-col items-center justify-center p-8 transition-all duration-500 ${y===0?"opacity-100 translate-x-0":y<0?"opacity-0 translate-x-10 pointer-events-none":"opacity-0 -translate-x-10 pointer-events-none"}`,children:[a.jsx("div",{className:"bg-indigo-600/20 p-6 rounded-full mb-8 ring-1 ring-indigo-500/50",children:a.jsx(Ti,{className:"w-12 h-12 text-indigo-400"})}),a.jsx("h1",{className:"text-3xl font-bold text-white text-center mb-2",children:U.wizStep0Title}),a.jsx("p",{className:"text-xl text-slate-400 text-center mb-10",children:U.wizStep0Subtitle}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 w-full max-w-sm",children:[a.jsxs("button",{onClick:()=>{ie(!1),Z()},className:"p-6 rounded-2xl border border-slate-700 bg-slate-800 hover:bg-emerald-900/20 hover:border-emerald-500/50 hover:text-emerald-400 transition-all duration-300 flex flex-col items-center gap-3 group",children:[a.jsx(Ti,{className:"w-8 h-8 group-hover:scale-110 transition-transform"}),a.jsx("span",{className:"font-bold",children:U.btnSoundOn})]}),a.jsxs("button",{onClick:()=>{ie(!0),Z()},className:"p-6 rounded-2xl border border-slate-700 bg-slate-800 hover:bg-slate-700/50 hover:border-slate-600 hover:text-slate-300 transition-all duration-300 flex flex-col items-center gap-3 group",children:[a.jsx(Da,{className:"w-8 h-8 group-hover:scale-110 transition-transform"}),a.jsx("span",{className:"font-bold",children:U.btnSoundOff})]})]})]}),a.jsxs("div",{className:`absolute inset-0 flex flex-col items-center justify-center p-8 transition-all duration-500 ${y===1?"opacity-100 translate-x-0":y<1?"opacity-0 translate-x-10 pointer-events-none":"opacity-0 -translate-x-10 pointer-events-none"}`,children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:U.wizStep2Title}),a.jsx("p",{className:"text-slate-400 text-center mb-8",children:U.wizStep2Desc}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 w-full max-w-sm",children:[a.jsxs("button",{onClick:()=>{r("ru"),setTimeout(Z,300)},className:`p-6 rounded-2xl border transition-all duration-300 flex flex-col items-center gap-3 ${n==="ru"?"bg-indigo-600/20 border-indigo-500 ring-2 ring-indigo-500/50":"bg-slate-800 border-slate-700 hover:border-slate-500"}`,children:[a.jsx("div",{className:"text-3xl",children:""}),a.jsx("span",{className:"font-bold text-white",children:""})]}),a.jsxs("button",{onClick:()=>{r("en"),setTimeout(Z,300)},className:`p-6 rounded-2xl border transition-all duration-300 flex flex-col items-center gap-3 ${n==="en"?"bg-indigo-600/20 border-indigo-500 ring-2 ring-indigo-500/50":"bg-slate-800 border-slate-700 hover:border-slate-500"}`,children:[a.jsx("div",{className:"text-3xl",children:""}),a.jsx("span",{className:"font-bold text-white",children:"English"})]})]})]}),a.jsxs("div",{className:`absolute inset-0 flex flex-col items-center justify-center p-8 transition-all duration-500 ${y===2?"opacity-100 translate-x-0":y<2?"opacity-0 translate-x-10 pointer-events-none":"opacity-0 -translate-x-10 pointer-events-none"}`,children:[a.jsx("div",{className:"bg-indigo-600 p-6 rounded-3xl shadow-2xl shadow-indigo-900/50 mb-8 animate-[bounce_2s_infinite]",children:a.jsx(Hn,{className:"w-12 h-12 text-white"})}),a.jsx("h1",{className:"text-3xl font-bold text-white text-center mb-2",children:U.wizStep1Title}),a.jsx("p",{className:"text-xl text-indigo-400 font-medium text-center mb-6",children:U.wizStep1Subtitle}),a.jsx("p",{className:"text-slate-400 text-center max-w-sm leading-relaxed",children:U.wizStep1Desc})]}),a.jsxs("div",{className:`absolute inset-0 flex flex-col items-center justify-center p-8 transition-all duration-500 ${y===3?"opacity-100 translate-x-0":y<3?"opacity-0 translate-x-10 pointer-events-none":"opacity-0 -translate-x-10 pointer-events-none"}`,children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:U.wizStep3Title}),a.jsx("p",{className:"text-slate-400 text-center mb-6 max-w-sm text-sm",children:U.wizStep3Desc}),a.jsx(H2,{language:n}),a.jsxs("div",{className:"w-full max-w-sm space-y-3",children:[a.jsx(Ef,{icon:a.jsx(Yu,{className:"w-4 h-4 text-amber-400"}),title:U.feature1Title,desc:U.feature1Desc}),a.jsx(Ef,{icon:a.jsx(ll,{className:"w-4 h-4 text-purple-400"}),title:U.feature2Title,desc:U.feature2Desc})]})]}),a.jsxs("div",{className:`absolute inset-0 flex flex-col items-center justify-center p-8 transition-all duration-500 ${y===4?"opacity-100 translate-x-0":y<4?"opacity-0 translate-x-10 pointer-events-none":"opacity-0 -translate-x-10 pointer-events-none"}`,children:[a.jsx("div",{className:"bg-emerald-500/20 p-6 rounded-full mb-6 ring-1 ring-emerald-500/50",children:a.jsx(Nf,{className:"w-12 h-12 text-emerald-400"})}),a.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:U.wizStep4Title}),a.jsx("p",{className:"text-slate-400 text-center mb-8 max-w-xs",children:U.wizStep4Desc}),a.jsxs("div",{className:"w-full max-w-sm space-y-3",children:[a.jsxs("button",{onClick:()=>te("setup"),className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-semibold py-4 px-4 rounded-xl transition-all duration-300 flex items-center justify-center gap-2 group shadow-lg shadow-indigo-900/20 hover:shadow-indigo-900/40 active:scale-95",children:[a.jsx("span",{children:U.btnHaveKey}),a.jsx(kf,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]}),a.jsx("button",{onClick:()=>te("guide"),className:"w-full bg-slate-800 hover:bg-slate-700 text-slate-300 hover:text-white font-semibold py-4 px-4 rounded-xl transition-all duration-300 flex items-center justify-center gap-2 text-sm border border-slate-700 active:scale-95",children:a.jsx("span",{children:U.btnNoKey})})]})]})]}),a.jsxs("div",{className:"p-6 shrink-0 flex items-center justify-between border-t border-slate-800/50 bg-slate-900/50",children:[a.jsx("button",{onClick:q,className:`text-slate-500 hover:text-white transition-colors text-sm font-medium ${y===0?"opacity-0 pointer-events-none":"opacity-100"}`,children:le.back}),a.jsx("div",{className:"flex gap-2",children:[0,1,2,3,4].map(G=>a.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${G===y?"w-6 bg-indigo-500":"w-1.5 bg-slate-700"}`},G))}),a.jsxs("button",{onClick:Z,className:`text-indigo-400 hover:text-indigo-300 transition-colors text-sm font-bold flex items-center gap-1 ${y===P-1||y===0?"opacity-0 pointer-events-none":"opacity-100"}`,children:[le.next," ",a.jsx(Cs,{className:"w-4 h-4 rotate-180"})]})]})]})}),a.jsxs("div",{className:be("setup"),children:[a.jsx("div",{className:"h-14 shrink-0 flex items-center justify-between px-4 gap-1 border-b border-slate-800 bg-slate-900/50 md:bg-transparent titlebar-drag-region",children:a.jsx(ce,{})}),a.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 md:p-8 flex flex-col justify-center items-center",children:[a.jsxs("div",{className:`transition-all duration-300 w-full max-w-lg relative ${M?"hidden":"block"}`,children:[a.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 -z-10 pointer-events-none select-none",children:a.jsx(Hn,{className:"w-96 h-96 text-indigo-600/10 blur-md animate-pulse duration-[3000ms]"})}),a.jsx("div",{className:"text-center mb-10 relative z-10",children:a.jsxs("h1",{className:"text-4xl md:text-5xl font-black tracking-tight mb-4 leading-tight",children:[a.jsx("span",{className:"block text-slate-200 mb-1",children:n==="ru"?"  ":"Welcome to"}),a.jsx("span",{className:"bg-gradient-to-r from-indigo-400 via-purple-400 to-fuchsia-400 bg-clip-text text-transparent drop-shadow-sm",children:"Fast Type AI"})]})}),a.jsx("div",{className:"bg-slate-900/80 backdrop-blur-sm border border-slate-800 rounded-2xl p-5 mb-4 relative z-10 shadow-xl",children:a.jsxs("div",{className:"flex items-start gap-4 mb-2",children:[a.jsx("div",{className:"w-10 h-10 bg-slate-800 rounded-xl flex items-center justify-center border border-slate-700 shrink-0",children:a.jsx(r0,{className:"w-5 h-5 text-indigo-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-white leading-tight mb-1",children:U.setupTitle}),a.jsx("p",{className:"text-sm text-slate-400 leading-snug",children:U.setupDesc})]})]})}),a.jsxs("div",{className:"bg-emerald-950/20 backdrop-blur-sm border border-emerald-500/20 rounded-xl p-3 mb-6 relative z-10 flex items-start gap-3 shadow-lg",children:[a.jsx("div",{className:"p-1.5 bg-emerald-500/10 rounded-lg shrink-0 mt-0.5",children:a.jsx(Nf,{className:"w-4 h-4 text-emerald-400"})}),a.jsx("p",{className:"text-[11px] text-emerald-100/70 leading-relaxed font-medium",children:U.securityNote})]}),a.jsxs("form",{onSubmit:B,className:"space-y-5 relative z-10",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-end mb-2",children:[a.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider ml-1",children:U.apiKeyLabel}),a.jsxs("div",{className:"flex items-center gap-3 text-[10px] font-medium",children:[a.jsxs("button",{type:"button",onClick:()=>xe("https://aistudio.google.com/app/apikey"),className:"text-indigo-400 hover:text-indigo-300 transition-colors flex items-center gap-1 group",children:[a.jsx("span",{children:U.linkGetKey}),a.jsx(Wu,{className:"w-3 h-3 group-hover:rotate-45 transition-transform"})]}),a.jsx("span",{className:"text-slate-700",children:"|"}),a.jsx("button",{type:"button",onClick:()=>te("guide"),className:"text-slate-500 hover:text-slate-300 transition-colors",children:U.linkTutorial})]})]}),a.jsx("div",{className:"relative group mb-1",children:a.jsxs("div",{className:"w-full bg-blue-500/10 border border-blue-500/20 text-blue-300 text-[10px] px-3 py-2 rounded-xl flex items-center justify-center gap-2 mb-2",children:[a.jsx(bo,{className:"w-3 h-3 shrink-0"}),a.jsx("span",{className:"text-center",children:U.apiKeyTooltip})]})}),a.jsxs("div",{className:"relative group",children:[a.jsx("input",{type:"password",value:f,onChange:G=>{g(G.target.value),C("")},placeholder:"AIzaSy...",className:"w-full bg-slate-950/80 border border-slate-700 rounded-xl pl-4 pr-10 py-3.5 text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 placeholder:text-slate-700 transition-all font-mono text-sm shadow-inner",autoFocus:k==="setup"&&!M}),a.jsx("button",{type:"button",onClick:me,className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 text-slate-500 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",title:"Paste",children:a.jsx(Zm,{className:"w-4 h-4"})})]}),m&&a.jsxs("p",{className:"text-red-400 text-xs mt-2 ml-1 animate-pulse flex items-center gap-1",children:[a.jsx("span",{children:""})," ",m]})]}),a.jsxs("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-3.5 px-4 rounded-xl transition-all duration-200 flex items-center justify-center gap-2 group shadow-lg shadow-indigo-900/20 hover:shadow-indigo-900/40 active:scale-95",children:[a.jsx("span",{children:U.startBtn}),a.jsx(kf,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]}),!l&&a.jsx("div",{className:"pt-4 border-t border-slate-800/50 text-center",children:a.jsxs("button",{type:"button",onClick:()=>H(!0),className:"inline-flex items-center gap-2 py-2 px-3 rounded-lg text-slate-500 hover:text-indigo-400 hover:bg-slate-800/50 transition-all text-xs font-medium",children:[a.jsx(ql,{className:"w-3.5 h-3.5"}),a.jsx("span",{children:U.btnCreatePin})]})})]})]}),M&&a.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4 duration-300 w-full max-w-lg relative z-20",children:[a.jsxs("button",{onClick:()=>H(!1),className:"flex items-center gap-1 text-xs font-bold text-slate-500 hover:text-white mb-6 transition-colors uppercase tracking-wide",children:[a.jsx(Cs,{className:"w-3 h-3"}),U.btnBack]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-white mb-2 flex items-center gap-2",children:[a.jsx(ql,{className:"w-6 h-6 text-emerald-400"}),U.lockCreateTitle]}),a.jsx("p",{className:"text-sm text-slate-400",children:U.lockCreateDesc})]}),a.jsxs("form",{onSubmit:oe,className:"space-y-6",children:[a.jsx("div",{className:"relative",children:a.jsx("input",{type:"password",inputMode:"numeric",value:A,onChange:G=>O(G.target.value),placeholder:"",autoFocus:M,className:"w-full bg-slate-950 border border-slate-700 rounded-xl px-4 py-4 text-slate-200 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500 placeholder:text-slate-800 font-mono tracking-[0.5em] text-2xl text-center shadow-inner",maxLength:8})}),a.jsxs("button",{type:"submit",disabled:A.length<3,className:"w-full bg-emerald-600 hover:bg-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold py-3.5 px-4 rounded-xl transition-all duration-200 flex items-center justify-center gap-2 shadow-lg shadow-emerald-900/20 active:scale-95",children:[a.jsx("span",{children:U.lockSetBtn}),a.jsx(ql,{className:"w-4 h-4"})]})]})]})]})]}),a.jsxs("div",{className:be("guide"),children:[a.jsxs("div",{className:"h-14 shrink-0 flex items-center px-4 gap-1 border-b border-slate-800 bg-slate-900/50 md:bg-transparent titlebar-drag-region",children:[a.jsx(ce,{}),a.jsxs("button",{onClick:()=>te("setup"),className:"flex items-center gap-1 text-slate-400 hover:text-white transition-colors py-2 px-2 rounded hover:bg-slate-800 no-drag",children:[a.jsx(Cs,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-medium",children:le.back})]})]}),a.jsx("div",{className:"flex-1 overflow-hidden relative flex flex-col",children:a.jsx(U2,{language:n,onDone:()=>te("setup"),isActive:k==="guide",isMuted:fe})})]})]}),a.jsx("div",{className:`absolute top-0 right-0 z-[100] flex items-start gap-3 p-3 transition-all duration-500 pointer-events-auto no-drag ${u?"opacity-0 -translate-y-4":"opacity-100"}`,children:a.jsxs("div",{className:"flex items-center gap-1 bg-slate-900/50 backdrop-blur border border-slate-800/60 rounded-lg p-0.5 pointer-events-auto no-drag",children:[a.jsx("button",{onClick:()=>te("welcome"),className:`p-1.5 rounded hover:bg-slate-800 text-slate-400 hover:text-white transition-colors ${k==="welcome"?"text-indigo-400":""}`,title:le.tutorial,children:a.jsx(n0,{className:"w-3.5 h-3.5"})}),a.jsx("div",{className:"w-px h-3 bg-slate-700/50 mx-0.5"}),a.jsx("button",{onClick:()=>r(n==="ru"?"en":"ru"),className:"p-1.5 rounded hover:bg-slate-800 text-slate-400 hover:text-white transition-colors text-[10px] font-bold uppercase min-w-[28px]",children:n}),a.jsx("div",{className:"w-px h-3 bg-slate-700/50 mx-0.5"}),a.jsx("button",{onClick:()=>c("minimize"),className:"p-1.5 rounded hover:bg-slate-800 text-slate-400 hover:text-white transition-colors",children:a.jsx(ja,{className:"w-3.5 h-3.5"})}),a.jsx("button",{onClick:()=>c("maximize"),className:"p-1.5 rounded hover:bg-slate-800 text-slate-400 hover:text-white transition-colors",children:a.jsx(Kr,{className:"w-3 h-3"})}),a.jsx("button",{onClick:()=>c("close"),className:"p-1.5 rounded hover:bg-red-600 text-slate-400 hover:text-white transition-colors",children:a.jsx(Et,{className:"w-3.5 h-3.5"})})]})})]})},Ef=({icon:e,title:t,desc:n})=>a.jsxs("div",{className:"flex items-start gap-4 p-3 rounded-xl hover:bg-white/10 transition-colors duration-300",children:[a.jsx("div",{className:"p-2 bg-slate-800 rounded-lg shrink-0 ring-1 ring-white/10",children:e}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-bold text-slate-200",children:t}),a.jsx("p",{className:"text-xs text-slate-500 mt-0.5 leading-relaxed",children:n})]})]}),B2=({isExiting:e=!1})=>a.jsxs("div",{className:`
        fixed inset-0 z-[200] flex flex-col items-center justify-center bg-slate-950 text-slate-200 h-screen w-screen titlebar-drag-region
        transition-all duration-1000 ease-[cubic-bezier(0.2,0.8,0.2,1)]
        ${e?"opacity-0 scale-110 blur-xl pointer-events-none":"opacity-100 scale-100 blur-0"}
      `,children:[a.jsxs("div",{className:"relative mb-8",children:[a.jsx("div",{className:"absolute inset-0 bg-indigo-500 blur-2xl opacity-20 animate-pulse rounded-full"}),a.jsx("div",{className:"relative bg-slate-900/80 p-6 rounded-2xl border border-slate-800 shadow-2xl shadow-indigo-900/20",children:a.jsx(Hn,{className:"w-12 h-12 text-indigo-400 animate-pulse"})})]}),a.jsxs("div",{className:"text-center space-y-3",children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight bg-gradient-to-br from-white to-slate-400 bg-clip-text text-transparent",children:"FastType AI"}),a.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-500 rounded-full animate-bounce [animation-delay:-0.3s]"}),a.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-500 rounded-full animate-bounce [animation-delay:-0.15s]"}),a.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-500 rounded-full animate-bounce"})]}),a.jsx("p",{className:"text-xs text-slate-500 font-medium uppercase tracking-widest pt-2",children:" ..."})]})]}),$2=({items:e,isOpen:t,isEnabled:n,onToggleEnabled:r,onClose:i,onClear:l,language:o})=>{const[s,u]=N.useState(""),[c,d]=N.useState(null),[f,g]=N.useState(!1),m=dt(o),{addNotification:C}=dr();N.useEffect(()=>{const y=setTimeout(()=>g(!0),100);return()=>clearTimeout(y)},[]);const k=e.filter(y=>y.text.toLowerCase().includes(s.toLowerCase())),E=async(y,I)=>{try{await navigator.clipboard.writeText(I),x(y)}catch{try{const b=document.createElement("textarea");b.value=I,b.style.position="fixed",b.style.left="-9999px",b.style.top="0",document.body.appendChild(b),b.focus(),b.select();const T=document.execCommand("copy");if(document.body.removeChild(b),T)x(y);else throw new Error("Fallback copy failed")}catch(b){console.error("Copy failed",b),C(o==="ru"?" ":"Copy failed","error")}}},x=y=>{d(y),C(o==="ru"?"":"Copied","success"),setTimeout(()=>{d(null)},2e3)},w=y=>new Intl.DateTimeFormat(o==="ru"?"ru-RU":"en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date(y));return a.jsxs("div",{className:`
            absolute top-0 right-0 w-80 h-full bg-slate-900 border-l border-slate-800 shadow-2xl z-40 
            flex flex-col no-drag 
            ${f?"transition-transform duration-300 ease-in-out":""} 
            ${t?"translate-x-0":"translate-x-full invisible pointer-events-none"}
        `,children:[a.jsxs("div",{className:"p-4 border-b border-slate-800 flex items-center justify-between shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ma,{className:"w-4 h-4 text-indigo-400"}),a.jsx("h3",{className:"text-sm font-semibold text-slate-200",children:m.clipboardTitle})]}),a.jsx("button",{onClick:i,className:"p-1 hover:bg-slate-800 rounded text-slate-500 hover:text-white transition-colors",children:a.jsx(Et,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"p-4 bg-slate-900 shrink-0 space-y-3 border-b border-slate-800",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-slate-400 font-medium",children:m.clipboardEnable}),a.jsx("button",{onClick:r,className:`relative w-10 h-5 rounded-full transition-colors ${n?"bg-indigo-600":"bg-slate-700"}`,children:a.jsx("span",{className:`absolute top-1 left-1 bg-white w-3 h-3 rounded-full shadow transition-transform ${n?"translate-x-5":"translate-x-0"}`})})]}),a.jsxs("div",{className:"relative",children:[a.jsx(E2,{className:"absolute left-3 top-2.5 w-3.5 h-3.5 text-slate-500"}),a.jsx("input",{type:"text",placeholder:m.clipboardSearch,value:s,onChange:y=>u(y.target.value),className:"w-full bg-slate-800/50 border border-slate-700 rounded-lg pl-9 pr-3 py-2 text-xs text-slate-200 focus:outline-none focus:border-indigo-500/50 transition-colors"})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2 space-y-2",children:n?k.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-slate-600 space-y-2",children:[a.jsx(Ma,{className:"w-8 h-8 opacity-50"}),a.jsx("p",{className:"text-xs",children:m.clipboardEmpty})]}):k.map(y=>{const I=c===y.id;return a.jsxs("div",{className:"group bg-slate-800/50 border border-slate-700/50 rounded-lg p-3 hover:border-indigo-500/30 hover:bg-slate-800 transition-all",children:[a.jsx("p",{className:"text-xs text-slate-300 line-clamp-3 mb-2 font-mono break-all",children:y.text}),a.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2 border-t border-slate-700/50",children:[a.jsx("span",{className:"text-[10px] text-slate-500",children:w(y.timestamp)}),a.jsxs("button",{onClick:()=>E(y.id,y.text),className:`flex items-center gap-1.5 px-2 py-1 rounded text-[10px] transition-all duration-200 ${I?"bg-emerald-600 text-white":"bg-slate-700 hover:bg-indigo-600 text-slate-300 hover:text-white"}`,children:[I?a.jsx(Wr,{className:"w-3 h-3"}):a.jsx(Qi,{className:"w-3 h-3"}),I?o==="ru"?"":"Copied":m.clipboardCopy]})]})]},y.id)}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-slate-600 space-y-2",children:[a.jsx(C2,{className:"w-8 h-8 opacity-50"}),a.jsx("p",{className:"text-xs",children:"History disabled"})]})}),k.length>0&&n&&a.jsx("div",{className:"p-3 border-t border-slate-800 bg-slate-900 shrink-0",children:a.jsxs("button",{onClick:l,className:"w-full flex items-center justify-center gap-2 py-2 rounded-lg border border-red-900/30 hover:bg-red-950/20 text-red-400 text-xs transition-colors",children:[a.jsx(Yr,{className:"w-3.5 h-3.5"}),m.clipboardClear]})})]})},q2="0.1.4",G2=()=>{const[e,t]=N.useState(0);return N.useEffect(()=>{let n=performance.now(),r=0,i=!0;const l=o=>{i&&(r++,o-n>=1e3&&(t(Math.round(r*1e3/(o-n))),r=0,n=o),requestAnimationFrame(l))};return requestAnimationFrame(l),()=>{i=!1}},[]),a.jsxs("span",{className:"text-[10px] font-mono text-fuchsia-400 bg-fuchsia-900/20 px-1.5 py-0.5 rounded border border-fuchsia-500/30 select-none animate-in fade-in",children:[e," FPS"]})},W2=({language:e,status:t,isGrammarChecking:n,stats:r,settings:i,showSettings:l,showHistory:o,currentTab:s,isPinned:u,setCurrentTab:c,onToggleLanguage:d,onTogglePause:f,onToggleSettings:g,onToggleHistory:m,onToggleHelp:C,onTogglePin:k,onGoHome:E,onWindowControl:x,onResetProcessor:w,historyUpdateCount:y=0,onClearText:I,onCopyText:P,onPasteText:b,onCutText:T,onClearAndPaste:A,showClipboard:O,onToggleClipboard:j,onUpdateSettings:D})=>{const M=dt(e),[H,$]=N.useState(!1);N.useEffect(()=>{if(y>0){$(!0);const U=setTimeout(()=>$(!1),800);return()=>clearTimeout(U)}},[y]);const ee=U=>{D?D({...i,[U]:!i[U]}):console.warn("onUpdateSettings not provided to AppHeader")},fe=[{id:"editor",icon:x2,label:M.tabEditor,activeColor:"bg-slate-800"},{id:"chat",icon:Gu,label:M.tabAssist,activeColor:"bg-indigo-600"},{id:"translator",icon:i0,label:M.tabTrans,activeColor:"bg-emerald-600"}],ie=t==="typing",z=t==="recording"||t==="transcribing",Y=t==="dict_check",S=t==="ai_fixing",L=t==="ai_finalizing"||t==="enhancing",_=t==="script_fix",v=a.jsxs("div",{className:"flex items-center gap-3 select-none pr-2 cursor-default titlebar-drag-region",children:[a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute inset-0 bg-indigo-500 blur opacity-20 group-hover:opacity-40 transition-opacity rounded-lg"}),a.jsx("div",{className:"relative bg-slate-800/80 border border-slate-700/50 p-1.5 rounded-lg shadow-sm group-hover:border-indigo-500/30 transition-colors",children:a.jsx(Hn,{className:"w-3.5 h-3.5 text-indigo-400"})})]}),a.jsxs("span",{className:"font-bold text-sm text-slate-200 tracking-tight hidden sm:block",children:["FastType ",a.jsx("span",{className:"text-indigo-400",children:"AI"})]})]}),F=a.jsxs("div",{className:"flex items-center gap-1 bg-slate-800/30 p-1 rounded-lg border border-slate-800/50 no-drag",children:[a.jsx(_e,{content:e==="ru"?" ":"Cut All",side:"bottom",children:a.jsx("button",{onClick:T,className:"p-1.5 rounded-md hover:bg-slate-800 text-slate-400 hover:text-pink-400 transition-colors cursor-pointer active:scale-95",children:a.jsx(Ra,{className:"w-4 h-4"})})}),a.jsx(_e,{content:M.btnHeaderCopy,side:"bottom",children:a.jsx("button",{onClick:P,className:"p-1.5 rounded-md hover:bg-slate-800 text-slate-400 hover:text-indigo-400 transition-colors cursor-pointer active:scale-95",children:a.jsx(Qi,{className:"w-4 h-4"})})}),a.jsx(_e,{content:M.btnHeaderPaste,side:"bottom",children:a.jsx("button",{onClick:b,className:"p-1.5 rounded-md hover:bg-slate-800 text-slate-400 hover:text-emerald-400 transition-colors cursor-pointer active:scale-95",children:a.jsx(Zm,{className:"w-4 h-4"})})}),a.jsx(_e,{content:e==="ru"?" ()":"Replace All",side:"bottom",children:a.jsx("button",{onClick:A,className:"p-1.5 rounded-md hover:bg-slate-800 text-slate-400 hover:text-cyan-400 transition-colors cursor-pointer active:scale-95",children:a.jsx(S2,{className:"w-4 h-4"})})}),a.jsx("div",{className:"w-px h-3 bg-slate-700/50 mx-0.5"}),a.jsx(_e,{content:M.btnHeaderClear,side:"bottom",children:a.jsx("button",{onClick:I,className:"p-1.5 rounded-md hover:bg-red-900/30 text-slate-400 hover:text-red-400 transition-colors cursor-pointer active:scale-95",children:a.jsx(Yr,{className:"w-4 h-4"})})})]}),J=a.jsx("div",{className:"flex p-1 bg-slate-950 rounded-lg border border-slate-800 shrink-0 gap-1 no-drag",children:fe.map(U=>{const le=s===U.id;return a.jsxs("button",{onClick:()=>c(U.id),className:`flex items-center justify-center gap-2 px-3 py-1.5 rounded-md text-xs font-semibold transition-all duration-300 ease-[cubic-bezier(0.4,0,0.2,1)] touch-manipulation overflow-hidden ${le?`${U.activeColor} text-white shadow-md`:"text-slate-500 hover:text-slate-300 hover:bg-slate-800/50"}`,children:[a.jsx(U.icon,{className:`w-3.5 h-3.5 shrink-0 transition-transform duration-300 ${le?"scale-110":"scale-100"}`}),a.jsx("span",{className:`overflow-hidden transition-all duration-300 ease-in-out whitespace-nowrap ${le?"max-w-[150px] opacity-100 ml-0.5":"max-w-0 opacity-0 hidden sm:inline-block"}`,children:U.label})]},U.id)})}),V=a.jsxs("div",{className:"flex items-center gap-1 overflow-visible animate-in fade-in slide-in-from-left-4 duration-300 no-drag",children:[a.jsx(_e,{content:M.detailReset||"Reset Processor",side:"bottom",children:a.jsx("button",{onClick:w,className:"p-2 rounded-full text-slate-500 hover:text-white hover:bg-slate-800 transition-all cursor-pointer group active:scale-95 touch-manipulation",children:a.jsx(Ku,{className:"w-4 h-4 group-hover:-rotate-90 transition-transform duration-300"})})}),a.jsx(_e,{content:i.enabled?M.tooltipPauseAction:M.tooltipResumeAction,side:"bottom",children:a.jsx("button",{onClick:f,className:`p-2 rounded-full transition-all cursor-pointer hover:bg-slate-800 active:scale-95 touch-manipulation ${i.enabled?"text-slate-500 hover:text-white":"text-amber-400 hover:text-amber-300"}`,children:i.enabled?a.jsx(xr,{className:"w-4 h-4"}):a.jsx(o0,{className:"w-4 h-4"})})}),a.jsx("div",{className:"w-px h-4 bg-slate-800 mx-1 md:mx-2 shrink-0"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_e,{content:M.detailDictation,side:"bottom",children:a.jsx("div",{className:`shrink-0 flex items-center justify-center w-8 h-8 rounded-full border transition-all duration-300 ${z?"bg-orange-950/40 border-orange-500/50 text-orange-400 shadow-[0_0_10px_rgba(251,146,60,0.3)]":"bg-slate-800 border-slate-700 text-slate-600"}`,children:a.jsx(Un,{className:`w-3.5 h-3.5 ${z?"animate-pulse":""}`})})}),a.jsx(_e,{content:M.historyTitle,side:"bottom",children:a.jsx("button",{onClick:m,className:`shrink-0 flex items-center justify-center w-8 h-8 rounded-full border transition-all duration-300 cursor-pointer ${H?"bg-slate-600 border-white text-white shadow-[0_0_15px_rgba(255,255,255,0.5)] scale-110":o?"bg-indigo-600 border-indigo-500 text-white":"bg-slate-800 border-slate-700 text-slate-600 hover:text-slate-400"}`,children:a.jsx(t0,{className:`w-3.5 h-3.5 ${H?"animate-pulse":""}`})})}),a.jsx(_e,{content:M.detailTyping,side:"bottom",children:a.jsx("div",{className:`shrink-0 flex items-center justify-center w-8 h-8 rounded-full border transition-all duration-300 ${ie?"bg-slate-700 border-slate-500 text-white shadow-[0_0_10px_rgba(148,163,184,0.3)]":"bg-slate-800 border-slate-700 text-slate-600"}`,children:a.jsx(y2,{className:`w-3.5 h-3.5 ${ie?"animate-pulse":""}`})})}),a.jsx(_e,{content:i.miniScripts?M.detailScriptFix:"Auto-Format Paused",side:"bottom",children:a.jsx("button",{onClick:()=>ee("miniScripts"),className:`shrink-0 flex items-center justify-center w-8 h-8 rounded-full border transition-all duration-300 cursor-pointer active:scale-95 ${i.miniScripts?_?"bg-blue-950/40 border-blue-500/50 text-blue-400 shadow-[0_0_10px_rgba(96,165,250,0.3)]":"bg-slate-800 border-slate-700 text-slate-600 hover:text-blue-400":"bg-slate-800 border-slate-700 text-slate-500 opacity-60"}`,children:i.miniScripts?a.jsx(ll,{className:`w-3.5 h-3.5 ${_?"animate-pulse":""}`}):a.jsx(xr,{className:"w-3.5 h-3.5"})})}),a.jsx(_e,{content:i.dictionaryCheck?M.detailDictCheck:"Dictionary Check Paused",side:"bottom",children:a.jsx("button",{onClick:()=>ee("dictionaryCheck"),className:`shrink-0 flex items-center justify-center w-8 h-8 rounded-full border transition-all duration-300 cursor-pointer active:scale-95 ${i.dictionaryCheck?Y?"bg-yellow-950/40 border-yellow-500/50 text-yellow-400 shadow-[0_0_10px_rgba(250,204,21,0.2)]":"bg-slate-800 border-slate-700 text-sky-600 hover:text-yellow-400":"bg-slate-800 border-slate-700 text-slate-500 opacity-60"}`,children:i.dictionaryCheck?a.jsx(Zw,{className:`w-3.5 h-3.5 ${Y?"animate-bounce":""}`}):a.jsx(xr,{className:"w-3.5 h-3.5"})})}),a.jsx(_e,{content:i.fixTypos?M.detailAiFixing:"AI Fixing Paused",side:"bottom",children:a.jsx("button",{onClick:()=>ee("fixTypos"),className:`shrink-0 flex items-center justify-center w-8 h-8 rounded-full border transition-all duration-300 cursor-pointer active:scale-95 ${i.fixTypos?S?"bg-purple-950/40 border-purple-500/50 text-purple-400 shadow-[0_0_10px_rgba(168,85,247,0.3)]":"bg-slate-800 border-slate-700 text-slate-600 hover:text-purple-400":"bg-slate-800 border-slate-700 text-slate-500 opacity-60"}`,children:i.fixTypos?a.jsx(Yu,{className:`w-3.5 h-3.5 ${S?"animate-pulse":""}`}):a.jsx(xr,{className:"w-3.5 h-3.5"})})}),a.jsx(_e,{content:i.fixPunctuation?M.detailFinalizing:"Finalization Paused",side:"bottom",children:a.jsx("button",{onClick:()=>ee("fixPunctuation"),className:`shrink-0 flex items-center justify-center w-8 h-8 rounded-full border transition-all duration-300 cursor-pointer active:scale-95 ${i.fixPunctuation?L?"bg-emerald-950/40 border-emerald-500/50 text-emerald-400 shadow-[0_0_10px_rgba(16,185,129,0.3)]":"bg-slate-800 border-slate-700 text-slate-600 hover:text-emerald-400":"bg-slate-800 border-slate-700 text-slate-500 opacity-60"}`,children:i.fixPunctuation?a.jsx(Hn,{className:`w-3.5 h-3.5 ${L?"animate-spin":""}`}):a.jsx(xr,{className:"w-3.5 h-3.5"})})})]})]});return a.jsxs("header",{className:"titlebar-drag-region bg-slate-900 border-b border-slate-800 px-3 md:px-4 py-2 md:py-3 flex flex-col shrink-0 z-50 relative select-none supports-[padding-top:env(safe-area-inset-top)]:pt-[env(safe-area-inset-top)] transition-[height] duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between w-full",children:[a.jsxs("div",{className:"flex items-center gap-2 md:gap-4 flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-1 bg-slate-800/30 p-1 rounded-lg border border-slate-800/50 no-drag",children:[a.jsx(_e,{content:M.tooltipHome,side:"bottom",children:a.jsx("button",{onClick:E,className:"p-1.5 rounded-md hover:bg-slate-800 text-slate-400 hover:text-indigo-400 transition-colors cursor-pointer active:scale-95",children:a.jsx(u2,{className:"w-4 h-4"})})}),a.jsx(_e,{content:M.tooltipHelp,side:"bottom",children:a.jsx("button",{onClick:C,className:"p-1.5 rounded-md hover:bg-slate-800 text-slate-400 hover:text-indigo-400 transition-colors cursor-pointer active:scale-95",children:a.jsx(e0,{className:"w-4 h-4"})})}),a.jsx(_e,{content:M.tooltipSettings,side:"bottom",children:a.jsx("button",{onClick:g,className:`p-1.5 rounded-md transition-colors cursor-pointer active:scale-95 ${l?"bg-indigo-900/30 text-indigo-400":"hover:bg-slate-800 text-slate-400"}`,children:a.jsx(T2,{className:"w-4 h-4"})})})]}),a.jsx("div",{className:"h-5 w-px bg-slate-800 mx-0.5 hidden md:block"}),v,a.jsxs("div",{className:"hidden min-[1360px]:flex items-center gap-4 pl-4 border-l border-slate-800/50",children:[J,s==="editor"&&V]})]}),a.jsxs("div",{className:"flex items-center gap-2 md:gap-3 z-50 relative shrink-0",children:[s==="editor"&&a.jsx("div",{className:"hidden min-[1360px]:block",children:F}),a.jsxs("div",{className:"flex items-center gap-2 no-drag",children:[a.jsx(_e,{content:M.tooltipLang,side:"bottom",children:a.jsx("button",{onClick:d,className:"px-2 py-1.5 rounded bg-slate-800 text-[10px] font-bold text-slate-400 hover:text-white border border-slate-700 transition-colors uppercase cursor-pointer min-w-[32px] active:scale-95",children:e})}),s==="editor"&&a.jsx(_e,{content:M.tooltipStats,side:"bottom",children:a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-slate-800 rounded-md text-xs font-semibold text-slate-400 border border-slate-700 select-none",children:[a.jsx(l2,{className:"w-3 h-3"}),a.jsx("span",{children:r.corrections})]})})]}),a.jsxs("div",{className:"flex items-center gap-3 pl-2 border-l border-slate-800 ml-1 no-drag",children:[i.developerMode&&a.jsx(G2,{}),a.jsxs("span",{className:"text-[10px] font-mono text-slate-700 select-none whitespace-nowrap",children:["v",q2]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(_e,{content:u?M.tooltipUnpin:M.tooltipPin,side:"bottom",children:a.jsx("button",{onClick:k,className:`p-1.5 rounded hover:bg-slate-800 transition-colors cursor-pointer ${u?"text-indigo-400":"text-slate-400 hover:text-white"}`,children:u?a.jsx(v2,{className:"w-3.5 h-3.5"}):a.jsx(w2,{className:"w-3.5 h-3.5"})})}),a.jsx("div",{className:"w-px h-3 bg-slate-800 mx-0.5"}),a.jsx("button",{onClick:()=>x("minimize"),className:"p-1.5 rounded hover:bg-slate-800 text-slate-400 hover:text-white transition-colors cursor-pointer",children:a.jsx(ja,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>x("maximize"),className:"p-1.5 rounded hover:bg-slate-800 text-slate-400 hover:text-white transition-colors cursor-pointer",children:a.jsx(Kr,{className:"w-3.5 h-3.5"})}),a.jsx("button",{onClick:()=>x("close"),className:"p-1.5 rounded hover:bg-red-600 text-slate-400 hover:text-white transition-colors cursor-pointer",children:a.jsx(Et,{className:"w-4 h-4"})})]})]})]})]}),a.jsxs("div",{className:"flex min-[1360px]:hidden items-center justify-between gap-2 w-full mt-2 pt-2 border-t border-slate-800 animate-in slide-in-from-top-1 fade-in duration-300",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[J,s==="editor"&&V]}),s==="editor"&&F]})]})},di=(e,t,n)=>e*(1-n)+t*n,K2=({threshold:e,language:t,isVisible:n,lowCut:r=0,highCut:i=128,amp:l=1,style:o="classic",norm:s=!1,gravity:u=2,mirror:c=!1})=>{const[d,f]=N.useState(!1),[g,m]=N.useState(0),[C,k]=N.useState(""),E=N.useRef(null),x=N.useRef(null),w=N.useRef(null),y=N.useRef(null),I=N.useRef(null),P=N.useRef({lowCut:r,highCut:i,amp:l,style:o,norm:s,gravity:u,threshold:e,mirror:c});N.useEffect(()=>{P.current={lowCut:r,highCut:i,amp:l,style:o,norm:s,gravity:u,threshold:e,mirror:c}},[r,i,l,o,s,u,e,c]);const b=N.useRef({volBass:0,volMid:0,volHigh:0,phaseFront:0,phaseMid:0,phaseBack:0}),T=N.useRef([]),A=dt(t);N.useEffect(()=>{!n&&d&&D()},[n]),N.useEffect(()=>()=>D(),[]);const O=H=>{let $=0;for(let ee=0;ee<H.length;ee++){const fe=(H[ee]-128)/128;$+=fe*fe}return Math.sqrt($/H.length)},j=async()=>{try{const H=await navigator.mediaDevices.getUserMedia({audio:!0});x.current=H;const $=new(window.AudioContext||window.webkitAudioContext);E.current=$;const ee=$.createAnalyser();ee.fftSize=512,ee.smoothingTimeConstant=.5,$.createMediaStreamSource(H).connect(ee),w.current=ee;const ie=ee.frequencyBinCount,z=new Uint8Array(ie),Y=new Uint8Array(ie);T.current=new Array(ie).fill(0);const S=()=>{if(!w.current||!y.current)return;const{lowCut:L,highCut:_,amp:v,style:F,norm:J,gravity:V,threshold:U,mirror:le}=P.current;w.current.getByteFrequencyData(z),w.current.getByteTimeDomainData(Y);const te=O(Y),Z=Math.min(100,te/.2*100);m(Z);const q=y.current,B=q.getContext("2d"),oe=U/100;if(q.parentElement&&(q.width!==q.parentElement.offsetWidth&&(q.width=q.parentElement.offsetWidth),q.height!==q.parentElement.offsetHeight&&(q.height=q.parentElement.offsetHeight)),B){const de=q.width,me=q.height,xe=me/2,be=de/2;if(B.clearRect(0,0,de,me),F==="classic"){let ke=0,ce=0,G=0,ae=0,W=0,re=0;for(let pe=0;pe<z.length;pe++){if(pe<L||pe>_)continue;let he=z[pe]/255;he<oe?he=0:he=(he-oe)/(1-oe),J&&he>0&&(he=Math.pow(he,.6)),he<.05&&(he=0),pe<=5?(ke+=he,ae++):pe<=30?(ce+=he,W++):(G+=he,re++)}ae>0&&(ke/=ae),W>0&&(ce/=W),re>0&&(G/=re);const ve=Math.max(.1,ke*6),ge=Math.max(.05,ce*5),R=Math.max(.02,G*3),K=V*.1;b.current.volBass=di(b.current.volBass,ve,ve>b.current.volBass?.5:K),b.current.volMid=di(b.current.volMid,ge,ge>b.current.volMid?.5:K),b.current.volHigh=di(b.current.volHigh,R,R>b.current.volHigh?.5:K),b.current.phaseBack+=.003,b.current.phaseMid+=.01,b.current.phaseFront+=.03,[{color:"rgba(56, 189, 248, 0.3)",lineWidth:2,amplitudeMod:.8,freqMod:.8,phase:b.current.phaseBack,volume:b.current.volBass,phaseOffset:0},{color:"rgba(168, 85, 247, 0.5)",lineWidth:3,amplitudeMod:.9,freqMod:1,phase:b.current.phaseMid,volume:b.current.volMid,phaseOffset:2},{color:"rgba(99, 102, 241, 0.9)",lineWidth:2,amplitudeMod:1.1,freqMod:.8,phase:b.current.phaseFront,volume:b.current.volHigh,phaseOffset:4}].forEach(pe=>{B.beginPath(),B.strokeStyle=pe.color,B.lineWidth=pe.lineWidth,B.lineCap="round",B.lineJoin="round";let he=!1;for(let Me=0;Me<=de;Me+=2){const Vt=Me/de*2-1,Ct=Math.pow(1-Math.abs(Vt),3),sn=Math.sin(Me*.01*pe.freqMod+pe.phase+pe.phaseOffset),an=1+pe.volume*2,Xe=Math.sin(Me*.1*an+pe.phase*5),Qt=(sn*.5+Xe*.8)*(pe.volume*(me*.4)*pe.amplitudeMod*v),ft=xe+Qt*Ct;he?B.lineTo(Me,ft):(B.moveTo(Me,ft),he=!0)}B.stroke()})}else if(F==="bars"){const ke=_-L,ce=Math.floor(ke/2),ae=(le?de/2:de)/ce,W=V*.02;for(let re=0;re<ce;re++){const ve=L+re*2;if(ve>=z.length)break;let ge=z[ve]/255;ge<oe?ge=0:ge=(ge-oe)/(1-oe),J&&ge>0&&(ge=Math.pow(ge,.6));const R=ge*me*.8*v,K=T.current[re]||0;let se=K;R>K?se=R:se=di(K,R,W),T.current[re]=se;const pe=re*2+200;if(B.fillStyle=`hsl(${pe}, 80%, 60%)`,le){const he=re*ae;B.fillRect(be+he,xe-se/2,ae-1,se),B.fillRect(be-he-ae,xe-se/2,ae-1,se)}else{const he=re*ae;B.fillRect(he,xe-se/2,ae-1,se)}}}else if(F==="circular"){const ke=Math.min(de,me)*.2,ce=_-L,G=V*.02,ae=le?Math.PI/ce:2*Math.PI/ce;B.translate(be,xe);const W=0;for(let re=0;re<ce;re++){const ve=L+re;if(ve>=z.length)break;let ge=z[ve]/255;ge<oe?ge=0:ge=(ge-oe)/(1-oe),J&&ge>0&&(ge=Math.pow(ge,.6));const R=ge*(Math.min(de,me)*.3)*v,K=T.current[re]||0;let se=K;R>K?se=R:se=di(K,R,G),T.current[re]=se;const pe=re*3+240;if(B.fillStyle=`hsl(${pe}, 90%, 65%)`,le){const he=re*ae;B.save(),B.rotate(W-he),B.fillRect(0,ke,2,se),B.restore(),B.save(),B.rotate(W+he),B.fillRect(0,ke,2,se),B.restore()}else{const he=re*ae;B.save(),B.rotate(W+he),B.fillRect(0,ke,2,se),B.restore()}}B.setTransform(1,0,0,1,0,0)}else if(F==="wave"){B.beginPath(),B.strokeStyle="#6366f1",B.lineWidth=2;const ke=_-L;if(le){const ce=de/2/ke;for(let G=0;G<ke;G++){let ae=z[L+G]/255;ae<oe?ae=0:ae=(ae-oe)/(1-oe),J&&ae>0&&(ae=Math.pow(ae,.6));const W=ae*(me*.4)*v,re=G%2===0?1:-1,ve=xe+W*re,ge=be+G*ce;G===0?B.moveTo(ge,ve):B.lineTo(ge,ve)}for(let G=0;G<ke;G++){let ae=z[L+G]/255;ae<oe?ae=0:ae=(ae-oe)/(1-oe),J&&ae>0&&(ae=Math.pow(ae,.6));const W=ae*(me*.4)*v,re=G%2===0?1:-1,ve=xe+W*re,ge=be-G*ce;B.moveTo(ge,ve)}B.stroke(),B.beginPath();for(let G=0;G<ke;G++){let ae=z[L+G]/255;ae<oe?ae=0:ae=(ae-oe)/(1-oe),J&&ae>0&&(ae=Math.pow(ae,.6));const W=ae*(me*.4)*v,re=G%2===0?1:-1,ve=xe+W*re,ge=be-G*ce;G===0?B.moveTo(ge,ve):B.lineTo(ge,ve)}B.stroke()}else{const ce=de/ke;let G=0;for(let ae=L;ae<_;ae++){let W=z[ae]/255;W<oe?W=0:W=(W-oe)/(1-oe),J&&W>0&&(W=Math.pow(W,.6));const re=W*(me*.4)*v,ve=ae%2===0?1:-1,ge=xe+re*ve;ae===L?B.moveTo(G,ge):B.lineTo(G,ge),G+=ce}B.stroke()}}}I.current=requestAnimationFrame(S)};S(),f(!0),k("")}catch(H){console.error(H),k(A.micAccessError||"Mic Error"),f(!1)}},D=()=>{if(I.current&&cancelAnimationFrame(I.current),x.current&&x.current.getTracks().forEach(H=>H.stop()),E.current&&E.current.close(),f(!1),m(0),y.current){const H=y.current.getContext("2d");H==null||H.clearRect(0,0,y.current.width,y.current.height)}},M=g>e;return a.jsxs("div",{className:"mt-4 p-4 bg-slate-900 rounded-lg border border-slate-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ti,{className:`w-4 h-4 ${d?"text-indigo-400":"text-slate-500"}`}),a.jsx("span",{className:"text-sm font-medium text-slate-300",children:d?A.noiseLevel||"Noise Level":A.testMic||"Test Microphone"})]}),a.jsx("button",{onClick:d?D:j,className:`px-3 py-1.5 rounded text-xs font-bold transition-colors border ${d?"bg-red-900/30 text-red-400 border-red-900/50 hover:bg-red-900/50":"bg-indigo-600 text-white border-transparent hover:bg-indigo-500"}`,children:d?A.stopTest||"Stop":A.testMic||"Start Test"})]}),C&&a.jsx("p",{className:"text-xs text-red-400 mb-2",children:C}),a.jsxs("div",{className:"relative h-24 bg-slate-950 rounded-md overflow-hidden border border-slate-700 shadow-inner",children:[a.jsx("canvas",{ref:y,className:"absolute inset-0 w-full h-full z-10"}),a.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-red-500/80 z-20 transition-all duration-300 shadow-[0_0_8px_rgba(239,68,68,0.5)]",style:{left:`${e}%`}}),a.jsxs("div",{className:"absolute inset-0 flex text-[9px] font-bold text-slate-500 z-30 pointer-events-none select-none",children:[a.jsx("div",{style:{width:`${e}%`},className:"h-full flex items-end justify-center pb-1 border-r border-slate-700/30 bg-red-500/5",children:a.jsx("span",{className:"opacity-50 truncate px-1",children:A.silenceZone||"Silence"})}),a.jsx("div",{className:"flex-1 h-full flex items-end justify-center pb-1 bg-emerald-500/5",children:a.jsx("span",{className:"opacity-50 truncate px-1",children:A.speechZone||"Speech"})})]}),a.jsx("div",{className:`absolute top-0 bottom-0 left-0 transition-all duration-75 ease-out z-0 opacity-20 ${M?"bg-emerald-500":"bg-slate-500"}`,style:{width:`${g}%`}})]}),a.jsxs("p",{className:"text-[10px] text-slate-500 mt-2 text-right font-mono",children:["Input: ",Math.round(g),"% | Trigger: ",e,"%"]})]})},Y2=({settings:e,language:t,onUpdateSettings:n,onResetKey:r,onUpdateApiKey:i,hasLock:l,onRemoveLock:o,onSetLock:s,onClose:u,isVisible:c=!0,onVerifyPin:d})=>{const f=dt(t),g=Uw(),{addNotification:m}=dr(),[C,k]=N.useState(!1),[E,x]=N.useState("none"),[w,y]=N.useState(""),[I,P]=N.useState(""),[b,T]=N.useState(!1),[A,O]=N.useState("");N.useEffect(()=>{y(""),P(""),c||T(!1)},[E,c]);const j=()=>{P(""),E==="create"?w.length>=3&&s&&(s(w),x("none")):E==="verify_change"||E==="verify_remove"?d&&d(w)?E==="verify_remove"&&o?(o(),x("none")):(x("set_new"),y("")):P(f.lockError):E==="set_new"&&w.length>=3&&s&&(s(w),x("none"))},D=()=>{if(A.trim().length<10){m(t==="ru"?"  ":"Key too short","error");return}i&&(i(A.trim()),m(t==="ru"?" ":"Key updated","success"),T(!1),O(""))},M=()=>{switch(E){case"create":return f.lockCreateTitle;case"verify_change":return f.lockVerifyOld||"Verify PIN";case"verify_remove":return f.lockVerifyOld||"Verify PIN";case"set_new":return f.lockNew||"New PIN";default:return""}};return a.jsxs("div",{className:"bg-slate-900 border-b border-slate-800 shadow-xl z-40 w-full shrink-0 h-[85vh] md:max-h-[85vh] md:h-auto overflow-y-auto custom-scrollbar flex flex-col relative select-none",children:[b&&a.jsx("div",{className:"absolute inset-0 z-[60] bg-slate-900/95 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in zoom-in duration-200 select-none",children:a.jsxs("div",{className:"w-full max-w-sm bg-slate-800 border border-slate-700 rounded-xl p-6 shadow-2xl relative",children:[a.jsx("button",{onClick:()=>T(!1),className:"absolute top-4 right-4 text-slate-500 hover:text-white transition-colors",children:a.jsx(Et,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex flex-col items-center text-center mb-6",children:[a.jsx("div",{className:"w-12 h-12 bg-indigo-900/30 rounded-full flex items-center justify-center mb-3 text-indigo-400 border border-indigo-500/20",children:a.jsx(Sf,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:f.changeKey}),a.jsx("p",{className:"text-xs text-slate-400",children:t==="ru"?"   API ":"Enter your new API key below"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("input",{type:"password",value:A,onChange:H=>O(H.target.value),placeholder:"AIzaSy...",className:"w-full bg-slate-900 border border-slate-600 rounded-lg px-4 py-3 text-slate-200 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 font-mono text-sm",autoFocus:!0}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("button",{onClick:D,className:"flex-1 bg-indigo-600 hover:bg-indigo-500 text-white font-semibold py-2.5 rounded-lg transition-colors flex items-center justify-center gap-2",children:[a.jsx(N2,{className:"w-4 h-4"}),t==="ru"?"":"Save"]})}),a.jsxs("div",{className:"pt-4 border-t border-slate-700/50 flex flex-col gap-2",children:[a.jsxs("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noreferrer",className:"text-xs text-indigo-400 hover:text-indigo-300 flex items-center justify-center gap-1",children:[a.jsx(Wu,{className:"w-3 h-3"}),f.linkGetKey]}),a.jsxs("button",{onClick:()=>{r(),T(!1)},className:"text-xs text-red-400 hover:text-red-300 flex items-center justify-center gap-1 mt-1 opacity-70 hover:opacity-100",children:[a.jsx(f2,{className:"w-3 h-3"}),t==="ru"?"   ":"Remove Key & Logout"]})]})]})]})}),a.jsxs("div",{className:"sticky top-0 z-50 flex items-center justify-between px-4 md:px-6 py-4 bg-slate-900/95 backdrop-blur border-b border-slate-800 shrink-0",children:[a.jsxs("button",{onClick:()=>T(!0),className:"flex items-center gap-2 px-3 py-2 text-slate-400 hover:text-white bg-slate-800 hover:bg-slate-700 border border-slate-700 rounded-lg transition-all active:scale-95 text-xs font-bold uppercase tracking-wider touch-manipulation",children:[a.jsx(Sf,{className:"w-3.5 h-3.5"}),f.changeKey]}),a.jsx("button",{onClick:u,className:"p-2 text-slate-400 hover:text-white bg-slate-800/50 hover:bg-slate-700 rounded-full transition-all active:scale-95",title:f.tooltipClose||"Close",children:a.jsx(bf,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"w-full max-w-[1400px] mx-auto px-4 md:px-6 py-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8 pb-10",children:[a.jsxs("div",{className:"space-y-4 md:space-y-6",children:[a.jsxs("h3",{className:"text-sm font-semibold text-slate-200 flex items-center gap-2 border-b border-slate-800 pb-2",children:[a.jsx(Co,{className:"w-4 h-4 text-indigo-400"}),f.groupActive]}),a.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700/50 space-y-5",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm text-slate-400",children:f.settingsActive}),a.jsx("button",{onClick:()=>n({...e,enabled:!e.enabled}),className:`w-12 h-7 md:w-11 md:h-6 flex items-center rounded-full transition-colors duration-200 touch-manipulation ${e.enabled?"bg-indigo-600":"bg-slate-700"}`,children:a.jsx("span",{className:`w-5 h-5 md:w-4 md:h-4 bg-white rounded-full shadow-md transform transition-transform duration-200 ${e.enabled?"translate-x-6 md:translate-x-6":"translate-x-1"}`})})]}),a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"mr-2",children:[a.jsxs("label",{className:"text-sm text-slate-400 flex items-center gap-2",children:[a.jsx(ll,{className:"w-3.5 h-3.5 text-sky-400"}),f.settingsMiniScripts||"Mini-Scripts"]}),a.jsx("p",{className:"text-[10px] text-slate-600 leading-tight mt-1",children:f.settingsMiniScriptsDesc||"Instant fixes for spacing and case (No AI)"})]}),a.jsx("button",{onClick:()=>n({...e,miniScripts:!e.miniScripts}),className:`w-12 h-7 md:w-11 md:h-6 flex items-center rounded-full transition-colors duration-200 shrink-0 touch-manipulation ${e.miniScripts?"bg-sky-600":"bg-slate-700"}`,children:a.jsx("span",{className:`w-5 h-5 md:w-4 md:h-4 bg-white rounded-full shadow-md transform transition-transform duration-200 ${e.miniScripts?"translate-x-6 md:translate-x-6":"translate-x-1"}`})})]}),a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"mr-2",children:[a.jsxs("label",{className:"text-sm text-slate-400 flex items-center gap-2",children:[a.jsx(e2,{className:"w-3.5 h-3.5 text-fuchsia-400"}),f.settingsDevMode||"Developer Mode"]}),a.jsx("p",{className:"text-[10px] text-slate-600 leading-tight mt-1",children:f.settingsDevModeDesc||"Enable test buttons"})]}),a.jsx("button",{onClick:()=>n({...e,developerMode:!e.developerMode}),className:`w-12 h-7 md:w-11 md:h-6 flex items-center rounded-full transition-colors duration-200 shrink-0 touch-manipulation ${e.developerMode?"bg-fuchsia-600":"bg-slate-700"}`,children:a.jsx("span",{className:`w-5 h-5 md:w-4 md:h-4 bg-white rounded-full shadow-md transform transition-transform duration-200 ${e.developerMode?"translate-x-6 md:translate-x-6":"translate-x-1"}`})})]}),a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"mr-2",children:[a.jsxs("label",{className:"text-sm text-slate-400 flex items-center gap-2",children:[a.jsx(d2,{className:"w-3.5 h-3.5 text-emerald-500"}),f.settingsEconomy]}),a.jsx("p",{className:"text-[10px] text-slate-600 leading-tight mt-1",children:f.settingsEconomyDesc})]}),a.jsx("button",{onClick:()=>n({...e,economyMode:!e.economyMode}),className:`w-12 h-7 md:w-11 md:h-6 flex items-center rounded-full transition-colors duration-200 shrink-0 touch-manipulation ${e.economyMode?"bg-emerald-600":"bg-slate-700"}`,children:a.jsx("span",{className:`w-5 h-5 md:w-4 md:h-4 bg-white rounded-full shadow-md transform transition-transform duration-200 ${e.economyMode?"translate-x-6 md:translate-x-6":"translate-x-1"}`})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("label",{className:"text-sm text-slate-400",children:f.settingsDelay}),a.jsxs("span",{className:"text-xs font-mono bg-slate-800 px-2 py-0.5 rounded text-slate-400 border border-slate-700",children:[e.debounceMs,"ms"]})]}),a.jsx("input",{type:"range",min:"300",max:"2000",step:"100",value:e.debounceMs,onChange:H=>n({...e,debounceMs:parseInt(H.target.value)}),className:"w-full h-4 md:h-2 bg-slate-900 rounded-lg appearance-none cursor-pointer accent-indigo-500 touch-manipulation"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("label",{className:"text-sm text-slate-400",children:f.settingsFinalization}),a.jsxs("span",{className:"text-xs font-mono bg-slate-800 px-2 py-0.5 rounded text-slate-400 border border-slate-700",children:[e.finalizationTimeout/1e3,"s"]})]}),a.jsx("input",{type:"range",min:"5000",max:"20000",step:"1000",value:e.finalizationTimeout,onChange:H=>n({...e,finalizationTimeout:parseInt(H.target.value)}),className:"w-full h-4 md:h-2 bg-slate-900 rounded-lg appearance-none cursor-pointer accent-indigo-500 touch-manipulation"})]})]})]}),a.jsxs("div",{className:"space-y-4 md:space-y-6",children:[a.jsxs("h3",{className:"text-sm font-semibold text-slate-200 flex items-center gap-2 border-b border-slate-800 pb-2",children:[a.jsx(Un,{className:"w-4 h-4 text-emerald-400"}),f.groupSilence]}),a.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700/50",children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("button",{onClick:()=>k(!C),className:"w-full flex items-center justify-between text-xs font-bold text-slate-300 uppercase tracking-wider hover:text-indigo-400 transition-colors mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ks,{className:"w-3.5 h-3.5"}),"Visualizer Waves"]}),C?a.jsx(bf,{className:"w-4 h-4"}):a.jsx(Xm,{className:"w-4 h-4"})]}),a.jsxs("div",{className:`space-y-4 overflow-hidden transition-all duration-300 ${C?"max-h-[700px] opacity-100 mt-4":"max-h-0 opacity-0"}`,children:[a.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[a.jsx("button",{onClick:()=>n({...e,visualizerStyle:"classic"}),className:`flex flex-col items-center justify-center p-2 rounded border transition-all ${e.visualizerStyle==="classic"?"bg-indigo-600 text-white border-indigo-500":"bg-slate-800 border-slate-700 text-slate-500 hover:bg-slate-700"}`,title:"Classic",children:a.jsx(Jw,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>n({...e,visualizerStyle:"bars"}),className:`flex flex-col items-center justify-center p-2 rounded border transition-all ${e.visualizerStyle==="bars"?"bg-indigo-600 text-white border-indigo-500":"bg-slate-800 border-slate-700 text-slate-500 hover:bg-slate-700"}`,title:"Bars",children:a.jsx(Xw,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>n({...e,visualizerStyle:"circular"}),className:`flex flex-col items-center justify-center p-2 rounded border transition-all ${e.visualizerStyle==="circular"?"bg-indigo-600 text-white border-indigo-500":"bg-slate-800 border-slate-700 text-slate-500 hover:bg-slate-700"}`,title:"Circular",children:a.jsx(r2,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>n({...e,visualizerStyle:"wave"}),className:`flex flex-col items-center justify-center p-2 rounded border transition-all ${e.visualizerStyle==="wave"?"bg-indigo-600 text-white border-indigo-500":"bg-slate-800 border-slate-700 text-slate-500 hover:bg-slate-700"}`,title:"Wave",children:a.jsx(ks,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("label",{className:"text-xs text-slate-400 flex items-center gap-1",children:[a.jsx(h2,{className:"w-3 h-3"}),"Normalize (Auto-Level)"]}),a.jsx("button",{onClick:()=>n({...e,visualizerNorm:!e.visualizerNorm}),className:`w-8 h-4 flex items-center rounded-full transition-colors duration-200 ${e.visualizerNorm?"bg-emerald-600":"bg-slate-700"}`,children:a.jsx("span",{className:`w-3 h-3 bg-white rounded-full shadow-md transform transition-transform duration-200 ${e.visualizerNorm?"translate-x-4":"translate-x-0.5"}`})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("label",{className:"text-xs text-slate-400 flex items-center gap-1",children:[a.jsx(A2,{className:"w-3 h-3"}),"Mirror (Center/Bass)"]}),a.jsx("button",{onClick:()=>n({...e,visualizerMirror:!e.visualizerMirror}),className:`w-8 h-4 flex items-center rounded-full transition-colors duration-200 ${e.visualizerMirror?"bg-blue-600":"bg-slate-700"}`,children:a.jsx("span",{className:`w-3 h-3 bg-white rounded-full shadow-md transform transition-transform duration-200 ${e.visualizerMirror?"translate-x-4":"translate-x-0.5"}`})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsxs("label",{className:"text-xs text-slate-400 flex items-center gap-1",children:[a.jsx(Yw,{className:"w-3 h-3"}),"Gravity (Decay)"]}),a.jsx("span",{className:"text-[10px] font-mono text-slate-500",children:e.visualizerGravity||2})]}),a.jsx("input",{type:"range",min:"0.5",max:"10.0",step:"0.5",value:e.visualizerGravity||2,onChange:H=>n({...e,visualizerGravity:parseFloat(H.target.value)}),className:"w-full h-1.5 bg-slate-900 rounded-lg appearance-none cursor-pointer accent-indigo-500"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsxs("label",{className:"text-xs text-slate-400 flex items-center gap-1",children:[a.jsx(Ra,{className:"w-3 h-3 rotate-90"}),"Low Cut (Bass)"]}),a.jsx("span",{className:"text-[10px] font-mono text-slate-500",children:e.visualizerLowCut||0})]}),a.jsx("input",{type:"range",min:"0",max:"20",step:"1",value:e.visualizerLowCut||0,onChange:H=>n({...e,visualizerLowCut:parseInt(H.target.value)}),className:"w-full h-1.5 bg-slate-900 rounded-lg appearance-none cursor-pointer accent-sky-500"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsxs("label",{className:"text-xs text-slate-400 flex items-center gap-1",children:[a.jsx(Ra,{className:"w-3 h-3 -rotate-90"}),"High Cut (Freq)"]}),a.jsx("span",{className:"text-[10px] font-mono text-slate-500",children:e.visualizerHighCut||128})]}),a.jsx("input",{type:"range",min:"30",max:"128",step:"1",value:e.visualizerHighCut||128,onChange:H=>n({...e,visualizerHighCut:parseInt(H.target.value)}),className:"w-full h-1.5 bg-slate-900 rounded-lg appearance-none cursor-pointer accent-indigo-500"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsxs("label",{className:"text-xs text-slate-400 flex items-center gap-1",children:[a.jsx(ks,{className:"w-3 h-3"}),"Amplitude (Gain)"]}),a.jsxs("span",{className:"text-[10px] font-mono text-slate-500",children:["x",e.visualizerAmp||1]})]}),a.jsx("input",{type:"range",min:"0.1",max:"3.0",step:"0.1",value:e.visualizerAmp||1,onChange:H=>n({...e,visualizerAmp:parseFloat(H.target.value)}),className:"w-full h-1.5 bg-slate-900 rounded-lg appearance-none cursor-pointer accent-emerald-500"})]})]})]}),a.jsxs("div",{className:"border-t border-slate-700/50 pt-4 mb-2",children:[a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("label",{className:"text-sm text-slate-400 flex items-center gap-2",children:t==="ru"?" ":"Sensitivity"}),a.jsxs("span",{className:"text-xs font-mono bg-slate-800 px-2 py-0.5 rounded text-slate-400 border border-slate-700",children:[e.silenceThreshold,"%"]})]}),a.jsx("input",{type:"range",min:"1",max:"100",step:"1",value:e.silenceThreshold,onChange:H=>n({...e,silenceThreshold:parseInt(H.target.value)}),className:"w-full h-4 md:h-2 bg-slate-900 rounded-lg appearance-none cursor-pointer accent-indigo-500 touch-manipulation"})]}),a.jsx("div",{className:"mt-4",children:a.jsx(K2,{threshold:e.silenceThreshold,language:t,isVisible:c,lowCut:e.visualizerLowCut||0,highCut:e.visualizerHighCut||128,amp:e.visualizerAmp||1,style:e.visualizerStyle,norm:e.visualizerNorm,gravity:e.visualizerGravity,mirror:e.visualizerMirror})})]})]}),a.jsxs("div",{className:"flex flex-col h-full space-y-4 md:space-y-6",children:[a.jsxs("h3",{className:"text-sm font-semibold text-slate-200 flex items-center gap-2 border-b border-slate-800 pb-2",children:[a.jsx(Cf,{className:"w-4 h-4 text-purple-400"}),f.groupModel]}),a.jsx("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700/50",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>n({...e,audioModel:"gemini-2.5-flash"}),className:`flex-1 flex flex-col items-center justify-center p-3 rounded-lg border transition-all touch-manipulation ${e.audioModel==="gemini-2.5-flash"?"bg-indigo-600/20 border-indigo-500 text-indigo-300":"bg-slate-800 border-slate-700 text-slate-500 hover:bg-slate-700"}`,children:[a.jsx(Co,{className:"w-5 h-5 md:w-4 md:h-4 mb-1"}),a.jsx("span",{className:"text-xs font-semibold",children:f.modelFlash})]}),a.jsxs("button",{onClick:()=>n({...e,audioModel:"gemini-2.5-pro"}),className:`flex-1 flex flex-col items-center justify-center p-3 rounded-lg border transition-all touch-manipulation ${e.audioModel==="gemini-2.5-pro"?"bg-purple-600/20 border-purple-500 text-purple-300":"bg-slate-800 border-slate-700 text-slate-500 hover:bg-slate-700"}`,children:[a.jsx(Cf,{className:"w-5 h-5 md:w-4 md:h-4 mb-1"}),a.jsx("span",{className:"text-xs font-semibold",children:f.modelPro})]})]})}),a.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700/50",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3 border-b border-slate-700/50 pb-2",children:[a.jsx(i2,{className:"w-3.5 h-3.5 text-slate-400"}),a.jsx("span",{className:"text-xs font-semibold text-slate-300 uppercase tracking-wider",children:f.dictStatus})]}),a.jsxs("div",{className:"flex items-center justify-between mb-3 last:mb-0",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-sm text-slate-300 font-medium",children:f.dictRu}),a.jsxs("span",{className:"text-[10px] text-slate-500 font-mono",children:[g.ruCount," ",f.dictWords]})]}),g.ruLoaded?a.jsxs("div",{className:"flex items-center gap-1.5 text-emerald-400 bg-emerald-950/30 px-2 py-1 rounded border border-emerald-900/50",children:[a.jsx(Wr,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"text-[10px] font-bold",children:"OK"})]}):a.jsxs("div",{className:"flex items-center gap-1.5 text-red-400 bg-red-950/30 px-2 py-1 rounded border border-red-900/50",children:[a.jsx(Et,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"text-[10px] font-bold uppercase",children:f.dictMissing})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-sm text-slate-300 font-medium",children:f.dictEn}),a.jsxs("span",{className:"text-[10px] text-slate-500 font-mono",children:[g.enCount," ",f.dictWords]})]}),g.enLoaded?a.jsxs("div",{className:"flex items-center gap-1.5 text-emerald-400 bg-emerald-950/30 px-2 py-1 rounded border border-emerald-900/50",children:[a.jsx(Wr,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"text-[10px] font-bold",children:"OK"})]}):a.jsxs("div",{className:"flex items-center gap-1.5 text-red-400 bg-red-950/30 px-2 py-1 rounded border border-red-900/50",children:[a.jsx(Et,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"text-[10px] font-bold uppercase",children:f.dictMissing})]})]})]}),a.jsx("div",{className:"flex-1"}),a.jsx("div",{className:"space-y-2 mt-auto",children:E!=="none"?a.jsxs("div",{className:"bg-slate-800 p-3 rounded-lg border border-slate-700 animate-in fade-in zoom-in duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-xs font-bold text-slate-300",children:M()}),a.jsx("button",{onClick:()=>x("none"),className:"text-slate-500 hover:text-white",children:a.jsx(Et,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"password",inputMode:"numeric",value:w,onChange:H=>{y(H.target.value),P("")},placeholder:"****",className:"w-full bg-slate-900 border border-slate-700 rounded px-3 py-2 text-center text-sm font-mono focus:border-indigo-500 focus:outline-none",maxLength:8,autoFocus:!0}),a.jsx("button",{onClick:j,disabled:w.length<3,className:"bg-indigo-600 hover:bg-indigo-500 text-white px-3 py-1 rounded text-xs font-bold disabled:opacity-50 transition-colors",children:"OK"})]}),I&&a.jsx("p",{className:"text-xs text-red-400 mt-1",children:I})]}):a.jsx("div",{className:"space-y-2",children:l?a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>x("verify_change"),className:"flex items-center justify-center gap-2 p-3 md:p-2 w-full rounded-lg bg-slate-800 border border-slate-700 hover:bg-slate-700 hover:border-slate-600 text-slate-400 hover:text-white text-xs transition-colors touch-manipulation",children:[a.jsx(bo,{className:"w-4 h-4"}),f.lockChange]}),a.jsxs("button",{onClick:()=>x("verify_remove"),className:"flex items-center justify-center gap-2 p-3 md:p-2 w-full rounded-lg bg-slate-800 border border-slate-700 hover:bg-red-950/30 hover:border-red-900/50 hover:text-red-400 text-slate-400 text-xs transition-colors touch-manipulation",children:[a.jsx(I2,{className:"w-4 h-4"}),f.lockRemove]})]}):a.jsxs("button",{onClick:()=>x("create"),className:"flex items-center justify-center gap-2 p-3 md:p-2 w-full rounded-lg bg-slate-800 border border-slate-700 hover:bg-slate-700 hover:border-slate-600 text-slate-400 hover:text-white text-xs transition-colors touch-manipulation",children:[a.jsx(ql,{className:"w-4 h-4"}),f.btnCreatePin]})})})]})]})]})},Tf=()=>{const{notifications:e,removeNotification:t}=dr();return e.length===0?null:a.jsx("div",{className:"fixed top-2 left-1/2 -translate-x-1/2 z-[100] flex flex-col items-center gap-2 pointer-events-none w-full max-w-md",children:e.map(n=>a.jsxs("div",{className:`
            pointer-events-auto flex items-center gap-2 px-4 py-2 rounded-full shadow-2xl border backdrop-blur-md min-w-[240px] max-w-sm
            animate-in slide-in-from-top-2 fade-in duration-300
            ${n.type==="success"?"bg-slate-900/95 border-emerald-500/30 text-emerald-100 shadow-emerald-900/10":""}
            ${n.type==="error"?"bg-slate-900/95 border-red-500/30 text-red-100 shadow-red-900/10":""}
            ${n.type==="info"?"bg-slate-900/95 border-indigo-500/30 text-indigo-100 shadow-indigo-900/10":""}
            ${n.type==="warning"?"bg-slate-900/95 border-amber-500/30 text-amber-100 shadow-amber-900/10":""}
          `,children:[a.jsxs("div",{className:"shrink-0",children:[n.type==="success"&&a.jsx(t2,{className:"w-4 h-4 text-emerald-400"}),n.type==="error"&&a.jsx(D2,{className:"w-4 h-4 text-red-400"}),n.type==="info"&&a.jsx(n0,{className:"w-4 h-4 text-indigo-400"}),n.type==="warning"&&a.jsx(Ww,{className:"w-4 h-4 text-amber-400"})]}),a.jsx("p",{className:"text-xs font-medium flex-1 text-center",children:n.message}),a.jsx("button",{onClick:()=>t(n.id),className:"shrink-0 p-0.5 hover:bg-white/10 rounded-full transition-colors",children:a.jsx(Et,{className:"w-3 h-3 opacity-70"})})]},n.id))})},Q2=({isOpen:e,onClose:t,language:n})=>{const r=dt(n),[i,l]=N.useState(!1);return N.useEffect(()=>{if(e)l(!0);else{const o=setTimeout(()=>l(!1),300);return()=>clearTimeout(o)}},[e]),a.jsxs("div",{className:`fixed inset-0 z-[60] flex items-center justify-center p-4 transition-all duration-300 ${e?"opacity-100 visible":"opacity-0 invisible pointer-events-none"}`,children:[a.jsx("div",{className:"absolute inset-0 bg-slate-950/80 backdrop-blur-sm transition-opacity duration-300",onClick:t}),a.jsxs("div",{className:`
            relative bg-slate-900 border border-slate-800 rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden 
            transform transition-all duration-300 ease-out
            ${e?"scale-100 translate-y-0 opacity-100":"scale-95 translate-y-4 opacity-0"}
        `,children:[a.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-slate-800 bg-slate-800/50",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(e0,{className:"w-5 h-5 text-indigo-400"}),a.jsx("h2",{className:"text-lg font-bold text-slate-100",children:r.helpModalTitle})]}),a.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-slate-700/50 text-slate-500 hover:text-white transition-colors",children:a.jsx(Et,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"shrink-0 p-3 bg-blue-500/10 rounded-lg h-fit",children:a.jsx(m2,{className:"w-5 h-5 text-blue-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-200 mb-1",children:r.howItWorksTitle}),a.jsx("p",{className:"text-sm text-slate-400 leading-relaxed whitespace-pre-line",children:r.howItWorksDesc})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"shrink-0 p-3 bg-indigo-500/10 rounded-lg h-fit",children:a.jsx(Yu,{className:"w-5 h-5 text-indigo-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-200 mb-1",children:r.helpSection1}),a.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:r.helpDesc1})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"shrink-0 p-3 bg-emerald-500/10 rounded-lg h-fit",children:a.jsx(Co,{className:"w-5 h-5 text-emerald-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-200 mb-1",children:r.helpSection2}),a.jsx("p",{className:"text-sm text-slate-400 leading-relaxed whitespace-pre-line",children:r.helpDesc2})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"shrink-0 p-3 bg-amber-500/10 rounded-lg h-fit",children:a.jsx(Un,{className:"w-5 h-5 text-amber-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-200 mb-1",children:r.helpSection3}),a.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:r.helpDesc3})]})]})]}),a.jsx("div",{className:"p-4 bg-slate-950/50 border-t border-slate-800 text-center",children:a.jsx("button",{onClick:t,className:"px-6 py-2 bg-slate-800 hover:bg-slate-700 text-slate-200 rounded-lg text-sm font-medium transition-colors",children:r.tooltipClose})})]})]})},J2=e=>e==="ru"?"    -.  ,  ,  .  Markdown  .":"You are a helpful and friendly AI assistant. Answer concisely and politely. Use Markdown for formatting.",X2=async function*(e,t,n,r,i,l){if(!e)throw new Error("API Key Missing");const o=new Vo({apiKey:e}),s=[];for(const c of r){if(c.isTyping||(!c.text||!c.text.trim())&&!c.attachment)continue;const d=c.role,f=c.text?c.text.trim():"",g=[];if(c.attachment&&g.push({inlineData:{mimeType:c.attachment.mimeType,data:c.attachment.data}}),f&&g.push({text:f}),s.length>0&&s[s.length-1].role===d){const m=s[s.length-1];m.parts&&m.parts.push(...g)}else s.push({role:d,parts:g})}s.length>0&&s[0].role==="model"&&s.shift();const u=[];if(l&&u.push({inlineData:{mimeType:l.mimeType,data:l.data}}),i&&u.push({text:i}),s.length>0&&s[s.length-1].role==="user"){const c=s.pop();c&&c.parts&&u.unshift(...c.parts)}try{const d=await o.chats.create({model:t,history:s,config:{systemInstruction:J2(n),temperature:.7}}).sendMessageStream({message:u});for await(const f of d)f.text&&(yield f.text)}catch(c){throw console.error("Chat Stream Error Details:",c),c}},Z2=async(e,t,n,r)=>{var l;if(!e)throw new Error("API Key Missing");const i=new Vo({apiKey:e});try{return((l=(await i.models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[{inlineData:{mimeType:n,data:t}}]},config:{systemInstruction:r==="ru"?" .   ,  .":"Transcribe the audio. Only the spoken text.",temperature:.1}})).text)==null?void 0:l.trim())||""}catch(o){return console.error("Chat Transcription Error:",o),""}},If="fasttype_chat_history_v1",ek=(e,t)=>{const[n,r]=N.useState(()=>{try{const b=localStorage.getItem(If);return b?JSON.parse(b):[]}catch{return[]}}),[i,l]=N.useState(!1),[o,s]=N.useState(!1),u="gemini-3-flash-preview",{isRecording:c,startRecording:d,stopRecording:f,autoStopCountdown:g}=Km(15);N.useEffect(()=>{localStorage.setItem(If,JSON.stringify(n))},[n]);const m=N.useRef(null),C=()=>{var b;(b=m.current)==null||b.scrollIntoView({behavior:"smooth"})};N.useEffect(()=>{C()},[n,i]);const k=async(b,T,A,O)=>{const j=(Date.now()+1).toString();r(H=>[...H,{id:j,role:"model",text:"",timestamp:Date.now(),isTyping:!0}]);let D="";const M=X2(t,A,e,O,b,T);for await(const H of M)D+=H,r($=>$.map(ee=>ee.id===j?{...ee,text:D}:ee));r(H=>H.map($=>$.id===j?{...$,isTyping:!1}:$)),o&&D&&I(D)},E=async(b,T)=>{if(!b.trim()&&!T||!t)return;const A={id:Date.now().toString(),role:"user",text:b,timestamp:Date.now(),attachment:T},O=n;r(j=>[...j,A]),l(!0);try{await k(b,T,u,O)}catch(j){console.warn("Model failed:",j),x(j)}finally{l(!1)}},x=b=>{let T=e==="ru"?"...":"Error...";if(b.message){const A=b.message.replace(/\[.*?\]/g,"").trim();T+=` (${A.substring(0,50)}...)`}r(A=>A.map(O=>O.isTyping?{...O,text:T,isTyping:!1}:O))},w=async(b,T)=>{c&&await f();try{const A=await Z2(t,b,T,e);A&&await E(A)}catch(A){console.error("Transcription failed",A)}},y=async()=>{c?await f():await d(w)||console.warn("Failed to start recording")},I=N.useCallback(b=>{if(!window.speechSynthesis)return;window.speechSynthesis.cancel();const T=new SpeechSynthesisUtterance(b);T.lang=e==="ru"?"ru-RU":"en-US",window.speechSynthesis.speak(T)},[e]);return{messages:n,isLoading:i,activeModel:u,messagesEndRef:m,handleSendMessage:E,toggleVoice:y,isRecording:c,soundEnabled:o,setSoundEnabled:s,clearChat:()=>{r([]),window.speechSynthesis.cancel()},autoStopCountdown:g}};function tk(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const nk=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,rk=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,ik={};function Af(e,t){return(ik.jsx?rk:nk).test(e)}const lk=/[ \t\n\f\r]/g;function ok(e){return typeof e=="object"?e.type==="text"?_f(e.value):!1:_f(e)}function _f(e){return e.replace(lk,"")===""}class ol{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}ol.prototype.normal={};ol.prototype.property={};ol.prototype.space=void 0;function u0(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new ol(n,r,t)}function La(e){return e.toLowerCase()}class kt{constructor(t,n){this.attribute=n,this.property=t}}kt.prototype.attribute="";kt.prototype.booleanish=!1;kt.prototype.boolean=!1;kt.prototype.commaOrSpaceSeparated=!1;kt.prototype.commaSeparated=!1;kt.prototype.defined=!1;kt.prototype.mustUseProperty=!1;kt.prototype.number=!1;kt.prototype.overloadedBoolean=!1;kt.prototype.property="";kt.prototype.spaceSeparated=!1;kt.prototype.space=void 0;let sk=0;const we=fr(),Ge=fr(),za=fr(),X=fr(),je=fr(),Fr=fr(),bt=fr();function fr(){return 2**++sk}const Fa=Object.freeze(Object.defineProperty({__proto__:null,boolean:we,booleanish:Ge,commaOrSpaceSeparated:bt,commaSeparated:Fr,number:X,overloadedBoolean:za,spaceSeparated:je},Symbol.toStringTag,{value:"Module"})),bs=Object.keys(Fa);class Qu extends kt{constructor(t,n,r,i){let l=-1;if(super(t,n),Mf(this,"space",i),typeof r=="number")for(;++l<bs.length;){const o=bs[l];Mf(this,bs[l],(r&Fa[o])===Fa[o])}}}Qu.prototype.defined=!0;function Mf(e,t,n){n&&(e[t]=n)}function ei(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const l=new Qu(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(l.mustUseProperty=!0),t[r]=l,n[La(r)]=r,n[La(l.attribute)]=r}return new ol(t,n,e.space)}const c0=ei({properties:{ariaActiveDescendant:null,ariaAtomic:Ge,ariaAutoComplete:null,ariaBusy:Ge,ariaChecked:Ge,ariaColCount:X,ariaColIndex:X,ariaColSpan:X,ariaControls:je,ariaCurrent:null,ariaDescribedBy:je,ariaDetails:null,ariaDisabled:Ge,ariaDropEffect:je,ariaErrorMessage:null,ariaExpanded:Ge,ariaFlowTo:je,ariaGrabbed:Ge,ariaHasPopup:null,ariaHidden:Ge,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:je,ariaLevel:X,ariaLive:null,ariaModal:Ge,ariaMultiLine:Ge,ariaMultiSelectable:Ge,ariaOrientation:null,ariaOwns:je,ariaPlaceholder:null,ariaPosInSet:X,ariaPressed:Ge,ariaReadOnly:Ge,ariaRelevant:null,ariaRequired:Ge,ariaRoleDescription:je,ariaRowCount:X,ariaRowIndex:X,ariaRowSpan:X,ariaSelected:Ge,ariaSetSize:X,ariaSort:null,ariaValueMax:X,ariaValueMin:X,ariaValueNow:X,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function d0(e,t){return t in e?e[t]:t}function f0(e,t){return d0(e,t.toLowerCase())}const ak=ei({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Fr,acceptCharset:je,accessKey:je,action:null,allow:null,allowFullScreen:we,allowPaymentRequest:we,allowUserMedia:we,alt:null,as:null,async:we,autoCapitalize:null,autoComplete:je,autoFocus:we,autoPlay:we,blocking:je,capture:null,charSet:null,checked:we,cite:null,className:je,cols:X,colSpan:null,content:null,contentEditable:Ge,controls:we,controlsList:je,coords:X|Fr,crossOrigin:null,data:null,dateTime:null,decoding:null,default:we,defer:we,dir:null,dirName:null,disabled:we,download:za,draggable:Ge,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:we,formTarget:null,headers:je,height:X,hidden:za,high:X,href:null,hrefLang:null,htmlFor:je,httpEquiv:je,id:null,imageSizes:null,imageSrcSet:null,inert:we,inputMode:null,integrity:null,is:null,isMap:we,itemId:null,itemProp:je,itemRef:je,itemScope:we,itemType:je,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:we,low:X,manifest:null,max:null,maxLength:X,media:null,method:null,min:null,minLength:X,multiple:we,muted:we,name:null,nonce:null,noModule:we,noValidate:we,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:we,optimum:X,pattern:null,ping:je,placeholder:null,playsInline:we,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:we,referrerPolicy:null,rel:je,required:we,reversed:we,rows:X,rowSpan:X,sandbox:je,scope:null,scoped:we,seamless:we,selected:we,shadowRootClonable:we,shadowRootDelegatesFocus:we,shadowRootMode:null,shape:null,size:X,sizes:null,slot:null,span:X,spellCheck:Ge,src:null,srcDoc:null,srcLang:null,srcSet:null,start:X,step:null,style:null,tabIndex:X,target:null,title:null,translate:null,type:null,typeMustMatch:we,useMap:null,value:Ge,width:X,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:je,axis:null,background:null,bgColor:null,border:X,borderColor:null,bottomMargin:X,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:we,declare:we,event:null,face:null,frame:null,frameBorder:null,hSpace:X,leftMargin:X,link:null,longDesc:null,lowSrc:null,marginHeight:X,marginWidth:X,noResize:we,noHref:we,noShade:we,noWrap:we,object:null,profile:null,prompt:null,rev:null,rightMargin:X,rules:null,scheme:null,scrolling:Ge,standby:null,summary:null,text:null,topMargin:X,valueType:null,version:null,vAlign:null,vLink:null,vSpace:X,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:we,disableRemotePlayback:we,prefix:null,property:null,results:X,security:null,unselectable:null},space:"html",transform:f0}),uk=ei({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:bt,accentHeight:X,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:X,amplitude:X,arabicForm:null,ascent:X,attributeName:null,attributeType:null,azimuth:X,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:X,by:null,calcMode:null,capHeight:X,className:je,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:X,diffuseConstant:X,direction:null,display:null,dur:null,divisor:X,dominantBaseline:null,download:we,dx:null,dy:null,edgeMode:null,editable:null,elevation:X,enableBackground:null,end:null,event:null,exponent:X,externalResourcesRequired:null,fill:null,fillOpacity:X,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Fr,g2:Fr,glyphName:Fr,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:X,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:X,horizOriginX:X,horizOriginY:X,id:null,ideographic:X,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:X,k:X,k1:X,k2:X,k3:X,k4:X,kernelMatrix:bt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:X,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:X,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:X,overlineThickness:X,paintOrder:null,panose1:null,path:null,pathLength:X,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:je,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:X,pointsAtY:X,pointsAtZ:X,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:bt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:bt,rev:bt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:bt,requiredFeatures:bt,requiredFonts:bt,requiredFormats:bt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:X,specularExponent:X,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:X,strikethroughThickness:X,string:null,stroke:null,strokeDashArray:bt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:X,strokeOpacity:X,strokeWidth:null,style:null,surfaceScale:X,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:bt,tabIndex:X,tableValues:null,target:null,targetX:X,targetY:X,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:bt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:X,underlineThickness:X,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:X,values:null,vAlphabetic:X,vMathematical:X,vectorEffect:null,vHanging:X,vIdeographic:X,version:null,vertAdvY:X,vertOriginX:X,vertOriginY:X,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:X,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:d0}),p0=ei({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),h0=ei({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:f0}),m0=ei({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),ck={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},dk=/[A-Z]/g,Pf=/-[a-z]/g,fk=/^data[-\w.:]+$/i;function pk(e,t){const n=La(t);let r=t,i=kt;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&fk.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(Pf,mk);r="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!Pf.test(l)){let o=l.replace(dk,hk);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=Qu}return new i(r,t)}function hk(e){return"-"+e.toLowerCase()}function mk(e){return e.charAt(1).toUpperCase()}const gk=u0([c0,ak,p0,h0,m0],"html"),Ju=u0([c0,uk,p0,h0,m0],"svg");function xk(e){return e.join(" ").trim()}var Xu={},jf=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,yk=/\n/g,vk=/^\s*/,wk=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,kk=/^:\s*/,Ck=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,bk=/^[;\s]*/,Sk=/^\s+|\s+$/g,Nk=`
`,Rf="/",Df="*",Qn="",Ek="comment",Tk="declaration";function Ik(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(C){var k=C.match(yk);k&&(n+=k.length);var E=C.lastIndexOf(Nk);r=~E?C.length-E:r+C.length}function l(){var C={line:n,column:r};return function(k){return k.position=new o(C),c(),k}}function o(C){this.start=C,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function s(C){var k=new Error(t.source+":"+n+":"+r+": "+C);if(k.reason=C,k.filename=t.source,k.line=n,k.column=r,k.source=e,!t.silent)throw k}function u(C){var k=C.exec(e);if(k){var E=k[0];return i(E),e=e.slice(E.length),k}}function c(){u(vk)}function d(C){var k;for(C=C||[];k=f();)k!==!1&&C.push(k);return C}function f(){var C=l();if(!(Rf!=e.charAt(0)||Df!=e.charAt(1))){for(var k=2;Qn!=e.charAt(k)&&(Df!=e.charAt(k)||Rf!=e.charAt(k+1));)++k;if(k+=2,Qn===e.charAt(k-1))return s("End of comment missing");var E=e.slice(2,k-2);return r+=2,i(E),e=e.slice(k),r+=2,C({type:Ek,comment:E})}}function g(){var C=l(),k=u(wk);if(k){if(f(),!u(kk))return s("property missing ':'");var E=u(Ck),x=C({type:Tk,property:Lf(k[0].replace(jf,Qn)),value:E?Lf(E[0].replace(jf,Qn)):Qn});return u(bk),x}}function m(){var C=[];d(C);for(var k;k=g();)k!==!1&&(C.push(k),d(C));return C}return c(),m()}function Lf(e){return e?e.replace(Sk,Qn):Qn}var Ak=Ik,_k=Kl&&Kl.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xu,"__esModule",{value:!0});Xu.default=Pk;const Mk=_k(Ak);function Pk(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,Mk.default)(e),i=typeof t=="function";return r.forEach(l=>{if(l.type!=="declaration")return;const{property:o,value:s}=l;i?t(o,s,l):s&&(n=n||{},n[o]=s)}),n}var Bo={};Object.defineProperty(Bo,"__esModule",{value:!0});Bo.camelCase=void 0;var jk=/^--[a-zA-Z0-9_-]+$/,Rk=/-([a-z])/g,Dk=/^[^-]+$/,Lk=/^-(webkit|moz|ms|o|khtml)-/,zk=/^-(ms)-/,Fk=function(e){return!e||Dk.test(e)||jk.test(e)},Ok=function(e,t){return t.toUpperCase()},zf=function(e,t){return"".concat(t,"-")},Uk=function(e,t){return t===void 0&&(t={}),Fk(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(zk,zf):e=e.replace(Lk,zf),e.replace(Rk,Ok))};Bo.camelCase=Uk;var Hk=Kl&&Kl.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Vk=Hk(Xu),Bk=Bo;function Oa(e,t){var n={};return!e||typeof e!="string"||(0,Vk.default)(e,function(r,i){r&&i&&(n[(0,Bk.camelCase)(r,t)]=i)}),n}Oa.default=Oa;var $k=Oa;const qk=Wa($k),g0=x0("end"),Zu=x0("start");function x0(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Gk(e){const t=Zu(e),n=g0(e);if(t&&n)return{start:t,end:n}}function Ii(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Ff(e.position):"start"in e||"end"in e?Ff(e):"line"in e||"column"in e?Ua(e):""}function Ua(e){return Of(e&&e.line)+":"+Of(e&&e.column)}function Ff(e){return Ua(e&&e.start)+"-"+Ua(e&&e.end)}function Of(e){return e&&typeof e=="number"?e:1}class ot extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",l={},o=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof t=="string"?i=t:!l.cause&&t&&(o=!0,i=t.message,l.cause=t),!l.ruleId&&!l.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?l.ruleId=r:(l.source=r.slice(0,u),l.ruleId=r.slice(u+1))}if(!l.place&&l.ancestors&&l.ancestors){const u=l.ancestors[l.ancestors.length-1];u&&(l.place=u.position)}const s=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=Ii(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=o&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}ot.prototype.file="";ot.prototype.name="";ot.prototype.reason="";ot.prototype.message="";ot.prototype.stack="";ot.prototype.column=void 0;ot.prototype.line=void 0;ot.prototype.ancestors=void 0;ot.prototype.cause=void 0;ot.prototype.fatal=void 0;ot.prototype.place=void 0;ot.prototype.ruleId=void 0;ot.prototype.source=void 0;const ec={}.hasOwnProperty,Wk=new Map,Kk=/[A-Z]/g,Yk=new Set(["table","tbody","thead","tfoot","tr"]),Qk=new Set(["td","th"]),y0="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Jk(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=lC(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=iC(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Ju:gk,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},l=v0(i,e,void 0);return l&&typeof l!="string"?l:i.create(e,i.Fragment,{children:l||void 0},void 0)}function v0(e,t,n){if(t.type==="element")return Xk(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Zk(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return tC(e,t,n);if(t.type==="mdxjsEsm")return eC(e,t);if(t.type==="root")return nC(e,t,n);if(t.type==="text")return rC(e,t)}function Xk(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Ju,e.schema=i),e.ancestors.push(t);const l=k0(e,t.tagName,!1),o=oC(e,t);let s=nc(e,t);return Yk.has(t.tagName)&&(s=s.filter(function(u){return typeof u=="string"?!ok(u):!0})),w0(e,o,l,t),tc(o,s),e.ancestors.pop(),e.schema=r,e.create(t,l,o,n)}function Zk(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Ji(e,t.position)}function eC(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Ji(e,t.position)}function tC(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Ju,e.schema=i),e.ancestors.push(t);const l=t.name===null?e.Fragment:k0(e,t.name,!0),o=sC(e,t),s=nc(e,t);return w0(e,o,l,t),tc(o,s),e.ancestors.pop(),e.schema=r,e.create(t,l,o,n)}function nC(e,t,n){const r={};return tc(r,nc(e,t)),e.create(t,e.Fragment,r,n)}function rC(e,t){return t.value}function w0(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function tc(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function iC(e,t,n){return r;function r(i,l,o,s){const c=Array.isArray(o.children)?n:t;return s?c(l,o,s):c(l,o)}}function lC(e,t){return n;function n(r,i,l,o){const s=Array.isArray(l.children),u=Zu(r);return t(i,l,o,s,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function oC(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&ec.call(t.properties,i)){const l=aC(e,i,t.properties[i]);if(l){const[o,s]=l;e.tableCellAlignToStyle&&o==="align"&&typeof s=="string"&&Qk.has(t.tagName)?r=s:n[o]=s}}if(r){const l=n.style||(n.style={});l[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function sC(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const l=r.data.estree.body[0];l.type;const o=l.expression;o.type;const s=o.properties[0];s.type,Object.assign(n,e.evaluater.evaluateExpression(s.argument))}else Ji(e,t.position);else{const i=r.name;let l;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const s=r.value.data.estree.body[0];s.type,l=e.evaluater.evaluateExpression(s.expression)}else Ji(e,t.position);else l=r.value===null?!0:r.value;n[i]=l}return n}function nc(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Wk;for(;++r<t.children.length;){const l=t.children[r];let o;if(e.passKeys){const u=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(u){const c=i.get(u)||0;o=u+"-"+c,i.set(u,c+1)}}const s=v0(e,l,o);s!==void 0&&n.push(s)}return n}function aC(e,t,n){const r=pk(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?tk(n):xk(n)),r.property==="style"){let i=typeof n=="object"?n:uC(e,String(n));return e.stylePropertyNameCase==="css"&&(i=cC(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?ck[r.property]||r.property:r.attribute,n]}}function uC(e,t){try{return qk(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new ot("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=y0+"#cannot-parse-style-attribute",i}}function k0(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let l=-1,o;for(;++l<i.length;){const s=Af(i[l])?{type:"Identifier",name:i[l]}:{type:"Literal",value:i[l]};o=o?{type:"MemberExpression",object:o,property:s,computed:!!(l&&s.type==="Literal"),optional:!1}:s}r=o}else r=Af(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return ec.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Ji(e)}function Ji(e,t){const n=new ot("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=y0+"#cannot-handle-mdx-estrees-without-createevaluater",n}function cC(e){const t={};let n;for(n in e)ec.call(e,n)&&(t[dC(n)]=e[n]);return t}function dC(e){let t=e.replace(Kk,fC);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function fC(e){return"-"+e.toLowerCase()}const Ss={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},pC={};function hC(e,t){const n=pC,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return C0(e,r,i)}function C0(e,t,n){if(mC(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Uf(e.children,t,n)}return Array.isArray(e)?Uf(e,t,n):""}function Uf(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=C0(e[i],t,n);return r.join("")}function mC(e){return!!(e&&typeof e=="object")}const Hf=document.createElement("i");function rc(e){const t="&"+e+";";Hf.innerHTML=t;const n=Hf.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function on(e,t,n,r){const i=e.length;let l=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);l<r.length;)o=r.slice(l,l+1e4),o.unshift(t,0),e.splice(...o),l+=1e4,t+=1e4}function Lt(e,t){return e.length>0?(on(e,e.length,0,t),e):t}const Vf={}.hasOwnProperty;function gC(e){const t={};let n=-1;for(;++n<e.length;)xC(t,e[n]);return t}function xC(e,t){let n;for(n in t){const i=(Vf.call(e,n)?e[n]:void 0)||(e[n]={}),l=t[n];let o;if(l)for(o in l){Vf.call(i,o)||(i[o]=[]);const s=l[o];yC(i[o],Array.isArray(s)?s:s?[s]:[])}}}function yC(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);on(e,0,0,r)}function b0(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Or(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const nn=Gn(/[A-Za-z]/),Tt=Gn(/[\dA-Za-z]/),vC=Gn(/[#-'*+\--9=?A-Z^-~]/);function Ha(e){return e!==null&&(e<32||e===127)}const Va=Gn(/\d/),wC=Gn(/[\dA-Fa-f]/),kC=Gn(/[!-/:-@[-`{-~]/);function ye(e){return e!==null&&e<-2}function wt(e){return e!==null&&(e<0||e===32)}function Te(e){return e===-2||e===-1||e===32}const CC=Gn(new RegExp("\\p{P}|\\p{S}","u")),bC=Gn(/\s/);function Gn(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function ti(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const l=e.charCodeAt(n);let o="";if(l===37&&Tt(e.charCodeAt(n+1))&&Tt(e.charCodeAt(n+2)))i=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(o=String.fromCharCode(l));else if(l>55295&&l<57344){const s=e.charCodeAt(n+1);l<56320&&s>56319&&s<57344?(o=String.fromCharCode(l,s),i=1):o=""}else o=String.fromCharCode(l);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function De(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let l=0;return o;function o(u){return Te(u)?(e.enter(n),s(u)):t(u)}function s(u){return Te(u)&&l++<i?(e.consume(u),s):(e.exit(n),t(u))}}const SC={tokenize:NC};function NC(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),De(e,t,"linePrefix")}function i(s){return e.enter("paragraph"),l(s)}function l(s){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return ye(s)?(e.consume(s),e.exit("chunkText"),l):(e.consume(s),o)}}const EC={tokenize:TC},Bf={tokenize:IC};function TC(e){const t=this,n=[];let r=0,i,l,o;return s;function s(y){if(r<n.length){const I=n[r];return t.containerState=I[1],e.attempt(I[0].continuation,u,c)(y)}return c(y)}function u(y){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&w();const I=t.events.length;let P=I,b;for(;P--;)if(t.events[P][0]==="exit"&&t.events[P][1].type==="chunkFlow"){b=t.events[P][1].end;break}x(r);let T=I;for(;T<t.events.length;)t.events[T][1].end={...b},T++;return on(t.events,P+1,0,t.events.slice(I)),t.events.length=T,c(y)}return s(y)}function c(y){if(r===n.length){if(!i)return g(y);if(i.currentConstruct&&i.currentConstruct.concrete)return C(y);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Bf,d,f)(y)}function d(y){return i&&w(),x(r),g(y)}function f(y){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,C(y)}function g(y){return t.containerState={},e.attempt(Bf,m,C)(y)}function m(y){return r++,n.push([t.currentConstruct,t.containerState]),g(y)}function C(y){if(y===null){i&&w(),x(0),e.consume(y);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:l}),k(y)}function k(y){if(y===null){E(e.exit("chunkFlow"),!0),x(0),e.consume(y);return}return ye(y)?(e.consume(y),E(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(y),k)}function E(y,I){const P=t.sliceStream(y);if(I&&P.push(null),y.previous=l,l&&(l.next=y),l=y,i.defineSkip(y.start),i.write(P),t.parser.lazy[y.start.line]){let b=i.events.length;for(;b--;)if(i.events[b][1].start.offset<o&&(!i.events[b][1].end||i.events[b][1].end.offset>o))return;const T=t.events.length;let A=T,O,j;for(;A--;)if(t.events[A][0]==="exit"&&t.events[A][1].type==="chunkFlow"){if(O){j=t.events[A][1].end;break}O=!0}for(x(r),b=T;b<t.events.length;)t.events[b][1].end={...j},b++;on(t.events,A+1,0,t.events.slice(T)),t.events.length=b}}function x(y){let I=n.length;for(;I-- >y;){const P=n[I];t.containerState=P[1],P[0].exit.call(t,e)}n.length=y}function w(){i.write([null]),l=void 0,i=void 0,t.containerState._closeFlow=void 0}}function IC(e,t,n){return De(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function $f(e){if(e===null||wt(e)||bC(e))return 1;if(CC(e))return 2}function ic(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const l=e[i].resolveAll;l&&!r.includes(l)&&(t=l(t,n),r.push(l))}return t}const Ba={name:"attention",resolveAll:AC,tokenize:_C};function AC(e,t){let n=-1,r,i,l,o,s,u,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},g={...e[n][1].start};qf(f,-u),qf(g,u),o={type:u>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},s={type:u>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:g},l={type:u>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:u>1?"strong":"emphasis",start:{...o.start},end:{...s.end}},e[r][1].end={...o.start},e[n][1].start={...s.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=Lt(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=Lt(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",l,t]]),c=Lt(c,ic(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=Lt(c,[["exit",l,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=Lt(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,on(e,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function _C(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=$f(r);let l;return o;function o(u){return l=u,e.enter("attentionSequence"),s(u)}function s(u){if(u===l)return e.consume(u),s;const c=e.exit("attentionSequence"),d=$f(u),f=!d||d===2&&i||n.includes(u),g=!i||i===2&&d||n.includes(r);return c._open=!!(l===42?f:f&&(i||!g)),c._close=!!(l===42?g:g&&(d||!f)),t(u)}}function qf(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const MC={name:"autolink",tokenize:PC};function PC(e,t,n){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(m){return nn(m)?(e.consume(m),o):m===64?n(m):c(m)}function o(m){return m===43||m===45||m===46||Tt(m)?(r=1,s(m)):c(m)}function s(m){return m===58?(e.consume(m),r=0,u):(m===43||m===45||m===46||Tt(m))&&r++<32?(e.consume(m),s):(r=0,c(m))}function u(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||Ha(m)?n(m):(e.consume(m),u)}function c(m){return m===64?(e.consume(m),d):vC(m)?(e.consume(m),c):n(m)}function d(m){return Tt(m)?f(m):n(m)}function f(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):g(m)}function g(m){if((m===45||Tt(m))&&r++<63){const C=m===45?g:f;return e.consume(m),C}return n(m)}}const $o={partial:!0,tokenize:jC};function jC(e,t,n){return r;function r(l){return Te(l)?De(e,i,"linePrefix")(l):i(l)}function i(l){return l===null||ye(l)?t(l):n(l)}}const S0={continuation:{tokenize:DC},exit:LC,name:"blockQuote",tokenize:RC};function RC(e,t,n){const r=this;return i;function i(o){if(o===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),l}return n(o)}function l(o){return Te(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function DC(e,t,n){const r=this;return i;function i(o){return Te(o)?De(e,l,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):l(o)}function l(o){return e.attempt(S0,t,n)(o)}}function LC(e){e.exit("blockQuote")}const N0={name:"characterEscape",tokenize:zC};function zC(e,t,n){return r;function r(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),i}function i(l){return kC(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(l)}}const E0={name:"characterReference",tokenize:FC};function FC(e,t,n){const r=this;let i=0,l,o;return s;function s(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),u}function u(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),l=31,o=Tt,d(f))}function c(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,o=wC,d):(e.enter("characterReferenceValue"),l=7,o=Va,d(f))}function d(f){if(f===59&&i){const g=e.exit("characterReferenceValue");return o===Tt&&!rc(r.sliceSerialize(g))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&i++<l?(e.consume(f),d):n(f)}}const Gf={partial:!0,tokenize:UC},Wf={concrete:!0,name:"codeFenced",tokenize:OC};function OC(e,t,n){const r=this,i={partial:!0,tokenize:P};let l=0,o=0,s;return u;function u(b){return c(b)}function c(b){const T=r.events[r.events.length-1];return l=T&&T[1].type==="linePrefix"?T[2].sliceSerialize(T[1],!0).length:0,s=b,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(b)}function d(b){return b===s?(o++,e.consume(b),d):o<3?n(b):(e.exit("codeFencedFenceSequence"),Te(b)?De(e,f,"whitespace")(b):f(b))}function f(b){return b===null||ye(b)?(e.exit("codeFencedFence"),r.interrupt?t(b):e.check(Gf,k,I)(b)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(b))}function g(b){return b===null||ye(b)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(b)):Te(b)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),De(e,m,"whitespace")(b)):b===96&&b===s?n(b):(e.consume(b),g)}function m(b){return b===null||ye(b)?f(b):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),C(b))}function C(b){return b===null||ye(b)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(b)):b===96&&b===s?n(b):(e.consume(b),C)}function k(b){return e.attempt(i,I,E)(b)}function E(b){return e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),x}function x(b){return l>0&&Te(b)?De(e,w,"linePrefix",l+1)(b):w(b)}function w(b){return b===null||ye(b)?e.check(Gf,k,I)(b):(e.enter("codeFlowValue"),y(b))}function y(b){return b===null||ye(b)?(e.exit("codeFlowValue"),w(b)):(e.consume(b),y)}function I(b){return e.exit("codeFenced"),t(b)}function P(b,T,A){let O=0;return j;function j(ee){return b.enter("lineEnding"),b.consume(ee),b.exit("lineEnding"),D}function D(ee){return b.enter("codeFencedFence"),Te(ee)?De(b,M,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ee):M(ee)}function M(ee){return ee===s?(b.enter("codeFencedFenceSequence"),H(ee)):A(ee)}function H(ee){return ee===s?(O++,b.consume(ee),H):O>=o?(b.exit("codeFencedFenceSequence"),Te(ee)?De(b,$,"whitespace")(ee):$(ee)):A(ee)}function $(ee){return ee===null||ye(ee)?(b.exit("codeFencedFence"),T(ee)):A(ee)}}}function UC(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),l)}function l(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const Ns={name:"codeIndented",tokenize:VC},HC={partial:!0,tokenize:BC};function VC(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),De(e,l,"linePrefix",5)(c)}function l(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?u(c):ye(c)?e.attempt(HC,o,u)(c):(e.enter("codeFlowValue"),s(c))}function s(c){return c===null||ye(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),s)}function u(c){return e.exit("codeIndented"),t(c)}}function BC(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):ye(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):De(e,l,"linePrefix",5)(o)}function l(o){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):ye(o)?i(o):n(o)}}const $C={name:"codeText",previous:GC,resolve:qC,tokenize:WC};function qC(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function GC(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function WC(e,t,n){let r=0,i,l;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),s(f)}function s(f){return f===96?(e.consume(f),r++,s):(e.exit("codeTextSequence"),u(f))}function u(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),u):f===96?(l=e.enter("codeTextSequence"),i=0,d(f)):ye(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),u):(e.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||ye(f)?(e.exit("codeTextData"),u(f)):(e.consume(f),c)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(l.type="codeTextData",c(f))}}class KC{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const l=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&fi(this.left,r),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),fi(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),fi(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);fi(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);fi(this.left,n.reverse())}}}function fi(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function T0(e){const t={};let n=-1,r,i,l,o,s,u,c;const d=new KC(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,l=0,l<u.length&&u[l][1].type==="lineEndingBlank"&&(l+=2),l<u.length&&u[l][1].type==="content"))for(;++l<u.length&&u[l][1].type!=="content";)u[l][1].type==="chunkText"&&(u[l][1]._isInFirstContentOfListItem=!0,l++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,YC(d,n)),n=t[n],c=!0);else if(r[1]._container){for(l=n,i=void 0;l--;)if(o=d.get(l),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=l);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},s=d.slice(i,n),s.unshift(r),d.splice(i,n-i+1,s))}}return on(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function YC(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const l=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const s=o.events,u=[],c={};let d,f,g=-1,m=n,C=0,k=0;const E=[k];for(;m;){for(;e.get(++i)[1]!==m;);l.push(i),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),f&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++g<s.length;)s[g][0]==="exit"&&s[g-1][0]==="enter"&&s[g][1].type===s[g-1][1].type&&s[g][1].start.line!==s[g][1].end.line&&(k=g+1,E.push(k),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):E.pop(),g=E.length;g--;){const x=s.slice(E[g],E[g+1]),w=l.pop();u.push([w,w+x.length-1]),e.splice(w,2,x)}for(u.reverse(),g=-1;++g<u.length;)c[C+u[g][0]]=C+u[g][1],C+=u[g][1]-u[g][0]-1;return c}const QC={resolve:XC,tokenize:ZC},JC={partial:!0,tokenize:eb};function XC(e){return T0(e),e}function ZC(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?l(s):ye(s)?e.check(JC,o,l)(s):(e.consume(s),i)}function l(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function eb(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),De(e,l,"linePrefix")}function l(o){if(o===null||ye(o))return n(o);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function I0(e,t,n,r,i,l,o,s,u){const c=u||Number.POSITIVE_INFINITY;let d=0;return f;function f(x){return x===60?(e.enter(r),e.enter(i),e.enter(l),e.consume(x),e.exit(l),g):x===null||x===32||x===41||Ha(x)?n(x):(e.enter(r),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),k(x))}function g(x){return x===62?(e.enter(l),e.consume(x),e.exit(l),e.exit(i),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),m(x))}function m(x){return x===62?(e.exit("chunkString"),e.exit(s),g(x)):x===null||x===60||ye(x)?n(x):(e.consume(x),x===92?C:m)}function C(x){return x===60||x===62||x===92?(e.consume(x),m):m(x)}function k(x){return!d&&(x===null||x===41||wt(x))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(x)):d<c&&x===40?(e.consume(x),d++,k):x===41?(e.consume(x),d--,k):x===null||x===32||x===40||Ha(x)?n(x):(e.consume(x),x===92?E:k)}function E(x){return x===40||x===41||x===92?(e.consume(x),k):k(x)}}function A0(e,t,n,r,i,l){const o=this;let s=0,u;return c;function c(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(l),d}function d(m){return s>999||m===null||m===91||m===93&&!u||m===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(m):m===93?(e.exit(l),e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):ye(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||ye(m)||s++>999?(e.exit("chunkString"),d(m)):(e.consume(m),u||(u=!Te(m)),m===92?g:f)}function g(m){return m===91||m===92||m===93?(e.consume(m),s++,f):f(m)}}function _0(e,t,n,r,i,l){let o;return s;function s(g){return g===34||g===39||g===40?(e.enter(r),e.enter(i),e.consume(g),e.exit(i),o=g===40?41:g,u):n(g)}function u(g){return g===o?(e.enter(i),e.consume(g),e.exit(i),e.exit(r),t):(e.enter(l),c(g))}function c(g){return g===o?(e.exit(l),u(o)):g===null?n(g):ye(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),De(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(g))}function d(g){return g===o||g===null||ye(g)?(e.exit("chunkString"),c(g)):(e.consume(g),g===92?f:d)}function f(g){return g===o||g===92?(e.consume(g),d):d(g)}}function Ai(e,t){let n;return r;function r(i){return ye(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Te(i)?De(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const tb={name:"definition",tokenize:rb},nb={partial:!0,tokenize:ib};function rb(e,t,n){const r=this;let i;return l;function l(m){return e.enter("definition"),o(m)}function o(m){return A0.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function s(m){return i=Or(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),u):n(m)}function u(m){return wt(m)?Ai(e,c)(m):c(m)}function c(m){return I0(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(nb,f,f)(m)}function f(m){return Te(m)?De(e,g,"whitespace")(m):g(m)}function g(m){return m===null||ye(m)?(e.exit("definition"),r.parser.defined.push(i),t(m)):n(m)}}function ib(e,t,n){return r;function r(s){return wt(s)?Ai(e,i)(s):n(s)}function i(s){return _0(e,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function l(s){return Te(s)?De(e,o,"whitespace")(s):o(s)}function o(s){return s===null||ye(s)?t(s):n(s)}}const lb={name:"hardBreakEscape",tokenize:ob};function ob(e,t,n){return r;function r(l){return e.enter("hardBreakEscape"),e.consume(l),i}function i(l){return ye(l)?(e.exit("hardBreakEscape"),t(l)):n(l)}}const sb={name:"headingAtx",resolve:ab,tokenize:ub};function ab(e,t){let n=e.length-2,r=3,i,l;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},l={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},on(e,r,n-r+1,[["enter",i,t],["enter",l,t],["exit",l,t],["exit",i,t]])),e}function ub(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),l(d)}function l(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(e.consume(d),o):d===null||wt(d)?(e.exit("atxHeadingSequence"),s(d)):n(d)}function s(d){return d===35?(e.enter("atxHeadingSequence"),u(d)):d===null||ye(d)?(e.exit("atxHeading"),t(d)):Te(d)?De(e,s,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function u(d){return d===35?(e.consume(d),u):(e.exit("atxHeadingSequence"),s(d))}function c(d){return d===null||d===35||wt(d)?(e.exit("atxHeadingText"),s(d)):(e.consume(d),c)}}const cb=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Kf=["pre","script","style","textarea"],db={concrete:!0,name:"htmlFlow",resolveTo:hb,tokenize:mb},fb={partial:!0,tokenize:xb},pb={partial:!0,tokenize:gb};function hb(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function mb(e,t,n){const r=this;let i,l,o,s,u;return c;function c(v){return d(v)}function d(v){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(v),f}function f(v){return v===33?(e.consume(v),g):v===47?(e.consume(v),l=!0,k):v===63?(e.consume(v),i=3,r.interrupt?t:S):nn(v)?(e.consume(v),o=String.fromCharCode(v),E):n(v)}function g(v){return v===45?(e.consume(v),i=2,m):v===91?(e.consume(v),i=5,s=0,C):nn(v)?(e.consume(v),i=4,r.interrupt?t:S):n(v)}function m(v){return v===45?(e.consume(v),r.interrupt?t:S):n(v)}function C(v){const F="CDATA[";return v===F.charCodeAt(s++)?(e.consume(v),s===F.length?r.interrupt?t:M:C):n(v)}function k(v){return nn(v)?(e.consume(v),o=String.fromCharCode(v),E):n(v)}function E(v){if(v===null||v===47||v===62||wt(v)){const F=v===47,J=o.toLowerCase();return!F&&!l&&Kf.includes(J)?(i=1,r.interrupt?t(v):M(v)):cb.includes(o.toLowerCase())?(i=6,F?(e.consume(v),x):r.interrupt?t(v):M(v)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(v):l?w(v):y(v))}return v===45||Tt(v)?(e.consume(v),o+=String.fromCharCode(v),E):n(v)}function x(v){return v===62?(e.consume(v),r.interrupt?t:M):n(v)}function w(v){return Te(v)?(e.consume(v),w):j(v)}function y(v){return v===47?(e.consume(v),j):v===58||v===95||nn(v)?(e.consume(v),I):Te(v)?(e.consume(v),y):j(v)}function I(v){return v===45||v===46||v===58||v===95||Tt(v)?(e.consume(v),I):P(v)}function P(v){return v===61?(e.consume(v),b):Te(v)?(e.consume(v),P):y(v)}function b(v){return v===null||v===60||v===61||v===62||v===96?n(v):v===34||v===39?(e.consume(v),u=v,T):Te(v)?(e.consume(v),b):A(v)}function T(v){return v===u?(e.consume(v),u=null,O):v===null||ye(v)?n(v):(e.consume(v),T)}function A(v){return v===null||v===34||v===39||v===47||v===60||v===61||v===62||v===96||wt(v)?P(v):(e.consume(v),A)}function O(v){return v===47||v===62||Te(v)?y(v):n(v)}function j(v){return v===62?(e.consume(v),D):n(v)}function D(v){return v===null||ye(v)?M(v):Te(v)?(e.consume(v),D):n(v)}function M(v){return v===45&&i===2?(e.consume(v),fe):v===60&&i===1?(e.consume(v),ie):v===62&&i===4?(e.consume(v),L):v===63&&i===3?(e.consume(v),S):v===93&&i===5?(e.consume(v),Y):ye(v)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(fb,_,H)(v)):v===null||ye(v)?(e.exit("htmlFlowData"),H(v)):(e.consume(v),M)}function H(v){return e.check(pb,$,_)(v)}function $(v){return e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),ee}function ee(v){return v===null||ye(v)?H(v):(e.enter("htmlFlowData"),M(v))}function fe(v){return v===45?(e.consume(v),S):M(v)}function ie(v){return v===47?(e.consume(v),o="",z):M(v)}function z(v){if(v===62){const F=o.toLowerCase();return Kf.includes(F)?(e.consume(v),L):M(v)}return nn(v)&&o.length<8?(e.consume(v),o+=String.fromCharCode(v),z):M(v)}function Y(v){return v===93?(e.consume(v),S):M(v)}function S(v){return v===62?(e.consume(v),L):v===45&&i===2?(e.consume(v),S):M(v)}function L(v){return v===null||ye(v)?(e.exit("htmlFlowData"),_(v)):(e.consume(v),L)}function _(v){return e.exit("htmlFlow"),t(v)}}function gb(e,t,n){const r=this;return i;function i(o){return ye(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),l):n(o)}function l(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function xb(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt($o,t,n)}}const yb={name:"htmlText",tokenize:vb};function vb(e,t,n){const r=this;let i,l,o;return s;function s(S){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(S),u}function u(S){return S===33?(e.consume(S),c):S===47?(e.consume(S),P):S===63?(e.consume(S),y):nn(S)?(e.consume(S),A):n(S)}function c(S){return S===45?(e.consume(S),d):S===91?(e.consume(S),l=0,C):nn(S)?(e.consume(S),w):n(S)}function d(S){return S===45?(e.consume(S),m):n(S)}function f(S){return S===null?n(S):S===45?(e.consume(S),g):ye(S)?(o=f,ie(S)):(e.consume(S),f)}function g(S){return S===45?(e.consume(S),m):f(S)}function m(S){return S===62?fe(S):S===45?g(S):f(S)}function C(S){const L="CDATA[";return S===L.charCodeAt(l++)?(e.consume(S),l===L.length?k:C):n(S)}function k(S){return S===null?n(S):S===93?(e.consume(S),E):ye(S)?(o=k,ie(S)):(e.consume(S),k)}function E(S){return S===93?(e.consume(S),x):k(S)}function x(S){return S===62?fe(S):S===93?(e.consume(S),x):k(S)}function w(S){return S===null||S===62?fe(S):ye(S)?(o=w,ie(S)):(e.consume(S),w)}function y(S){return S===null?n(S):S===63?(e.consume(S),I):ye(S)?(o=y,ie(S)):(e.consume(S),y)}function I(S){return S===62?fe(S):y(S)}function P(S){return nn(S)?(e.consume(S),b):n(S)}function b(S){return S===45||Tt(S)?(e.consume(S),b):T(S)}function T(S){return ye(S)?(o=T,ie(S)):Te(S)?(e.consume(S),T):fe(S)}function A(S){return S===45||Tt(S)?(e.consume(S),A):S===47||S===62||wt(S)?O(S):n(S)}function O(S){return S===47?(e.consume(S),fe):S===58||S===95||nn(S)?(e.consume(S),j):ye(S)?(o=O,ie(S)):Te(S)?(e.consume(S),O):fe(S)}function j(S){return S===45||S===46||S===58||S===95||Tt(S)?(e.consume(S),j):D(S)}function D(S){return S===61?(e.consume(S),M):ye(S)?(o=D,ie(S)):Te(S)?(e.consume(S),D):O(S)}function M(S){return S===null||S===60||S===61||S===62||S===96?n(S):S===34||S===39?(e.consume(S),i=S,H):ye(S)?(o=M,ie(S)):Te(S)?(e.consume(S),M):(e.consume(S),$)}function H(S){return S===i?(e.consume(S),i=void 0,ee):S===null?n(S):ye(S)?(o=H,ie(S)):(e.consume(S),H)}function $(S){return S===null||S===34||S===39||S===60||S===61||S===96?n(S):S===47||S===62||wt(S)?O(S):(e.consume(S),$)}function ee(S){return S===47||S===62||wt(S)?O(S):n(S)}function fe(S){return S===62?(e.consume(S),e.exit("htmlTextData"),e.exit("htmlText"),t):n(S)}function ie(S){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),z}function z(S){return Te(S)?De(e,Y,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(S):Y(S)}function Y(S){return e.enter("htmlTextData"),o(S)}}const lc={name:"labelEnd",resolveAll:bb,resolveTo:Sb,tokenize:Nb},wb={tokenize:Eb},kb={tokenize:Tb},Cb={tokenize:Ib};function bb(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&on(e,0,e.length,n),e}function Sb(e,t){let n=e.length,r=0,i,l,o,s;for(;n--;)if(i=e[n][1],l){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(l=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const u={type:e[l][1].type==="labelLink"?"link":"image",start:{...e[l][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[l][1].start},end:{...e[o][1].end}},d={type:"labelText",start:{...e[l+r+2][1].end},end:{...e[o-2][1].start}};return s=[["enter",u,t],["enter",c,t]],s=Lt(s,e.slice(l+1,l+r+3)),s=Lt(s,[["enter",d,t]]),s=Lt(s,ic(t.parser.constructs.insideSpan.null,e.slice(l+r+4,o-3),t)),s=Lt(s,[["exit",d,t],e[o-2],e[o-1],["exit",c,t]]),s=Lt(s,e.slice(o+1)),s=Lt(s,[["exit",u,t]]),on(e,l,e.length,s),e}function Nb(e,t,n){const r=this;let i=r.events.length,l,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){l=r.events[i][1];break}return s;function s(g){return l?l._inactive?f(g):(o=r.parser.defined.includes(Or(r.sliceSerialize({start:l.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),u):n(g)}function u(g){return g===40?e.attempt(wb,d,o?d:f)(g):g===91?e.attempt(kb,d,o?c:f)(g):o?d(g):f(g)}function c(g){return e.attempt(Cb,d,f)(g)}function d(g){return t(g)}function f(g){return l._balanced=!0,n(g)}}function Eb(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return wt(f)?Ai(e,l)(f):l(f)}function l(f){return f===41?d(f):I0(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return wt(f)?Ai(e,u)(f):d(f)}function s(f){return n(f)}function u(f){return f===34||f===39||f===40?_0(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function c(f){return wt(f)?Ai(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function Tb(e,t,n){const r=this;return i;function i(s){return A0.call(r,e,l,o,"reference","referenceMarker","referenceString")(s)}function l(s){return r.parser.defined.includes(Or(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function o(s){return n(s)}}function Ib(e,t,n){return r;function r(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),i}function i(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),t):n(l)}}const Ab={name:"labelStartImage",resolveAll:lc.resolveAll,tokenize:_b};function _b(e,t,n){const r=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),l}function l(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const Mb={name:"labelStartLink",resolveAll:lc.resolveAll,tokenize:Pb};function Pb(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),l}function l(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Es={name:"lineEnding",tokenize:jb};function jb(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),De(e,t,"linePrefix")}}const Gl={name:"thematicBreak",tokenize:Rb};function Rb(e,t,n){let r=0,i;return l;function l(c){return e.enter("thematicBreak"),o(c)}function o(c){return i=c,s(c)}function s(c){return c===i?(e.enter("thematicBreakSequence"),u(c)):r>=3&&(c===null||ye(c))?(e.exit("thematicBreak"),t(c)):n(c)}function u(c){return c===i?(e.consume(c),r++,u):(e.exit("thematicBreakSequence"),Te(c)?De(e,s,"whitespace")(c):s(c))}}const pt={continuation:{tokenize:Fb},exit:Ub,name:"list",tokenize:zb},Db={partial:!0,tokenize:Hb},Lb={partial:!0,tokenize:Ob};function zb(e,t,n){const r=this,i=r.events[r.events.length-1];let l=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return s;function s(m){const C=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(C==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:Va(m)){if(r.containerState.type||(r.containerState.type=C,e.enter(C,{_container:!0})),C==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(Gl,n,c)(m):c(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(m)}return n(m)}function u(m){return Va(m)&&++o<10?(e.consume(m),u):(!r.interrupt||o<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),c(m)):n(m)}function c(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check($o,r.interrupt?n:d,e.attempt(Db,g,f))}function d(m){return r.containerState.initialBlankLine=!0,l++,g(m)}function f(m){return Te(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),g):n(m)}function g(m){return r.containerState.size=l+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function Fb(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check($o,i,l);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,De(e,t,"listItemIndent",r.containerState.size+1)(s)}function l(s){return r.containerState.furtherBlankLines||!Te(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Lb,t,o)(s))}function o(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,De(e,e.attempt(pt,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function Ob(e,t,n){const r=this;return De(e,i,"listItemIndent",r.containerState.size+1);function i(l){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(l):n(l)}}function Ub(e){e.exit(this.containerState.type)}function Hb(e,t,n){const r=this;return De(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(l){const o=r.events[r.events.length-1];return!Te(l)&&o&&o[1].type==="listItemPrefixWhitespace"?t(l):n(l)}}const Yf={name:"setextUnderline",resolveTo:Vb,tokenize:Bb};function Vb(e,t){let n=e.length,r,i,l;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!l&&e[n][1].type==="definition"&&(l=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",l?(e.splice(i,0,["enter",o,t]),e.splice(l+1,0,["exit",e[r][1],t]),e[r][1].end={...e[l][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function Bb(e,t,n){const r=this;let i;return l;function l(c){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return e.enter("setextHeadingLineSequence"),s(c)}function s(c){return c===i?(e.consume(c),s):(e.exit("setextHeadingLineSequence"),Te(c)?De(e,u,"lineSuffix")(c):u(c))}function u(c){return c===null||ye(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const $b={tokenize:qb};function qb(e){const t=this,n=e.attempt($o,r,e.attempt(this.parser.constructs.flowInitial,i,De(e,e.attempt(this.parser.constructs.flow,i,e.attempt(QC,i)),"linePrefix")));return n;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Gb={resolveAll:P0()},Wb=M0("string"),Kb=M0("text");function M0(e){return{resolveAll:P0(e==="text"?Yb:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],l=n.attempt(i,o,s);return o;function o(d){return c(d)?l(d):s(d)}function s(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),u}function u(d){return c(d)?(n.exit("data"),l(d)):(n.consume(d),u)}function c(d){if(d===null)return!0;const f=i[d];let g=-1;if(f)for(;++g<f.length;){const m=f[g];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function P0(e){return t;function t(n,r){let i=-1,l;for(;++i<=n.length;)l===void 0?n[i]&&n[i][1].type==="data"&&(l=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==l+2&&(n[l][1].end=n[i-1][1].end,n.splice(l+2,i-l-2),i=l+2),l=void 0);return e?e(n,r):n}}function Yb(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let l=i.length,o=-1,s=0,u;for(;l--;){const c=i[l];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(c===-2)u=!0,s++;else if(c!==-1){l++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const c={type:n===e.length||u||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?o:r.start._bufferIndex+o,_index:r.start._index+l,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const Qb={42:pt,43:pt,45:pt,48:pt,49:pt,50:pt,51:pt,52:pt,53:pt,54:pt,55:pt,56:pt,57:pt,62:S0},Jb={91:tb},Xb={[-2]:Ns,[-1]:Ns,32:Ns},Zb={35:sb,42:Gl,45:[Yf,Gl],60:db,61:Yf,95:Gl,96:Wf,126:Wf},eS={38:E0,92:N0},tS={[-5]:Es,[-4]:Es,[-3]:Es,33:Ab,38:E0,42:Ba,60:[MC,yb],91:Mb,92:[lb,N0],93:lc,95:Ba,96:$C},nS={null:[Ba,Gb]},rS={null:[42,95]},iS={null:[]},lS=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:rS,contentInitial:Jb,disable:iS,document:Qb,flow:Zb,flowInitial:Xb,insideSpan:nS,string:eS,text:tS},Symbol.toStringTag,{value:"Module"}));function oS(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},l=[];let o=[],s=[];const u={attempt:T(P),check:T(b),consume:w,enter:y,exit:I,interrupt:T(b,{interrupt:!0})},c={code:null,containerState:{},defineSkip:k,events:[],now:C,parser:e,previous:null,sliceSerialize:g,sliceStream:m,write:f};let d=t.tokenize.call(c,u);return t.resolveAll&&l.push(t),c;function f(D){return o=Lt(o,D),E(),o[o.length-1]!==null?[]:(A(t,0),c.events=ic(l,c.events,c),c.events)}function g(D,M){return aS(m(D),M)}function m(D){return sS(o,D)}function C(){const{_bufferIndex:D,_index:M,line:H,column:$,offset:ee}=r;return{_bufferIndex:D,_index:M,line:H,column:$,offset:ee}}function k(D){i[D.line]=D.column,j()}function E(){let D;for(;r._index<o.length;){const M=o[r._index];if(typeof M=="string")for(D=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===D&&r._bufferIndex<M.length;)x(M.charCodeAt(r._bufferIndex));else x(M)}}function x(D){d=d(D)}function w(D){ye(D)?(r.line++,r.column=1,r.offset+=D===-3?2:1,j()):D!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=D}function y(D,M){const H=M||{};return H.type=D,H.start=C(),c.events.push(["enter",H,c]),s.push(H),H}function I(D){const M=s.pop();return M.end=C(),c.events.push(["exit",M,c]),M}function P(D,M){A(D,M.from)}function b(D,M){M.restore()}function T(D,M){return H;function H($,ee,fe){let ie,z,Y,S;return Array.isArray($)?_($):"tokenize"in $?_([$]):L($);function L(V){return U;function U(le){const te=le!==null&&V[le],Z=le!==null&&V.null,q=[...Array.isArray(te)?te:te?[te]:[],...Array.isArray(Z)?Z:Z?[Z]:[]];return _(q)(le)}}function _(V){return ie=V,z=0,V.length===0?fe:v(V[z])}function v(V){return U;function U(le){return S=O(),Y=V,V.partial||(c.currentConstruct=V),V.name&&c.parser.constructs.disable.null.includes(V.name)?J():V.tokenize.call(M?Object.assign(Object.create(c),M):c,u,F,J)(le)}}function F(V){return D(Y,S),ee}function J(V){return S.restore(),++z<ie.length?v(ie[z]):fe}}}function A(D,M){D.resolveAll&&!l.includes(D)&&l.push(D),D.resolve&&on(c.events,M,c.events.length-M,D.resolve(c.events.slice(M),c)),D.resolveTo&&(c.events=D.resolveTo(c.events,c))}function O(){const D=C(),M=c.previous,H=c.currentConstruct,$=c.events.length,ee=Array.from(s);return{from:$,restore:fe};function fe(){r=D,c.previous=M,c.currentConstruct=H,c.events.length=$,s=ee,j()}}function j(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function sS(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,l=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,l)];else{if(o=e.slice(n,i),r>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(r):o.shift()}l>0&&o.push(e[i].slice(0,l))}return o}function aS(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const l=e[n];let o;if(typeof l=="string")o=l;else switch(l){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(l)}i=l===-2,r.push(o)}return r.join("")}function uS(e){const r={constructs:gC([lS,...(e||{}).extensions||[]]),content:i(SC),defined:[],document:i(EC),flow:i($b),lazy:{},string:i(Wb),text:i(Kb)};return r;function i(l){return o;function o(s){return oS(r,l,s)}}}function cS(e){for(;!T0(e););return e}const Qf=/[\0\t\n\r]/g;function dS(){let e=1,t="",n=!0,r;return i;function i(l,o,s){const u=[];let c,d,f,g,m;for(l=t+(typeof l=="string"?l.toString():new TextDecoder(o||void 0).decode(l)),f=0,t="",n&&(l.charCodeAt(0)===65279&&f++,n=void 0);f<l.length;){if(Qf.lastIndex=f,c=Qf.exec(l),g=c&&c.index!==void 0?c.index:l.length,m=l.charCodeAt(g),!c){t=l.slice(f);break}if(m===10&&f===g&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),f<g&&(u.push(l.slice(f,g)),e+=g-f),m){case 0:{u.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,u.push(-2);e++<d;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}f=g+1}return s&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}const fS=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function pS(e){return e.replace(fS,hS)}function hS(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),l=i===120||i===88;return b0(n.slice(l?2:1),l?16:10)}return rc(n)||e}const j0={}.hasOwnProperty;function mS(e,t,n){return typeof t!="string"&&(n=t,t=void 0),gS(n)(cS(uS(n).document().write(dS()(e,t,!0))))}function gS(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(ce),autolinkProtocol:O,autolinkEmail:O,atxHeading:l(me),blockQuote:l(Z),characterEscape:O,characterReference:O,codeFenced:l(q),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:l(q,o),codeText:l(B,o),codeTextData:O,data:O,codeFlowValue:O,definition:l(oe),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:l(de),hardBreakEscape:l(xe),hardBreakTrailing:l(xe),htmlFlow:l(be,o),htmlFlowData:O,htmlText:l(be,o),htmlTextData:O,image:l(ke),label:o,link:l(ce),listItem:l(ae),listItemValue:g,listOrdered:l(G,f),listUnordered:l(G),paragraph:l(W),reference:v,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:l(me),strong:l(re),thematicBreak:l(ge)},exit:{atxHeading:u(),atxHeadingSequence:P,autolink:u(),autolinkEmail:te,autolinkProtocol:le,blockQuote:u(),characterEscapeValue:j,characterReferenceMarkerHexadecimal:J,characterReferenceMarkerNumeric:J,characterReferenceValue:V,characterReference:U,codeFenced:u(E),codeFencedFence:k,codeFencedFenceInfo:m,codeFencedFenceMeta:C,codeFlowValue:j,codeIndented:u(x),codeText:u(ee),codeTextData:j,data:j,definition:u(),definitionDestinationString:I,definitionLabelString:w,definitionTitleString:y,emphasis:u(),hardBreakEscape:u(M),hardBreakTrailing:u(M),htmlFlow:u(H),htmlFlowData:j,htmlText:u($),htmlTextData:j,image:u(ie),label:Y,labelText:z,lineEnding:D,link:u(fe),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:F,resourceDestinationString:S,resourceTitleString:L,resource:_,setextHeading:u(A),setextHeadingLineSequence:T,setextHeadingText:b,strong:u(),thematicBreak:u()}};R0(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(R){let K={type:"root",children:[]};const se={stack:[K],tokenStack:[],config:t,enter:s,exit:c,buffer:o,resume:d,data:n},pe=[];let he=-1;for(;++he<R.length;)if(R[he][1].type==="listOrdered"||R[he][1].type==="listUnordered")if(R[he][0]==="enter")pe.push(he);else{const Me=pe.pop();he=i(R,Me,he)}for(he=-1;++he<R.length;){const Me=t[R[he][0]];j0.call(Me,R[he][1].type)&&Me[R[he][1].type].call(Object.assign({sliceSerialize:R[he][2].sliceSerialize},se),R[he][1])}if(se.tokenStack.length>0){const Me=se.tokenStack[se.tokenStack.length-1];(Me[1]||Jf).call(se,void 0,Me[0])}for(K.position={start:Cn(R.length>0?R[0][1].start:{line:1,column:1,offset:0}),end:Cn(R.length>0?R[R.length-2][1].end:{line:1,column:1,offset:0})},he=-1;++he<t.transforms.length;)K=t.transforms[he](K)||K;return K}function i(R,K,se){let pe=K-1,he=-1,Me=!1,Vt,Ct,sn,an;for(;++pe<=se;){const Xe=R[pe];switch(Xe[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Xe[0]==="enter"?he++:he--,an=void 0;break}case"lineEndingBlank":{Xe[0]==="enter"&&(Vt&&!an&&!he&&!sn&&(sn=pe),an=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:an=void 0}if(!he&&Xe[0]==="enter"&&Xe[1].type==="listItemPrefix"||he===-1&&Xe[0]==="exit"&&(Xe[1].type==="listUnordered"||Xe[1].type==="listOrdered")){if(Vt){let Qt=pe;for(Ct=void 0;Qt--;){const ft=R[Qt];if(ft[1].type==="lineEnding"||ft[1].type==="lineEndingBlank"){if(ft[0]==="exit")continue;Ct&&(R[Ct][1].type="lineEndingBlank",Me=!0),ft[1].type="lineEnding",Ct=Qt}else if(!(ft[1].type==="linePrefix"||ft[1].type==="blockQuotePrefix"||ft[1].type==="blockQuotePrefixWhitespace"||ft[1].type==="blockQuoteMarker"||ft[1].type==="listItemIndent"))break}sn&&(!Ct||sn<Ct)&&(Vt._spread=!0),Vt.end=Object.assign({},Ct?R[Ct][1].start:Xe[1].end),R.splice(Ct||pe,0,["exit",Vt,Xe[2]]),pe++,se++}if(Xe[1].type==="listItemPrefix"){const Qt={type:"listItem",_spread:!1,start:Object.assign({},Xe[1].start),end:void 0};Vt=Qt,R.splice(pe,0,["enter",Qt,Xe[2]]),pe++,se++,sn=void 0,an=!0}}}return R[K][1]._spread=Me,se}function l(R,K){return se;function se(pe){s.call(this,R(pe),pe),K&&K.call(this,pe)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(R,K,se){this.stack[this.stack.length-1].children.push(R),this.stack.push(R),this.tokenStack.push([K,se||void 0]),R.position={start:Cn(K.start),end:void 0}}function u(R){return K;function K(se){R&&R.call(this,se),c.call(this,se)}}function c(R,K){const se=this.stack.pop(),pe=this.tokenStack.pop();if(pe)pe[0].type!==R.type&&(K?K.call(this,R,pe[0]):(pe[1]||Jf).call(this,R,pe[0]));else throw new Error("Cannot close `"+R.type+"` ("+Ii({start:R.start,end:R.end})+"): its not open");se.position.end=Cn(R.end)}function d(){return hC(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function g(R){if(this.data.expectingFirstListItemValue){const K=this.stack[this.stack.length-2];K.start=Number.parseInt(this.sliceSerialize(R),10),this.data.expectingFirstListItemValue=void 0}}function m(){const R=this.resume(),K=this.stack[this.stack.length-1];K.lang=R}function C(){const R=this.resume(),K=this.stack[this.stack.length-1];K.meta=R}function k(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function E(){const R=this.resume(),K=this.stack[this.stack.length-1];K.value=R.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const R=this.resume(),K=this.stack[this.stack.length-1];K.value=R.replace(/(\r?\n|\r)$/g,"")}function w(R){const K=this.resume(),se=this.stack[this.stack.length-1];se.label=K,se.identifier=Or(this.sliceSerialize(R)).toLowerCase()}function y(){const R=this.resume(),K=this.stack[this.stack.length-1];K.title=R}function I(){const R=this.resume(),K=this.stack[this.stack.length-1];K.url=R}function P(R){const K=this.stack[this.stack.length-1];if(!K.depth){const se=this.sliceSerialize(R).length;K.depth=se}}function b(){this.data.setextHeadingSlurpLineEnding=!0}function T(R){const K=this.stack[this.stack.length-1];K.depth=this.sliceSerialize(R).codePointAt(0)===61?1:2}function A(){this.data.setextHeadingSlurpLineEnding=void 0}function O(R){const se=this.stack[this.stack.length-1].children;let pe=se[se.length-1];(!pe||pe.type!=="text")&&(pe=ve(),pe.position={start:Cn(R.start),end:void 0},se.push(pe)),this.stack.push(pe)}function j(R){const K=this.stack.pop();K.value+=this.sliceSerialize(R),K.position.end=Cn(R.end)}function D(R){const K=this.stack[this.stack.length-1];if(this.data.atHardBreak){const se=K.children[K.children.length-1];se.position.end=Cn(R.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(K.type)&&(O.call(this,R),j.call(this,R))}function M(){this.data.atHardBreak=!0}function H(){const R=this.resume(),K=this.stack[this.stack.length-1];K.value=R}function $(){const R=this.resume(),K=this.stack[this.stack.length-1];K.value=R}function ee(){const R=this.resume(),K=this.stack[this.stack.length-1];K.value=R}function fe(){const R=this.stack[this.stack.length-1];if(this.data.inReference){const K=this.data.referenceType||"shortcut";R.type+="Reference",R.referenceType=K,delete R.url,delete R.title}else delete R.identifier,delete R.label;this.data.referenceType=void 0}function ie(){const R=this.stack[this.stack.length-1];if(this.data.inReference){const K=this.data.referenceType||"shortcut";R.type+="Reference",R.referenceType=K,delete R.url,delete R.title}else delete R.identifier,delete R.label;this.data.referenceType=void 0}function z(R){const K=this.sliceSerialize(R),se=this.stack[this.stack.length-2];se.label=pS(K),se.identifier=Or(K).toLowerCase()}function Y(){const R=this.stack[this.stack.length-1],K=this.resume(),se=this.stack[this.stack.length-1];if(this.data.inReference=!0,se.type==="link"){const pe=R.children;se.children=pe}else se.alt=K}function S(){const R=this.resume(),K=this.stack[this.stack.length-1];K.url=R}function L(){const R=this.resume(),K=this.stack[this.stack.length-1];K.title=R}function _(){this.data.inReference=void 0}function v(){this.data.referenceType="collapsed"}function F(R){const K=this.resume(),se=this.stack[this.stack.length-1];se.label=K,se.identifier=Or(this.sliceSerialize(R)).toLowerCase(),this.data.referenceType="full"}function J(R){this.data.characterReferenceType=R.type}function V(R){const K=this.sliceSerialize(R),se=this.data.characterReferenceType;let pe;se?(pe=b0(K,se==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):pe=rc(K);const he=this.stack[this.stack.length-1];he.value+=pe}function U(R){const K=this.stack.pop();K.position.end=Cn(R.end)}function le(R){j.call(this,R);const K=this.stack[this.stack.length-1];K.url=this.sliceSerialize(R)}function te(R){j.call(this,R);const K=this.stack[this.stack.length-1];K.url="mailto:"+this.sliceSerialize(R)}function Z(){return{type:"blockquote",children:[]}}function q(){return{type:"code",lang:null,meta:null,value:""}}function B(){return{type:"inlineCode",value:""}}function oe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function de(){return{type:"emphasis",children:[]}}function me(){return{type:"heading",depth:0,children:[]}}function xe(){return{type:"break"}}function be(){return{type:"html",value:""}}function ke(){return{type:"image",title:null,url:"",alt:null}}function ce(){return{type:"link",title:null,url:"",children:[]}}function G(R){return{type:"list",ordered:R.type==="listOrdered",start:null,spread:R._spread,children:[]}}function ae(R){return{type:"listItem",spread:R._spread,checked:null,children:[]}}function W(){return{type:"paragraph",children:[]}}function re(){return{type:"strong",children:[]}}function ve(){return{type:"text",value:""}}function ge(){return{type:"thematicBreak"}}}function Cn(e){return{line:e.line,column:e.column,offset:e.offset}}function R0(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?R0(e,r):xS(e,r)}}function xS(e,t){let n;for(n in t)if(j0.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Jf(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ii({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ii({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ii({start:t.start,end:t.end})+") is still open")}function yS(e){const t=this;t.parser=n;function n(r){return mS(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function vS(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function wS(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function kS(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let l={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(l.data={meta:t.meta}),e.patch(t,l),l=e.applyData(t,l),l={type:"element",tagName:"pre",properties:{},children:[l]},e.patch(t,l),l}function CS(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function bS(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function SS(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=ti(r.toLowerCase()),l=e.footnoteOrder.indexOf(r);let o,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=l+1,s+=1,e.footnoteCounts.set(r,s);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,u);const c={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,c),e.applyData(t,c)}function NS(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ES(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function D0(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),l=i[0];l&&l.type==="text"?l.value="["+l.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function TS(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return D0(e,t);const i={src:ti(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const l={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,l),e.applyData(t,l)}function IS(e,t){const n={src:ti(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function AS(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function _S(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return D0(e,t);const i={href:ti(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const l={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,l),e.applyData(t,l)}function MS(e,t){const n={href:ti(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function PS(e,t,n){const r=e.all(t),i=n?jS(n):L0(t),l={},o=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const d=r[s];(i||s!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?o.push(...d.children):o.push(d)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:l,children:o};return e.patch(t,c),e.applyData(t,c)}function jS(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=L0(n[r])}return t}function L0(e){const t=e.spread;return t??e.children.length>1}function RS(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,l),e.applyData(t,l)}function DS(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function LS(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function zS(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function FS(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=Zu(t.children[1]),u=g0(t.children[t.children.length-1]);s&&u&&(o.position={start:s,end:u}),i.push(o)}const l={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,l),e.applyData(t,l)}function OS(e,t,n){const r=n?n.children:void 0,l=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,s=o?o.length:t.children.length;let u=-1;const c=[];for(;++u<s;){const f=t.children[u],g={},m=o?o[u]:void 0;m&&(g.align=m);let C={type:"element",tagName:l,properties:g,children:[]};f&&(C.children=e.all(f),e.patch(f,C),C=e.applyData(f,C)),c.push(C)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,d),e.applyData(t,d)}function US(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Xf=9,Zf=32;function HS(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const l=[];for(;r;)l.push(ep(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return l.push(ep(t.slice(i),i>0,!1)),l.join("")}function ep(e,t,n){let r=0,i=e.length;if(t){let l=e.codePointAt(r);for(;l===Xf||l===Zf;)r++,l=e.codePointAt(r)}if(n){let l=e.codePointAt(i-1);for(;l===Xf||l===Zf;)i--,l=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function VS(e,t){const n={type:"text",value:HS(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function BS(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const $S={blockquote:vS,break:wS,code:kS,delete:CS,emphasis:bS,footnoteReference:SS,heading:NS,html:ES,imageReference:TS,image:IS,inlineCode:AS,linkReference:_S,link:MS,listItem:PS,list:RS,paragraph:DS,root:LS,strong:zS,table:FS,tableCell:US,tableRow:OS,text:VS,thematicBreak:BS,toml:Tl,yaml:Tl,definition:Tl,footnoteDefinition:Tl};function Tl(){}const z0=-1,qo=0,_i=1,So=2,oc=3,sc=4,ac=5,uc=6,F0=7,O0=8,tp=typeof self=="object"?self:globalThis,qS=(e,t)=>{const n=(i,l)=>(e.set(l,i),i),r=i=>{if(e.has(i))return e.get(i);const[l,o]=t[i];switch(l){case qo:case z0:return n(o,i);case _i:{const s=n([],i);for(const u of o)s.push(r(u));return s}case So:{const s=n({},i);for(const[u,c]of o)s[r(u)]=r(c);return s}case oc:return n(new Date(o),i);case sc:{const{source:s,flags:u}=o;return n(new RegExp(s,u),i)}case ac:{const s=n(new Map,i);for(const[u,c]of o)s.set(r(u),r(c));return s}case uc:{const s=n(new Set,i);for(const u of o)s.add(r(u));return s}case F0:{const{name:s,message:u}=o;return n(new tp[s](u),i)}case O0:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:s}=new Uint8Array(o);return n(new DataView(s),o)}}return n(new tp[l](o),i)};return r},np=e=>qS(new Map,e)(0),mr="",{toString:GS}={},{keys:WS}=Object,pi=e=>{const t=typeof e;if(t!=="object"||!e)return[qo,t];const n=GS.call(e).slice(8,-1);switch(n){case"Array":return[_i,mr];case"Object":return[So,mr];case"Date":return[oc,mr];case"RegExp":return[sc,mr];case"Map":return[ac,mr];case"Set":return[uc,mr];case"DataView":return[_i,n]}return n.includes("Array")?[_i,n]:n.includes("Error")?[F0,n]:[So,n]},Il=([e,t])=>e===qo&&(t==="function"||t==="symbol"),KS=(e,t,n,r)=>{const i=(o,s)=>{const u=r.push(o)-1;return n.set(s,u),u},l=o=>{if(n.has(o))return n.get(o);let[s,u]=pi(o);switch(s){case qo:{let d=o;switch(u){case"bigint":s=O0,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);d=null;break;case"undefined":return i([z0],o)}return i([s,d],o)}case _i:{if(u){let g=o;return u==="DataView"?g=new Uint8Array(o.buffer):u==="ArrayBuffer"&&(g=new Uint8Array(o)),i([u,[...g]],o)}const d=[],f=i([s,d],o);for(const g of o)d.push(l(g));return f}case So:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(t&&"toJSON"in o)return l(o.toJSON());const d=[],f=i([s,d],o);for(const g of WS(o))(e||!Il(pi(o[g])))&&d.push([l(g),l(o[g])]);return f}case oc:return i([s,o.toISOString()],o);case sc:{const{source:d,flags:f}=o;return i([s,{source:d,flags:f}],o)}case ac:{const d=[],f=i([s,d],o);for(const[g,m]of o)(e||!(Il(pi(g))||Il(pi(m))))&&d.push([l(g),l(m)]);return f}case uc:{const d=[],f=i([s,d],o);for(const g of o)(e||!Il(pi(g)))&&d.push(l(g));return f}}const{message:c}=o;return i([s,{name:u,message:c}],o)};return l},rp=(e,{json:t,lossy:n}={})=>{const r=[];return KS(!(t||n),!!t,new Map,r)(e),r},No=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?np(rp(e,t)):structuredClone(e):(e,t)=>np(rp(e,t));function YS(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function QS(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function JS(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||YS,r=e.options.footnoteBackLabel||QS,i=e.options.footnoteLabel||"Footnotes",l=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let u=-1;for(;++u<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[u]);if(!c)continue;const d=e.all(c),f=String(c.identifier).toUpperCase(),g=ti(f.toLowerCase());let m=0;const C=[],k=e.footnoteCounts.get(f);for(;k!==void 0&&++m<=k;){C.length>0&&C.push({type:"text",value:" "});let w=typeof n=="string"?n:n(u,m);typeof w=="string"&&(w={type:"text",value:w}),C.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,m),className:["data-footnote-backref"]},children:Array.isArray(w)?w:[w]})}const E=d[d.length-1];if(E&&E.type==="element"&&E.tagName==="p"){const w=E.children[E.children.length-1];w&&w.type==="text"?w.value+=" ":E.children.push({type:"text",value:" "}),E.children.push(...C)}else d.push(...C);const x={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(d,!0)};e.patch(c,x),s.push(x)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...No(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const U0=function(e){if(e==null)return tN;if(typeof e=="function")return Go(e);if(typeof e=="object")return Array.isArray(e)?XS(e):ZS(e);if(typeof e=="string")return eN(e);throw new Error("Expected function, string, or object as test")};function XS(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=U0(e[n]);return Go(r);function r(...i){let l=-1;for(;++l<t.length;)if(t[l].apply(this,i))return!0;return!1}}function ZS(e){const t=e;return Go(n);function n(r){const i=r;let l;for(l in e)if(i[l]!==t[l])return!1;return!0}}function eN(e){return Go(t);function t(n){return n&&n.type===e}}function Go(e){return t;function t(n,r,i){return!!(nN(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function tN(){return!0}function nN(e){return e!==null&&typeof e=="object"&&"type"in e}const H0=[],rN=!0,ip=!1,iN="skip";function lN(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const l=U0(i),o=r?-1:1;s(e,void 0,[])();function s(u,c,d){const f=u&&typeof u=="object"?u:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(u.type+(m?"<"+m+">":""))+")"})}return g;function g(){let m=H0,C,k,E;if((!t||l(u,c,d[d.length-1]||void 0))&&(m=oN(n(u,d)),m[0]===ip))return m;if("children"in u&&u.children){const x=u;if(x.children&&m[0]!==iN)for(k=(r?x.children.length:-1)+o,E=d.concat(x);k>-1&&k<x.children.length;){const w=x.children[k];if(C=s(w,k,E)(),C[0]===ip)return C;k=typeof C[1]=="number"?C[1]:k+o}}return m}}}function oN(e){return Array.isArray(e)?e:typeof e=="number"?[rN,e]:e==null?H0:[e]}function V0(e,t,n,r){let i,l,o;typeof t=="function"&&typeof n!="function"?(l=void 0,o=t,i=n):(l=t,o=n,i=r),lN(e,l,s,i);function s(u,c){const d=c[c.length-1],f=d?d.children.indexOf(u):void 0;return o(u,f,d)}}const $a={}.hasOwnProperty,sN={};function aN(e,t){const n=t||sN,r=new Map,i=new Map,l=new Map,o={...$S,...n.handlers},s={all:c,applyData:cN,definitionById:r,footnoteById:i,footnoteCounts:l,footnoteOrder:[],handlers:o,one:u,options:n,patch:uN,wrap:fN};return V0(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,g=String(d.identifier).toUpperCase();f.has(g)||f.set(g,d)}}),s;function u(d,f){const g=d.type,m=s.handlers[g];if($a.call(s.handlers,g)&&m)return m(s,d,f);if(s.options.passThrough&&s.options.passThrough.includes(g)){if("children"in d){const{children:k,...E}=d,x=No(E);return x.children=s.all(d),x}return No(d)}return(s.options.unknownHandler||dN)(s,d,f)}function c(d){const f=[];if("children"in d){const g=d.children;let m=-1;for(;++m<g.length;){const C=s.one(g[m],d);if(C){if(m&&g[m-1].type==="break"&&(!Array.isArray(C)&&C.type==="text"&&(C.value=lp(C.value)),!Array.isArray(C)&&C.type==="element")){const k=C.children[0];k&&k.type==="text"&&(k.value=lp(k.value))}Array.isArray(C)?f.push(...C):f.push(C)}}}return f}}function uN(e,t){e.position&&(t.position=Gk(e))}function cN(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,l=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&l&&Object.assign(n.properties,No(l)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function dN(e,t){const n=t.data||{},r="value"in t&&!($a.call(n,"hProperties")||$a.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function fN(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function lp(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function op(e,t){const n=aN(e,t),r=n.one(e,void 0),i=JS(n),l=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&l.children.push({type:"text",value:`
`},i),l}function pN(e,t){return e&&"run"in e?async function(n,r){const i=op(n,{file:r,...t});await e.run(i,r)}:function(n,r){return op(n,{file:r,...e||t})}}function sp(e){if(e)throw e}var Wl=Object.prototype.hasOwnProperty,B0=Object.prototype.toString,ap=Object.defineProperty,up=Object.getOwnPropertyDescriptor,cp=function(t){return typeof Array.isArray=="function"?Array.isArray(t):B0.call(t)==="[object Array]"},dp=function(t){if(!t||B0.call(t)!=="[object Object]")return!1;var n=Wl.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Wl.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||Wl.call(t,i)},fp=function(t,n){ap&&n.name==="__proto__"?ap(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},pp=function(t,n){if(n==="__proto__")if(Wl.call(t,n)){if(up)return up(t,n).value}else return;return t[n]},hN=function e(){var t,n,r,i,l,o,s=arguments[0],u=1,c=arguments.length,d=!1;for(typeof s=="boolean"&&(d=s,s=arguments[1]||{},u=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});u<c;++u)if(t=arguments[u],t!=null)for(n in t)r=pp(s,n),i=pp(t,n),s!==i&&(d&&i&&(dp(i)||(l=cp(i)))?(l?(l=!1,o=r&&cp(r)?r:[]):o=r&&dp(r)?r:{},fp(s,{name:n,newValue:e(d,o,i)})):typeof i<"u"&&fp(s,{name:n,newValue:i}));return s};const Ts=Wa(hN);function qa(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function mN(){const e=[],t={run:n,use:r};return t;function n(...i){let l=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...i);function s(u,...c){const d=e[++l];let f=-1;if(u){o(u);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,d?gN(d,s)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function gN(e,t){let n;return r;function r(...o){const s=e.length>o.length;let u;s&&o.push(i);try{u=e.apply(this,o)}catch(c){const d=c;if(s&&n)throw d;return i(d)}s||(u&&u.then&&typeof u.then=="function"?u.then(l,i):u instanceof Error?i(u):l(u))}function i(o,...s){n||(n=!0,t(o,...s))}function l(o){i(null,o)}}const en={basename:xN,dirname:yN,extname:vN,join:wN,sep:"/"};function xN(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');sl(e);let n=0,r=-1,i=e.length,l;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(l){n=i+1;break}}else r<0&&(l=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(l){n=i+1;break}}else o<0&&(l=!0,o=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(r=i):(s=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function yN(e){if(sl(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function vN(e){sl(e);let t=e.length,n=-1,r=0,i=-1,l=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?i<0?i=t:l!==1&&(l=1):i>-1&&(l=-1)}return i<0||n<0||l===0||l===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function wN(...e){let t=-1,n;for(;++t<e.length;)sl(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":kN(n)}function kN(e){sl(e);const t=e.codePointAt(0)===47;let n=CN(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function CN(e,t){let n="",r=0,i=-1,l=0,o=-1,s,u;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(i===o-1||l===1))if(i!==o-1&&l===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,l=0;continue}}else if(n.length>0){n="",r=0,i=o,l=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,l=0}else s===46&&l>-1?l++:l=-1}return n}function sl(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const bN={cwd:SN};function SN(){return"/"}function Ga(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function NN(e){if(typeof e=="string")e=new URL(e);else if(!Ga(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return EN(e)}function EN(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Is=["history","path","basename","stem","extname","dirname"];class $0{constructor(t){let n;t?Ga(t)?n={path:t}:typeof t=="string"||TN(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":bN.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Is.length;){const l=Is[r];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let i;for(i in n)Is.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?en.basename(this.path):void 0}set basename(t){_s(t,"basename"),As(t,"basename"),this.path=en.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?en.dirname(this.path):void 0}set dirname(t){hp(this.basename,"dirname"),this.path=en.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?en.extname(this.path):void 0}set extname(t){if(As(t,"extname"),hp(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=en.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Ga(t)&&(t=NN(t)),_s(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?en.basename(this.path,this.extname):void 0}set stem(t){_s(t,"stem"),As(t,"stem"),this.path=en.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new ot(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function As(e,t){if(e&&e.includes(en.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+en.sep+"`")}function _s(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function hp(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function TN(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const IN=function(e){const r=this.constructor.prototype,i=r[e],l=function(){return i.apply(l,arguments)};return Object.setPrototypeOf(l,r),l},AN={}.hasOwnProperty;class cc extends IN{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=mN()}copy(){const t=new cc;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Ts(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(js("data",this.frozen),this.namespace[t]=n,this):AN.call(this.namespace,t)&&this.namespace[t]||void 0:t?(js("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Al(t),r=this.parser||this.Parser;return Ms("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Ms("process",this.parser||this.Parser),Ps("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(l,o){const s=Al(t),u=r.parse(s);r.run(u,s,function(d,f,g){if(d||!f||!g)return c(d);const m=f,C=r.stringify(m,g);PN(C)?g.value=C:g.result=C,c(d,g)});function c(d,f){d||!f?o(d):l?l(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),Ms("processSync",this.parser||this.Parser),Ps("processSync",this.compiler||this.Compiler),this.process(t,i),gp("processSync","process",n),r;function i(l,o){n=!0,sp(l),r=o}}run(t,n,r){mp(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?l(void 0,r):new Promise(l);function l(o,s){const u=Al(n);i.run(t,u,c);function c(d,f,g){const m=f||t;d?s(d):o?o(m):r(void 0,m,g)}}}runSync(t,n){let r=!1,i;return this.run(t,n,l),gp("runSync","run",r),i;function l(o,s){sp(o),i=s,r=!0}}stringify(t,n){this.freeze();const r=Al(n),i=this.compiler||this.Compiler;return Ps("stringify",i),mp(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(js("use",this.frozen),t!=null)if(typeof t=="function")u(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function l(c){if(typeof c=="function")u(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...f]=c;u(d,f)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(c.plugins),c.settings&&(i.settings=Ts(!0,i.settings,c.settings))}function s(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const f=c[d];l(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function u(c,d){let f=-1,g=-1;for(;++f<r.length;)if(r[f][0]===c){g=f;break}if(g===-1)r.push([c,...d]);else if(d.length>0){let[m,...C]=d;const k=r[g][1];qa(k)&&qa(m)&&(m=Ts(!0,k,m)),r[g]=[c,m,...C]}}}}const _N=new cc().freeze();function Ms(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Ps(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function js(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function mp(e){if(!qa(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function gp(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Al(e){return MN(e)?e:new $0(e)}function MN(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function PN(e){return typeof e=="string"||jN(e)}function jN(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const RN="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",xp=[],yp={allowDangerousHtml:!0},DN=/^(https?|ircs?|mailto|xmpp)$/i,LN=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function zN(e){const t=FN(e),n=ON(e);return UN(t.runSync(t.parse(n),n),e)}function FN(e){const t=e.rehypePlugins||xp,n=e.remarkPlugins||xp,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...yp}:yp;return _N().use(yS).use(n).use(pN,r).use(t)}function ON(e){const t=e.children||"",n=new $0;return typeof t=="string"&&(n.value=t),n}function UN(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,l=t.disallowedElements,o=t.skipHtml,s=t.unwrapDisallowed,u=t.urlTransform||HN;for(const d of LN)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+RN+d.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),V0(e,c),Jk(e,{Fragment:a.Fragment,components:i,ignoreInvalidStyle:!0,jsx:a.jsx,jsxs:a.jsxs,passKeys:!0,passNode:!0});function c(d,f,g){if(d.type==="raw"&&g&&typeof f=="number")return o?g.children.splice(f,1):g.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let m;for(m in Ss)if(Object.hasOwn(Ss,m)&&Object.hasOwn(d.properties,m)){const C=d.properties[m],k=Ss[m];(k===null||k.includes(d.tagName))&&(d.properties[m]=u(String(C||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):l?l.includes(d.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(d,f,g)),m&&g&&typeof f=="number")return s&&d.children?g.children.splice(f,1,...d.children):g.children.splice(f,1),f}}}function HN(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||DN.test(e.slice(0,t))?e:""}const VN=({message:e})=>{const t=e.role==="user";return a.jsx("div",{className:`flex w-full ${t?"justify-end":"justify-start"} mb-6`,children:a.jsxs("div",{className:`flex max-w-[85%] md:max-w-[75%] ${t?"flex-row-reverse":"flex-row"} gap-4`,children:[a.jsx("div",{className:`shrink-0 w-8 h-8 rounded-full flex items-center justify-center mt-1 shadow-lg ${t?"bg-indigo-600":"bg-slate-700"}`,children:t?a.jsx(R2,{className:"w-5 h-5 text-indigo-100"}):a.jsx(Gu,{className:"w-5 h-5 text-slate-300"})}),a.jsxs("div",{className:`flex flex-col gap-2 ${t?"items-end":"items-start"}`,children:[e.attachment&&e.attachment.type==="image"&&a.jsx("div",{className:"rounded-xl overflow-hidden border border-slate-700/50 shadow-md max-w-full",children:a.jsx("img",{src:`data:${e.attachment.mimeType};base64,${e.attachment.data}`,alt:"attachment",className:"max-h-[200px] object-cover"})}),(e.text||e.isTyping)&&a.jsx("div",{className:`relative px-5 py-4 rounded-2xl text-sm leading-relaxed shadow-md ${t?"bg-indigo-600/20 border border-indigo-500/30 text-indigo-100 rounded-tr-none":"bg-slate-800/80 border border-slate-700/50 text-slate-200 rounded-tl-none"}`,children:e.isTyping&&!e.text?a.jsxs("div",{className:"flex gap-1.5 items-center h-5 px-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce [animation-delay:-0.3s]"}),a.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce [animation-delay:-0.15s]"}),a.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce"})]}):a.jsx("div",{className:"markdown-content",children:t?a.jsx("p",{className:"whitespace-pre-wrap",children:e.text}):a.jsx(zN,{components:{h1:({node:n,...r})=>a.jsx("h1",{className:"text-xl font-bold text-white mb-3 mt-4 border-b border-slate-700 pb-2",...r}),h2:({node:n,...r})=>a.jsx("h2",{className:"text-lg font-bold text-indigo-300 mb-2 mt-4",...r}),h3:({node:n,...r})=>a.jsx("h3",{className:"text-base font-bold text-emerald-400 mb-2 mt-3",...r}),strong:({node:n,...r})=>a.jsx("strong",{className:"font-bold text-amber-200",...r}),em:({node:n,...r})=>a.jsx("em",{className:"italic text-slate-300",...r}),ul:({node:n,...r})=>a.jsx("ul",{className:"list-disc pl-5 mb-3 space-y-1.5 marker:text-indigo-500",...r}),ol:({node:n,...r})=>a.jsx("ol",{className:"list-decimal pl-5 mb-3 space-y-1.5 marker:text-indigo-500",...r}),li:({node:n,...r})=>a.jsx("li",{className:"pl-1",...r}),p:({node:n,...r})=>a.jsx("p",{className:"mb-3 last:mb-0",...r}),code:({node:n,inline:r,className:i,children:l,...o})=>r?a.jsx("code",{className:"bg-slate-900/50 text-indigo-200 px-1.5 py-0.5 rounded font-mono text-xs border border-slate-700/50",...o,children:l}):a.jsx("div",{className:"bg-slate-950 rounded-lg border border-slate-800 p-3 my-3 overflow-x-auto",children:a.jsx("code",{className:"font-mono text-xs text-slate-300 block",...o,children:l})}),blockquote:({node:n,...r})=>a.jsx("blockquote",{className:"border-l-4 border-indigo-500/50 pl-4 py-1 my-3 bg-indigo-500/5 rounded-r text-slate-300 italic",...r}),a:({node:n,...r})=>a.jsx("a",{className:"text-indigo-400 hover:text-indigo-300 hover:underline",target:"_blank",rel:"noopener noreferrer",...r})},children:e.text})})})]})]})})},BN=({onSend:e,onRecordToggle:t,isRecording:n,isLoading:r,placeholder:i})=>{const[l,o]=N.useState(""),[s,u]=N.useState(void 0),[c,d]=N.useState(!1),f=N.useRef(null),g=N.useRef(null),m=()=>{!l.trim()&&!s||r||(e(l,s),o(""),u(void 0),f.current&&(f.current.style.height="auto"))},C=T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),m())},k=T=>{o(T.target.value),T.target.style.height="auto",T.target.style.height=Math.min(T.target.scrollHeight,120)+"px"},E=N.useCallback(T=>{if(T.type.startsWith("text/")||T.name.endsWith(".txt")||T.name.endsWith(".md")||T.name.endsWith(".json")||T.name.endsWith(".js")||T.name.endsWith(".ts")){const A=new FileReader;A.onload=O=>{var D;const j=(D=O.target)==null?void 0:D.result;o(M=>M+(M?`
`:"")+j),f.current&&setTimeout(()=>{f.current&&(f.current.style.height="auto",f.current.style.height=Math.min(f.current.scrollHeight,120)+"px")},10)},A.readAsText(T);return}if(T.type.startsWith("image/")){const A=new FileReader;A.onload=O=>{var M;const D=((M=O.target)==null?void 0:M.result).split(",")[1];u({type:"image",mimeType:T.type,data:D,name:T.name})},A.readAsDataURL(T);return}},[]),x=T=>{T.target.files&&T.target.files[0]&&E(T.target.files[0]),g.current&&(g.current.value="")},w=T=>{T.clipboardData.files&&T.clipboardData.files.length>0&&(T.preventDefault(),E(T.clipboardData.files[0]))},y=T=>{T.preventDefault(),d(!0)},I=T=>{T.preventDefault(),d(!1)},P=T=>{T.preventDefault(),d(!1),T.dataTransfer.files&&T.dataTransfer.files.length>0&&E(T.dataTransfer.files[0])},b=()=>{u(void 0)};return a.jsxs("div",{className:"p-3 md:p-4 bg-slate-900 border-t border-slate-800 shrink-0 relative safe-area-bottom",children:[c&&a.jsxs("div",{className:"absolute inset-0 z-50 bg-indigo-900/90 border-2 border-dashed border-indigo-400 m-2 rounded-xl flex flex-col items-center justify-center text-indigo-200 animate-in fade-in duration-200 pointer-events-none",children:[a.jsx(a2,{className:"w-10 h-10 mb-2"}),a.jsx("p",{className:"font-semibold",children:"Drop file to attach"})]}),a.jsx("input",{type:"file",ref:g,onChange:x,accept:"image/*,.txt,.md,.json,.js,.ts",className:"hidden"}),a.jsxs("div",{className:`relative bg-slate-950 p-2 rounded-xl border transition-all ${c?"border-indigo-500":"border-slate-800 focus-within:border-indigo-500/50"}`,onDragOver:y,onDragLeave:I,onDrop:P,children:[s&&a.jsxs("div",{className:"flex items-center gap-3 p-2 mb-2 bg-slate-900 rounded-lg border border-slate-800 animate-in slide-in-from-bottom-2",children:[a.jsx("div",{className:"w-10 h-10 rounded overflow-hidden bg-slate-800 shrink-0 border border-slate-700",children:a.jsx("img",{src:`data:${s.mimeType};base64,${s.data}`,alt:"preview",className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs font-medium text-slate-200 truncate",children:s.name||"Image"}),a.jsx("p",{className:"text-[10px] text-slate-500 uppercase",children:s.mimeType.split("/")[1]})]}),a.jsx("button",{onClick:b,className:"p-2 hover:bg-slate-800 rounded-full text-slate-500 hover:text-red-400 transition-colors touch-manipulation",children:a.jsx(Et,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsx("button",{onClick:()=>{var T;return(T=g.current)==null?void 0:T.click()},disabled:n,className:"shrink-0 p-2.5 md:p-2 rounded-lg text-slate-500 hover:text-indigo-400 hover:bg-slate-900 transition-colors touch-manipulation",title:"Attach image or text file",children:a.jsx(g2,{className:"w-5 h-5"})}),a.jsx("textarea",{ref:f,value:l,onChange:k,onKeyDown:C,onPaste:w,placeholder:i,rows:1,disabled:n,className:"w-full bg-transparent border-none focus:ring-0 resize-none text-slate-200 placeholder:text-slate-600 max-h-[120px] py-2.5 px-0 custom-scrollbar disabled:opacity-50 text-base md:text-sm"}),a.jsx("button",{onClick:t,className:`shrink-0 p-2.5 md:p-2 rounded-lg transition-all touch-manipulation ${n?"bg-red-500/20 text-red-400 animate-pulse":"text-slate-500 hover:text-indigo-400 hover:bg-slate-900"}`,children:n?a.jsx(Kr,{className:"w-5 h-5 fill-current"}):a.jsx(Un,{className:"w-5 h-5"})}),a.jsx("button",{onClick:m,disabled:!l.trim()&&!s||r,className:`shrink-0 p-2.5 md:p-2 rounded-lg transition-all touch-manipulation ${(l.trim()||s)&&!r?"bg-indigo-600 text-white shadow-lg":"bg-slate-900 text-slate-600 cursor-not-allowed"}`,children:a.jsx(s0,{className:"w-4 h-4"})})]})]}),n&&a.jsx("p",{className:"text-xs text-center text-red-400 mt-2 animate-pulse",children:"Recording... Speak now"})]})},$N=({language:e,apiKey:t})=>{const{messages:n,isLoading:r,messagesEndRef:i,handleSendMessage:l,toggleVoice:o,isRecording:s,soundEnabled:u,setSoundEnabled:c,clearChat:d}=ek(e,t),f={placeholder:e==="ru"?"... (Drop file or Paste image)":"Message... (Drop file or Paste image)",emptyTitle:e==="ru"?"  Gemini":"Gemini Chat",emptyDesc:e==="ru"?"    ,    .":"I am ready to help with text, ideas, or image analysis."};return a.jsxs("div",{className:"flex flex-col h-full w-full bg-slate-900 overflow-hidden",children:[a.jsxs("div",{className:"shrink-0 h-10 flex items-center justify-between px-4 border-b border-slate-800 bg-slate-900/50",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`w-2 h-2 rounded-full ${r?"bg-amber-400 animate-pulse":"bg-emerald-500"}`}),a.jsx("span",{className:"text-xs font-medium text-slate-400",children:"Gemini 3 Flash"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>c(!u),className:`p-1.5 rounded transition-colors ${u?"text-indigo-400 bg-indigo-900/20":"text-slate-600 hover:text-slate-400"}`,title:"Toggle Sound",children:u?a.jsx(Ti,{className:"w-4 h-4"}):a.jsx(Da,{className:"w-4 h-4"})}),a.jsx("button",{onClick:d,className:"p-1.5 rounded hover:bg-slate-800 text-slate-600 hover:text-red-400 transition-colors",title:"Clear Chat",children:a.jsx(Yr,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 md:p-6",children:[n.length===0?a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center opacity-50 space-y-4",children:[a.jsx("div",{className:"w-16 h-16 bg-slate-800 rounded-2xl flex items-center justify-center",children:a.jsx(Gu,{className:"w-8 h-8 text-indigo-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-300",children:f.emptyTitle}),a.jsx("p",{className:"text-sm text-slate-500 max-w-xs mx-auto mt-2",children:f.emptyDesc})]})]}):n.map(m=>a.jsx(VN,{message:m},m.id)),a.jsx("div",{ref:i})]}),a.jsx(BN,{onSend:l,onRecordToggle:o,isRecording:s,isLoading:r,placeholder:f.placeholder})]})},qN=async(e,t,n)=>{var l;if(!e||!e.trim()||!n)return"";const r=new Vo({apiKey:n}),i=t==="ru-en"?"You are a professional translator. Translate the following Russian text to English. Maintain the original tone, nuance, and formatting. Return ONLY the translation.":"  .       .   ,   .   .";try{return((l=(await r.models.generateContent({model:"gemini-3-flash-preview",contents:e,config:{systemInstruction:i,temperature:.3}})).text)==null?void 0:l.trim())||""}catch(o){return console.error("Translation Error:",o),"Error: Could not translate."}},GN=e=>{const[t,n]=N.useState(""),[r,i]=N.useState(""),[l,o]=N.useState("en-ru"),[s,u]=N.useState(!1),c=N.useRef(null),d=N.useCallback(async(k,E)=>{if(!k.trim()){i("");return}u(!0);try{const x=await qN(k,E,e);i(x)}catch{i("Error...")}finally{u(!1)}},[e]);return{inputText:t,outputText:r,direction:l,isLoading:s,handleInputChange:k=>{if(n(k),c.current&&clearTimeout(c.current),!k.trim()){i("");return}c.current=setTimeout(()=>{d(k,l)},800)},toggleDirection:()=>{o(k=>{const E=k==="en-ru"?"ru-en":"en-ru";return t&&d(t,E),E})},swapLanguages:()=>{o(E=>E==="en-ru"?"ru-en":"en-ru");const k=r;n(k),d(k,l==="en-ru"?"ru-en":"en-ru")},clearAll:()=>{n(""),i("")}}},WN=({language:e,apiKey:t})=>{const{inputText:n,outputText:r,direction:i,isLoading:l,handleInputChange:o,swapLanguages:s,clearAll:u}=GN(t),c=dt(e),{addNotification:d}=dr(),[f,g]=Mi.useState(!1),[m,C]=Mi.useState(!1),k=async(E,x)=>{if(E)try{await navigator.clipboard.writeText(E),x?(g(!0),setTimeout(()=>g(!1),2e3)):(C(!0),setTimeout(()=>C(!1),2e3)),d(c.clipboardCopy+"!","success")}catch{d("Failed to copy","error")}};return a.jsxs("div",{className:"flex flex-col h-full w-full bg-slate-900 overflow-hidden",children:[a.jsxs("div",{className:"shrink-0 h-14 flex items-center justify-between px-4 md:px-6 border-b border-slate-800 bg-slate-900/80 backdrop-blur-sm z-10",children:[a.jsxs("div",{className:"flex items-center gap-2 text-indigo-400",children:[a.jsx(i0,{className:"w-5 h-5"}),a.jsx("span",{className:"font-semibold text-sm tracking-wide uppercase",children:c.transTitle})]}),a.jsxs("div",{className:"flex items-center bg-slate-800 p-1 rounded-lg border border-slate-700/50",children:[a.jsx("span",{className:`px-3 py-1 text-xs font-bold rounded transition-colors ${i==="en-ru"?"text-indigo-300":"text-slate-500"}`,children:"EN"}),a.jsx("button",{onClick:s,className:"p-1.5 rounded-md hover:bg-slate-700 text-slate-400 hover:text-white transition-colors",title:"Swap Languages",children:a.jsx(Qw,{className:"w-4 h-4"})}),a.jsx("span",{className:`px-3 py-1 text-xs font-bold rounded transition-colors ${i==="ru-en"?"text-indigo-300":"text-slate-500"}`,children:"RU"})]}),a.jsx("button",{onClick:u,disabled:!n,className:"p-2 rounded-lg text-slate-500 hover:text-red-400 hover:bg-slate-800 transition-colors disabled:opacity-30 disabled:hover:bg-transparent disabled:hover:text-slate-500",title:c.transClear,children:a.jsx(Yr,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex-1 flex flex-col md:flex-col overflow-hidden",children:[a.jsxs("div",{className:"flex-1 relative border-b border-slate-800/50 bg-slate-900 p-4 md:p-6 group",children:[a.jsx("div",{className:"absolute top-3 left-6 text-[10px] font-bold text-slate-500 uppercase tracking-widest pointer-events-none",children:i==="en-ru"?"English":"Russian"}),a.jsx("textarea",{value:n,onChange:E=>o(E.target.value),placeholder:c.transPlaceholder,className:"w-full h-full bg-transparent resize-none focus:outline-none text-slate-200 text-lg md:text-xl leading-relaxed placeholder:text-slate-700 pt-6 custom-scrollbar",spellCheck:!1}),n&&a.jsx("button",{onClick:()=>k(n,!0),className:"absolute top-4 right-6 p-2 rounded-lg bg-slate-800/0 text-slate-600 group-hover:bg-slate-800 group-hover:text-slate-300 transition-all opacity-0 group-hover:opacity-100",title:c.transCopy,children:f?a.jsx(Wr,{className:"w-4 h-4 text-emerald-500"}):a.jsx(Qi,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex-1 relative bg-slate-950/30 p-4 md:p-6 group",children:[a.jsxs("div",{className:"absolute top-3 left-6 flex items-center gap-2",children:[a.jsx("span",{className:"text-[10px] font-bold text-indigo-500 uppercase tracking-widest",children:i==="en-ru"?"Russian":"English"}),l&&a.jsx(l0,{className:"w-3 h-3 text-indigo-500 animate-spin"})]}),a.jsx("textarea",{value:r,readOnly:!0,placeholder:l?c.waveProcessing:c.transOutput,className:"w-full h-full bg-transparent resize-none focus:outline-none text-indigo-100 text-lg md:text-xl leading-relaxed placeholder:text-slate-800 pt-6 custom-scrollbar font-medium"}),r&&a.jsx("button",{onClick:()=>k(r,!1),className:"absolute top-4 right-6 p-2 rounded-lg bg-slate-800/50 text-slate-400 hover:bg-indigo-600 hover:text-white transition-all shadow-lg",title:c.transCopy,children:m?a.jsx(Wr,{className:"w-4 h-4 text-white"}):a.jsx(Qi,{className:"w-4 h-4"})})]})]})]})},Rs="fasttype_settings_v1",Ds={enabled:!0,debounceMs:700,finalizationTimeout:5e3,miniScripts:!0,fixTypos:!0,fixPunctuation:!0,clipboardEnabled:!0,silenceThreshold:15,audioModel:"gemini-2.5-flash",economyMode:!0,dictionaryCheck:!0,visualizerLowCut:0,visualizerHighCut:128,visualizerAmp:.4,visualizerStyle:"wave",visualizerNorm:!1,visualizerGravity:2,visualizerMirror:!0,developerMode:!1},KN=()=>{const[e,t]=N.useState("loading"),[n,r]=N.useState(""),[i,l]=N.useState(""),[o,s]=N.useState(!1),[u,c]=N.useState("editor"),[d,f]=N.useState("ru"),[g,m]=N.useState("idle"),[C,k]=N.useState(!1),[E,x]=N.useState({corrections:0}),[w,y]=N.useState(0),[I,P]=N.useState(!1),[b,T]=N.useState(()=>{try{const W=localStorage.getItem(Rs);if(W)return{...Ds,...JSON.parse(W)}}catch(W){console.warn("Failed to load settings",W)}return Ds});N.useEffect(()=>{localStorage.setItem(Rs,JSON.stringify(b))},[b]);const[A,O]=N.useState(!1),[j,D]=N.useState(!1),[M,H]=N.useState(!1),[$,ee]=N.useState(!1),[fe,ie]=N.useState(()=>{try{const W=localStorage.getItem("fasttype_clipboard");return W?JSON.parse(W):[]}catch{return[]}});N.useEffect(()=>{localStorage.setItem("fasttype_clipboard",JSON.stringify(fe))},[fe]);const[z,Y]=N.useState(null);N.useEffect(()=>{if(window.require)try{const W=window.require("electron");Y(W.ipcRenderer)}catch{console.log("Electron not found (likely in browser mode)")}},[]),N.useEffect(()=>{(async()=>{const re=Hw(),ve=new Promise(se=>setTimeout(se,2e3)),R=localStorage.getItem("gemini_api_key")||"";r(R);const K=localStorage.getItem("fasttype_lock_code");K&&(l(K),s(!0)),await Promise.all([ve,re]),t("welcome")})()},[]);const S=N.useCallback(W=>{localStorage.setItem("gemini_api_key",W),yf(W),c("editor"),m("idle"),t("app")},[]),L=N.useCallback(W=>{localStorage.setItem("gemini_api_key",W),yf(W),r(W)},[]),_=N.useCallback(()=>{i&&s(!0),t("welcome"),O(!1),D(!1),ee(!1),H(!1),c("editor")},[i]),v=N.useCallback(W=>{localStorage.setItem("fasttype_lock_code",W),l(W),s(!1)},[]),F=N.useCallback(()=>{localStorage.removeItem("fasttype_lock_code"),l(""),s(!1)},[]),J=N.useCallback(W=>W===i,[i]),V=N.useCallback(()=>(localStorage.removeItem("fasttype_lock_code"),l(""),s(!1),localStorage.removeItem("fasttype_clipboard"),ie([]),x({corrections:0}),s(!1),localStorage.removeItem("fasttype_editor_state_v2"),T(Ds),localStorage.removeItem(Rs),!0),[]),U=N.useCallback(W=>W===i?(s(!1),!0):!1,[i]),le=N.useCallback(()=>{localStorage.removeItem("gemini_api_key"),r(""),O(!1),t("welcome")},[]),te=N.useCallback(()=>{x(W=>({corrections:W.corrections+1}))},[]),Z=N.useCallback(()=>{f(W=>W==="ru"?"en":"ru")},[]),q=N.useCallback(()=>{O(W=>!W),D(!1),ee(!1),H(!1)},[]),B=N.useCallback(()=>{D(W=>!W),O(!1),ee(!1),H(!1)},[]),oe=N.useCallback(()=>{H(W=>!W),D(!1),O(!1),ee(!1)},[]),de=N.useCallback(()=>{ee(W=>!W),O(!1),D(!1),H(!1)},[]),me=N.useCallback(()=>{D(!1),O(!1),ee(!1),H(!1)},[]),xe=N.useCallback(W=>{!b.clipboardEnabled||!W||ie(re=>[{id:Math.random().toString(36).substring(7),text:W,timestamp:Date.now()},...re].slice(0,50))},[b.clipboardEnabled]),be=N.useCallback(W=>{ie([])},[]),ke=N.useCallback(()=>{y(W=>W+1),T(W=>({...W,enabled:!0,miniScripts:!0,fixTypos:!0,fixPunctuation:!0,dictionaryCheck:!0})),m("idle")},[]),ce=N.useCallback(()=>{T(W=>{const re=!W.enabled;return m(re?"idle":"paused"),re?{...W,enabled:!0,miniScripts:!0,fixTypos:!0,fixPunctuation:!0,dictionaryCheck:!0}:{...W,enabled:re}})},[]),G=N.useCallback(()=>{const W=!I;P(W),z&&z.send("window-toggle-always-on-top",W)},[I,z]),ae=N.useCallback(W=>{z&&z.send(`window-${W}`)},[z]);return N.useEffect(()=>{const W=re=>{if(re.code==="F1"){re.preventDefault(),de();return}if(re.code==="Home"){const ve=re.target;if(!(ve.tagName==="TEXTAREA"||ve.tagName==="INPUT"||ve.isContentEditable)){re.preventDefault(),_();return}}if(re.altKey)switch(re.code){case"KeyS":re.preventDefault(),q();break;case"KeyW":re.preventDefault(),B();break;case"KeyH":re.preventDefault(),oe();break}};return window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)},[q,B,de,oe,_]),{state:{appState:e,storedKey:n,language:d,status:g,isGrammarChecking:C,stats:E,settings:b,showSettings:A,showClipboard:j,showHistory:M,showHelp:$,clipboardHistory:fe,resetSignal:w,isLocked:o,hasLock:!!i,currentTab:u,isPinned:I},actions:{setLanguage:f,setStatus:m,setIsGrammarChecking:k,setSettings:T,setAppState:t,handleStartApp:S,handleReturnToWelcome:_,handleResetKey:le,handleUpdateKey:L,incrementStats:te,toggleLanguage:Z,toggleSettings:q,toggleClipboard:B,toggleHistory:oe,toggleHelp:de,closeOverlays:me,handleClipboardAction:xe,handleClearClipboard:be,handleWindowControl:ae,handleResetProcessor:ke,handleSetLock:v,handleRemoveLock:F,handleUnlock:U,validatePin:J,setCurrentTab:c,handleToggleProcessing:ce,handleTogglePin:G,handleWipeData:V}}};function YN(){const{state:e,actions:t}=KN(),n=dt(e.language),[r,i]=N.useState(!0),[l,o]=N.useState(!1),[s,u]=N.useState(!1);N.useEffect(()=>{e.appState!=="loading"&&(o(!0),setTimeout(()=>{u(!0)},500),setTimeout(()=>{i(!1)},1200))},[e.appState]);const[c,d]=N.useState(!1),[f,g]=N.useState(!1),[m,C]=N.useState(!1);N.useEffect(()=>{e.appState==="app"?requestAnimationFrame(()=>{requestAnimationFrame(()=>{C(!0)})}):C(!1)},[e.appState]);const[k,E]=N.useState(0),x=N.useRef(null),w=N.useCallback(()=>{E($=>$+1)},[]),y=$=>{g(!0),setTimeout(()=>{t.handleStartApp($),g(!1)},600)},I=()=>{d(!0),setTimeout(()=>{t.handleReturnToWelcome(),d(!1)},500)},P=N.useCallback(()=>{var $;($=x.current)==null||$.clear()},[]),b=N.useCallback(()=>{var $;($=x.current)==null||$.copy()},[]),T=N.useCallback(()=>{var $;($=x.current)==null||$.paste()},[]),A=N.useCallback(()=>{var $;($=x.current)==null||$.cut()},[]),O=N.useCallback(()=>{var $;($=x.current)==null||$.clearAndPaste()},[]),j=N.useCallback(()=>{t.handleWipeData(),x.current&&x.current.fullWipe()},[t]),M=["editor","chat","translator"].indexOf(e.currentTab),H=$=>{const ee=$===M,fe="absolute inset-0 w-full h-full flex flex-col transition-[opacity,transform,filter] duration-500 ease-[cubic-bezier(0.25,1,0.5,1)] will-change-transform backface-hidden";return ee?`${fe} opacity-100 scale-100 blur-0 z-10 pointer-events-auto`:`${fe} opacity-0 scale-90 blur-sm z-0 pointer-events-none grayscale brightness-50`};return a.jsxs(a.Fragment,{children:[r&&a.jsx(B2,{isExiting:l}),e.appState==="welcome"&&a.jsxs("div",{className:`fixed inset-0 z-0 w-full h-full transition-all duration-1000 ease-out ${s?"opacity-100 blur-0 scale-100":"opacity-0 blur-lg scale-95"}`,children:[a.jsx(V2,{initialKey:e.storedKey,onStart:y,language:e.language,setLanguage:t.setLanguage,isLocked:e.isLocked,hasLock:e.hasLock,onUnlock:t.handleUnlock,onSetLock:t.handleSetLock,isExiting:f,onWindowControl:t.handleWindowControl,onWipeData:j}),a.jsx(Tf,{})]}),e.appState==="app"&&a.jsxs("div",{className:`fixed inset-0 w-full h-full flex flex-col bg-slate-950 text-slate-200 overflow-hidden transition-[opacity,transform,filter] duration-1000 ease-[cubic-bezier(0.16,1,0.3,1)] supports-[height:100dvh]:h-[100dvh] ${s?c?"opacity-0 scale-90 blur-xl brightness-50":m?"opacity-100 scale-100 blur-0 brightness-100":"opacity-0 scale-95 blur-md brightness-50":"opacity-0 scale-95 blur-md brightness-50"}`,children:[a.jsx(W2,{language:e.language,status:e.status,isGrammarChecking:e.isGrammarChecking,stats:e.stats,settings:e.settings,showClipboard:e.showClipboard,showSettings:e.showSettings,showHistory:e.showHistory,currentTab:e.currentTab,setCurrentTab:t.setCurrentTab,isPinned:e.isPinned,onTogglePin:t.handleTogglePin,onToggleLanguage:t.toggleLanguage,onTogglePause:t.handleToggleProcessing,onToggleClipboard:t.toggleClipboard,onToggleSettings:t.toggleSettings,onToggleHistory:t.toggleHistory,onToggleHelp:t.toggleHelp,onGoHome:I,onWindowControl:t.handleWindowControl,onResetProcessor:t.handleResetProcessor,historyUpdateCount:k,onClearText:P,onCopyText:b,onPasteText:T,onCutText:A,onClearAndPaste:O,onUpdateSettings:t.setSettings}),a.jsx(Tf,{}),a.jsx(Q2,{isOpen:e.showHelp,onClose:()=>t.toggleHelp(),language:e.language}),a.jsx("div",{className:"relative z-40 w-full h-0",children:a.jsx("div",{className:`absolute top-0 left-0 w-full transform transition-[transform,opacity] duration-500 ease-[cubic-bezier(0.32,0.72,0,1)] ${e.showSettings?"translate-y-0 opacity-100 shadow-2xl pointer-events-auto":"-translate-y-full opacity-0 pointer-events-none"}`,children:a.jsx(Y2,{settings:e.settings,language:e.language,onUpdateSettings:t.setSettings,onResetKey:t.handleResetKey,onUpdateApiKey:t.handleUpdateKey,hasLock:e.hasLock,onRemoveLock:t.handleRemoveLock,onSetLock:t.handleSetLock,onClose:t.toggleSettings,isVisible:e.showSettings,onVerifyPin:t.validatePin})})}),a.jsxs("main",{className:"flex-1 relative bg-slate-900 w-full h-full overflow-hidden z-0",children:[a.jsxs("div",{className:H(0),children:[a.jsx(O2,{ref:x,settings:e.settings,onStatsUpdate:t.incrementStats,language:e.language,status:e.status,onStatusChange:t.setStatus,setIsGrammarChecking:t.setIsGrammarChecking,onClipboardAction:t.handleClipboardAction,resetSignal:e.resetSignal,showHistory:e.showHistory,onToggleHistory:t.toggleHistory,onPauseProcessing:()=>t.setSettings($=>({...$,enabled:!1})),onToggleProcessing:t.handleToggleProcessing,onInteraction:t.closeOverlays,onHistoryUpdate:w,showClipboard:e.showClipboard,onToggleClipboard:t.toggleClipboard}),a.jsx($2,{items:e.clipboardHistory,isOpen:e.showClipboard,isEnabled:e.settings.clipboardEnabled,onToggleEnabled:()=>t.setSettings($=>({...$,clipboardEnabled:!$.clipboardEnabled})),onClose:t.closeOverlays,onClear:t.handleClearClipboard,language:e.language})]}),a.jsx("div",{className:H(1),children:a.jsx($N,{language:e.language,apiKey:e.storedKey})}),a.jsx("div",{className:H(2),children:a.jsx(WN,{language:e.language,apiKey:e.storedKey})})]}),a.jsxs("footer",{className:"shrink-0 py-1 text-center text-slate-700 text-[10px] bg-slate-900 border-t border-slate-800 select-none z-50 relative",children:[" ",n.footer,e.currentTab==="chat"&&"  Assistant Mode",e.currentTab==="translator"&&"  Translator"]})]})]})}const q0=document.getElementById("root");if(!q0)throw new Error("Could not find root element to mount to");const QN=Ls.createRoot(q0);QN.render(a.jsx(Mi.StrictMode,{children:a.jsx(Dw,{children:a.jsx(YN,{})})}));
