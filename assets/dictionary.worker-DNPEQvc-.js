(function(){"use strict";const o=new Set,a=new Set,u=new Set,f=new Set,c=n=>n.toLowerCase().replace(/[^a-zA-Zа-яА-ЯёЁ0-9'‘`ʻғқҳўҒҚҲЎ]/g,"").trim(),C=n=>{const t=c(n);return!!(!t||!isNaN(Number(t))||o.size>0&&o.has(t)||a.size>0&&a.has(t)||u.size>0&&u.has(t)||f.size>0&&f.has(t))};self.onmessage=n=>{const{type:t,text:l,language:r,words:_}=n.data;if(t==="SET_DICTIONARY"){let e;r==="ru"?e=o:r==="en"?e=a:r==="uz-latn"?e=u:r==="uz-cyrl"&&(e=f),e&&(e.clear(),Array.isArray(_)&&_.forEach(i=>e.add(i)),console.log(`[Worker] Dictionary ${r} loaded with ${e.size} words.`));return}if(t==="CHECK_CHUNK"){if(!l){self.postMessage({type:"CHECK_RESULT",unknownWords:[]});return}const e=l.split(/([ \n\t.,!?;:()""«»—\-\/_+]+)/),i=[];for(const s of e)s.trim()&&(/^[ \n\t.,!?;:()""«»—\-\/_+]+$/.test(s)||s.length<=3||C(s)||i.push(c(s)));self.postMessage({type:"CHECK_RESULT",unknownWords:i})}}})();
