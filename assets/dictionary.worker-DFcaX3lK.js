(function(){"use strict";const n=new Set,o=new Set,u=t=>t.toLowerCase().replace(/[^a-zA-Zа-яА-ЯёЁ0-9]/g,"").trim(),l=t=>{const e=u(t);return!!(!e||!isNaN(Number(e))||n.size>0&&n.has(e)||o.size>0&&o.has(e))};self.onmessage=t=>{const{type:e,text:i,language:c,words:f}=t.data;if(e==="SET_DICTIONARY"){const r=c==="ru"?n:o;r.clear(),Array.isArray(f)&&f.forEach(s=>r.add(s)),console.log(`[Worker] Dictionary ${c} loaded with ${r.size} words.`);return}if(e==="CHECK_CHUNK"){if(!i){self.postMessage({type:"CHECK_RESULT",hasErrors:!1});return}const r=i.split(/([ \n\t.,!?;:()""''«»—]+)/);let s=!1;for(const a of r)if(a.trim()&&!/^[ \n\t.,!?;:()""''«»—]+$/.test(a)&&!l(a)){s=!0;break}self.postMessage({type:"CHECK_RESULT",hasErrors:s})}}})();
