(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();var Xl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function au(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Up={exports:{}},Do={},Hp={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var el=Symbol.for("react.element"),yg=Symbol.for("react.portal"),vg=Symbol.for("react.fragment"),wg=Symbol.for("react.strict_mode"),kg=Symbol.for("react.profiler"),bg=Symbol.for("react.provider"),Cg=Symbol.for("react.context"),Ng=Symbol.for("react.forward_ref"),Sg=Symbol.for("react.suspense"),Tg=Symbol.for("react.memo"),Eg=Symbol.for("react.lazy"),jc=Symbol.iterator;function Ag(e){return e===null||typeof e!="object"?null:(e=jc&&e[jc]||e["@@iterator"],typeof e=="function"?e:null)}var Bp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vp=Object.assign,$p={};function Jr(e,t,n){this.props=e,this.context=t,this.refs=$p,this.updater=n||Bp}Jr.prototype.isReactComponent={};Jr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Jr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qp(){}qp.prototype=Jr.prototype;function uu(e,t,n){this.props=e,this.context=t,this.refs=$p,this.updater=n||Bp}var cu=uu.prototype=new qp;cu.constructor=uu;Vp(cu,Jr.prototype);cu.isPureReactComponent=!0;var Pc=Array.isArray,Gp=Object.prototype.hasOwnProperty,du={current:null},Kp={key:!0,ref:!0,__self:!0,__source:!0};function Wp(e,t,n){var r,i={},l=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(l=""+t.key),t)Gp.call(t,r)&&!Kp.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:el,type:e,key:l,ref:o,props:i,_owner:du.current}}function Ig(e,t){return{$$typeof:el,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function fu(e){return typeof e=="object"&&e!==null&&e.$$typeof===el}function jg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Rc=/\/+/g;function os(e,t){return typeof e=="object"&&e!==null&&e.key!=null?jg(""+e.key):t.toString(36)}function _l(e,t,n,r,i){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case el:case yg:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+os(o,0):r,Pc(i)?(n="",e!=null&&(n=e.replace(Rc,"$&/")+"/"),_l(i,t,n,"",function(c){return c})):i!=null&&(fu(i)&&(i=Ig(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Rc,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Pc(e))for(var s=0;s<e.length;s++){l=e[s];var u=r+os(l,s);o+=_l(l,t,n,u,i)}else if(u=Ag(e),typeof u=="function")for(e=u.call(e),s=0;!(l=e.next()).done;)l=l.value,u=r+os(l,s++),o+=_l(l,t,n,u,i);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function fl(e,t,n){if(e==null)return e;var r=[],i=0;return _l(e,r,"","",function(l){return t.call(n,l,i++)}),r}function Pg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var pt={current:null},Dl={transition:null},Rg={ReactCurrentDispatcher:pt,ReactCurrentBatchConfig:Dl,ReactCurrentOwner:du};function Yp(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:fl,forEach:function(e,t,n){fl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return fl(e,function(){t++}),t},toArray:function(e){return fl(e,function(t){return t})||[]},only:function(e){if(!fu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ee.Component=Jr;Ee.Fragment=vg;Ee.Profiler=kg;Ee.PureComponent=uu;Ee.StrictMode=wg;Ee.Suspense=Sg;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rg;Ee.act=Yp;Ee.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Vp({},e.props),i=e.key,l=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,o=du.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)Gp.call(t,u)&&!Kp.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&s!==void 0?s[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){s=Array(u);for(var c=0;c<u;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:el,type:e.type,key:i,ref:l,props:r,_owner:o}};Ee.createContext=function(e){return e={$$typeof:Cg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bg,_context:e},e.Consumer=e};Ee.createElement=Wp;Ee.createFactory=function(e){var t=Wp.bind(null,e);return t.type=e,t};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(e){return{$$typeof:Ng,render:e}};Ee.isValidElement=fu;Ee.lazy=function(e){return{$$typeof:Eg,_payload:{_status:-1,_result:e},_init:Pg}};Ee.memo=function(e,t){return{$$typeof:Tg,type:e,compare:t===void 0?null:t}};Ee.startTransition=function(e){var t=Dl.transition;Dl.transition={};try{e()}finally{Dl.transition=t}};Ee.unstable_act=Yp;Ee.useCallback=function(e,t){return pt.current.useCallback(e,t)};Ee.useContext=function(e){return pt.current.useContext(e)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(e){return pt.current.useDeferredValue(e)};Ee.useEffect=function(e,t){return pt.current.useEffect(e,t)};Ee.useId=function(){return pt.current.useId()};Ee.useImperativeHandle=function(e,t,n){return pt.current.useImperativeHandle(e,t,n)};Ee.useInsertionEffect=function(e,t){return pt.current.useInsertionEffect(e,t)};Ee.useLayoutEffect=function(e,t){return pt.current.useLayoutEffect(e,t)};Ee.useMemo=function(e,t){return pt.current.useMemo(e,t)};Ee.useReducer=function(e,t,n){return pt.current.useReducer(e,t,n)};Ee.useRef=function(e){return pt.current.useRef(e)};Ee.useState=function(e){return pt.current.useState(e)};Ee.useSyncExternalStore=function(e,t,n){return pt.current.useSyncExternalStore(e,t,n)};Ee.useTransition=function(){return pt.current.useTransition()};Ee.version="18.3.1";Hp.exports=Ee;var w=Hp.exports;const Pi=au(w);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mg=w,_g=Symbol.for("react.element"),Dg=Symbol.for("react.fragment"),zg=Object.prototype.hasOwnProperty,Lg=Mg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fg={key:!0,ref:!0,__self:!0,__source:!0};function Qp(e,t,n){var r,i={},l=null,o=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)zg.call(t,r)&&!Fg.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:_g,type:e,key:l,ref:o,props:i,_owner:Lg.current}}Do.Fragment=Dg;Do.jsx=Qp;Do.jsxs=Qp;Up.exports=Do;var a=Up.exports,Ws={},Jp={exports:{}},Mt={},Xp={exports:{}},Zp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,Y){var k=H.length;H.push(Y);e:for(;0<k;){var R=k-1>>>1,L=H[R];if(0<i(L,Y))H[R]=Y,H[k]=L,k=R;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var Y=H[0],k=H.pop();if(k!==Y){H[0]=k;e:for(var R=0,L=H.length,b=L>>>1;R<b;){var M=2*(R+1)-1,O=H[M],G=M+1,V=H[G];if(0>i(O,k))G<L&&0>i(V,O)?(H[R]=V,H[G]=k,R=G):(H[R]=O,H[M]=k,R=M);else if(G<L&&0>i(V,k))H[R]=V,H[G]=k,R=G;else break e}}return Y}function i(H,Y){var k=H.sortIndex-Y.sortIndex;return k!==0?k:H.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var u=[],c=[],d=1,f=null,g=3,m=!1,C=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(H){for(var Y=n(c);Y!==null;){if(Y.callback===null)r(c);else if(Y.startTime<=H)r(c),Y.sortIndex=Y.expirationTime,t(u,Y);else break;Y=n(c)}}function A(H){if(S=!1,x(H),!C)if(n(u)!==null)C=!0,se(j);else{var Y=n(c);Y!==null&&W(A,Y.startTime-H)}}function j(H,Y){C=!1,S&&(S=!1,y(I),I=-1),m=!0;var k=g;try{for(x(Y),f=n(u);f!==null&&(!(f.expirationTime>Y)||H&&!P());){var R=f.callback;if(typeof R=="function"){f.callback=null,g=f.priorityLevel;var L=R(f.expirationTime<=Y);Y=e.unstable_now(),typeof L=="function"?f.callback=L:f===n(u)&&r(u),x(Y)}else r(u);f=n(u)}if(f!==null)var b=!0;else{var M=n(c);M!==null&&W(A,M.startTime-Y),b=!1}return b}finally{f=null,g=k,m=!1}}var N=!1,E=null,I=-1,z=5,F=-1;function P(){return!(e.unstable_now()-F<z)}function _(){if(E!==null){var H=e.unstable_now();F=H;var Y=!0;try{Y=E(!0,H)}finally{Y?D():(N=!1,E=null)}}else N=!1}var D;if(typeof v=="function")D=function(){v(_)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,Q=Z.port2;Z.port1.onmessage=_,D=function(){Q.postMessage(null)}}else D=function(){T(_,0)};function se(H){E=H,N||(N=!0,D())}function W(H,Y){I=T(function(){H(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){C||m||(C=!0,se(j))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(H){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var k=g;g=Y;try{return H()}finally{g=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,Y){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var k=g;g=H;try{return Y()}finally{g=k}},e.unstable_scheduleCallback=function(H,Y,k){var R=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?R+k:R):k=R,H){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=k+L,H={id:d++,callback:Y,priorityLevel:H,startTime:k,expirationTime:L,sortIndex:-1},k>R?(H.sortIndex=k,t(c,H),n(u)===null&&H===n(c)&&(S?(y(I),I=-1):S=!0,W(A,k-R))):(H.sortIndex=L,t(u,H),C||m||(C=!0,se(j))),H},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(H){var Y=g;return function(){var k=g;g=Y;try{return H.apply(this,arguments)}finally{g=k}}}})(Zp);Xp.exports=Zp;var Og=Xp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ug=w,Pt=Og;function ee(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eh=new Set,Ri={};function pr(e,t){Br(e,t),Br(e+"Capture",t)}function Br(e,t){for(Ri[e]=t,e=0;e<t.length;e++)eh.add(t[e])}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ys=Object.prototype.hasOwnProperty,Hg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mc={},_c={};function Bg(e){return Ys.call(_c,e)?!0:Ys.call(Mc,e)?!1:Hg.test(e)?_c[e]=!0:(Mc[e]=!0,!1)}function Vg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $g(e,t,n,r){if(t===null||typeof t>"u"||Vg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ht(e,t,n,r,i,l,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=o}var it={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){it[e]=new ht(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];it[t]=new ht(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){it[e]=new ht(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){it[e]=new ht(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){it[e]=new ht(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){it[e]=new ht(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){it[e]=new ht(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){it[e]=new ht(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){it[e]=new ht(e,5,!1,e.toLowerCase(),null,!1,!1)});var pu=/[\-:]([a-z])/g;function hu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(pu,hu);it[t]=new ht(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(pu,hu);it[t]=new ht(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(pu,hu);it[t]=new ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){it[e]=new ht(e,1,!1,e.toLowerCase(),null,!1,!1)});it.xlinkHref=new ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){it[e]=new ht(e,1,!1,e.toLowerCase(),null,!0,!0)});function mu(e,t,n,r){var i=it.hasOwnProperty(t)?it[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($g(t,n,i,r)&&(n=null),r||i===null?Bg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var bn=Ug.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pl=Symbol.for("react.element"),wr=Symbol.for("react.portal"),kr=Symbol.for("react.fragment"),gu=Symbol.for("react.strict_mode"),Qs=Symbol.for("react.profiler"),th=Symbol.for("react.provider"),nh=Symbol.for("react.context"),xu=Symbol.for("react.forward_ref"),Js=Symbol.for("react.suspense"),Xs=Symbol.for("react.suspense_list"),yu=Symbol.for("react.memo"),En=Symbol.for("react.lazy"),rh=Symbol.for("react.offscreen"),Dc=Symbol.iterator;function ri(e){return e===null||typeof e!="object"?null:(e=Dc&&e[Dc]||e["@@iterator"],typeof e=="function"?e:null)}var Ve=Object.assign,ss;function hi(e){if(ss===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ss=t&&t[1]||""}return`
`+ss+e}var as=!1;function us(e,t){if(!e||as)return"";as=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),l=r.stack.split(`
`),o=i.length-1,s=l.length-1;1<=o&&0<=s&&i[o]!==l[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==l[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==l[s]){var u=`
`+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=s);break}}}finally{as=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?hi(e):""}function qg(e){switch(e.tag){case 5:return hi(e.type);case 16:return hi("Lazy");case 13:return hi("Suspense");case 19:return hi("SuspenseList");case 0:case 2:case 15:return e=us(e.type,!1),e;case 11:return e=us(e.type.render,!1),e;case 1:return e=us(e.type,!0),e;default:return""}}function Zs(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case kr:return"Fragment";case wr:return"Portal";case Qs:return"Profiler";case gu:return"StrictMode";case Js:return"Suspense";case Xs:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case nh:return(e.displayName||"Context")+".Consumer";case th:return(e._context.displayName||"Context")+".Provider";case xu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yu:return t=e.displayName||null,t!==null?t:Zs(e.type)||"Memo";case En:t=e._payload,e=e._init;try{return Zs(e(t))}catch{}}return null}function Gg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zs(t);case 8:return t===gu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Vn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ih(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Kg(e){var t=ih(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,l.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hl(e){e._valueTracker||(e._valueTracker=Kg(e))}function lh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ih(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Zl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ea(e,t){var n=t.checked;return Ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function zc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Vn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function oh(e,t){t=t.checked,t!=null&&mu(e,"checked",t,!1)}function ta(e,t){oh(e,t);var n=Vn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?na(e,t.type,n):t.hasOwnProperty("defaultValue")&&na(e,t.type,Vn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Lc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function na(e,t,n){(t!=="number"||Zl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var mi=Array.isArray;function Rr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Vn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ra(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ee(91));return Ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Fc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ee(92));if(mi(n)){if(1<n.length)throw Error(ee(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Vn(n)}}function sh(e,t){var n=Vn(t.value),r=Vn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Oc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ah(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ia(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ah(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ml,uh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ml=ml||document.createElement("div"),ml.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ml.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var vi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wg=["Webkit","ms","Moz","O"];Object.keys(vi).forEach(function(e){Wg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vi[t]=vi[e]})});function ch(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||vi.hasOwnProperty(e)&&vi[e]?(""+t).trim():t+"px"}function dh(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ch(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Yg=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function la(e,t){if(t){if(Yg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ee(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ee(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ee(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ee(62))}}function oa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sa=null;function vu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var aa=null,Mr=null,_r=null;function Uc(e){if(e=rl(e)){if(typeof aa!="function")throw Error(ee(280));var t=e.stateNode;t&&(t=Uo(t),aa(e.stateNode,e.type,t))}}function fh(e){Mr?_r?_r.push(e):_r=[e]:Mr=e}function ph(){if(Mr){var e=Mr,t=_r;if(_r=Mr=null,Uc(e),t)for(e=0;e<t.length;e++)Uc(t[e])}}function hh(e,t){return e(t)}function mh(){}var cs=!1;function gh(e,t,n){if(cs)return e(t,n);cs=!0;try{return hh(e,t,n)}finally{cs=!1,(Mr!==null||_r!==null)&&(mh(),ph())}}function _i(e,t){var n=e.stateNode;if(n===null)return null;var r=Uo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ee(231,t,typeof n));return n}var ua=!1;if(xn)try{var ii={};Object.defineProperty(ii,"passive",{get:function(){ua=!0}}),window.addEventListener("test",ii,ii),window.removeEventListener("test",ii,ii)}catch{ua=!1}function Qg(e,t,n,r,i,l,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var wi=!1,eo=null,to=!1,ca=null,Jg={onError:function(e){wi=!0,eo=e}};function Xg(e,t,n,r,i,l,o,s,u){wi=!1,eo=null,Qg.apply(Jg,arguments)}function Zg(e,t,n,r,i,l,o,s,u){if(Xg.apply(this,arguments),wi){if(wi){var c=eo;wi=!1,eo=null}else throw Error(ee(198));to||(to=!0,ca=c)}}function hr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function xh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Hc(e){if(hr(e)!==e)throw Error(ee(188))}function ex(e){var t=e.alternate;if(!t){if(t=hr(e),t===null)throw Error(ee(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var l=i.alternate;if(l===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===n)return Hc(i),e;if(l===r)return Hc(i),t;l=l.sibling}throw Error(ee(188))}if(n.return!==r.return)n=i,r=l;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=l;break}if(s===r){o=!0,r=i,n=l;break}s=s.sibling}if(!o){for(s=l.child;s;){if(s===n){o=!0,n=l,r=i;break}if(s===r){o=!0,r=l,n=i;break}s=s.sibling}if(!o)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?e:t}function yh(e){return e=ex(e),e!==null?vh(e):null}function vh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=vh(e);if(t!==null)return t;e=e.sibling}return null}var wh=Pt.unstable_scheduleCallback,Bc=Pt.unstable_cancelCallback,tx=Pt.unstable_shouldYield,nx=Pt.unstable_requestPaint,Ke=Pt.unstable_now,rx=Pt.unstable_getCurrentPriorityLevel,wu=Pt.unstable_ImmediatePriority,kh=Pt.unstable_UserBlockingPriority,no=Pt.unstable_NormalPriority,ix=Pt.unstable_LowPriority,bh=Pt.unstable_IdlePriority,zo=null,on=null;function lx(e){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(zo,e,void 0,(e.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:ax,ox=Math.log,sx=Math.LN2;function ax(e){return e>>>=0,e===0?32:31-(ox(e)/sx|0)|0}var gl=64,xl=4194304;function gi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ro(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,l=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=gi(s):(l&=o,l!==0&&(r=gi(l)))}else o=n&~i,o!==0?r=gi(o):l!==0&&(r=gi(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,l=t&-t,i>=l||i===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Yt(t),i=1<<n,r|=e[n],t&=~i;return r}function ux(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cx(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,l=e.pendingLanes;0<l;){var o=31-Yt(l),s=1<<o,u=i[o];u===-1?(!(s&n)||s&r)&&(i[o]=ux(s,t)):u<=t&&(e.expiredLanes|=s),l&=~s}}function da(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ch(){var e=gl;return gl<<=1,!(gl&4194240)&&(gl=64),e}function ds(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function tl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Yt(t),e[t]=n}function dx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Yt(n),l=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~l}}function ku(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Yt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Re=0;function Nh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Sh,bu,Th,Eh,Ah,fa=!1,yl=[],Dn=null,zn=null,Ln=null,Di=new Map,zi=new Map,In=[],fx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vc(e,t){switch(e){case"focusin":case"focusout":Dn=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":Ln=null;break;case"pointerover":case"pointerout":Di.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zi.delete(t.pointerId)}}function li(e,t,n,r,i,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[i]},t!==null&&(t=rl(t),t!==null&&bu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function px(e,t,n,r,i){switch(t){case"focusin":return Dn=li(Dn,e,t,n,r,i),!0;case"dragenter":return zn=li(zn,e,t,n,r,i),!0;case"mouseover":return Ln=li(Ln,e,t,n,r,i),!0;case"pointerover":var l=i.pointerId;return Di.set(l,li(Di.get(l)||null,e,t,n,r,i)),!0;case"gotpointercapture":return l=i.pointerId,zi.set(l,li(zi.get(l)||null,e,t,n,r,i)),!0}return!1}function Ih(e){var t=er(e.target);if(t!==null){var n=hr(t);if(n!==null){if(t=n.tag,t===13){if(t=xh(n),t!==null){e.blockedOn=t,Ah(e.priority,function(){Th(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=pa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);sa=r,n.target.dispatchEvent(r),sa=null}else return t=rl(n),t!==null&&bu(t),e.blockedOn=n,!1;t.shift()}return!0}function $c(e,t,n){zl(e)&&n.delete(t)}function hx(){fa=!1,Dn!==null&&zl(Dn)&&(Dn=null),zn!==null&&zl(zn)&&(zn=null),Ln!==null&&zl(Ln)&&(Ln=null),Di.forEach($c),zi.forEach($c)}function oi(e,t){e.blockedOn===t&&(e.blockedOn=null,fa||(fa=!0,Pt.unstable_scheduleCallback(Pt.unstable_NormalPriority,hx)))}function Li(e){function t(i){return oi(i,e)}if(0<yl.length){oi(yl[0],e);for(var n=1;n<yl.length;n++){var r=yl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Dn!==null&&oi(Dn,e),zn!==null&&oi(zn,e),Ln!==null&&oi(Ln,e),Di.forEach(t),zi.forEach(t),n=0;n<In.length;n++)r=In[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<In.length&&(n=In[0],n.blockedOn===null);)Ih(n),n.blockedOn===null&&In.shift()}var Dr=bn.ReactCurrentBatchConfig,io=!0;function mx(e,t,n,r){var i=Re,l=Dr.transition;Dr.transition=null;try{Re=1,Cu(e,t,n,r)}finally{Re=i,Dr.transition=l}}function gx(e,t,n,r){var i=Re,l=Dr.transition;Dr.transition=null;try{Re=4,Cu(e,t,n,r)}finally{Re=i,Dr.transition=l}}function Cu(e,t,n,r){if(io){var i=pa(e,t,n,r);if(i===null)ks(e,t,r,lo,n),Vc(e,r);else if(px(i,e,t,n,r))r.stopPropagation();else if(Vc(e,r),t&4&&-1<fx.indexOf(e)){for(;i!==null;){var l=rl(i);if(l!==null&&Sh(l),l=pa(e,t,n,r),l===null&&ks(e,t,r,lo,n),l===i)break;i=l}i!==null&&r.stopPropagation()}else ks(e,t,r,null,n)}}var lo=null;function pa(e,t,n,r){if(lo=null,e=vu(r),e=er(e),e!==null)if(t=hr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=xh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return lo=e,null}function jh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rx()){case wu:return 1;case kh:return 4;case no:case ix:return 16;case bh:return 536870912;default:return 16}default:return 16}}var Rn=null,Nu=null,Ll=null;function Ph(){if(Ll)return Ll;var e,t=Nu,n=t.length,r,i="value"in Rn?Rn.value:Rn.textContent,l=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[l-r];r++);return Ll=i.slice(e,1<r?1-r:void 0)}function Fl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vl(){return!0}function qc(){return!1}function _t(e){function t(n,r,i,l,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(l):l[s]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?vl:qc,this.isPropagationStopped=qc,this}return Ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vl)},persist:function(){},isPersistent:vl}),t}var Xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Su=_t(Xr),nl=Ve({},Xr,{view:0,detail:0}),xx=_t(nl),fs,ps,si,Lo=Ve({},nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==si&&(si&&e.type==="mousemove"?(fs=e.screenX-si.screenX,ps=e.screenY-si.screenY):ps=fs=0,si=e),fs)},movementY:function(e){return"movementY"in e?e.movementY:ps}}),Gc=_t(Lo),yx=Ve({},Lo,{dataTransfer:0}),vx=_t(yx),wx=Ve({},nl,{relatedTarget:0}),hs=_t(wx),kx=Ve({},Xr,{animationName:0,elapsedTime:0,pseudoElement:0}),bx=_t(kx),Cx=Ve({},Xr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Nx=_t(Cx),Sx=Ve({},Xr,{data:0}),Kc=_t(Sx),Tx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ex={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ax={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ix(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ax[e])?!!t[e]:!1}function Tu(){return Ix}var jx=Ve({},nl,{key:function(e){if(e.key){var t=Tx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ex[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tu,charCode:function(e){return e.type==="keypress"?Fl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Px=_t(jx),Rx=Ve({},Lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wc=_t(Rx),Mx=Ve({},nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tu}),_x=_t(Mx),Dx=Ve({},Xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),zx=_t(Dx),Lx=Ve({},Lo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fx=_t(Lx),Ox=[9,13,27,32],Eu=xn&&"CompositionEvent"in window,ki=null;xn&&"documentMode"in document&&(ki=document.documentMode);var Ux=xn&&"TextEvent"in window&&!ki,Rh=xn&&(!Eu||ki&&8<ki&&11>=ki),Yc=" ",Qc=!1;function Mh(e,t){switch(e){case"keyup":return Ox.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _h(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var br=!1;function Hx(e,t){switch(e){case"compositionend":return _h(t);case"keypress":return t.which!==32?null:(Qc=!0,Yc);case"textInput":return e=t.data,e===Yc&&Qc?null:e;default:return null}}function Bx(e,t){if(br)return e==="compositionend"||!Eu&&Mh(e,t)?(e=Ph(),Ll=Nu=Rn=null,br=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rh&&t.locale!=="ko"?null:t.data;default:return null}}var Vx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vx[e.type]:t==="textarea"}function Dh(e,t,n,r){fh(r),t=oo(t,"onChange"),0<t.length&&(n=new Su("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var bi=null,Fi=null;function $x(e){Gh(e,0)}function Fo(e){var t=Sr(e);if(lh(t))return e}function qx(e,t){if(e==="change")return t}var zh=!1;if(xn){var ms;if(xn){var gs="oninput"in document;if(!gs){var Xc=document.createElement("div");Xc.setAttribute("oninput","return;"),gs=typeof Xc.oninput=="function"}ms=gs}else ms=!1;zh=ms&&(!document.documentMode||9<document.documentMode)}function Zc(){bi&&(bi.detachEvent("onpropertychange",Lh),Fi=bi=null)}function Lh(e){if(e.propertyName==="value"&&Fo(Fi)){var t=[];Dh(t,Fi,e,vu(e)),gh($x,t)}}function Gx(e,t,n){e==="focusin"?(Zc(),bi=t,Fi=n,bi.attachEvent("onpropertychange",Lh)):e==="focusout"&&Zc()}function Kx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fo(Fi)}function Wx(e,t){if(e==="click")return Fo(t)}function Yx(e,t){if(e==="input"||e==="change")return Fo(t)}function Qx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jt=typeof Object.is=="function"?Object.is:Qx;function Oi(e,t){if(Jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ys.call(t,i)||!Jt(e[i],t[i]))return!1}return!0}function ed(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function td(e,t){var n=ed(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ed(n)}}function Fh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Oh(){for(var e=window,t=Zl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Zl(e.document)}return t}function Au(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Jx(e){var t=Oh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Fh(n.ownerDocument.documentElement,n)){if(r!==null&&Au(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,l=Math.min(r.start,i);r=r.end===void 0?l:Math.min(r.end,i),!e.extend&&l>r&&(i=r,r=l,l=i),i=td(n,l);var o=td(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Xx=xn&&"documentMode"in document&&11>=document.documentMode,Cr=null,ha=null,Ci=null,ma=!1;function nd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ma||Cr==null||Cr!==Zl(r)||(r=Cr,"selectionStart"in r&&Au(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ci&&Oi(Ci,r)||(Ci=r,r=oo(ha,"onSelect"),0<r.length&&(t=new Su("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Cr)))}function wl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Nr={animationend:wl("Animation","AnimationEnd"),animationiteration:wl("Animation","AnimationIteration"),animationstart:wl("Animation","AnimationStart"),transitionend:wl("Transition","TransitionEnd")},xs={},Uh={};xn&&(Uh=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);function Oo(e){if(xs[e])return xs[e];if(!Nr[e])return e;var t=Nr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Uh)return xs[e]=t[n];return e}var Hh=Oo("animationend"),Bh=Oo("animationiteration"),Vh=Oo("animationstart"),$h=Oo("transitionend"),qh=new Map,rd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qn(e,t){qh.set(e,t),pr(t,[e])}for(var ys=0;ys<rd.length;ys++){var vs=rd[ys],Zx=vs.toLowerCase(),ey=vs[0].toUpperCase()+vs.slice(1);qn(Zx,"on"+ey)}qn(Hh,"onAnimationEnd");qn(Bh,"onAnimationIteration");qn(Vh,"onAnimationStart");qn("dblclick","onDoubleClick");qn("focusin","onFocus");qn("focusout","onBlur");qn($h,"onTransitionEnd");Br("onMouseEnter",["mouseout","mouseover"]);Br("onMouseLeave",["mouseout","mouseover"]);Br("onPointerEnter",["pointerout","pointerover"]);Br("onPointerLeave",["pointerout","pointerover"]);pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ty=new Set("cancel close invalid load scroll toggle".split(" ").concat(xi));function id(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Zg(r,t,void 0,e),e.currentTarget=null}function Gh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==l&&i.isPropagationStopped())break e;id(i,s,c),l=u}else for(o=0;o<r.length;o++){if(s=r[o],u=s.instance,c=s.currentTarget,s=s.listener,u!==l&&i.isPropagationStopped())break e;id(i,s,c),l=u}}}if(to)throw e=ca,to=!1,ca=null,e}function Le(e,t){var n=t[wa];n===void 0&&(n=t[wa]=new Set);var r=e+"__bubble";n.has(r)||(Kh(t,e,2,!1),n.add(r))}function ws(e,t,n){var r=0;t&&(r|=4),Kh(n,e,r,t)}var kl="_reactListening"+Math.random().toString(36).slice(2);function Ui(e){if(!e[kl]){e[kl]=!0,eh.forEach(function(n){n!=="selectionchange"&&(ty.has(n)||ws(n,!1,e),ws(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[kl]||(t[kl]=!0,ws("selectionchange",!1,t))}}function Kh(e,t,n,r){switch(jh(t)){case 1:var i=mx;break;case 4:i=gx;break;default:i=Cu}n=i.bind(null,t,n,e),i=void 0,!ua||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ks(e,t,n,r,i){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;s!==null;){if(o=er(s),o===null)return;if(u=o.tag,u===5||u===6){r=l=o;continue e}s=s.parentNode}}r=r.return}gh(function(){var c=l,d=vu(n),f=[];e:{var g=qh.get(e);if(g!==void 0){var m=Su,C=e;switch(e){case"keypress":if(Fl(n)===0)break e;case"keydown":case"keyup":m=Px;break;case"focusin":C="focus",m=hs;break;case"focusout":C="blur",m=hs;break;case"beforeblur":case"afterblur":m=hs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Gc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=vx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=_x;break;case Hh:case Bh:case Vh:m=bx;break;case $h:m=zx;break;case"scroll":m=xx;break;case"wheel":m=Fx;break;case"copy":case"cut":case"paste":m=Nx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Wc}var S=(t&4)!==0,T=!S&&e==="scroll",y=S?g!==null?g+"Capture":null:g;S=[];for(var v=c,x;v!==null;){x=v;var A=x.stateNode;if(x.tag===5&&A!==null&&(x=A,y!==null&&(A=_i(v,y),A!=null&&S.push(Hi(v,A,x)))),T)break;v=v.return}0<S.length&&(g=new m(g,C,null,n,d),f.push({event:g,listeners:S}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",g&&n!==sa&&(C=n.relatedTarget||n.fromElement)&&(er(C)||C[yn]))break e;if((m||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,m?(C=n.relatedTarget||n.toElement,m=c,C=C?er(C):null,C!==null&&(T=hr(C),C!==T||C.tag!==5&&C.tag!==6)&&(C=null)):(m=null,C=c),m!==C)){if(S=Gc,A="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(S=Wc,A="onPointerLeave",y="onPointerEnter",v="pointer"),T=m==null?g:Sr(m),x=C==null?g:Sr(C),g=new S(A,v+"leave",m,n,d),g.target=T,g.relatedTarget=x,A=null,er(d)===c&&(S=new S(y,v+"enter",C,n,d),S.target=x,S.relatedTarget=T,A=S),T=A,m&&C)t:{for(S=m,y=C,v=0,x=S;x;x=xr(x))v++;for(x=0,A=y;A;A=xr(A))x++;for(;0<v-x;)S=xr(S),v--;for(;0<x-v;)y=xr(y),x--;for(;v--;){if(S===y||y!==null&&S===y.alternate)break t;S=xr(S),y=xr(y)}S=null}else S=null;m!==null&&ld(f,g,m,S,!1),C!==null&&T!==null&&ld(f,T,C,S,!0)}}e:{if(g=c?Sr(c):window,m=g.nodeName&&g.nodeName.toLowerCase(),m==="select"||m==="input"&&g.type==="file")var j=qx;else if(Jc(g))if(zh)j=Yx;else{j=Kx;var N=Gx}else(m=g.nodeName)&&m.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(j=Wx);if(j&&(j=j(e,c))){Dh(f,j,n,d);break e}N&&N(e,g,c),e==="focusout"&&(N=g._wrapperState)&&N.controlled&&g.type==="number"&&na(g,"number",g.value)}switch(N=c?Sr(c):window,e){case"focusin":(Jc(N)||N.contentEditable==="true")&&(Cr=N,ha=c,Ci=null);break;case"focusout":Ci=ha=Cr=null;break;case"mousedown":ma=!0;break;case"contextmenu":case"mouseup":case"dragend":ma=!1,nd(f,n,d);break;case"selectionchange":if(Xx)break;case"keydown":case"keyup":nd(f,n,d)}var E;if(Eu)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else br?Mh(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(Rh&&n.locale!=="ko"&&(br||I!=="onCompositionStart"?I==="onCompositionEnd"&&br&&(E=Ph()):(Rn=d,Nu="value"in Rn?Rn.value:Rn.textContent,br=!0)),N=oo(c,I),0<N.length&&(I=new Kc(I,e,null,n,d),f.push({event:I,listeners:N}),E?I.data=E:(E=_h(n),E!==null&&(I.data=E)))),(E=Ux?Hx(e,n):Bx(e,n))&&(c=oo(c,"onBeforeInput"),0<c.length&&(d=new Kc("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=E))}Gh(f,t)})}function Hi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function oo(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,l=i.stateNode;i.tag===5&&l!==null&&(i=l,l=_i(e,n),l!=null&&r.unshift(Hi(e,l,i)),l=_i(e,t),l!=null&&r.push(Hi(e,l,i))),e=e.return}return r}function xr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ld(e,t,n,r,i){for(var l=t._reactName,o=[];n!==null&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(u!==null&&u===r)break;s.tag===5&&c!==null&&(s=c,i?(u=_i(n,l),u!=null&&o.unshift(Hi(n,u,s))):i||(u=_i(n,l),u!=null&&o.push(Hi(n,u,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var ny=/\r\n?/g,ry=/\u0000|\uFFFD/g;function od(e){return(typeof e=="string"?e:""+e).replace(ny,`
`).replace(ry,"")}function bl(e,t,n){if(t=od(t),od(e)!==t&&n)throw Error(ee(425))}function so(){}var ga=null,xa=null;function ya(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var va=typeof setTimeout=="function"?setTimeout:void 0,iy=typeof clearTimeout=="function"?clearTimeout:void 0,sd=typeof Promise=="function"?Promise:void 0,ly=typeof queueMicrotask=="function"?queueMicrotask:typeof sd<"u"?function(e){return sd.resolve(null).then(e).catch(oy)}:va;function oy(e){setTimeout(function(){throw e})}function bs(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Li(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Li(t)}function Fn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ad(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Zr=Math.random().toString(36).slice(2),rn="__reactFiber$"+Zr,Bi="__reactProps$"+Zr,yn="__reactContainer$"+Zr,wa="__reactEvents$"+Zr,sy="__reactListeners$"+Zr,ay="__reactHandles$"+Zr;function er(e){var t=e[rn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yn]||n[rn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ad(e);e!==null;){if(n=e[rn])return n;e=ad(e)}return t}e=n,n=e.parentNode}return null}function rl(e){return e=e[rn]||e[yn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Sr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ee(33))}function Uo(e){return e[Bi]||null}var ka=[],Tr=-1;function Gn(e){return{current:e}}function Fe(e){0>Tr||(e.current=ka[Tr],ka[Tr]=null,Tr--)}function De(e,t){Tr++,ka[Tr]=e.current,e.current=t}var $n={},at=Gn($n),kt=Gn(!1),or=$n;function Vr(e,t){var n=e.type.contextTypes;if(!n)return $n;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},l;for(l in n)i[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function bt(e){return e=e.childContextTypes,e!=null}function ao(){Fe(kt),Fe(at)}function ud(e,t,n){if(at.current!==$n)throw Error(ee(168));De(at,t),De(kt,n)}function Wh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ee(108,Gg(e)||"Unknown",i));return Ve({},n,r)}function uo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$n,or=at.current,De(at,e),De(kt,kt.current),!0}function cd(e,t,n){var r=e.stateNode;if(!r)throw Error(ee(169));n?(e=Wh(e,t,or),r.__reactInternalMemoizedMergedChildContext=e,Fe(kt),Fe(at),De(at,e)):Fe(kt),De(kt,n)}var pn=null,Ho=!1,Cs=!1;function Yh(e){pn===null?pn=[e]:pn.push(e)}function uy(e){Ho=!0,Yh(e)}function Kn(){if(!Cs&&pn!==null){Cs=!0;var e=0,t=Re;try{var n=pn;for(Re=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}pn=null,Ho=!1}catch(i){throw pn!==null&&(pn=pn.slice(e+1)),wh(wu,Kn),i}finally{Re=t,Cs=!1}}return null}var Er=[],Ar=0,co=null,fo=0,zt=[],Lt=0,sr=null,hn=1,mn="";function Jn(e,t){Er[Ar++]=fo,Er[Ar++]=co,co=e,fo=t}function Qh(e,t,n){zt[Lt++]=hn,zt[Lt++]=mn,zt[Lt++]=sr,sr=e;var r=hn;e=mn;var i=32-Yt(r)-1;r&=~(1<<i),n+=1;var l=32-Yt(t)+i;if(30<l){var o=i-i%5;l=(r&(1<<o)-1).toString(32),r>>=o,i-=o,hn=1<<32-Yt(t)+i|n<<i|r,mn=l+e}else hn=1<<l|n<<i|r,mn=e}function Iu(e){e.return!==null&&(Jn(e,1),Qh(e,1,0))}function ju(e){for(;e===co;)co=Er[--Ar],Er[Ar]=null,fo=Er[--Ar],Er[Ar]=null;for(;e===sr;)sr=zt[--Lt],zt[Lt]=null,mn=zt[--Lt],zt[Lt]=null,hn=zt[--Lt],zt[Lt]=null}var jt=null,At=null,Ue=!1,Wt=null;function Jh(e,t){var n=Ot(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function dd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,jt=e,At=Fn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,jt=e,At=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=sr!==null?{id:hn,overflow:mn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ot(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,jt=e,At=null,!0):!1;default:return!1}}function ba(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ca(e){if(Ue){var t=At;if(t){var n=t;if(!dd(e,t)){if(ba(e))throw Error(ee(418));t=Fn(n.nextSibling);var r=jt;t&&dd(e,t)?Jh(r,n):(e.flags=e.flags&-4097|2,Ue=!1,jt=e)}}else{if(ba(e))throw Error(ee(418));e.flags=e.flags&-4097|2,Ue=!1,jt=e}}}function fd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;jt=e}function Cl(e){if(e!==jt)return!1;if(!Ue)return fd(e),Ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ya(e.type,e.memoizedProps)),t&&(t=At)){if(ba(e))throw Xh(),Error(ee(418));for(;t;)Jh(e,t),t=Fn(t.nextSibling)}if(fd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ee(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){At=Fn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}At=null}}else At=jt?Fn(e.stateNode.nextSibling):null;return!0}function Xh(){for(var e=At;e;)e=Fn(e.nextSibling)}function $r(){At=jt=null,Ue=!1}function Pu(e){Wt===null?Wt=[e]:Wt.push(e)}var cy=bn.ReactCurrentBatchConfig;function ai(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,e));var i=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(o){var s=i.refs;o===null?delete s[l]:s[l]=o},t._stringRef=l,t)}if(typeof e!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,e))}return e}function Nl(e,t){throw e=Object.prototype.toString.call(t),Error(ee(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pd(e){var t=e._init;return t(e._payload)}function Zh(e){function t(y,v){if(e){var x=y.deletions;x===null?(y.deletions=[v],y.flags|=16):x.push(v)}}function n(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=Bn(y,v),y.index=0,y.sibling=null,y}function l(y,v,x){return y.index=x,e?(x=y.alternate,x!==null?(x=x.index,x<v?(y.flags|=2,v):x):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function s(y,v,x,A){return v===null||v.tag!==6?(v=js(x,y.mode,A),v.return=y,v):(v=i(v,x),v.return=y,v)}function u(y,v,x,A){var j=x.type;return j===kr?d(y,v,x.props.children,A,x.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===En&&pd(j)===v.type)?(A=i(v,x.props),A.ref=ai(y,v,x),A.return=y,A):(A=ql(x.type,x.key,x.props,null,y.mode,A),A.ref=ai(y,v,x),A.return=y,A)}function c(y,v,x,A){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=Ps(x,y.mode,A),v.return=y,v):(v=i(v,x.children||[]),v.return=y,v)}function d(y,v,x,A,j){return v===null||v.tag!==7?(v=ir(x,y.mode,A,j),v.return=y,v):(v=i(v,x),v.return=y,v)}function f(y,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=js(""+v,y.mode,x),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case pl:return x=ql(v.type,v.key,v.props,null,y.mode,x),x.ref=ai(y,null,v),x.return=y,x;case wr:return v=Ps(v,y.mode,x),v.return=y,v;case En:var A=v._init;return f(y,A(v._payload),x)}if(mi(v)||ri(v))return v=ir(v,y.mode,x,null),v.return=y,v;Nl(y,v)}return null}function g(y,v,x,A){var j=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return j!==null?null:s(y,v,""+x,A);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case pl:return x.key===j?u(y,v,x,A):null;case wr:return x.key===j?c(y,v,x,A):null;case En:return j=x._init,g(y,v,j(x._payload),A)}if(mi(x)||ri(x))return j!==null?null:d(y,v,x,A,null);Nl(y,x)}return null}function m(y,v,x,A,j){if(typeof A=="string"&&A!==""||typeof A=="number")return y=y.get(x)||null,s(v,y,""+A,j);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case pl:return y=y.get(A.key===null?x:A.key)||null,u(v,y,A,j);case wr:return y=y.get(A.key===null?x:A.key)||null,c(v,y,A,j);case En:var N=A._init;return m(y,v,x,N(A._payload),j)}if(mi(A)||ri(A))return y=y.get(x)||null,d(v,y,A,j,null);Nl(v,A)}return null}function C(y,v,x,A){for(var j=null,N=null,E=v,I=v=0,z=null;E!==null&&I<x.length;I++){E.index>I?(z=E,E=null):z=E.sibling;var F=g(y,E,x[I],A);if(F===null){E===null&&(E=z);break}e&&E&&F.alternate===null&&t(y,E),v=l(F,v,I),N===null?j=F:N.sibling=F,N=F,E=z}if(I===x.length)return n(y,E),Ue&&Jn(y,I),j;if(E===null){for(;I<x.length;I++)E=f(y,x[I],A),E!==null&&(v=l(E,v,I),N===null?j=E:N.sibling=E,N=E);return Ue&&Jn(y,I),j}for(E=r(y,E);I<x.length;I++)z=m(E,y,I,x[I],A),z!==null&&(e&&z.alternate!==null&&E.delete(z.key===null?I:z.key),v=l(z,v,I),N===null?j=z:N.sibling=z,N=z);return e&&E.forEach(function(P){return t(y,P)}),Ue&&Jn(y,I),j}function S(y,v,x,A){var j=ri(x);if(typeof j!="function")throw Error(ee(150));if(x=j.call(x),x==null)throw Error(ee(151));for(var N=j=null,E=v,I=v=0,z=null,F=x.next();E!==null&&!F.done;I++,F=x.next()){E.index>I?(z=E,E=null):z=E.sibling;var P=g(y,E,F.value,A);if(P===null){E===null&&(E=z);break}e&&E&&P.alternate===null&&t(y,E),v=l(P,v,I),N===null?j=P:N.sibling=P,N=P,E=z}if(F.done)return n(y,E),Ue&&Jn(y,I),j;if(E===null){for(;!F.done;I++,F=x.next())F=f(y,F.value,A),F!==null&&(v=l(F,v,I),N===null?j=F:N.sibling=F,N=F);return Ue&&Jn(y,I),j}for(E=r(y,E);!F.done;I++,F=x.next())F=m(E,y,I,F.value,A),F!==null&&(e&&F.alternate!==null&&E.delete(F.key===null?I:F.key),v=l(F,v,I),N===null?j=F:N.sibling=F,N=F);return e&&E.forEach(function(_){return t(y,_)}),Ue&&Jn(y,I),j}function T(y,v,x,A){if(typeof x=="object"&&x!==null&&x.type===kr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case pl:e:{for(var j=x.key,N=v;N!==null;){if(N.key===j){if(j=x.type,j===kr){if(N.tag===7){n(y,N.sibling),v=i(N,x.props.children),v.return=y,y=v;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===En&&pd(j)===N.type){n(y,N.sibling),v=i(N,x.props),v.ref=ai(y,N,x),v.return=y,y=v;break e}n(y,N);break}else t(y,N);N=N.sibling}x.type===kr?(v=ir(x.props.children,y.mode,A,x.key),v.return=y,y=v):(A=ql(x.type,x.key,x.props,null,y.mode,A),A.ref=ai(y,v,x),A.return=y,y=A)}return o(y);case wr:e:{for(N=x.key;v!==null;){if(v.key===N)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(y,v.sibling),v=i(v,x.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else t(y,v);v=v.sibling}v=Ps(x,y.mode,A),v.return=y,y=v}return o(y);case En:return N=x._init,T(y,v,N(x._payload),A)}if(mi(x))return C(y,v,x,A);if(ri(x))return S(y,v,x,A);Nl(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(y,v.sibling),v=i(v,x),v.return=y,y=v):(n(y,v),v=js(x,y.mode,A),v.return=y,y=v),o(y)):n(y,v)}return T}var qr=Zh(!0),em=Zh(!1),po=Gn(null),ho=null,Ir=null,Ru=null;function Mu(){Ru=Ir=ho=null}function _u(e){var t=po.current;Fe(po),e._currentValue=t}function Na(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function zr(e,t){ho=e,Ru=Ir=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(vt=!0),e.firstContext=null)}function Bt(e){var t=e._currentValue;if(Ru!==e)if(e={context:e,memoizedValue:t,next:null},Ir===null){if(ho===null)throw Error(ee(308));Ir=e,ho.dependencies={lanes:0,firstContext:e}}else Ir=Ir.next=e;return t}var tr=null;function Du(e){tr===null?tr=[e]:tr.push(e)}function tm(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Du(t)):(n.next=i.next,i.next=n),t.interleaved=n,vn(e,r)}function vn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var An=!1;function zu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function On(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ae&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,vn(e,n)}return i=r.interleaved,i===null?(t.next=t,Du(r)):(t.next=i.next,i.next=t),r.interleaved=t,vn(e,n)}function Ol(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ku(e,n)}}function hd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?i=l=o:l=l.next=o,n=n.next}while(n!==null);l===null?i=l=t:l=l.next=t}else i=l=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function mo(e,t,n,r){var i=e.updateQueue;An=!1;var l=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var u=s,c=u.next;u.next=null,o===null?l=c:o.next=c,o=u;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=u))}if(l!==null){var f=i.baseState;o=0,d=c=u=null,s=l;do{var g=s.lane,m=s.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var C=e,S=s;switch(g=t,m=n,S.tag){case 1:if(C=S.payload,typeof C=="function"){f=C.call(m,f,g);break e}f=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=S.payload,g=typeof C=="function"?C.call(m,f,g):C,g==null)break e;f=Ve({},f,g);break e;case 2:An=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,g=i.effects,g===null?i.effects=[s]:g.push(s))}else m={eventTime:m,lane:g,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(c=d=m,u=f):d=d.next=m,o|=g;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;g=s,s=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(d===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else l===null&&(i.shared.lanes=0);ur|=o,e.lanes=o,e.memoizedState=f}}function md(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ee(191,i));i.call(r)}}}var il={},sn=Gn(il),Vi=Gn(il),$i=Gn(il);function nr(e){if(e===il)throw Error(ee(174));return e}function Lu(e,t){switch(De($i,t),De(Vi,e),De(sn,il),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ia(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ia(t,e)}Fe(sn),De(sn,t)}function Gr(){Fe(sn),Fe(Vi),Fe($i)}function rm(e){nr($i.current);var t=nr(sn.current),n=ia(t,e.type);t!==n&&(De(Vi,e),De(sn,n))}function Fu(e){Vi.current===e&&(Fe(sn),Fe(Vi))}var He=Gn(0);function go(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ns=[];function Ou(){for(var e=0;e<Ns.length;e++)Ns[e]._workInProgressVersionPrimary=null;Ns.length=0}var Ul=bn.ReactCurrentDispatcher,Ss=bn.ReactCurrentBatchConfig,ar=0,Be=null,Je=null,Ze=null,xo=!1,Ni=!1,qi=0,dy=0;function lt(){throw Error(ee(321))}function Uu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jt(e[n],t[n]))return!1;return!0}function Hu(e,t,n,r,i,l){if(ar=l,Be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ul.current=e===null||e.memoizedState===null?my:gy,e=n(r,i),Ni){l=0;do{if(Ni=!1,qi=0,25<=l)throw Error(ee(301));l+=1,Ze=Je=null,t.updateQueue=null,Ul.current=xy,e=n(r,i)}while(Ni)}if(Ul.current=yo,t=Je!==null&&Je.next!==null,ar=0,Ze=Je=Be=null,xo=!1,t)throw Error(ee(300));return e}function Bu(){var e=qi!==0;return qi=0,e}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?Be.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function Vt(){if(Je===null){var e=Be.alternate;e=e!==null?e.memoizedState:null}else e=Je.next;var t=Ze===null?Be.memoizedState:Ze.next;if(t!==null)Ze=t,Je=e;else{if(e===null)throw Error(ee(310));Je=e,e={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Ze===null?Be.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function Gi(e,t){return typeof t=="function"?t(e):t}function Ts(e){var t=Vt(),n=t.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=e;var r=Je,i=r.baseQueue,l=n.pending;if(l!==null){if(i!==null){var o=i.next;i.next=l.next,l.next=o}r.baseQueue=i=l,n.pending=null}if(i!==null){l=i.next,r=r.baseState;var s=o=null,u=null,c=l;do{var d=c.lane;if((ar&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(s=u=f,o=r):u=u.next=f,Be.lanes|=d,ur|=d}c=c.next}while(c!==null&&c!==l);u===null?o=r:u.next=s,Jt(r,t.memoizedState)||(vt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do l=i.lane,Be.lanes|=l,ur|=l,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Es(e){var t=Vt(),n=t.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,l=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do l=e(l,o.action),o=o.next;while(o!==i);Jt(l,t.memoizedState)||(vt=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function im(){}function lm(e,t){var n=Be,r=Vt(),i=t(),l=!Jt(r.memoizedState,i);if(l&&(r.memoizedState=i,vt=!0),r=r.queue,Vu(am.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||Ze!==null&&Ze.memoizedState.tag&1){if(n.flags|=2048,Ki(9,sm.bind(null,n,r,i,t),void 0,null),et===null)throw Error(ee(349));ar&30||om(n,t,i)}return i}function om(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function sm(e,t,n,r){t.value=n,t.getSnapshot=r,um(t)&&cm(e)}function am(e,t,n){return n(function(){um(t)&&cm(e)})}function um(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jt(e,n)}catch{return!0}}function cm(e){var t=vn(e,1);t!==null&&Qt(t,e,1,-1)}function gd(e){var t=tn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:e},t.queue=e,e=e.dispatch=hy.bind(null,Be,e),[t.memoizedState,e]}function Ki(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function dm(){return Vt().memoizedState}function Hl(e,t,n,r){var i=tn();Be.flags|=e,i.memoizedState=Ki(1|t,n,void 0,r===void 0?null:r)}function Bo(e,t,n,r){var i=Vt();r=r===void 0?null:r;var l=void 0;if(Je!==null){var o=Je.memoizedState;if(l=o.destroy,r!==null&&Uu(r,o.deps)){i.memoizedState=Ki(t,n,l,r);return}}Be.flags|=e,i.memoizedState=Ki(1|t,n,l,r)}function xd(e,t){return Hl(8390656,8,e,t)}function Vu(e,t){return Bo(2048,8,e,t)}function fm(e,t){return Bo(4,2,e,t)}function pm(e,t){return Bo(4,4,e,t)}function hm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mm(e,t,n){return n=n!=null?n.concat([e]):null,Bo(4,4,hm.bind(null,t,e),n)}function $u(){}function gm(e,t){var n=Vt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Uu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function xm(e,t){var n=Vt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Uu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ym(e,t,n){return ar&21?(Jt(n,t)||(n=Ch(),Be.lanes|=n,ur|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vt=!0),e.memoizedState=n)}function fy(e,t){var n=Re;Re=n!==0&&4>n?n:4,e(!0);var r=Ss.transition;Ss.transition={};try{e(!1),t()}finally{Re=n,Ss.transition=r}}function vm(){return Vt().memoizedState}function py(e,t,n){var r=Hn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},wm(e))km(t,n);else if(n=tm(e,t,n,r),n!==null){var i=dt();Qt(n,e,r,i),bm(n,t,r)}}function hy(e,t,n){var r=Hn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(wm(e))km(t,i);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var o=t.lastRenderedState,s=l(o,n);if(i.hasEagerState=!0,i.eagerState=s,Jt(s,o)){var u=t.interleaved;u===null?(i.next=i,Du(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=tm(e,t,i,r),n!==null&&(i=dt(),Qt(n,e,r,i),bm(n,t,r))}}function wm(e){var t=e.alternate;return e===Be||t!==null&&t===Be}function km(e,t){Ni=xo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function bm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ku(e,n)}}var yo={readContext:Bt,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},my={readContext:Bt,useCallback:function(e,t){return tn().memoizedState=[e,t===void 0?null:t],e},useContext:Bt,useEffect:xd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Hl(4194308,4,hm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Hl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Hl(4,2,e,t)},useMemo:function(e,t){var n=tn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=tn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=py.bind(null,Be,e),[r.memoizedState,e]},useRef:function(e){var t=tn();return e={current:e},t.memoizedState=e},useState:gd,useDebugValue:$u,useDeferredValue:function(e){return tn().memoizedState=e},useTransition:function(){var e=gd(!1),t=e[0];return e=fy.bind(null,e[1]),tn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Be,i=tn();if(Ue){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=t(),et===null)throw Error(ee(349));ar&30||om(r,t,n)}i.memoizedState=n;var l={value:n,getSnapshot:t};return i.queue=l,xd(am.bind(null,r,l,e),[e]),r.flags|=2048,Ki(9,sm.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=tn(),t=et.identifierPrefix;if(Ue){var n=mn,r=hn;n=(r&~(1<<32-Yt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=qi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=dy++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gy={readContext:Bt,useCallback:gm,useContext:Bt,useEffect:Vu,useImperativeHandle:mm,useInsertionEffect:fm,useLayoutEffect:pm,useMemo:xm,useReducer:Ts,useRef:dm,useState:function(){return Ts(Gi)},useDebugValue:$u,useDeferredValue:function(e){var t=Vt();return ym(t,Je.memoizedState,e)},useTransition:function(){var e=Ts(Gi)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:im,useSyncExternalStore:lm,useId:vm,unstable_isNewReconciler:!1},xy={readContext:Bt,useCallback:gm,useContext:Bt,useEffect:Vu,useImperativeHandle:mm,useInsertionEffect:fm,useLayoutEffect:pm,useMemo:xm,useReducer:Es,useRef:dm,useState:function(){return Es(Gi)},useDebugValue:$u,useDeferredValue:function(e){var t=Vt();return Je===null?t.memoizedState=e:ym(t,Je.memoizedState,e)},useTransition:function(){var e=Es(Gi)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:im,useSyncExternalStore:lm,useId:vm,unstable_isNewReconciler:!1};function Gt(e,t){if(e&&e.defaultProps){t=Ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Sa(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Vo={isMounted:function(e){return(e=e._reactInternals)?hr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=dt(),i=Hn(e),l=gn(r,i);l.payload=t,n!=null&&(l.callback=n),t=On(e,l,i),t!==null&&(Qt(t,e,i,r),Ol(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=dt(),i=Hn(e),l=gn(r,i);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=On(e,l,i),t!==null&&(Qt(t,e,i,r),Ol(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dt(),r=Hn(e),i=gn(n,r);i.tag=2,t!=null&&(i.callback=t),t=On(e,i,r),t!==null&&(Qt(t,e,r,n),Ol(t,e,r))}};function yd(e,t,n,r,i,l,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,o):t.prototype&&t.prototype.isPureReactComponent?!Oi(n,r)||!Oi(i,l):!0}function Cm(e,t,n){var r=!1,i=$n,l=t.contextType;return typeof l=="object"&&l!==null?l=Bt(l):(i=bt(t)?or:at.current,r=t.contextTypes,l=(r=r!=null)?Vr(e,i):$n),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=l),t}function vd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vo.enqueueReplaceState(t,t.state,null)}function Ta(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},zu(e);var l=t.contextType;typeof l=="object"&&l!==null?i.context=Bt(l):(l=bt(t)?or:at.current,i.context=Vr(e,l)),i.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Sa(e,t,l,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Vo.enqueueReplaceState(i,i.state,null),mo(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Kr(e,t){try{var n="",r=t;do n+=qg(r),r=r.return;while(r);var i=n}catch(l){i=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:i,digest:null}}function As(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ea(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var yy=typeof WeakMap=="function"?WeakMap:Map;function Nm(e,t,n){n=gn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){wo||(wo=!0,La=r),Ea(e,t)},n}function Sm(e,t,n){n=gn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Ea(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){Ea(e,t),typeof r!="function"&&(Un===null?Un=new Set([this]):Un.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function wd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new yy;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ry.bind(null,e,t,n),t.then(e,e))}function kd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function bd(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=gn(-1,1),t.tag=2,On(n,t,1))),n.lanes|=1),e)}var vy=bn.ReactCurrentOwner,vt=!1;function ct(e,t,n,r){t.child=e===null?em(t,null,n,r):qr(t,e.child,n,r)}function Cd(e,t,n,r,i){n=n.render;var l=t.ref;return zr(t,i),r=Hu(e,t,n,r,l,i),n=Bu(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,wn(e,t,i)):(Ue&&n&&Iu(t),t.flags|=1,ct(e,t,r,i),t.child)}function Nd(e,t,n,r,i){if(e===null){var l=n.type;return typeof l=="function"&&!Xu(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,Tm(e,t,l,r,i)):(e=ql(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&i)){var o=l.memoizedProps;if(n=n.compare,n=n!==null?n:Oi,n(o,r)&&e.ref===t.ref)return wn(e,t,i)}return t.flags|=1,e=Bn(l,r),e.ref=t.ref,e.return=t,t.child=e}function Tm(e,t,n,r,i){if(e!==null){var l=e.memoizedProps;if(Oi(l,r)&&e.ref===t.ref)if(vt=!1,t.pendingProps=r=l,(e.lanes&i)!==0)e.flags&131072&&(vt=!0);else return t.lanes=e.lanes,wn(e,t,i)}return Aa(e,t,n,r,i)}function Em(e,t,n){var r=t.pendingProps,i=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(Pr,Et),Et|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,De(Pr,Et),Et|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,De(Pr,Et),Et|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,De(Pr,Et),Et|=r;return ct(e,t,i,n),t.child}function Am(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Aa(e,t,n,r,i){var l=bt(n)?or:at.current;return l=Vr(t,l),zr(t,i),n=Hu(e,t,n,r,l,i),r=Bu(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,wn(e,t,i)):(Ue&&r&&Iu(t),t.flags|=1,ct(e,t,n,i),t.child)}function Sd(e,t,n,r,i){if(bt(n)){var l=!0;uo(t)}else l=!1;if(zr(t,i),t.stateNode===null)Bl(e,t),Cm(t,n,r),Ta(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Bt(c):(c=bt(n)?or:at.current,c=Vr(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||u!==c)&&vd(t,o,r,c),An=!1;var g=t.memoizedState;o.state=g,mo(t,r,o,i),u=t.memoizedState,s!==r||g!==u||kt.current||An?(typeof d=="function"&&(Sa(t,n,d,r),u=t.memoizedState),(s=An||yd(t,n,s,r,g,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,nm(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Gt(t.type,s),o.props=c,f=t.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Bt(u):(u=bt(n)?or:at.current,u=Vr(t,u));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||g!==u)&&vd(t,o,r,u),An=!1,g=t.memoizedState,o.state=g,mo(t,r,o,i);var C=t.memoizedState;s!==f||g!==C||kt.current||An?(typeof m=="function"&&(Sa(t,n,m,r),C=t.memoizedState),(c=An||yd(t,n,c,r,g,C,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,C,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,C,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=C),o.props=r,o.state=C,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return Ia(e,t,n,r,l,i)}function Ia(e,t,n,r,i,l){Am(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&cd(t,n,!1),wn(e,t,l);r=t.stateNode,vy.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=qr(t,e.child,null,l),t.child=qr(t,null,s,l)):ct(e,t,s,l),t.memoizedState=r.state,i&&cd(t,n,!0),t.child}function Im(e){var t=e.stateNode;t.pendingContext?ud(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ud(e,t.context,!1),Lu(e,t.containerInfo)}function Td(e,t,n,r,i){return $r(),Pu(i),t.flags|=256,ct(e,t,n,r),t.child}var ja={dehydrated:null,treeContext:null,retryLane:0};function Pa(e){return{baseLanes:e,cachePool:null,transitions:null}}function jm(e,t,n){var r=t.pendingProps,i=He.current,l=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),De(He,i&1),e===null)return Ca(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,l?(r=t.mode,l=t.child,o={mode:"hidden",children:o},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=Go(o,r,0,null),e=ir(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Pa(n),t.memoizedState=ja,e):qu(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return wy(e,t,o,r,s,i,n);if(l){l=r.fallback,o=t.mode,i=e.child,s=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Bn(i,u),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?l=Bn(s,l):(l=ir(l,o,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,o=e.child.memoizedState,o=o===null?Pa(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~n,t.memoizedState=ja,r}return l=e.child,e=l.sibling,r=Bn(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function qu(e,t){return t=Go({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Sl(e,t,n,r){return r!==null&&Pu(r),qr(t,e.child,null,n),e=qu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wy(e,t,n,r,i,l,o){if(n)return t.flags&256?(t.flags&=-257,r=As(Error(ee(422))),Sl(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,i=t.mode,r=Go({mode:"visible",children:r.children},i,0,null),l=ir(l,i,o,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&qr(t,e.child,null,o),t.child.memoizedState=Pa(o),t.memoizedState=ja,l);if(!(t.mode&1))return Sl(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,l=Error(ee(419)),r=As(l,r,void 0),Sl(e,t,o,r)}if(s=(o&e.childLanes)!==0,vt||s){if(r=et,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==l.retryLane&&(l.retryLane=i,vn(e,i),Qt(r,e,i,-1))}return Ju(),r=As(Error(ee(421))),Sl(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=My.bind(null,e),i._reactRetry=t,null):(e=l.treeContext,At=Fn(i.nextSibling),jt=t,Ue=!0,Wt=null,e!==null&&(zt[Lt++]=hn,zt[Lt++]=mn,zt[Lt++]=sr,hn=e.id,mn=e.overflow,sr=t),t=qu(t,r.children),t.flags|=4096,t)}function Ed(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Na(e.return,t,n)}function Is(e,t,n,r,i){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=i)}function Pm(e,t,n){var r=t.pendingProps,i=r.revealOrder,l=r.tail;if(ct(e,t,r.children,n),r=He.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ed(e,n,t);else if(e.tag===19)Ed(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(De(He,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&go(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Is(t,!1,i,n,l);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&go(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Is(t,!0,n,null,l);break;case"together":Is(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function wn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ur|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ee(153));if(t.child!==null){for(e=t.child,n=Bn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Bn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ky(e,t,n){switch(t.tag){case 3:Im(t),$r();break;case 5:rm(t);break;case 1:bt(t.type)&&uo(t);break;case 4:Lu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;De(po,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(De(He,He.current&1),t.flags|=128,null):n&t.child.childLanes?jm(e,t,n):(De(He,He.current&1),e=wn(e,t,n),e!==null?e.sibling:null);De(He,He.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Pm(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),De(He,He.current),r)break;return null;case 22:case 23:return t.lanes=0,Em(e,t,n)}return wn(e,t,n)}var Rm,Ra,Mm,_m;Rm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ra=function(){};Mm=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,nr(sn.current);var l=null;switch(n){case"input":i=ea(e,i),r=ea(e,r),l=[];break;case"select":i=Ve({},i,{value:void 0}),r=Ve({},r,{value:void 0}),l=[];break;case"textarea":i=ra(e,i),r=ra(e,r),l=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=so)}la(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ri.hasOwnProperty(c)?l||(l=[]):(l=l||[]).push(c,null));for(c in r){var u=r[c];if(s=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==s&&(u!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&s[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(l||(l=[]),l.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,s=s?s.__html:void 0,u!=null&&s!==u&&(l=l||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(l=l||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ri.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Le("scroll",e),l||s===u||(l=[])):(l=l||[]).push(c,u))}n&&(l=l||[]).push("style",n);var c=l;(t.updateQueue=c)&&(t.flags|=4)}};_m=function(e,t,n,r){n!==r&&(t.flags|=4)};function ui(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function by(e,t,n){var r=t.pendingProps;switch(ju(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(t),null;case 1:return bt(t.type)&&ao(),ot(t),null;case 3:return r=t.stateNode,Gr(),Fe(kt),Fe(at),Ou(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Cl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Wt!==null&&(Ua(Wt),Wt=null))),Ra(e,t),ot(t),null;case 5:Fu(t);var i=nr($i.current);if(n=t.type,e!==null&&t.stateNode!=null)Mm(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ee(166));return ot(t),null}if(e=nr(sn.current),Cl(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[rn]=t,r[Bi]=l,e=(t.mode&1)!==0,n){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(i=0;i<xi.length;i++)Le(xi[i],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":zc(r,l),Le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Le("invalid",r);break;case"textarea":Fc(r,l),Le("invalid",r)}la(n,l),i=null;for(var o in l)if(l.hasOwnProperty(o)){var s=l[o];o==="children"?typeof s=="string"?r.textContent!==s&&(l.suppressHydrationWarning!==!0&&bl(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(l.suppressHydrationWarning!==!0&&bl(r.textContent,s,e),i=["children",""+s]):Ri.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Le("scroll",r)}switch(n){case"input":hl(r),Lc(r,l,!0);break;case"textarea":hl(r),Oc(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=so)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ah(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[rn]=t,e[Bi]=r,Rm(e,t,!1,!1),t.stateNode=e;e:{switch(o=oa(n,r),n){case"dialog":Le("cancel",e),Le("close",e),i=r;break;case"iframe":case"object":case"embed":Le("load",e),i=r;break;case"video":case"audio":for(i=0;i<xi.length;i++)Le(xi[i],e);i=r;break;case"source":Le("error",e),i=r;break;case"img":case"image":case"link":Le("error",e),Le("load",e),i=r;break;case"details":Le("toggle",e),i=r;break;case"input":zc(e,r),i=ea(e,r),Le("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ve({},r,{value:void 0}),Le("invalid",e);break;case"textarea":Fc(e,r),i=ra(e,r),Le("invalid",e);break;default:i=r}la(n,i),s=i;for(l in s)if(s.hasOwnProperty(l)){var u=s[l];l==="style"?dh(e,u):l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&uh(e,u)):l==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Mi(e,u):typeof u=="number"&&Mi(e,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Ri.hasOwnProperty(l)?u!=null&&l==="onScroll"&&Le("scroll",e):u!=null&&mu(e,l,u,o))}switch(n){case"input":hl(e),Lc(e,r,!1);break;case"textarea":hl(e),Oc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Vn(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?Rr(e,!!r.multiple,l,!1):r.defaultValue!=null&&Rr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=so)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ot(t),null;case 6:if(e&&t.stateNode!=null)_m(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ee(166));if(n=nr($i.current),nr(sn.current),Cl(t)){if(r=t.stateNode,n=t.memoizedProps,r[rn]=t,(l=r.nodeValue!==n)&&(e=jt,e!==null))switch(e.tag){case 3:bl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&bl(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[rn]=t,t.stateNode=r}return ot(t),null;case 13:if(Fe(He),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ue&&At!==null&&t.mode&1&&!(t.flags&128))Xh(),$r(),t.flags|=98560,l=!1;else if(l=Cl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(ee(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(ee(317));l[rn]=t}else $r(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ot(t),l=!1}else Wt!==null&&(Ua(Wt),Wt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||He.current&1?Xe===0&&(Xe=3):Ju())),t.updateQueue!==null&&(t.flags|=4),ot(t),null);case 4:return Gr(),Ra(e,t),e===null&&Ui(t.stateNode.containerInfo),ot(t),null;case 10:return _u(t.type._context),ot(t),null;case 17:return bt(t.type)&&ao(),ot(t),null;case 19:if(Fe(He),l=t.memoizedState,l===null)return ot(t),null;if(r=(t.flags&128)!==0,o=l.rendering,o===null)if(r)ui(l,!1);else{if(Xe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=go(e),o!==null){for(t.flags|=128,ui(l,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return De(He,He.current&1|2),t.child}e=e.sibling}l.tail!==null&&Ke()>Wr&&(t.flags|=128,r=!0,ui(l,!1),t.lanes=4194304)}else{if(!r)if(e=go(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ui(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!Ue)return ot(t),null}else 2*Ke()-l.renderingStartTime>Wr&&n!==1073741824&&(t.flags|=128,r=!0,ui(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(n=l.last,n!==null?n.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ke(),t.sibling=null,n=He.current,De(He,r?n&1|2:n&1),t):(ot(t),null);case 22:case 23:return Qu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Et&1073741824&&(ot(t),t.subtreeFlags&6&&(t.flags|=8192)):ot(t),null;case 24:return null;case 25:return null}throw Error(ee(156,t.tag))}function Cy(e,t){switch(ju(t),t.tag){case 1:return bt(t.type)&&ao(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gr(),Fe(kt),Fe(at),Ou(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fu(t),null;case 13:if(Fe(He),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ee(340));$r()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Fe(He),null;case 4:return Gr(),null;case 10:return _u(t.type._context),null;case 22:case 23:return Qu(),null;case 24:return null;default:return null}}var Tl=!1,st=!1,Ny=typeof WeakSet=="function"?WeakSet:Set,he=null;function jr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qe(e,t,r)}else n.current=null}function Ma(e,t,n){try{n()}catch(r){qe(e,t,r)}}var Ad=!1;function Sy(e,t){if(ga=io,e=Oh(),Au(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var o=0,s=-1,u=-1,c=0,d=0,f=e,g=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(s=o+i),f!==l||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)g=f,f=m;for(;;){if(f===e)break t;if(g===n&&++c===i&&(s=o),g===l&&++d===r&&(u=o),(m=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=m}n=s===-1||u===-1?null:{start:s,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(xa={focusedElem:e,selectionRange:n},io=!1,he=t;he!==null;)if(t=he,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,he=e;else for(;he!==null;){t=he;try{var C=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var S=C.memoizedProps,T=C.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?S:Gt(t.type,S),T);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(A){qe(t,t.return,A)}if(e=t.sibling,e!==null){e.return=t.return,he=e;break}he=t.return}return C=Ad,Ad=!1,C}function Si(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var l=i.destroy;i.destroy=void 0,l!==void 0&&Ma(t,n,l)}i=i.next}while(i!==r)}}function $o(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function _a(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Dm(e){var t=e.alternate;t!==null&&(e.alternate=null,Dm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[rn],delete t[Bi],delete t[wa],delete t[sy],delete t[ay])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function zm(e){return e.tag===5||e.tag===3||e.tag===4}function Id(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Da(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=so));else if(r!==4&&(e=e.child,e!==null))for(Da(e,t,n),e=e.sibling;e!==null;)Da(e,t,n),e=e.sibling}function za(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(za(e,t,n),e=e.sibling;e!==null;)za(e,t,n),e=e.sibling}var nt=null,Kt=!1;function Sn(e,t,n){for(n=n.child;n!==null;)Lm(e,t,n),n=n.sibling}function Lm(e,t,n){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(zo,n)}catch{}switch(n.tag){case 5:st||jr(n,t);case 6:var r=nt,i=Kt;nt=null,Sn(e,t,n),nt=r,Kt=i,nt!==null&&(Kt?(e=nt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):nt.removeChild(n.stateNode));break;case 18:nt!==null&&(Kt?(e=nt,n=n.stateNode,e.nodeType===8?bs(e.parentNode,n):e.nodeType===1&&bs(e,n),Li(e)):bs(nt,n.stateNode));break;case 4:r=nt,i=Kt,nt=n.stateNode.containerInfo,Kt=!0,Sn(e,t,n),nt=r,Kt=i;break;case 0:case 11:case 14:case 15:if(!st&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var l=i,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&Ma(n,t,o),i=i.next}while(i!==r)}Sn(e,t,n);break;case 1:if(!st&&(jr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){qe(n,t,s)}Sn(e,t,n);break;case 21:Sn(e,t,n);break;case 22:n.mode&1?(st=(r=st)||n.memoizedState!==null,Sn(e,t,n),st=r):Sn(e,t,n);break;default:Sn(e,t,n)}}function jd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ny),t.forEach(function(r){var i=_y.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function qt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var l=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:nt=s.stateNode,Kt=!1;break e;case 3:nt=s.stateNode.containerInfo,Kt=!0;break e;case 4:nt=s.stateNode.containerInfo,Kt=!0;break e}s=s.return}if(nt===null)throw Error(ee(160));Lm(l,o,i),nt=null,Kt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){qe(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Fm(t,e),t=t.sibling}function Fm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qt(t,e),en(e),r&4){try{Si(3,e,e.return),$o(3,e)}catch(S){qe(e,e.return,S)}try{Si(5,e,e.return)}catch(S){qe(e,e.return,S)}}break;case 1:qt(t,e),en(e),r&512&&n!==null&&jr(n,n.return);break;case 5:if(qt(t,e),en(e),r&512&&n!==null&&jr(n,n.return),e.flags&32){var i=e.stateNode;try{Mi(i,"")}catch(S){qe(e,e.return,S)}}if(r&4&&(i=e.stateNode,i!=null)){var l=e.memoizedProps,o=n!==null?n.memoizedProps:l,s=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{s==="input"&&l.type==="radio"&&l.name!=null&&oh(i,l),oa(s,o);var c=oa(s,l);for(o=0;o<u.length;o+=2){var d=u[o],f=u[o+1];d==="style"?dh(i,f):d==="dangerouslySetInnerHTML"?uh(i,f):d==="children"?Mi(i,f):mu(i,d,f,c)}switch(s){case"input":ta(i,l);break;case"textarea":sh(i,l);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!l.multiple;var m=l.value;m!=null?Rr(i,!!l.multiple,m,!1):g!==!!l.multiple&&(l.defaultValue!=null?Rr(i,!!l.multiple,l.defaultValue,!0):Rr(i,!!l.multiple,l.multiple?[]:"",!1))}i[Bi]=l}catch(S){qe(e,e.return,S)}}break;case 6:if(qt(t,e),en(e),r&4){if(e.stateNode===null)throw Error(ee(162));i=e.stateNode,l=e.memoizedProps;try{i.nodeValue=l}catch(S){qe(e,e.return,S)}}break;case 3:if(qt(t,e),en(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Li(t.containerInfo)}catch(S){qe(e,e.return,S)}break;case 4:qt(t,e),en(e);break;case 13:qt(t,e),en(e),i=e.child,i.flags&8192&&(l=i.memoizedState!==null,i.stateNode.isHidden=l,!l||i.alternate!==null&&i.alternate.memoizedState!==null||(Wu=Ke())),r&4&&jd(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(st=(c=st)||d,qt(t,e),st=c):qt(t,e),en(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(he=e,d=e.child;d!==null;){for(f=he=d;he!==null;){switch(g=he,m=g.child,g.tag){case 0:case 11:case 14:case 15:Si(4,g,g.return);break;case 1:jr(g,g.return);var C=g.stateNode;if(typeof C.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,C.props=t.memoizedProps,C.state=t.memoizedState,C.componentWillUnmount()}catch(S){qe(r,n,S)}}break;case 5:jr(g,g.return);break;case 22:if(g.memoizedState!==null){Rd(f);continue}}m!==null?(m.return=g,he=m):Rd(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(l=i.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(s=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,s.style.display=ch("display",o))}catch(S){qe(e,e.return,S)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(S){qe(e,e.return,S)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:qt(t,e),en(e),r&4&&jd(e);break;case 21:break;default:qt(t,e),en(e)}}function en(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(zm(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Mi(i,""),r.flags&=-33);var l=Id(e);za(e,l,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=Id(e);Da(e,s,o);break;default:throw Error(ee(161))}}catch(u){qe(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ty(e,t,n){he=e,Om(e)}function Om(e,t,n){for(var r=(e.mode&1)!==0;he!==null;){var i=he,l=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Tl;if(!o){var s=i.alternate,u=s!==null&&s.memoizedState!==null||st;s=Tl;var c=st;if(Tl=o,(st=u)&&!c)for(he=i;he!==null;)o=he,u=o.child,o.tag===22&&o.memoizedState!==null?Md(i):u!==null?(u.return=o,he=u):Md(i);for(;l!==null;)he=l,Om(l),l=l.sibling;he=i,Tl=s,st=c}Pd(e)}else i.subtreeFlags&8772&&l!==null?(l.return=i,he=l):Pd(e)}}function Pd(e){for(;he!==null;){var t=he;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:st||$o(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!st)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Gt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&md(t,l,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}md(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Li(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}st||t.flags&512&&_a(t)}catch(g){qe(t,t.return,g)}}if(t===e){he=null;break}if(n=t.sibling,n!==null){n.return=t.return,he=n;break}he=t.return}}function Rd(e){for(;he!==null;){var t=he;if(t===e){he=null;break}var n=t.sibling;if(n!==null){n.return=t.return,he=n;break}he=t.return}}function Md(e){for(;he!==null;){var t=he;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{$o(4,t)}catch(u){qe(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){qe(t,i,u)}}var l=t.return;try{_a(t)}catch(u){qe(t,l,u)}break;case 5:var o=t.return;try{_a(t)}catch(u){qe(t,o,u)}}}catch(u){qe(t,t.return,u)}if(t===e){he=null;break}var s=t.sibling;if(s!==null){s.return=t.return,he=s;break}he=t.return}}var Ey=Math.ceil,vo=bn.ReactCurrentDispatcher,Gu=bn.ReactCurrentOwner,Ht=bn.ReactCurrentBatchConfig,Ae=0,et=null,Ye=null,rt=0,Et=0,Pr=Gn(0),Xe=0,Wi=null,ur=0,qo=0,Ku=0,Ti=null,xt=null,Wu=0,Wr=1/0,fn=null,wo=!1,La=null,Un=null,El=!1,Mn=null,ko=0,Ei=0,Fa=null,Vl=-1,$l=0;function dt(){return Ae&6?Ke():Vl!==-1?Vl:Vl=Ke()}function Hn(e){return e.mode&1?Ae&2&&rt!==0?rt&-rt:cy.transition!==null?($l===0&&($l=Ch()),$l):(e=Re,e!==0||(e=window.event,e=e===void 0?16:jh(e.type)),e):1}function Qt(e,t,n,r){if(50<Ei)throw Ei=0,Fa=null,Error(ee(185));tl(e,n,r),(!(Ae&2)||e!==et)&&(e===et&&(!(Ae&2)&&(qo|=n),Xe===4&&jn(e,rt)),Ct(e,r),n===1&&Ae===0&&!(t.mode&1)&&(Wr=Ke()+500,Ho&&Kn()))}function Ct(e,t){var n=e.callbackNode;cx(e,t);var r=ro(e,e===et?rt:0);if(r===0)n!==null&&Bc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Bc(n),t===1)e.tag===0?uy(_d.bind(null,e)):Yh(_d.bind(null,e)),ly(function(){!(Ae&6)&&Kn()}),n=null;else{switch(Nh(r)){case 1:n=wu;break;case 4:n=kh;break;case 16:n=no;break;case 536870912:n=bh;break;default:n=no}n=Km(n,Um.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Um(e,t){if(Vl=-1,$l=0,Ae&6)throw Error(ee(327));var n=e.callbackNode;if(Lr()&&e.callbackNode!==n)return null;var r=ro(e,e===et?rt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=bo(e,r);else{t=r;var i=Ae;Ae|=2;var l=Bm();(et!==e||rt!==t)&&(fn=null,Wr=Ke()+500,rr(e,t));do try{jy();break}catch(s){Hm(e,s)}while(!0);Mu(),vo.current=l,Ae=i,Ye!==null?t=0:(et=null,rt=0,t=Xe)}if(t!==0){if(t===2&&(i=da(e),i!==0&&(r=i,t=Oa(e,i))),t===1)throw n=Wi,rr(e,0),jn(e,r),Ct(e,Ke()),n;if(t===6)jn(e,r);else{if(i=e.current.alternate,!(r&30)&&!Ay(i)&&(t=bo(e,r),t===2&&(l=da(e),l!==0&&(r=l,t=Oa(e,l))),t===1))throw n=Wi,rr(e,0),jn(e,r),Ct(e,Ke()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ee(345));case 2:Xn(e,xt,fn);break;case 3:if(jn(e,r),(r&130023424)===r&&(t=Wu+500-Ke(),10<t)){if(ro(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){dt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=va(Xn.bind(null,e,xt,fn),t);break}Xn(e,xt,fn);break;case 4:if(jn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Yt(r);l=1<<o,o=t[o],o>i&&(i=o),r&=~l}if(r=i,r=Ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ey(r/1960))-r,10<r){e.timeoutHandle=va(Xn.bind(null,e,xt,fn),r);break}Xn(e,xt,fn);break;case 5:Xn(e,xt,fn);break;default:throw Error(ee(329))}}}return Ct(e,Ke()),e.callbackNode===n?Um.bind(null,e):null}function Oa(e,t){var n=Ti;return e.current.memoizedState.isDehydrated&&(rr(e,t).flags|=256),e=bo(e,t),e!==2&&(t=xt,xt=n,t!==null&&Ua(t)),e}function Ua(e){xt===null?xt=e:xt.push.apply(xt,e)}function Ay(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],l=i.getSnapshot;i=i.value;try{if(!Jt(l(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function jn(e,t){for(t&=~Ku,t&=~qo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Yt(t),r=1<<n;e[n]=-1,t&=~r}}function _d(e){if(Ae&6)throw Error(ee(327));Lr();var t=ro(e,0);if(!(t&1))return Ct(e,Ke()),null;var n=bo(e,t);if(e.tag!==0&&n===2){var r=da(e);r!==0&&(t=r,n=Oa(e,r))}if(n===1)throw n=Wi,rr(e,0),jn(e,t),Ct(e,Ke()),n;if(n===6)throw Error(ee(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xn(e,xt,fn),Ct(e,Ke()),null}function Yu(e,t){var n=Ae;Ae|=1;try{return e(t)}finally{Ae=n,Ae===0&&(Wr=Ke()+500,Ho&&Kn())}}function cr(e){Mn!==null&&Mn.tag===0&&!(Ae&6)&&Lr();var t=Ae;Ae|=1;var n=Ht.transition,r=Re;try{if(Ht.transition=null,Re=1,e)return e()}finally{Re=r,Ht.transition=n,Ae=t,!(Ae&6)&&Kn()}}function Qu(){Et=Pr.current,Fe(Pr)}function rr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,iy(n)),Ye!==null)for(n=Ye.return;n!==null;){var r=n;switch(ju(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ao();break;case 3:Gr(),Fe(kt),Fe(at),Ou();break;case 5:Fu(r);break;case 4:Gr();break;case 13:Fe(He);break;case 19:Fe(He);break;case 10:_u(r.type._context);break;case 22:case 23:Qu()}n=n.return}if(et=e,Ye=e=Bn(e.current,null),rt=Et=t,Xe=0,Wi=null,Ku=qo=ur=0,xt=Ti=null,tr!==null){for(t=0;t<tr.length;t++)if(n=tr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,l=n.pending;if(l!==null){var o=l.next;l.next=i,r.next=o}n.pending=r}tr=null}return e}function Hm(e,t){do{var n=Ye;try{if(Mu(),Ul.current=yo,xo){for(var r=Be.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}xo=!1}if(ar=0,Ze=Je=Be=null,Ni=!1,qi=0,Gu.current=null,n===null||n.return===null){Xe=1,Wi=t,Ye=null;break}e:{var l=e,o=n.return,s=n,u=t;if(t=rt,s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=kd(o);if(m!==null){m.flags&=-257,bd(m,o,s,l,t),m.mode&1&&wd(l,c,t),t=m,u=c;var C=t.updateQueue;if(C===null){var S=new Set;S.add(u),t.updateQueue=S}else C.add(u);break e}else{if(!(t&1)){wd(l,c,t),Ju();break e}u=Error(ee(426))}}else if(Ue&&s.mode&1){var T=kd(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),bd(T,o,s,l,t),Pu(Kr(u,s));break e}}l=u=Kr(u,s),Xe!==4&&(Xe=2),Ti===null?Ti=[l]:Ti.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var y=Nm(l,u,t);hd(l,y);break e;case 1:s=u;var v=l.type,x=l.stateNode;if(!(l.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Un===null||!Un.has(x)))){l.flags|=65536,t&=-t,l.lanes|=t;var A=Sm(l,s,t);hd(l,A);break e}}l=l.return}while(l!==null)}$m(n)}catch(j){t=j,Ye===n&&n!==null&&(Ye=n=n.return);continue}break}while(!0)}function Bm(){var e=vo.current;return vo.current=yo,e===null?yo:e}function Ju(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),et===null||!(ur&268435455)&&!(qo&268435455)||jn(et,rt)}function bo(e,t){var n=Ae;Ae|=2;var r=Bm();(et!==e||rt!==t)&&(fn=null,rr(e,t));do try{Iy();break}catch(i){Hm(e,i)}while(!0);if(Mu(),Ae=n,vo.current=r,Ye!==null)throw Error(ee(261));return et=null,rt=0,Xe}function Iy(){for(;Ye!==null;)Vm(Ye)}function jy(){for(;Ye!==null&&!tx();)Vm(Ye)}function Vm(e){var t=Gm(e.alternate,e,Et);e.memoizedProps=e.pendingProps,t===null?$m(e):Ye=t,Gu.current=null}function $m(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Cy(n,t),n!==null){n.flags&=32767,Ye=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xe=6,Ye=null;return}}else if(n=by(n,t,Et),n!==null){Ye=n;return}if(t=t.sibling,t!==null){Ye=t;return}Ye=t=e}while(t!==null);Xe===0&&(Xe=5)}function Xn(e,t,n){var r=Re,i=Ht.transition;try{Ht.transition=null,Re=1,Py(e,t,n,r)}finally{Ht.transition=i,Re=r}return null}function Py(e,t,n,r){do Lr();while(Mn!==null);if(Ae&6)throw Error(ee(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ee(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(dx(e,l),e===et&&(Ye=et=null,rt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||El||(El=!0,Km(no,function(){return Lr(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Ht.transition,Ht.transition=null;var o=Re;Re=1;var s=Ae;Ae|=4,Gu.current=null,Sy(e,n),Fm(n,e),Jx(xa),io=!!ga,xa=ga=null,e.current=n,Ty(n),nx(),Ae=s,Re=o,Ht.transition=l}else e.current=n;if(El&&(El=!1,Mn=e,ko=i),l=e.pendingLanes,l===0&&(Un=null),lx(n.stateNode),Ct(e,Ke()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(wo)throw wo=!1,e=La,La=null,e;return ko&1&&e.tag!==0&&Lr(),l=e.pendingLanes,l&1?e===Fa?Ei++:(Ei=0,Fa=e):Ei=0,Kn(),null}function Lr(){if(Mn!==null){var e=Nh(ko),t=Ht.transition,n=Re;try{if(Ht.transition=null,Re=16>e?16:e,Mn===null)var r=!1;else{if(e=Mn,Mn=null,ko=0,Ae&6)throw Error(ee(331));var i=Ae;for(Ae|=4,he=e.current;he!==null;){var l=he,o=l.child;if(he.flags&16){var s=l.deletions;if(s!==null){for(var u=0;u<s.length;u++){var c=s[u];for(he=c;he!==null;){var d=he;switch(d.tag){case 0:case 11:case 15:Si(8,d,l)}var f=d.child;if(f!==null)f.return=d,he=f;else for(;he!==null;){d=he;var g=d.sibling,m=d.return;if(Dm(d),d===c){he=null;break}if(g!==null){g.return=m,he=g;break}he=m}}}var C=l.alternate;if(C!==null){var S=C.child;if(S!==null){C.child=null;do{var T=S.sibling;S.sibling=null,S=T}while(S!==null)}}he=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,he=o;else e:for(;he!==null;){if(l=he,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Si(9,l,l.return)}var y=l.sibling;if(y!==null){y.return=l.return,he=y;break e}he=l.return}}var v=e.current;for(he=v;he!==null;){o=he;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,he=x;else e:for(o=v;he!==null;){if(s=he,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:$o(9,s)}}catch(j){qe(s,s.return,j)}if(s===o){he=null;break e}var A=s.sibling;if(A!==null){A.return=s.return,he=A;break e}he=s.return}}if(Ae=i,Kn(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(zo,e)}catch{}r=!0}return r}finally{Re=n,Ht.transition=t}}return!1}function Dd(e,t,n){t=Kr(n,t),t=Nm(e,t,1),e=On(e,t,1),t=dt(),e!==null&&(tl(e,1,t),Ct(e,t))}function qe(e,t,n){if(e.tag===3)Dd(e,e,n);else for(;t!==null;){if(t.tag===3){Dd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Un===null||!Un.has(r))){e=Kr(n,e),e=Sm(t,e,1),t=On(t,e,1),e=dt(),t!==null&&(tl(t,1,e),Ct(t,e));break}}t=t.return}}function Ry(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=dt(),e.pingedLanes|=e.suspendedLanes&n,et===e&&(rt&n)===n&&(Xe===4||Xe===3&&(rt&130023424)===rt&&500>Ke()-Wu?rr(e,0):Ku|=n),Ct(e,t)}function qm(e,t){t===0&&(e.mode&1?(t=xl,xl<<=1,!(xl&130023424)&&(xl=4194304)):t=1);var n=dt();e=vn(e,t),e!==null&&(tl(e,t,n),Ct(e,n))}function My(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),qm(e,n)}function _y(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(t),qm(e,n)}var Gm;Gm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||kt.current)vt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return vt=!1,ky(e,t,n);vt=!!(e.flags&131072)}else vt=!1,Ue&&t.flags&1048576&&Qh(t,fo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bl(e,t),e=t.pendingProps;var i=Vr(t,at.current);zr(t,n),i=Hu(null,t,r,e,i,n);var l=Bu();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,bt(r)?(l=!0,uo(t)):l=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,zu(t),i.updater=Vo,t.stateNode=i,i._reactInternals=t,Ta(t,r,e,n),t=Ia(null,t,r,!0,l,n)):(t.tag=0,Ue&&l&&Iu(t),ct(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bl(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=zy(r),e=Gt(r,e),i){case 0:t=Aa(null,t,r,e,n);break e;case 1:t=Sd(null,t,r,e,n);break e;case 11:t=Cd(null,t,r,e,n);break e;case 14:t=Nd(null,t,r,Gt(r.type,e),n);break e}throw Error(ee(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gt(r,i),Aa(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gt(r,i),Sd(e,t,r,i,n);case 3:e:{if(Im(t),e===null)throw Error(ee(387));r=t.pendingProps,l=t.memoizedState,i=l.element,nm(e,t),mo(t,r,null,n);var o=t.memoizedState;if(r=o.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){i=Kr(Error(ee(423)),t),t=Td(e,t,r,n,i);break e}else if(r!==i){i=Kr(Error(ee(424)),t),t=Td(e,t,r,n,i);break e}else for(At=Fn(t.stateNode.containerInfo.firstChild),jt=t,Ue=!0,Wt=null,n=em(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($r(),r===i){t=wn(e,t,n);break e}ct(e,t,r,n)}t=t.child}return t;case 5:return rm(t),e===null&&Ca(t),r=t.type,i=t.pendingProps,l=e!==null?e.memoizedProps:null,o=i.children,ya(r,i)?o=null:l!==null&&ya(r,l)&&(t.flags|=32),Am(e,t),ct(e,t,o,n),t.child;case 6:return e===null&&Ca(t),null;case 13:return jm(e,t,n);case 4:return Lu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=qr(t,null,r,n):ct(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gt(r,i),Cd(e,t,r,i,n);case 7:return ct(e,t,t.pendingProps,n),t.child;case 8:return ct(e,t,t.pendingProps.children,n),t.child;case 12:return ct(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,l=t.memoizedProps,o=i.value,De(po,r._currentValue),r._currentValue=o,l!==null)if(Jt(l.value,o)){if(l.children===i.children&&!kt.current){t=wn(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var s=l.dependencies;if(s!==null){o=l.child;for(var u=s.firstContext;u!==null;){if(u.context===r){if(l.tag===1){u=gn(-1,n&-n),u.tag=2;var c=l.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),Na(l.return,n,t),s.lanes|=n;break}u=u.next}}else if(l.tag===10)o=l.type===t.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(ee(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Na(o,n,t),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===t){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}ct(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,zr(t,n),i=Bt(i),r=r(i),t.flags|=1,ct(e,t,r,n),t.child;case 14:return r=t.type,i=Gt(r,t.pendingProps),i=Gt(r.type,i),Nd(e,t,r,i,n);case 15:return Tm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gt(r,i),Bl(e,t),t.tag=1,bt(r)?(e=!0,uo(t)):e=!1,zr(t,n),Cm(t,r,i),Ta(t,r,i,n),Ia(null,t,r,!0,e,n);case 19:return Pm(e,t,n);case 22:return Em(e,t,n)}throw Error(ee(156,t.tag))};function Km(e,t){return wh(e,t)}function Dy(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(e,t,n,r){return new Dy(e,t,n,r)}function Xu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zy(e){if(typeof e=="function")return Xu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xu)return 11;if(e===yu)return 14}return 2}function Bn(e,t){var n=e.alternate;return n===null?(n=Ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ql(e,t,n,r,i,l){var o=2;if(r=e,typeof e=="function")Xu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case kr:return ir(n.children,i,l,t);case gu:o=8,i|=8;break;case Qs:return e=Ot(12,n,t,i|2),e.elementType=Qs,e.lanes=l,e;case Js:return e=Ot(13,n,t,i),e.elementType=Js,e.lanes=l,e;case Xs:return e=Ot(19,n,t,i),e.elementType=Xs,e.lanes=l,e;case rh:return Go(n,i,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case th:o=10;break e;case nh:o=9;break e;case xu:o=11;break e;case yu:o=14;break e;case En:o=16,r=null;break e}throw Error(ee(130,e==null?e:typeof e,""))}return t=Ot(o,n,t,i),t.elementType=e,t.type=r,t.lanes=l,t}function ir(e,t,n,r){return e=Ot(7,e,r,t),e.lanes=n,e}function Go(e,t,n,r){return e=Ot(22,e,r,t),e.elementType=rh,e.lanes=n,e.stateNode={isHidden:!1},e}function js(e,t,n){return e=Ot(6,e,null,t),e.lanes=n,e}function Ps(e,t,n){return t=Ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ly(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ds(0),this.expirationTimes=ds(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ds(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Zu(e,t,n,r,i,l,o,s,u){return e=new Ly(e,t,n,s,u),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Ot(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zu(l),e}function Fy(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Wm(e){if(!e)return $n;e=e._reactInternals;e:{if(hr(e)!==e||e.tag!==1)throw Error(ee(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(bt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ee(171))}if(e.tag===1){var n=e.type;if(bt(n))return Wh(e,n,t)}return t}function Ym(e,t,n,r,i,l,o,s,u){return e=Zu(n,r,!0,e,i,l,o,s,u),e.context=Wm(null),n=e.current,r=dt(),i=Hn(n),l=gn(r,i),l.callback=t??null,On(n,l,i),e.current.lanes=i,tl(e,i,r),Ct(e,r),e}function Ko(e,t,n,r){var i=t.current,l=dt(),o=Hn(i);return n=Wm(n),t.context===null?t.context=n:t.pendingContext=n,t=gn(l,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=On(i,t,o),e!==null&&(Qt(e,i,o,l),Ol(e,i,o)),o}function Co(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ec(e,t){zd(e,t),(e=e.alternate)&&zd(e,t)}function Oy(){return null}var Qm=typeof reportError=="function"?reportError:function(e){console.error(e)};function tc(e){this._internalRoot=e}Wo.prototype.render=tc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ee(409));Ko(e,t,null,null)};Wo.prototype.unmount=tc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;cr(function(){Ko(null,e,null,null)}),t[yn]=null}};function Wo(e){this._internalRoot=e}Wo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Eh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<In.length&&t!==0&&t<In[n].priority;n++);In.splice(n,0,e),n===0&&Ih(e)}};function nc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Yo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ld(){}function Uy(e,t,n,r,i){if(i){if(typeof r=="function"){var l=r;r=function(){var c=Co(o);l.call(c)}}var o=Ym(t,r,e,0,null,!1,!1,"",Ld);return e._reactRootContainer=o,e[yn]=o.current,Ui(e.nodeType===8?e.parentNode:e),cr(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var c=Co(u);s.call(c)}}var u=Zu(e,0,!1,null,null,!1,!1,"",Ld);return e._reactRootContainer=u,e[yn]=u.current,Ui(e.nodeType===8?e.parentNode:e),cr(function(){Ko(t,u,n,r)}),u}function Qo(e,t,n,r,i){var l=n._reactRootContainer;if(l){var o=l;if(typeof i=="function"){var s=i;i=function(){var u=Co(o);s.call(u)}}Ko(t,o,e,i)}else o=Uy(n,t,e,i,r);return Co(o)}Sh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=gi(t.pendingLanes);n!==0&&(ku(t,n|1),Ct(t,Ke()),!(Ae&6)&&(Wr=Ke()+500,Kn()))}break;case 13:cr(function(){var r=vn(e,1);if(r!==null){var i=dt();Qt(r,e,1,i)}}),ec(e,1)}};bu=function(e){if(e.tag===13){var t=vn(e,134217728);if(t!==null){var n=dt();Qt(t,e,134217728,n)}ec(e,134217728)}};Th=function(e){if(e.tag===13){var t=Hn(e),n=vn(e,t);if(n!==null){var r=dt();Qt(n,e,t,r)}ec(e,t)}};Eh=function(){return Re};Ah=function(e,t){var n=Re;try{return Re=e,t()}finally{Re=n}};aa=function(e,t,n){switch(t){case"input":if(ta(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Uo(r);if(!i)throw Error(ee(90));lh(r),ta(r,i)}}}break;case"textarea":sh(e,n);break;case"select":t=n.value,t!=null&&Rr(e,!!n.multiple,t,!1)}};hh=Yu;mh=cr;var Hy={usingClientEntryPoint:!1,Events:[rl,Sr,Uo,fh,ph,Yu]},ci={findFiberByHostInstance:er,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},By={bundleType:ci.bundleType,version:ci.version,rendererPackageName:ci.rendererPackageName,rendererConfig:ci.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yh(e),e===null?null:e.stateNode},findFiberByHostInstance:ci.findFiberByHostInstance||Oy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Al.isDisabled&&Al.supportsFiber)try{zo=Al.inject(By),on=Al}catch{}}Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hy;Mt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nc(t))throw Error(ee(200));return Fy(e,t,null,n)};Mt.createRoot=function(e,t){if(!nc(e))throw Error(ee(299));var n=!1,r="",i=Qm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Zu(e,1,!1,null,null,n,!1,r,i),e[yn]=t.current,Ui(e.nodeType===8?e.parentNode:e),new tc(t)};Mt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ee(188)):(e=Object.keys(e).join(","),Error(ee(268,e)));return e=yh(t),e=e===null?null:e.stateNode,e};Mt.flushSync=function(e){return cr(e)};Mt.hydrate=function(e,t,n){if(!Yo(t))throw Error(ee(200));return Qo(null,e,t,!0,n)};Mt.hydrateRoot=function(e,t,n){if(!nc(e))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,i=!1,l="",o=Qm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Ym(t,null,e,1,n??null,i,!1,l,o),e[yn]=t.current,Ui(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Wo(t)};Mt.render=function(e,t,n){if(!Yo(t))throw Error(ee(200));return Qo(null,e,t,!1,n)};Mt.unmountComponentAtNode=function(e){if(!Yo(e))throw Error(ee(40));return e._reactRootContainer?(cr(function(){Qo(null,null,e,!1,function(){e._reactRootContainer=null,e[yn]=null})}),!0):!1};Mt.unstable_batchedUpdates=Yu;Mt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yo(n))throw Error(ee(200));if(e==null||e._reactInternals===void 0)throw Error(ee(38));return Qo(e,t,n,!1,r)};Mt.version="18.3.1-next-f1338f8080-20240426";function Jm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Jm)}catch(e){console.error(e)}}Jm(),Jp.exports=Mt;var Vy=Jp.exports,Fd=Vy;Ws.createRoot=Fd.createRoot,Ws.hydrateRoot=Fd.hydrateRoot;/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rc{}function Pe(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const l=t[i];return l!=null?String(l):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function h(e,t,n){for(let l=0;l<t.length-1;l++){const o=t[l];if(o.endsWith("[]")){const s=o.slice(0,-2);if(!(s in e))if(Array.isArray(n))e[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(e[s])){const u=e[s];if(Array.isArray(n))for(let c=0;c<u.length;c++){const d=u[c];h(d,t.slice(l+1),n[c])}else for(const c of u)h(c,t.slice(l+1),n)}return}else if(o.endsWith("[0]")){const s=o.slice(0,-3);s in e||(e[s]=[{}]);const u=e[s];h(u[0],t.slice(l+1),n);return}(!e[o]||typeof e[o]!="object")&&(e[o]={}),e=e[o]}const r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else e[r]=n}function p(e,t){try{if(t.length===1&&t[0]==="_self")return e;for(let n=0;n<t.length;n++){if(typeof e!="object"||e===null)return;const r=t[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in e){const l=e[i];return Array.isArray(l)?l.map(o=>p(o,t.slice(n+1))):void 0}else return}else e=e[r]}return e}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rt(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Xm(e,t){const n=Rt(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function Od(e,t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Yi(e,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(n=>Od(e,n)):[Od(e,t)]}function Zm(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function $y(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function ic(e){return!(e==null||$y(e))}function e0(e){return e==null||Array.isArray(e)&&e.length===0?!1:e.every(ic)}function Ut(e,t){if(t==null)throw new Error("ContentUnion is required");return Zm(t)?t:ic(t)?{role:"user",parts:Yi(e,t)}:{role:"model",parts:Yi(e,t)}}function t0(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=Ut(e,n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=Ut(e,t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Ut(e,n)):[Ut(e,t)]}function Gl(e,t,n){n.length!==0&&(e0(n)?t.push({role:"user",parts:Yi(e,n)}):t.push({role:"model",parts:Yi(e,n)}),n.length=0)}function qy(e,t,n,r){ic(r)===e0(n)||(Gl(e,t,n),n.length=0),n.push(r)}function Ge(e,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t))return[Ut(e,t)];const n=[],r=[];for(const i of t)if(Zm(i))Gl(e,n,r),n.push(i);else if(typeof i=="string"||typeof i=="object"&&!Array.isArray(i))qy(e,n,r,i);else if(Array.isArray(i))Gl(e,n,r),n.push({role:"user",parts:Yi(e,i)});else throw new Error(`Unsupported content type: ${typeof i}`);return Gl(e,n,r),n}function n0(e,t){if(!e.isVertexAI()&&("title"in t&&delete t.title,"default"in t))throw new Error("Default value is not supported in the response schema for the Gemini API.");if("anyOf"in t){if(!e.isVertexAI())throw new Error("AnyOf is not supported in the response schema for the Gemini API.");if(t.anyOf!==void 0)for(const n of t.anyOf)n0(e,n)}}function r0(e,t){return n0(e,t),t}function i0(e,t){if(typeof t=="object"&&"voiceConfig"in t)return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function l0(e,t){return t}function Fr(e,t){if(!Array.isArray(t))throw new Error("tool is required and must be an array of Tools");return t}function Gy(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function Wn(e,t){if(typeof t!="string")throw new Error("name must be a string");return Gy(e,t,"cachedContents")}function o0(e,t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function Ky(e,t){if(typeof t!="string")throw new Error("fromName must be a string");return t.startsWith("files/")?t.split("files/")[1]:t}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var No;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(No||(No={}));class s0{constructor(t,n,r,i){this.pageInternal=[],this.requestInternal=n,this.init(t,r,i)}init(t,n,r){var i,l;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let o={config:{}};r?typeof r=="object"?o=Object.assign({},r):o=r:o={config:{}},o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(l=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ud;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Ud||(Ud={}));var Hd;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(Hd||(Hd={}));var Bd;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT"})(Bd||(Bd={}));var Vd;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Vd||(Vd={}));var $d;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})($d||($d={}));var qd;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(qd||(qd={}));var Gd;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Gd||(Gd={}));var Kd;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL"})(Kd||(Kd={}));var Wd;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Wd||(Wd={}));var Yd;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Yd||(Yd={}));var Qd;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(Qd||(Qd={}));var Jd;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.ACTIVE="ACTIVE",e.ERROR="ERROR"})(Jd||(Jd={}));var Xd;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Xd||(Xd={}));var Zd;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(Zd||(Zd={}));var ef;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ef||(ef={}));var tf;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(tf||(tf={}));var nf;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(nf||(nf={}));var rf;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi"})(rf||(rf={}));var lf;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(lf||(lf={}));var of;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(of||(of={}));var sf;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(sf||(sf={}));var af;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(af||(af={}));var uf;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(uf||(uf={}));var So;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(So||(So={}));class Il{get text(){var t,n,r,i,l,o,s,u;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",d=!1;const f=[];for(const g of(u=(s=(o=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)!==null&&u!==void 0?u:[]){for(const[m,C]of Object.entries(g))m!=="text"&&m!=="thought"&&(C!==null||C!==void 0)&&f.push(m);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,c+=g.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?c:void 0}get functionCalls(){var t,n,r,i,l,o,s,u;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(u=(s=(o=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var t,n,r,i,l,o,s,u,c;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(u=(s=(o=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(c=d==null?void 0:d[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var t,n,r,i,l,o,s,u,c;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(u=(s=(o=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(c=d==null?void 0:d[0])===null||c===void 0?void 0:c.output}}class cf{}class df{}class ff{}class pf{}class hf{}class mf{}class gf{}class a0{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class xf{}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wy extends rc{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new s0(No.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI()){const s=m1(this.apiClient,t);return l=Pe("cachedContents",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(u=>u.json()),i.then(u=>Wl(this.apiClient,u))}else{const s=h1(this.apiClient,t);return l=Pe("cachedContents",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(u=>u.json()),i.then(u=>Kl(this.apiClient,u))}}async get(t){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI()){const s=x1(this.apiClient,t);return l=Pe("{name}",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(u=>u.json()),i.then(u=>Wl(this.apiClient,u))}else{const s=g1(this.apiClient,t);return l=Pe("{name}",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(u=>u.json()),i.then(u=>Kl(this.apiClient,u))}}async delete(t){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI()){const s=v1(this.apiClient,t);return l=Pe("{name}",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(u=>u.json()),i.then(u=>{const c=I1(this.apiClient),d=new hf;return Object.assign(d,c),d})}else{const s=y1(this.apiClient,t);return l=Pe("{name}",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(u=>u.json()),i.then(u=>{const c=A1(this.apiClient),d=new hf;return Object.assign(d,c),d})}}async update(t){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI()){const s=C1(this.apiClient,t);return l=Pe("{name}",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(u=>u.json()),i.then(u=>Wl(this.apiClient,u))}else{const s=b1(this.apiClient,t);return l=Pe("{name}",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(u=>u.json()),i.then(u=>Kl(this.apiClient,u))}}async listInternal(t){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI()){const s=E1(this.apiClient,t);return l=Pe("cachedContents",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(u=>u.json()),i.then(u=>{const c=P1(this.apiClient,u),d=new mf;return Object.assign(d,c),d})}else{const s=T1(this.apiClient,t);return l=Pe("cachedContents",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(u=>u.json()),i.then(u=>{const c=j1(this.apiClient,u),d=new mf;return Object.assign(d,c),d})}}}function Yy(e,t){const n={};if(p(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=p(t,["thought"]);r!=null&&h(n,["thought"],r);const i=p(t,["codeExecutionResult"]);i!=null&&h(n,["codeExecutionResult"],i);const l=p(t,["executableCode"]);l!=null&&h(n,["executableCode"],l);const o=p(t,["fileData"]);o!=null&&h(n,["fileData"],o);const s=p(t,["functionCall"]);s!=null&&h(n,["functionCall"],s);const u=p(t,["functionResponse"]);u!=null&&h(n,["functionResponse"],u);const c=p(t,["inlineData"]);c!=null&&h(n,["inlineData"],c);const d=p(t,["text"]);return d!=null&&h(n,["text"],d),n}function Qy(e,t){const n={},r=p(t,["videoMetadata"]);r!=null&&h(n,["videoMetadata"],r);const i=p(t,["thought"]);i!=null&&h(n,["thought"],i);const l=p(t,["codeExecutionResult"]);l!=null&&h(n,["codeExecutionResult"],l);const o=p(t,["executableCode"]);o!=null&&h(n,["executableCode"],o);const s=p(t,["fileData"]);s!=null&&h(n,["fileData"],s);const u=p(t,["functionCall"]);u!=null&&h(n,["functionCall"],u);const c=p(t,["functionResponse"]);c!=null&&h(n,["functionResponse"],c);const d=p(t,["inlineData"]);d!=null&&h(n,["inlineData"],d);const f=p(t,["text"]);return f!=null&&h(n,["text"],f),n}function yf(e,t){const n={},r=p(t,["parts"]);r!=null&&(Array.isArray(r)?h(n,["parts"],r.map(l=>Yy(e,l))):h(n,["parts"],r));const i=p(t,["role"]);return i!=null&&h(n,["role"],i),n}function vf(e,t){const n={},r=p(t,["parts"]);r!=null&&(Array.isArray(r)?h(n,["parts"],r.map(l=>Qy(e,l))):h(n,["parts"],r));const i=p(t,["role"]);return i!=null&&h(n,["role"],i),n}function Jy(e,t){const n={},r=p(t,["example"]);r!=null&&h(n,["example"],r);const i=p(t,["pattern"]);i!=null&&h(n,["pattern"],i);const l=p(t,["minimum"]);l!=null&&h(n,["minimum"],l);const o=p(t,["default"]);o!=null&&h(n,["default"],o);const s=p(t,["anyOf"]);s!=null&&h(n,["anyOf"],s);const u=p(t,["maxLength"]);u!=null&&h(n,["maxLength"],u);const c=p(t,["title"]);c!=null&&h(n,["title"],c);const d=p(t,["minLength"]);d!=null&&h(n,["minLength"],d);const f=p(t,["minProperties"]);f!=null&&h(n,["minProperties"],f);const g=p(t,["maximum"]);g!=null&&h(n,["maximum"],g);const m=p(t,["maxProperties"]);m!=null&&h(n,["maxProperties"],m);const C=p(t,["description"]);C!=null&&h(n,["description"],C);const S=p(t,["enum"]);S!=null&&h(n,["enum"],S);const T=p(t,["format"]);T!=null&&h(n,["format"],T);const y=p(t,["items"]);y!=null&&h(n,["items"],y);const v=p(t,["maxItems"]);v!=null&&h(n,["maxItems"],v);const x=p(t,["minItems"]);x!=null&&h(n,["minItems"],x);const A=p(t,["nullable"]);A!=null&&h(n,["nullable"],A);const j=p(t,["properties"]);j!=null&&h(n,["properties"],j);const N=p(t,["propertyOrdering"]);N!=null&&h(n,["propertyOrdering"],N);const E=p(t,["required"]);E!=null&&h(n,["required"],E);const I=p(t,["type"]);return I!=null&&h(n,["type"],I),n}function Xy(e,t){const n={};if(p(t,["response"])!==void 0)throw new Error("response parameter is not supported in Gemini API.");const r=p(t,["description"]);r!=null&&h(n,["description"],r);const i=p(t,["name"]);i!=null&&h(n,["name"],i);const l=p(t,["parameters"]);return l!=null&&h(n,["parameters"],l),n}function Zy(e,t){const n={},r=p(t,["response"]);r!=null&&h(n,["response"],Jy(e,r));const i=p(t,["description"]);i!=null&&h(n,["description"],i);const l=p(t,["name"]);l!=null&&h(n,["name"],l);const o=p(t,["parameters"]);return o!=null&&h(n,["parameters"],o),n}function e1(e,t){return{}}function t1(e,t){return{}}function n1(e,t){const n={},r=p(t,["mode"]);r!=null&&h(n,["mode"],r);const i=p(t,["dynamicThreshold"]);return i!=null&&h(n,["dynamicThreshold"],i),n}function r1(e,t){const n={},r=p(t,["mode"]);r!=null&&h(n,["mode"],r);const i=p(t,["dynamicThreshold"]);return i!=null&&h(n,["dynamicThreshold"],i),n}function i1(e,t){const n={},r=p(t,["dynamicRetrievalConfig"]);return r!=null&&h(n,["dynamicRetrievalConfig"],n1(e,r)),n}function l1(e,t){const n={},r=p(t,["dynamicRetrievalConfig"]);return r!=null&&h(n,["dynamicRetrievalConfig"],r1(e,r)),n}function o1(e,t){const n={},r=p(t,["functionDeclarations"]);if(r!=null&&(Array.isArray(r)?h(n,["functionDeclarations"],r.map(s=>Xy(e,s))):h(n,["functionDeclarations"],r)),p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");p(t,["googleSearch"])!=null&&h(n,["googleSearch"],e1());const l=p(t,["googleSearchRetrieval"]);l!=null&&h(n,["googleSearchRetrieval"],i1(e,l));const o=p(t,["codeExecution"]);return o!=null&&h(n,["codeExecution"],o),n}function s1(e,t){const n={},r=p(t,["functionDeclarations"]);r!=null&&(Array.isArray(r)?h(n,["functionDeclarations"],r.map(u=>Zy(e,u))):h(n,["functionDeclarations"],r));const i=p(t,["retrieval"]);i!=null&&h(n,["retrieval"],i),p(t,["googleSearch"])!=null&&h(n,["googleSearch"],t1());const o=p(t,["googleSearchRetrieval"]);o!=null&&h(n,["googleSearchRetrieval"],l1(e,o));const s=p(t,["codeExecution"]);return s!=null&&h(n,["codeExecution"],s),n}function a1(e,t){const n={},r=p(t,["mode"]);r!=null&&h(n,["mode"],r);const i=p(t,["allowedFunctionNames"]);return i!=null&&h(n,["allowedFunctionNames"],i),n}function u1(e,t){const n={},r=p(t,["mode"]);r!=null&&h(n,["mode"],r);const i=p(t,["allowedFunctionNames"]);return i!=null&&h(n,["allowedFunctionNames"],i),n}function c1(e,t){const n={},r=p(t,["functionCallingConfig"]);return r!=null&&h(n,["functionCallingConfig"],a1(e,r)),n}function d1(e,t){const n={},r=p(t,["functionCallingConfig"]);return r!=null&&h(n,["functionCallingConfig"],u1(e,r)),n}function f1(e,t,n){const r={},i=p(t,["ttl"]);n!==void 0&&i!=null&&h(n,["ttl"],i);const l=p(t,["expireTime"]);n!==void 0&&l!=null&&h(n,["expireTime"],l);const o=p(t,["displayName"]);n!==void 0&&o!=null&&h(n,["displayName"],o);const s=p(t,["contents"]);n!==void 0&&s!=null&&(Array.isArray(s)?h(n,["contents"],Ge(e,Ge(e,s).map(f=>yf(e,f)))):h(n,["contents"],Ge(e,s)));const u=p(t,["systemInstruction"]);n!==void 0&&u!=null&&h(n,["systemInstruction"],yf(e,Ut(e,u)));const c=p(t,["tools"]);n!==void 0&&c!=null&&(Array.isArray(c)?h(n,["tools"],c.map(f=>o1(e,f))):h(n,["tools"],c));const d=p(t,["toolConfig"]);return n!==void 0&&d!=null&&h(n,["toolConfig"],c1(e,d)),r}function p1(e,t,n){const r={},i=p(t,["ttl"]);n!==void 0&&i!=null&&h(n,["ttl"],i);const l=p(t,["expireTime"]);n!==void 0&&l!=null&&h(n,["expireTime"],l);const o=p(t,["displayName"]);n!==void 0&&o!=null&&h(n,["displayName"],o);const s=p(t,["contents"]);n!==void 0&&s!=null&&(Array.isArray(s)?h(n,["contents"],Ge(e,Ge(e,s).map(f=>vf(e,f)))):h(n,["contents"],Ge(e,s)));const u=p(t,["systemInstruction"]);n!==void 0&&u!=null&&h(n,["systemInstruction"],vf(e,Ut(e,u)));const c=p(t,["tools"]);n!==void 0&&c!=null&&(Array.isArray(c)?h(n,["tools"],c.map(f=>s1(e,f))):h(n,["tools"],c));const d=p(t,["toolConfig"]);return n!==void 0&&d!=null&&h(n,["toolConfig"],d1(e,d)),r}function h1(e,t){const n={},r=p(t,["model"]);r!=null&&h(n,["model"],Xm(e,r));const i=p(t,["config"]);return i!=null&&h(n,["config"],f1(e,i,n)),n}function m1(e,t){const n={},r=p(t,["model"]);r!=null&&h(n,["model"],Xm(e,r));const i=p(t,["config"]);return i!=null&&h(n,["config"],p1(e,i,n)),n}function g1(e,t){const n={},r=p(t,["name"]);r!=null&&h(n,["_url","name"],Wn(e,r));const i=p(t,["config"]);return i!=null&&h(n,["config"],i),n}function x1(e,t){const n={},r=p(t,["name"]);r!=null&&h(n,["_url","name"],Wn(e,r));const i=p(t,["config"]);return i!=null&&h(n,["config"],i),n}function y1(e,t){const n={},r=p(t,["name"]);r!=null&&h(n,["_url","name"],Wn(e,r));const i=p(t,["config"]);return i!=null&&h(n,["config"],i),n}function v1(e,t){const n={},r=p(t,["name"]);r!=null&&h(n,["_url","name"],Wn(e,r));const i=p(t,["config"]);return i!=null&&h(n,["config"],i),n}function w1(e,t,n){const r={},i=p(t,["ttl"]);n!==void 0&&i!=null&&h(n,["ttl"],i);const l=p(t,["expireTime"]);return n!==void 0&&l!=null&&h(n,["expireTime"],l),r}function k1(e,t,n){const r={},i=p(t,["ttl"]);n!==void 0&&i!=null&&h(n,["ttl"],i);const l=p(t,["expireTime"]);return n!==void 0&&l!=null&&h(n,["expireTime"],l),r}function b1(e,t){const n={},r=p(t,["name"]);r!=null&&h(n,["_url","name"],Wn(e,r));const i=p(t,["config"]);return i!=null&&h(n,["config"],w1(e,i,n)),n}function C1(e,t){const n={},r=p(t,["name"]);r!=null&&h(n,["_url","name"],Wn(e,r));const i=p(t,["config"]);return i!=null&&h(n,["config"],k1(e,i,n)),n}function N1(e,t,n){const r={},i=p(t,["pageSize"]);n!==void 0&&i!=null&&h(n,["_query","pageSize"],i);const l=p(t,["pageToken"]);return n!==void 0&&l!=null&&h(n,["_query","pageToken"],l),r}function S1(e,t,n){const r={},i=p(t,["pageSize"]);n!==void 0&&i!=null&&h(n,["_query","pageSize"],i);const l=p(t,["pageToken"]);return n!==void 0&&l!=null&&h(n,["_query","pageToken"],l),r}function T1(e,t){const n={},r=p(t,["config"]);return r!=null&&h(n,["config"],N1(e,r,n)),n}function E1(e,t){const n={},r=p(t,["config"]);return r!=null&&h(n,["config"],S1(e,r,n)),n}function Kl(e,t){const n={},r=p(t,["name"]);r!=null&&h(n,["name"],r);const i=p(t,["displayName"]);i!=null&&h(n,["displayName"],i);const l=p(t,["model"]);l!=null&&h(n,["model"],l);const o=p(t,["createTime"]);o!=null&&h(n,["createTime"],o);const s=p(t,["updateTime"]);s!=null&&h(n,["updateTime"],s);const u=p(t,["expireTime"]);u!=null&&h(n,["expireTime"],u);const c=p(t,["usageMetadata"]);return c!=null&&h(n,["usageMetadata"],c),n}function Wl(e,t){const n={},r=p(t,["name"]);r!=null&&h(n,["name"],r);const i=p(t,["displayName"]);i!=null&&h(n,["displayName"],i);const l=p(t,["model"]);l!=null&&h(n,["model"],l);const o=p(t,["createTime"]);o!=null&&h(n,["createTime"],o);const s=p(t,["updateTime"]);s!=null&&h(n,["updateTime"],s);const u=p(t,["expireTime"]);u!=null&&h(n,["expireTime"],u);const c=p(t,["usageMetadata"]);return c!=null&&h(n,["usageMetadata"],c),n}function A1(e,t){return{}}function I1(e,t){return{}}function j1(e,t){const n={},r=p(t,["nextPageToken"]);r!=null&&h(n,["nextPageToken"],r);const i=p(t,["cachedContents"]);return i!=null&&(Array.isArray(i)?h(n,["cachedContents"],i.map(l=>Kl(e,l))):h(n,["cachedContents"],i)),n}function P1(e,t){const n={},r=p(t,["nextPageToken"]);r!=null&&h(n,["nextPageToken"],r);const i=p(t,["cachedContents"]);return i!=null&&(Array.isArray(i)?h(n,["cachedContents"],i.map(l=>Wl(e,l))):h(n,["cachedContents"],i)),n}function wf(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function yt(e){return this instanceof yt?(this.v=e,this):new yt(e)}function To(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,l=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(m){return function(C){return Promise.resolve(C).then(m,f)}}function s(m,C){r[m]&&(i[m]=function(S){return new Promise(function(T,y){l.push([m,S,T,y])>1||u(m,S)})},C&&(i[m]=C(i[m])))}function u(m,C){try{c(r[m](C))}catch(S){g(l[0][3],S)}}function c(m){m.value instanceof yt?Promise.resolve(m.value.v).then(d,f):g(l[0][2],m)}function d(m){u("next",m)}function f(m){u("throw",m)}function g(m,C){m(C),l.shift(),l.length&&u(l[0][0],l[0][1])}}function Ha(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof wf=="function"?wf(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(l){n[l]=e[l]&&function(o){return new Promise(function(s,u){o=e[l](o),i(s,u,o.done,o.value)})}}function i(l,o,s,u){Promise.resolve(u).then(function(c){l({value:c,done:s})},o)}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function R1(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:u0(n)}function u0(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0||t.text!==void 0&&t.text==="")return!1;return!0}function M1(e){if(e.length!==0){if(e[0].role!=="user")throw new Error("History must start with a user turn.");for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function _1(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0,i=e[0];for(;r<n;)if(e[r].role==="user")i=e[r],r++;else{const l=[];let o=!0;for(;r<n&&e[r].role==="model";)l.push(e[r]),o&&!u0(e[r])&&(o=!1),r++;o&&(t.push(i),t.push(...l))}return t}class D1{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new z1(this.apiClient,this.modelsModule,t.model,t.config,t.history)}}class z1{constructor(t,n,r,i={},l=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=i,this.history=l,this.sendPromise=Promise.resolve(),M1(l)}async sendMessage(t){var n;await this.sendPromise;const r=Ut(this.apiClient,t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,o;const u=(o=(l=(await i).candidates)===null||l===void 0?void 0:l[0])===null||o===void 0?void 0:o.content,c=u?[u]:[];this.recordHistory(r,c)})(),await this.sendPromise,i}async sendMessageStream(t){var n;await this.sendPromise;const r=Ut(this.apiClient,t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{});const l=await i;return this.processStreamResponse(l,r)}getHistory(t=!1){return t?_1(this.history):this.history}processStreamResponse(t,n){var r,i;return To(this,arguments,function*(){var o,s,u,c;const d=[];try{for(var f=!0,g=Ha(t),m;m=yield yt(g.next()),o=m.done,!o;f=!0){c=m.value,f=!1;const C=c;if(R1(C)){const S=(i=(r=C.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;S!==void 0&&d.push(S)}yield yield yt(C)}}catch(C){s={error:C}}finally{try{!f&&!o&&(u=g.return)&&(yield yt(u.call(g)))}finally{if(s)throw s.error}}this.recordHistory(n,d)})}recordHistory(t,n){let r=[];n.length>0&&n.every(i=>i.role==="model")?r=n:r.push({role:"model",parts:[]}),this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class L1 extends rc{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>await this.generateContentInternal(n),this.generateContentStream=async n=>await this.generateContentStreamInternal(n)}async generateContentInternal(t){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI()){const s=bf(this.apiClient,t);return l=Pe("{model}:generateContent",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(u=>u.json()),i.then(u=>{const c=Nf(this.apiClient,u),d=new Il;return Object.assign(d,c),d})}else{const s=kf(this.apiClient,t);return l=Pe("{model}:generateContent",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(u=>u.json()),i.then(u=>{const c=Cf(this.apiClient,u),d=new Il;return Object.assign(d,c),d})}}async generateContentStreamInternal(t){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI()){const s=bf(this.apiClient,t);l=Pe("{model}:streamGenerateContent?alt=sse",s._url),o=s._query,delete s.config,delete s._url,delete s._query;const u=this.apiClient;return i=u.requestStream({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}),i.then(function(c){return To(this,arguments,function*(){var d,f,g,m;try{for(var C=!0,S=Ha(c),T;T=yield yt(S.next()),d=T.done,!d;C=!0){m=T.value,C=!1;const v=Nf(u,m),x=new Il;Object.assign(x,v),yield yield yt(x)}}catch(y){f={error:y}}finally{try{!C&&!d&&(g=S.return)&&(yield yt(g.call(S)))}finally{if(f)throw f.error}}})})}else{const s=kf(this.apiClient,t);l=Pe("{model}:streamGenerateContent?alt=sse",s._url),o=s._query,delete s.config,delete s._url,delete s._query;const u=this.apiClient;return i=u.requestStream({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}),i.then(function(c){return To(this,arguments,function*(){var d,f,g,m;try{for(var C=!0,S=Ha(c),T;T=yield yt(S.next()),d=T.done,!d;C=!0){m=T.value,C=!1;const v=Cf(u,m),x=new Il;Object.assign(x,v),yield yield yt(x)}}catch(y){f={error:y}}finally{try{!C&&!d&&(g=S.return)&&(yield yt(g.call(S)))}finally{if(f)throw f.error}}})})}}async embedContent(t){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI()){const s=hv(this.apiClient,t);return l=Pe("{model}:predict",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(u=>u.json()),i.then(u=>{const c=Lv(this.apiClient,u),d=new cf;return Object.assign(d,c),d})}else{const s=pv(this.apiClient,t);return l=Pe("{model}:batchEmbedContents",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(u=>u.json()),i.then(u=>{const c=zv(this.apiClient,u),d=new cf;return Object.assign(d,c),d})}}async generateImages(t){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI()){const s=yv(this.apiClient,t);return l=Pe("{model}:predict",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(u=>u.json()),i.then(u=>{const c=Vv(this.apiClient,u),d=new df;return Object.assign(d,c),d})}else{const s=xv(this.apiClient,t);return l=Pe("{model}:predict",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(u=>u.json()),i.then(u=>{const c=Bv(this.apiClient,u),d=new df;return Object.assign(d,c),d})}}async countTokens(t){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI()){const s=bv(this.apiClient,t);return l=Pe("{model}:countTokens",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(u=>u.json()),i.then(u=>{const c=qv(this.apiClient,u),d=new ff;return Object.assign(d,c),d})}else{const s=kv(this.apiClient,t);return l=Pe("{model}:countTokens",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(u=>u.json()),i.then(u=>{const c=$v(this.apiClient,u),d=new ff;return Object.assign(d,c),d})}}async computeTokens(t){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI()){const s=Nv(this.apiClient,t);return l=Pe("{model}:computeTokens",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(u=>u.json()),i.then(u=>{const c=Kv(this.apiClient,u),d=new pf;return Object.assign(d,c),d})}else{const s=Cv(this.apiClient,t);return l=Pe("None",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(u=>u.json()),i.then(u=>{const c=Gv(this.apiClient,u),d=new pf;return Object.assign(d,c),d})}}}function F1(e,t){const n={};if(p(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=p(t,["thought"]);r!=null&&h(n,["thought"],r);const i=p(t,["codeExecutionResult"]);i!=null&&h(n,["codeExecutionResult"],i);const l=p(t,["executableCode"]);l!=null&&h(n,["executableCode"],l);const o=p(t,["fileData"]);o!=null&&h(n,["fileData"],o);const s=p(t,["functionCall"]);s!=null&&h(n,["functionCall"],s);const u=p(t,["functionResponse"]);u!=null&&h(n,["functionResponse"],u);const c=p(t,["inlineData"]);c!=null&&h(n,["inlineData"],c);const d=p(t,["text"]);return d!=null&&h(n,["text"],d),n}function O1(e,t){const n={},r=p(t,["videoMetadata"]);r!=null&&h(n,["videoMetadata"],r);const i=p(t,["thought"]);i!=null&&h(n,["thought"],i);const l=p(t,["codeExecutionResult"]);l!=null&&h(n,["codeExecutionResult"],l);const o=p(t,["executableCode"]);o!=null&&h(n,["executableCode"],o);const s=p(t,["fileData"]);s!=null&&h(n,["fileData"],s);const u=p(t,["functionCall"]);u!=null&&h(n,["functionCall"],u);const c=p(t,["functionResponse"]);c!=null&&h(n,["functionResponse"],c);const d=p(t,["inlineData"]);d!=null&&h(n,["inlineData"],d);const f=p(t,["text"]);return f!=null&&h(n,["text"],f),n}function ll(e,t){const n={},r=p(t,["parts"]);r!=null&&(Array.isArray(r)?h(n,["parts"],r.map(l=>F1(e,l))):h(n,["parts"],r));const i=p(t,["role"]);return i!=null&&h(n,["role"],i),n}function mr(e,t){const n={},r=p(t,["parts"]);r!=null&&(Array.isArray(r)?h(n,["parts"],r.map(l=>O1(e,l))):h(n,["parts"],r));const i=p(t,["role"]);return i!=null&&h(n,["role"],i),n}function U1(e,t){const n={};if(p(t,["example"])!==void 0)throw new Error("example parameter is not supported in Gemini API.");if(p(t,["pattern"])!==void 0)throw new Error("pattern parameter is not supported in Gemini API.");if(p(t,["minimum"])!==void 0)throw new Error("minimum parameter is not supported in Gemini API.");if(p(t,["default"])!==void 0)throw new Error("default parameter is not supported in Gemini API.");if(p(t,["anyOf"])!==void 0)throw new Error("anyOf parameter is not supported in Gemini API.");if(p(t,["maxLength"])!==void 0)throw new Error("maxLength parameter is not supported in Gemini API.");if(p(t,["title"])!==void 0)throw new Error("title parameter is not supported in Gemini API.");if(p(t,["minLength"])!==void 0)throw new Error("minLength parameter is not supported in Gemini API.");if(p(t,["minProperties"])!==void 0)throw new Error("minProperties parameter is not supported in Gemini API.");if(p(t,["maximum"])!==void 0)throw new Error("maximum parameter is not supported in Gemini API.");if(p(t,["maxProperties"])!==void 0)throw new Error("maxProperties parameter is not supported in Gemini API.");const r=p(t,["description"]);r!=null&&h(n,["description"],r);const i=p(t,["enum"]);i!=null&&h(n,["enum"],i);const l=p(t,["format"]);l!=null&&h(n,["format"],l);const o=p(t,["items"]);o!=null&&h(n,["items"],o);const s=p(t,["maxItems"]);s!=null&&h(n,["maxItems"],s);const u=p(t,["minItems"]);u!=null&&h(n,["minItems"],u);const c=p(t,["nullable"]);c!=null&&h(n,["nullable"],c);const d=p(t,["properties"]);d!=null&&h(n,["properties"],d);const f=p(t,["propertyOrdering"]);f!=null&&h(n,["propertyOrdering"],f);const g=p(t,["required"]);g!=null&&h(n,["required"],g);const m=p(t,["type"]);return m!=null&&h(n,["type"],m),n}function c0(e,t){const n={},r=p(t,["example"]);r!=null&&h(n,["example"],r);const i=p(t,["pattern"]);i!=null&&h(n,["pattern"],i);const l=p(t,["minimum"]);l!=null&&h(n,["minimum"],l);const o=p(t,["default"]);o!=null&&h(n,["default"],o);const s=p(t,["anyOf"]);s!=null&&h(n,["anyOf"],s);const u=p(t,["maxLength"]);u!=null&&h(n,["maxLength"],u);const c=p(t,["title"]);c!=null&&h(n,["title"],c);const d=p(t,["minLength"]);d!=null&&h(n,["minLength"],d);const f=p(t,["minProperties"]);f!=null&&h(n,["minProperties"],f);const g=p(t,["maximum"]);g!=null&&h(n,["maximum"],g);const m=p(t,["maxProperties"]);m!=null&&h(n,["maxProperties"],m);const C=p(t,["description"]);C!=null&&h(n,["description"],C);const S=p(t,["enum"]);S!=null&&h(n,["enum"],S);const T=p(t,["format"]);T!=null&&h(n,["format"],T);const y=p(t,["items"]);y!=null&&h(n,["items"],y);const v=p(t,["maxItems"]);v!=null&&h(n,["maxItems"],v);const x=p(t,["minItems"]);x!=null&&h(n,["minItems"],x);const A=p(t,["nullable"]);A!=null&&h(n,["nullable"],A);const j=p(t,["properties"]);j!=null&&h(n,["properties"],j);const N=p(t,["propertyOrdering"]);N!=null&&h(n,["propertyOrdering"],N);const E=p(t,["required"]);E!=null&&h(n,["required"],E);const I=p(t,["type"]);return I!=null&&h(n,["type"],I),n}function H1(e,t){const n={};if(p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["category"]);r!=null&&h(n,["category"],r);const i=p(t,["threshold"]);return i!=null&&h(n,["threshold"],i),n}function B1(e,t){const n={},r=p(t,["method"]);r!=null&&h(n,["method"],r);const i=p(t,["category"]);i!=null&&h(n,["category"],i);const l=p(t,["threshold"]);return l!=null&&h(n,["threshold"],l),n}function V1(e,t){const n={};if(p(t,["response"])!==void 0)throw new Error("response parameter is not supported in Gemini API.");const r=p(t,["description"]);r!=null&&h(n,["description"],r);const i=p(t,["name"]);i!=null&&h(n,["name"],i);const l=p(t,["parameters"]);return l!=null&&h(n,["parameters"],l),n}function $1(e,t){const n={},r=p(t,["response"]);r!=null&&h(n,["response"],c0(e,r));const i=p(t,["description"]);i!=null&&h(n,["description"],i);const l=p(t,["name"]);l!=null&&h(n,["name"],l);const o=p(t,["parameters"]);return o!=null&&h(n,["parameters"],o),n}function q1(e,t){return{}}function G1(e,t){return{}}function K1(e,t){const n={},r=p(t,["mode"]);r!=null&&h(n,["mode"],r);const i=p(t,["dynamicThreshold"]);return i!=null&&h(n,["dynamicThreshold"],i),n}function W1(e,t){const n={},r=p(t,["mode"]);r!=null&&h(n,["mode"],r);const i=p(t,["dynamicThreshold"]);return i!=null&&h(n,["dynamicThreshold"],i),n}function Y1(e,t){const n={},r=p(t,["dynamicRetrievalConfig"]);return r!=null&&h(n,["dynamicRetrievalConfig"],K1(e,r)),n}function Q1(e,t){const n={},r=p(t,["dynamicRetrievalConfig"]);return r!=null&&h(n,["dynamicRetrievalConfig"],W1(e,r)),n}function d0(e,t){const n={},r=p(t,["functionDeclarations"]);if(r!=null&&(Array.isArray(r)?h(n,["functionDeclarations"],r.map(s=>V1(e,s))):h(n,["functionDeclarations"],r)),p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");p(t,["googleSearch"])!=null&&h(n,["googleSearch"],q1());const l=p(t,["googleSearchRetrieval"]);l!=null&&h(n,["googleSearchRetrieval"],Y1(e,l));const o=p(t,["codeExecution"]);return o!=null&&h(n,["codeExecution"],o),n}function lc(e,t){const n={},r=p(t,["functionDeclarations"]);r!=null&&(Array.isArray(r)?h(n,["functionDeclarations"],r.map(u=>$1(e,u))):h(n,["functionDeclarations"],r));const i=p(t,["retrieval"]);i!=null&&h(n,["retrieval"],i),p(t,["googleSearch"])!=null&&h(n,["googleSearch"],G1());const o=p(t,["googleSearchRetrieval"]);o!=null&&h(n,["googleSearchRetrieval"],Q1(e,o));const s=p(t,["codeExecution"]);return s!=null&&h(n,["codeExecution"],s),n}function J1(e,t){const n={},r=p(t,["mode"]);r!=null&&h(n,["mode"],r);const i=p(t,["allowedFunctionNames"]);return i!=null&&h(n,["allowedFunctionNames"],i),n}function X1(e,t){const n={},r=p(t,["mode"]);r!=null&&h(n,["mode"],r);const i=p(t,["allowedFunctionNames"]);return i!=null&&h(n,["allowedFunctionNames"],i),n}function Z1(e,t){const n={},r=p(t,["functionCallingConfig"]);return r!=null&&h(n,["functionCallingConfig"],J1(e,r)),n}function ev(e,t){const n={},r=p(t,["functionCallingConfig"]);return r!=null&&h(n,["functionCallingConfig"],X1(e,r)),n}function tv(e,t){const n={},r=p(t,["voiceName"]);return r!=null&&h(n,["voiceName"],r),n}function nv(e,t){const n={},r=p(t,["voiceName"]);return r!=null&&h(n,["voiceName"],r),n}function rv(e,t){const n={},r=p(t,["prebuiltVoiceConfig"]);return r!=null&&h(n,["prebuiltVoiceConfig"],tv(e,r)),n}function iv(e,t){const n={},r=p(t,["prebuiltVoiceConfig"]);return r!=null&&h(n,["prebuiltVoiceConfig"],nv(e,r)),n}function lv(e,t){const n={},r=p(t,["voiceConfig"]);return r!=null&&h(n,["voiceConfig"],rv(e,r)),n}function ov(e,t){const n={},r=p(t,["voiceConfig"]);return r!=null&&h(n,["voiceConfig"],iv(e,r)),n}function sv(e,t){const n={},r=p(t,["includeThoughts"]);return r!=null&&h(n,["includeThoughts"],r),n}function av(e,t){const n={},r=p(t,["includeThoughts"]);return r!=null&&h(n,["includeThoughts"],r),n}function uv(e,t,n){const r={},i=p(t,["systemInstruction"]);n!==void 0&&i!=null&&h(n,["systemInstruction"],ll(e,Ut(e,i)));const l=p(t,["temperature"]);l!=null&&h(r,["temperature"],l);const o=p(t,["topP"]);o!=null&&h(r,["topP"],o);const s=p(t,["topK"]);s!=null&&h(r,["topK"],s);const u=p(t,["candidateCount"]);u!=null&&h(r,["candidateCount"],u);const c=p(t,["maxOutputTokens"]);c!=null&&h(r,["maxOutputTokens"],c);const d=p(t,["stopSequences"]);d!=null&&h(r,["stopSequences"],d);const f=p(t,["responseLogprobs"]);f!=null&&h(r,["responseLogprobs"],f);const g=p(t,["logprobs"]);g!=null&&h(r,["logprobs"],g);const m=p(t,["presencePenalty"]);m!=null&&h(r,["presencePenalty"],m);const C=p(t,["frequencyPenalty"]);C!=null&&h(r,["frequencyPenalty"],C);const S=p(t,["seed"]);S!=null&&h(r,["seed"],S);const T=p(t,["responseMimeType"]);T!=null&&h(r,["responseMimeType"],T);const y=p(t,["responseSchema"]);if(y!=null&&h(r,["responseSchema"],U1(e,r0(e,y))),p(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");const v=p(t,["safetySettings"]);n!==void 0&&v!=null&&(Array.isArray(v)?h(n,["safetySettings"],v.map(F=>H1(e,F))):h(n,["safetySettings"],v));const x=p(t,["tools"]);n!==void 0&&x!=null&&(Array.isArray(x)?h(n,["tools"],Fr(e,Fr(e,x).map(F=>d0(e,l0(e,F))))):h(n,["tools"],Fr(e,x)));const A=p(t,["toolConfig"]);if(n!==void 0&&A!=null&&h(n,["toolConfig"],Z1(e,A)),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const j=p(t,["cachedContent"]);n!==void 0&&j!=null&&h(n,["cachedContent"],Wn(e,j));const N=p(t,["responseModalities"]);N!=null&&h(r,["responseModalities"],N);const E=p(t,["mediaResolution"]);E!=null&&h(r,["mediaResolution"],E);const I=p(t,["speechConfig"]);if(I!=null&&h(r,["speechConfig"],lv(e,i0(e,I))),p(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const z=p(t,["thinkingConfig"]);return z!=null&&h(r,["thinkingConfig"],sv(e,z)),r}function cv(e,t,n){const r={},i=p(t,["systemInstruction"]);n!==void 0&&i!=null&&h(n,["systemInstruction"],mr(e,Ut(e,i)));const l=p(t,["temperature"]);l!=null&&h(r,["temperature"],l);const o=p(t,["topP"]);o!=null&&h(r,["topP"],o);const s=p(t,["topK"]);s!=null&&h(r,["topK"],s);const u=p(t,["candidateCount"]);u!=null&&h(r,["candidateCount"],u);const c=p(t,["maxOutputTokens"]);c!=null&&h(r,["maxOutputTokens"],c);const d=p(t,["stopSequences"]);d!=null&&h(r,["stopSequences"],d);const f=p(t,["responseLogprobs"]);f!=null&&h(r,["responseLogprobs"],f);const g=p(t,["logprobs"]);g!=null&&h(r,["logprobs"],g);const m=p(t,["presencePenalty"]);m!=null&&h(r,["presencePenalty"],m);const C=p(t,["frequencyPenalty"]);C!=null&&h(r,["frequencyPenalty"],C);const S=p(t,["seed"]);S!=null&&h(r,["seed"],S);const T=p(t,["responseMimeType"]);T!=null&&h(r,["responseMimeType"],T);const y=p(t,["responseSchema"]);y!=null&&h(r,["responseSchema"],c0(e,r0(e,y)));const v=p(t,["routingConfig"]);v!=null&&h(r,["routingConfig"],v);const x=p(t,["safetySettings"]);n!==void 0&&x!=null&&(Array.isArray(x)?h(n,["safetySettings"],x.map(D=>B1(e,D))):h(n,["safetySettings"],x));const A=p(t,["tools"]);n!==void 0&&A!=null&&(Array.isArray(A)?h(n,["tools"],Fr(e,Fr(e,A).map(D=>lc(e,l0(e,D))))):h(n,["tools"],Fr(e,A)));const j=p(t,["toolConfig"]);n!==void 0&&j!=null&&h(n,["toolConfig"],ev(e,j));const N=p(t,["labels"]);n!==void 0&&N!=null&&h(n,["labels"],N);const E=p(t,["cachedContent"]);n!==void 0&&E!=null&&h(n,["cachedContent"],Wn(e,E));const I=p(t,["responseModalities"]);I!=null&&h(r,["responseModalities"],I);const z=p(t,["mediaResolution"]);z!=null&&h(r,["mediaResolution"],z);const F=p(t,["speechConfig"]);F!=null&&h(r,["speechConfig"],ov(e,i0(e,F)));const P=p(t,["audioTimestamp"]);P!=null&&h(r,["audioTimestamp"],P);const _=p(t,["thinkingConfig"]);return _!=null&&h(r,["thinkingConfig"],av(e,_)),r}function kf(e,t){const n={},r=p(t,["model"]);r!=null&&h(n,["_url","model"],Rt(e,r));const i=p(t,["contents"]);i!=null&&(Array.isArray(i)?h(n,["contents"],Ge(e,Ge(e,i).map(o=>ll(e,o)))):h(n,["contents"],Ge(e,i)));const l=p(t,["config"]);return l!=null&&h(n,["generationConfig"],uv(e,l,n)),n}function bf(e,t){const n={},r=p(t,["model"]);r!=null&&h(n,["_url","model"],Rt(e,r));const i=p(t,["contents"]);i!=null&&(Array.isArray(i)?h(n,["contents"],Ge(e,Ge(e,i).map(o=>mr(e,o)))):h(n,["contents"],Ge(e,i)));const l=p(t,["config"]);return l!=null&&h(n,["generationConfig"],cv(e,l,n)),n}function dv(e,t,n){const r={},i=p(t,["taskType"]);n!==void 0&&i!=null&&h(n,["requests[]","taskType"],i);const l=p(t,["title"]);n!==void 0&&l!=null&&h(n,["requests[]","title"],l);const o=p(t,["outputDimensionality"]);if(n!==void 0&&o!=null&&h(n,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function fv(e,t,n){const r={},i=p(t,["taskType"]);n!==void 0&&i!=null&&h(n,["instances[]","task_type"],i);const l=p(t,["title"]);n!==void 0&&l!=null&&h(n,["instances[]","title"],l);const o=p(t,["outputDimensionality"]);n!==void 0&&o!=null&&h(n,["parameters","outputDimensionality"],o);const s=p(t,["mimeType"]);n!==void 0&&s!=null&&h(n,["instances[]","mimeType"],s);const u=p(t,["autoTruncate"]);return n!==void 0&&u!=null&&h(n,["parameters","autoTruncate"],u),r}function pv(e,t){const n={},r=p(t,["model"]);r!=null&&h(n,["_url","model"],Rt(e,r));const i=p(t,["contents"]);i!=null&&h(n,["requests[]","content"],t0(e,i));const l=p(t,["config"]);l!=null&&h(n,["config"],dv(e,l,n));const o=p(t,["model"]);return o!==void 0&&h(n,["requests[]","model"],Rt(e,o)),n}function hv(e,t){const n={},r=p(t,["model"]);r!=null&&h(n,["_url","model"],Rt(e,r));const i=p(t,["contents"]);i!=null&&h(n,["instances[]","content"],t0(e,i));const l=p(t,["config"]);return l!=null&&h(n,["config"],fv(e,l,n)),n}function mv(e,t,n){const r={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=p(t,["numberOfImages"]);n!==void 0&&i!=null&&h(n,["parameters","sampleCount"],i);const l=p(t,["aspectRatio"]);n!==void 0&&l!=null&&h(n,["parameters","aspectRatio"],l);const o=p(t,["guidanceScale"]);if(n!==void 0&&o!=null&&h(n,["parameters","guidanceScale"],o),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=p(t,["safetyFilterLevel"]);n!==void 0&&s!=null&&h(n,["parameters","safetySetting"],s);const u=p(t,["personGeneration"]);n!==void 0&&u!=null&&h(n,["parameters","personGeneration"],u);const c=p(t,["includeSafetyAttributes"]);n!==void 0&&c!=null&&h(n,["parameters","includeSafetyAttributes"],c);const d=p(t,["includeRaiReason"]);n!==void 0&&d!=null&&h(n,["parameters","includeRaiReason"],d);const f=p(t,["language"]);n!==void 0&&f!=null&&h(n,["parameters","language"],f);const g=p(t,["outputMimeType"]);n!==void 0&&g!=null&&h(n,["parameters","outputOptions","mimeType"],g);const m=p(t,["outputCompressionQuality"]);if(n!==void 0&&m!=null&&h(n,["parameters","outputOptions","compressionQuality"],m),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function gv(e,t,n){const r={},i=p(t,["outputGcsUri"]);n!==void 0&&i!=null&&h(n,["parameters","storageUri"],i);const l=p(t,["negativePrompt"]);n!==void 0&&l!=null&&h(n,["parameters","negativePrompt"],l);const o=p(t,["numberOfImages"]);n!==void 0&&o!=null&&h(n,["parameters","sampleCount"],o);const s=p(t,["aspectRatio"]);n!==void 0&&s!=null&&h(n,["parameters","aspectRatio"],s);const u=p(t,["guidanceScale"]);n!==void 0&&u!=null&&h(n,["parameters","guidanceScale"],u);const c=p(t,["seed"]);n!==void 0&&c!=null&&h(n,["parameters","seed"],c);const d=p(t,["safetyFilterLevel"]);n!==void 0&&d!=null&&h(n,["parameters","safetySetting"],d);const f=p(t,["personGeneration"]);n!==void 0&&f!=null&&h(n,["parameters","personGeneration"],f);const g=p(t,["includeSafetyAttributes"]);n!==void 0&&g!=null&&h(n,["parameters","includeSafetyAttributes"],g);const m=p(t,["includeRaiReason"]);n!==void 0&&m!=null&&h(n,["parameters","includeRaiReason"],m);const C=p(t,["language"]);n!==void 0&&C!=null&&h(n,["parameters","language"],C);const S=p(t,["outputMimeType"]);n!==void 0&&S!=null&&h(n,["parameters","outputOptions","mimeType"],S);const T=p(t,["outputCompressionQuality"]);n!==void 0&&T!=null&&h(n,["parameters","outputOptions","compressionQuality"],T);const y=p(t,["addWatermark"]);n!==void 0&&y!=null&&h(n,["parameters","addWatermark"],y);const v=p(t,["enhancePrompt"]);return n!==void 0&&v!=null&&h(n,["parameters","enhancePrompt"],v),r}function xv(e,t){const n={},r=p(t,["model"]);r!=null&&h(n,["_url","model"],Rt(e,r));const i=p(t,["prompt"]);i!=null&&h(n,["instances[0]","prompt"],i);const l=p(t,["config"]);return l!=null&&h(n,["config"],mv(e,l,n)),n}function yv(e,t){const n={},r=p(t,["model"]);r!=null&&h(n,["_url","model"],Rt(e,r));const i=p(t,["prompt"]);i!=null&&h(n,["instances[0]","prompt"],i);const l=p(t,["config"]);return l!=null&&h(n,["config"],gv(e,l,n)),n}function vv(e,t){const n={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function wv(e,t,n){const r={},i=p(t,["systemInstruction"]);n!==void 0&&i!=null&&h(n,["systemInstruction"],mr(e,Ut(e,i)));const l=p(t,["tools"]);n!==void 0&&l!=null&&(Array.isArray(l)?h(n,["tools"],l.map(s=>lc(e,s))):h(n,["tools"],l));const o=p(t,["generationConfig"]);return n!==void 0&&o!=null&&h(n,["generationConfig"],o),r}function kv(e,t){const n={},r=p(t,["model"]);r!=null&&h(n,["_url","model"],Rt(e,r));const i=p(t,["contents"]);i!=null&&(Array.isArray(i)?h(n,["contents"],Ge(e,Ge(e,i).map(o=>ll(e,o)))):h(n,["contents"],Ge(e,i)));const l=p(t,["config"]);return l!=null&&h(n,["config"],vv(e,l)),n}function bv(e,t){const n={},r=p(t,["model"]);r!=null&&h(n,["_url","model"],Rt(e,r));const i=p(t,["contents"]);i!=null&&(Array.isArray(i)?h(n,["contents"],Ge(e,Ge(e,i).map(o=>mr(e,o)))):h(n,["contents"],Ge(e,i)));const l=p(t,["config"]);return l!=null&&h(n,["config"],wv(e,l,n)),n}function Cv(e,t){const n={},r=p(t,["model"]);if(r!=null&&h(n,["_url","model"],Rt(e,r)),p(t,["contents"])!==void 0)throw new Error("contents parameter is not supported in Gemini API.");const i=p(t,["config"]);return i!=null&&h(n,["config"],i),n}function Nv(e,t){const n={},r=p(t,["model"]);r!=null&&h(n,["_url","model"],Rt(e,r));const i=p(t,["contents"]);i!=null&&(Array.isArray(i)?h(n,["contents"],Ge(e,Ge(e,i).map(o=>mr(e,o)))):h(n,["contents"],Ge(e,i)));const l=p(t,["config"]);return l!=null&&h(n,["config"],l),n}function Sv(e,t){const n={},r=p(t,["thought"]);r!=null&&h(n,["thought"],r);const i=p(t,["codeExecutionResult"]);i!=null&&h(n,["codeExecutionResult"],i);const l=p(t,["executableCode"]);l!=null&&h(n,["executableCode"],l);const o=p(t,["fileData"]);o!=null&&h(n,["fileData"],o);const s=p(t,["functionCall"]);s!=null&&h(n,["functionCall"],s);const u=p(t,["functionResponse"]);u!=null&&h(n,["functionResponse"],u);const c=p(t,["inlineData"]);c!=null&&h(n,["inlineData"],c);const d=p(t,["text"]);return d!=null&&h(n,["text"],d),n}function Tv(e,t){const n={},r=p(t,["videoMetadata"]);r!=null&&h(n,["videoMetadata"],r);const i=p(t,["thought"]);i!=null&&h(n,["thought"],i);const l=p(t,["codeExecutionResult"]);l!=null&&h(n,["codeExecutionResult"],l);const o=p(t,["executableCode"]);o!=null&&h(n,["executableCode"],o);const s=p(t,["fileData"]);s!=null&&h(n,["fileData"],s);const u=p(t,["functionCall"]);u!=null&&h(n,["functionCall"],u);const c=p(t,["functionResponse"]);c!=null&&h(n,["functionResponse"],c);const d=p(t,["inlineData"]);d!=null&&h(n,["inlineData"],d);const f=p(t,["text"]);return f!=null&&h(n,["text"],f),n}function f0(e,t){const n={},r=p(t,["parts"]);r!=null&&(Array.isArray(r)?h(n,["parts"],r.map(l=>Sv(e,l))):h(n,["parts"],r));const i=p(t,["role"]);return i!=null&&h(n,["role"],i),n}function p0(e,t){const n={},r=p(t,["parts"]);r!=null&&(Array.isArray(r)?h(n,["parts"],r.map(l=>Tv(e,l))):h(n,["parts"],r));const i=p(t,["role"]);return i!=null&&h(n,["role"],i),n}function Ev(e,t){const n={},r=p(t,["citationSources"]);return r!=null&&h(n,["citations"],r),n}function Av(e,t){const n={},r=p(t,["citations"]);return r!=null&&h(n,["citations"],r),n}function Iv(e,t){const n={},r=p(t,["content"]);r!=null&&h(n,["content"],f0(e,r));const i=p(t,["citationMetadata"]);i!=null&&h(n,["citationMetadata"],Ev(e,i));const l=p(t,["tokenCount"]);l!=null&&h(n,["tokenCount"],l);const o=p(t,["avgLogprobs"]);o!=null&&h(n,["avgLogprobs"],o);const s=p(t,["finishReason"]);s!=null&&h(n,["finishReason"],s);const u=p(t,["groundingMetadata"]);u!=null&&h(n,["groundingMetadata"],u);const c=p(t,["index"]);c!=null&&h(n,["index"],c);const d=p(t,["logprobsResult"]);d!=null&&h(n,["logprobsResult"],d);const f=p(t,["safetyRatings"]);return f!=null&&h(n,["safetyRatings"],f),n}function jv(e,t){const n={},r=p(t,["content"]);r!=null&&h(n,["content"],p0(e,r));const i=p(t,["citationMetadata"]);i!=null&&h(n,["citationMetadata"],Av(e,i));const l=p(t,["finishMessage"]);l!=null&&h(n,["finishMessage"],l);const o=p(t,["avgLogprobs"]);o!=null&&h(n,["avgLogprobs"],o);const s=p(t,["finishReason"]);s!=null&&h(n,["finishReason"],s);const u=p(t,["groundingMetadata"]);u!=null&&h(n,["groundingMetadata"],u);const c=p(t,["index"]);c!=null&&h(n,["index"],c);const d=p(t,["logprobsResult"]);d!=null&&h(n,["logprobsResult"],d);const f=p(t,["safetyRatings"]);return f!=null&&h(n,["safetyRatings"],f),n}function Cf(e,t){const n={},r=p(t,["candidates"]);r!=null&&(Array.isArray(r)?h(n,["candidates"],r.map(s=>Iv(e,s))):h(n,["candidates"],r));const i=p(t,["modelVersion"]);i!=null&&h(n,["modelVersion"],i);const l=p(t,["promptFeedback"]);l!=null&&h(n,["promptFeedback"],l);const o=p(t,["usageMetadata"]);return o!=null&&h(n,["usageMetadata"],o),n}function Nf(e,t){const n={},r=p(t,["candidates"]);r!=null&&(Array.isArray(r)?h(n,["candidates"],r.map(c=>jv(e,c))):h(n,["candidates"],r));const i=p(t,["createTime"]);i!=null&&h(n,["createTime"],i);const l=p(t,["responseId"]);l!=null&&h(n,["responseId"],l);const o=p(t,["modelVersion"]);o!=null&&h(n,["modelVersion"],o);const s=p(t,["promptFeedback"]);s!=null&&h(n,["promptFeedback"],s);const u=p(t,["usageMetadata"]);return u!=null&&h(n,["usageMetadata"],u),n}function Pv(e,t){const n={},r=p(t,["truncated"]);r!=null&&h(n,["truncated"],r);const i=p(t,["token_count"]);return i!=null&&h(n,["tokenCount"],i),n}function Rv(e,t){const n={},r=p(t,["values"]);return r!=null&&h(n,["values"],r),n}function Mv(e,t){const n={},r=p(t,["values"]);r!=null&&h(n,["values"],r);const i=p(t,["statistics"]);return i!=null&&h(n,["statistics"],Pv(e,i)),n}function _v(e,t){return{}}function Dv(e,t){const n={},r=p(t,["billableCharacterCount"]);return r!=null&&h(n,["billableCharacterCount"],r),n}function zv(e,t){const n={},r=p(t,["embeddings"]);return r!=null&&(Array.isArray(r)?h(n,["embeddings"],r.map(l=>Rv(e,l))):h(n,["embeddings"],r)),p(t,["metadata"])!=null&&h(n,["metadata"],_v()),n}function Lv(e,t){const n={},r=p(t,["predictions[]","embeddings"]);r!=null&&(Array.isArray(r)?h(n,["embeddings"],r.map(l=>Mv(e,l))):h(n,["embeddings"],r));const i=p(t,["metadata"]);return i!=null&&h(n,["metadata"],Dv(e,i)),n}function Fv(e,t){const n={},r=p(t,["bytesBase64Encoded"]);r!=null&&h(n,["imageBytes"],o0(e,r));const i=p(t,["mimeType"]);return i!=null&&h(n,["mimeType"],i),n}function Ov(e,t){const n={},r=p(t,["gcsUri"]);r!=null&&h(n,["gcsUri"],r);const i=p(t,["bytesBase64Encoded"]);i!=null&&h(n,["imageBytes"],o0(e,i));const l=p(t,["mimeType"]);return l!=null&&h(n,["mimeType"],l),n}function Uv(e,t){const n={},r=p(t,["_self"]);r!=null&&h(n,["image"],Fv(e,r));const i=p(t,["raiFilteredReason"]);return i!=null&&h(n,["raiFilteredReason"],i),n}function Hv(e,t){const n={},r=p(t,["_self"]);r!=null&&h(n,["image"],Ov(e,r));const i=p(t,["raiFilteredReason"]);i!=null&&h(n,["raiFilteredReason"],i);const l=p(t,["prompt"]);return l!=null&&h(n,["enhancedPrompt"],l),n}function Bv(e,t){const n={},r=p(t,["predictions"]);return r!=null&&(Array.isArray(r)?h(n,["generatedImages"],r.map(i=>Uv(e,i))):h(n,["generatedImages"],r)),n}function Vv(e,t){const n={},r=p(t,["predictions"]);return r!=null&&(Array.isArray(r)?h(n,["generatedImages"],r.map(i=>Hv(e,i))):h(n,["generatedImages"],r)),n}function $v(e,t){const n={},r=p(t,["totalTokens"]);r!=null&&h(n,["totalTokens"],r);const i=p(t,["cachedContentTokenCount"]);return i!=null&&h(n,["cachedContentTokenCount"],i),n}function qv(e,t){const n={},r=p(t,["totalTokens"]);return r!=null&&h(n,["totalTokens"],r),n}function Gv(e,t){const n={},r=p(t,["tokensInfo"]);return r!=null&&h(n,["tokensInfo"],r),n}function Kv(e,t){const n={},r=p(t,["tokensInfo"]);return r!=null&&h(n,["tokensInfo"],r),n}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wv="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";function Yv(e,t){const n={},r=p(t,["generationConfig"]);r!==void 0&&h(n,["generationConfig"],r);const i=p(t,["responseModalities"]);i!==void 0&&h(n,["generationConfig","responseModalities"],i);const l=p(t,["speechConfig"]);l!==void 0&&h(n,["generationConfig","speechConfig"],l);const o=p(t,["systemInstruction"]);o!=null&&h(n,["systemInstruction"],ll(e,o));const s=p(t,["tools"]);return s!=null&&Array.isArray(s)&&h(n,["tools"],s.map(u=>d0(e,u))),n}function Qv(e,t){const n={},r=p(t,["generationConfig"]);r!==void 0&&h(n,["generationConfig"],r);const i=p(t,["responseModalities"]);i!==void 0?h(n,["generationConfig","responseModalities"],i):h(n,["generationConfig","responseModalities"],["AUDIO"]);const l=p(t,["speechConfig"]);l!==void 0&&h(n,["generationConfig","speechConfig"],l);const o=p(t,["systemInstruction"]);o!=null&&h(n,["systemInstruction"],mr(e,o));const s=p(t,["tools"]);return s!=null&&Array.isArray(s)&&h(n,["tools"],s.map(u=>lc(e,u))),n}function Jv(e,t){const n={},r=p(t,["config"]);r!=null&&h(n,["setup"],Yv(e,r));const i=p(t,["model"]);return i!==void 0&&h(n,["setup","model"],i),n}function Xv(e,t){const n={},r=p(t,["config"]);r!=null&&h(n,["setup"],Qv(e,r));const i=p(t,["model"]);return i!==void 0&&h(n,["setup","model"],i),n}function Zv(e,t){const n={},r=p(t,["modelTurn"]);r!=null&&h(n,["modelTurn"],f0(e,r));const i=p(t,["turnComplete"]);i!==void 0&&h(n,["turnComplete"],i);const l=p(t,["interrupted"]);return l!==void 0&&h(n,["interrupted"],l),n}function ew(e,t){const n={},r=p(t,["modelTurn"]);r!=null&&h(n,["modelTurn"],p0(e,r));const i=p(t,["turnComplete"]);i!==void 0&&h(n,["turnComplete"],i);const l=p(t,["interrupted"]);return l!==void 0&&h(n,["interrupted"],l),n}function tw(e,t){const n={},r=p(t,["id"]);r!==void 0&&h(n,["id"],r);const i=p(t,["args"]);i!==void 0&&h(n,["args"],i);const l=p(t,["name"]);return l!==void 0&&h(n,["name"],l),n}function nw(e,t){const n={},r=p(t,["args"]);r!==void 0&&h(n,["args"],r);const i=p(t,["name"]);return i!==void 0&&h(n,["name"],i),n}function rw(e,t){const n={},r=p(t,["functionCalls"]);return r!=null&&Array.isArray(r)&&h(n,["functionCalls"],r.map(i=>tw(e,i))),n}function iw(e,t){const n={},r=p(t,["functionCalls"]);return r!=null&&Array.isArray(r)&&h(n,["functionCalls"],r.map(i=>nw(e,i))),n}function lw(e,t){const n={},r=p(t,["ids"]);return r!==void 0&&h(n,["ids"],r),n}function ow(e,t){const n={},r=p(t,["ids"]);return r!==void 0&&h(n,["ids"],r),n}function sw(e,t){const n={},r=p(t,["setupComplete"]);r!==void 0&&h(n,["setupComplete"],r);const i=p(t,["serverContent"]);i!=null&&h(n,["serverContent"],Zv(e,i));const l=p(t,["toolCall"]);l!=null&&h(n,["toolCall"],rw(e,l));const o=p(t,["toolCallCancellation"]);return o!=null&&h(n,["toolCallCancellation"],lw(e,o)),n}function aw(e,t){const n={},r=p(t,["setupComplete"]);r!==void 0&&h(n,["setupComplete"],r);const i=p(t,["serverContent"]);i!=null&&h(n,["serverContent"],ew(e,i));const l=p(t,["toolCall"]);l!=null&&h(n,["toolCall"],iw(e,l));const o=p(t,["toolCallCancellation"]);return o!=null&&h(n,["toolCallCancellation"],ow(e,o)),n}async function uw(e,t,n){let r,i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),e.isVertexAI()?r=aw(e,i):r=sw(e,i),t(r)}class cw{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("This SDK does not yet support the live API for **Google Vertex AI**.");const i=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion();let o;const s=pw(this.apiClient.getDefaultHeaders());if(this.apiClient.isVertexAI())o=`${i}/ws/google.cloud.aiplatform.${l}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(s);else{const v=this.apiClient.getApiKey();o=`${i}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateContent?key=${v}`}let u=()=>{};const c=new Promise(v=>{u=v}),d=t.callbacks,f=function(){var v;(v=d==null?void 0:d.onopen)===null||v===void 0||v.call(d),u({})},g=this.apiClient,m={onopen:f,onmessage:v=>{uw(g,d.onmessage,v)},onerror:(n=d==null?void 0:d.onerror)!==null&&n!==void 0?n:function(v){},onclose:(r=d==null?void 0:d.onclose)!==null&&r!==void 0?r:function(v){}},C=this.webSocketFactory.create(o,fw(s),m);C.connect(),await c;let S=Rt(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&S.startsWith("publishers/")){const v=this.apiClient.getProject(),x=this.apiClient.getLocation();S=`projects/${v}/locations/${x}/`+S}let T={};const y={model:S,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?T=Xv(this.apiClient,y):T=Jv(this.apiClient,y),C.send(JSON.stringify(T)),new dw(C,this.apiClient)}}class dw{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Ge(t,n.turns),t.isVertexAI()?r=r.map(i=>mr(t,i)):r=r.map(i=>ll(t,i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClientRealtimeInput(t,n){let r={};if(!("media"in n)||!n.media)throw new Error(`Failed to convert realtime input "media", type: '${typeof n.media}'`);return r={realtimeInput:{mediaChunks:[n.media]}},r}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)||(r=[n.functionResponses]),r.length===0)throw new Error("functionResponses is required.");for(const l of r){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!t.isVertexAI()&&!("id"in l))throw new Error(Wv)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t.turns==null&&t.turnComplete==null&&(t={turnComplete:!0});const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){if(t.media==null)throw new Error("Media is required.");const n=this.tLiveClientRealtimeInput(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function fw(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function pw(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hw="Content-Type",mw="User-Agent",gw="x-goog-api-client",xw="0.2.0",yw=`google-genai-sdk/${xw}`,vw="v1beta1",ww="v1beta",Sf=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class kw extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ClientError"}}class Tf extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ServerError"}}class bw{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:vw,i.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`,this.clientOptions.apiKey=void 0):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:ww,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol="wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n){const r=[this.getRequestUrlInternal(n)];return this.clientOptions.vertexai&&!t.startsWith("projects/")&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.constructUrl(t.path,n);if(t.queryParams)for(const[l,o]of Object.entries(t.queryParams))r.searchParams.append(l,String(o));let i={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=t.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n),this.unaryApiCall(r,i,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[i,l]of Object.entries(n))typeof l=="object"?r[i]=Object.assign(Object.assign({},r[i]),l):l!==void 0&&(r[i]=l);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.constructUrl(t.path,n);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let i={};return i.body=t.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n),this.streamApiCall(r,i,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n){if(n&&n.timeout&&n.timeout>0){const r=new AbortController,i=r.signal;setTimeout(()=>r.abort(),n.timeout),t.signal=i}return t.headers=await this.getHeadersInternal(n),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Ef(i,t.toString()),new a0(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Ef(i,t.toString()),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){var n;return To(this,arguments,function*(){const i=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),l=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";for(;;){const{done:s,value:u}=yield yt(i.read());if(s){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=l.decode(u);o+=c;let d=o.match(Sf);for(;d;){const f=d[1];try{const g=JSON.parse(f);yield yield yt(g),o=o.slice(d[0].length),d=o.match(Sf)}catch(g){throw new Error(`exception parsing stream chunk ${f}. ${g}`)}}}}finally{i.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=yw+" "+this.clientOptions.userAgentExtra;return t[mw]=n,t[gw]=n,t[hw]="application/json",t}async getHeadersInternal(t){const n=new Headers;if(t&&t.headers)for(const[r,i]of Object.entries(t.headers))n.append(r,i);return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(t,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const l=this.clientOptions.uploader,o=await l.stat(t);i.sizeBytes=o.size;const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const u=await this.fetchUploadUrl(i,n);return l.upload(t,u,this)}async fetchUploadUrl(t,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${t.mimeType}`}};const l={file:t},o=await this.request({path:Pe("upload/v1beta/files",l._url),body:JSON.stringify(l),httpMethod:"POST",httpOptions:i});if(!o||!(o!=null&&o.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const s=(r=o==null?void 0:o.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(s===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return s}}async function Ef(e,t,n){var r;if(e===void 0)throw new Tf("response is undefined");if(!e.ok){const i=e.status,l=e.statusText;let o;!((r=e.headers.get("content-type"))===null||r===void 0)&&r.includes("application/json")?o=await e.json():o={error:{message:"exception parsing response",code:e.status,status:e.statusText}};const s=`got status: ${i} ${l}. ${JSON.stringify(o)}`;throw i>=400&&i<500?new kw(s):i>=500&&i<600?new Tf(s):new Error(s)}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cw extends rc{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new s0(No.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t,n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t,n).then(r=>Ba(this.apiClient,r))}async listInternal(t){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI()){const s=Tw(this.apiClient,t);return l=Pe("None",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(u=>u.json()),i.then(u=>{const c=zw(this.apiClient),d=new gf;return Object.assign(d,c),d})}else{const s=Sw(this.apiClient,t);return l=Pe("files",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(u=>u.json()),i.then(u=>{const c=Dw(this.apiClient,u),d=new gf;return Object.assign(d,c),d})}}async createInternal(t){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI()){const s=jw(this.apiClient,t);return l=Pe("",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(u=>u.json()),i.then(u=>{const c=Fw(this.apiClient,u),d=new xf;return Object.assign(d,c),d})}else{const s=Iw(this.apiClient,t);return l=Pe("upload/v1beta/files",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(u=>u.json()),i.then(u=>{const c=Lw(this.apiClient,u),d=new xf;return Object.assign(d,c),d})}}async get(t){var n,r;let i,l="",o={};if(this.apiClient.isVertexAI()){const s=Rw(this.apiClient,t);return l=Pe("None",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(u=>u.json()),i.then(u=>_w(this.apiClient))}else{const s=Pw(this.apiClient,t);return l=Pe("files/{file}",s._url),o=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(u=>u.json()),i.then(u=>Ba(this.apiClient,u))}}}function Nw(e,t,n){const r={},i=p(t,["pageSize"]);n!==void 0&&i!=null&&h(n,["_query","pageSize"],i);const l=p(t,["pageToken"]);return n!==void 0&&l!=null&&h(n,["_query","pageToken"],l),r}function Sw(e,t){const n={},r=p(t,["config"]);return r!=null&&h(n,["config"],Nw(e,r,n)),n}function Tw(e,t){const n={};if(p(t,["config"])!==void 0)throw new Error("config parameter is not supported in Vertex AI.");return n}function Ew(e,t){const n={},r=p(t,["details"]);r!=null&&h(n,["details"],r);const i=p(t,["message"]);i!=null&&h(n,["message"],i);const l=p(t,["code"]);return l!=null&&h(n,["code"],l),n}function Aw(e,t){const n={},r=p(t,["name"]);r!=null&&h(n,["name"],r);const i=p(t,["displayName"]);i!=null&&h(n,["displayName"],i);const l=p(t,["mimeType"]);l!=null&&h(n,["mimeType"],l);const o=p(t,["sizeBytes"]);o!=null&&h(n,["sizeBytes"],o);const s=p(t,["createTime"]);s!=null&&h(n,["createTime"],s);const u=p(t,["expirationTime"]);u!=null&&h(n,["expirationTime"],u);const c=p(t,["updateTime"]);c!=null&&h(n,["updateTime"],c);const d=p(t,["sha256Hash"]);d!=null&&h(n,["sha256Hash"],d);const f=p(t,["uri"]);f!=null&&h(n,["uri"],f);const g=p(t,["downloadUri"]);g!=null&&h(n,["downloadUri"],g);const m=p(t,["state"]);m!=null&&h(n,["state"],m);const C=p(t,["source"]);C!=null&&h(n,["source"],C);const S=p(t,["videoMetadata"]);S!=null&&h(n,["videoMetadata"],S);const T=p(t,["error"]);return T!=null&&h(n,["error"],Ew(e,T)),n}function Iw(e,t){const n={},r=p(t,["file"]);r!=null&&h(n,["file"],Aw(e,r));const i=p(t,["config"]);return i!=null&&h(n,["config"],i),n}function jw(e,t){const n={};if(p(t,["file"])!==void 0)throw new Error("file parameter is not supported in Vertex AI.");if(p(t,["config"])!==void 0)throw new Error("config parameter is not supported in Vertex AI.");return n}function Pw(e,t){const n={},r=p(t,["name"]);r!=null&&h(n,["_url","file"],Ky(e,r));const i=p(t,["config"]);return i!=null&&h(n,["config"],i),n}function Rw(e,t){const n={};if(p(t,["name"])!==void 0)throw new Error("name parameter is not supported in Vertex AI.");if(p(t,["config"])!==void 0)throw new Error("config parameter is not supported in Vertex AI.");return n}function Mw(e,t){const n={},r=p(t,["details"]);r!=null&&h(n,["details"],r);const i=p(t,["message"]);i!=null&&h(n,["message"],i);const l=p(t,["code"]);return l!=null&&h(n,["code"],l),n}function Ba(e,t){const n={},r=p(t,["name"]);r!=null&&h(n,["name"],r);const i=p(t,["displayName"]);i!=null&&h(n,["displayName"],i);const l=p(t,["mimeType"]);l!=null&&h(n,["mimeType"],l);const o=p(t,["sizeBytes"]);o!=null&&h(n,["sizeBytes"],o);const s=p(t,["createTime"]);s!=null&&h(n,["createTime"],s);const u=p(t,["expirationTime"]);u!=null&&h(n,["expirationTime"],u);const c=p(t,["updateTime"]);c!=null&&h(n,["updateTime"],c);const d=p(t,["sha256Hash"]);d!=null&&h(n,["sha256Hash"],d);const f=p(t,["uri"]);f!=null&&h(n,["uri"],f);const g=p(t,["downloadUri"]);g!=null&&h(n,["downloadUri"],g);const m=p(t,["state"]);m!=null&&h(n,["state"],m);const C=p(t,["source"]);C!=null&&h(n,["source"],C);const S=p(t,["videoMetadata"]);S!=null&&h(n,["videoMetadata"],S);const T=p(t,["error"]);return T!=null&&h(n,["error"],Mw(e,T)),n}function _w(e,t){return{}}function Dw(e,t){const n={},r=p(t,["nextPageToken"]);r!=null&&h(n,["nextPageToken"],r);const i=p(t,["files"]);return i!=null&&(Array.isArray(i)?h(n,["files"],i.map(l=>Ba(e,l))):h(n,["files"],i)),n}function zw(e,t){return{}}function Lw(e,t){const n={},r=p(t,["httpHeaders"]);return r!=null&&h(n,["httpHeaders"],r),n}function Fw(e,t){const n={},r=p(t,["httpHeaders"]);return r!=null&&h(n,["httpHeaders"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Af(){return new Error(`This feature requires the web or Node specific @google/genai implementation, you can fix this by either:

*Enabling conditional exports for your project [recommended]*

*Using a platform specific import* - Make sure your code imports either '@google/genai/web' or '@google/genai/node' instead of '@google/genai'.
`)}const Ow=1024*1024*8;class Uw{async upload(t,n,r){throw Af()}async stat(t){throw Af()}async uploadBlob(t,n,r){var i,l;let o=0,s=0,u=new a0(new Response),c="upload";for(o=t.size;s<o;){const f=Math.min(Ow,o-s),g=t.slice(s,s+f);if(s+f>=o&&(c+=", finalize"),u=await r.request({path:"",body:g,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:n,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(f)}}}),s+=f,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i["x-goog-upload-status"])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const d=await(u==null?void 0:u.json());if(((l=u==null?void 0:u.headers)===null||l===void 0?void 0:l["x-goog-upload-status"])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}}class Hw{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await new Uw().uploadBlob(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return{size:t.size,type:t.type}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bw{create(t,n,r){return new Vw(t,n,r)}}class Vw{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const If="x-goog-api-key";class $w{constructor(t){this.apiKey=t}async addAuthHeaders(t){t.get(If)===null&&t.append(If,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qw="gl-node/";class ol{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey,this.apiVersion=t.apiVersion;const r=new $w(this.apiKey);this.apiClient=new bw({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:qw+"web",uploader:new Hw}),this.models=new L1(this.apiClient),this.live=new cw(this.apiClient,r,new Bw),this.chats=new D1(this.models,this.apiClient),this.caches=new Wy(this.apiClient),this.files=new Cw(this.apiClient)}}const Gw={wizStep0Title:" ",wizStep0Subtitle:"  ?",btnSoundOn:" ",btnSoundOff:" ",wizStep1Title:" ",wizStep1Subtitle:"  -",wizStep1Desc:"FastType AI   ,        .",wizStep2Title:" ",wizStep2Desc:"  ,        .",wizStep3Title:"  ",wizStep3Desc:"   .  ,      .",wizDemoInput:"  ",wizDemoOutput:"!  ?",wizStep4Title:" ",wizStep4Desc:"     Google Gemini API.",welcomeTitle:"  ",welcomeSubtitle:"  .",welcomeDesc:"FastType AI          .  ,     .",welcomeDisclaimer:"    API  Google (Gemini).    ,           2 .",feature1Title:" ",feature1Desc:"  .",feature2Title:" ",feature2Desc:"   .",feature3Title:" ",feature3Desc:"Gemini 3 Flash  .",setupTitle:" ",setupDesc:"  API  Google Gemini   .",securityNote:"    .   :     .",apiKeyLabel:" API KEY ",apiKeyTooltip:"       /.",linkGetKey:" ",linkTutorial:"",startBtn:"",btnHaveKey:" API Key",btnNoKey:"  / ",guideTitle:"  API ",guideStep0:"  Google AI Studio (   ).",guideStep1:"  'Create API Key'    .",guideStep2:" 'Create API key in new project'.    .",guideStep3:"  .",guideGoToGoogle:"  Google AI Studio",guideDone:" ",guideRepeat:" ",getKeyLink:"   Gemini",keyStorageInfo:"     .",placeholder:"  ... (  )",chars:".",btnRecord:" (Alt+R)",btnStop:" (Alt+R)",btnDevRecord:" (DEV)",btnEnhance:" ",btnUndo:"",btnRedo:"",btnSpeak:" ",statusTyping:"...",statusThinking:"...",statusDictCheck:"...",statusAiFixing:": ...",statusAiFinalizing:": ...",statusScriptFix:"-...",statusGrammar:" ...",statusCorrecting:"...",statusEnhancing:"...",statusRecording:"...",statusTranscribing:"...",statusDictation:" (  )",statusDone:"",statusIdle:"  ",statusPaused:" ",statusError:" ",btnPause:"",btnResume:"",nothingToImprove:" .   .",groupActive:" ",groupSilence:" ",groupModel:" ",settingsTitle:" ",settingsActive:" ",settingsMiniScripts:"-",settingsMiniScriptsDesc:"     ( )",settingsDevMode:" ",settingsDevModeDesc:"   (Visualizer Test)",settingsDelay:" (ms)",settingsDelayDesc:"    ",settingsFinalization:"  ()",settingsEconomy:" ",settingsEconomyDesc:"   .      .",howItWorksTitle:" ",howItWorksDesc:`1. : 
2. :  
3. :  ()
4. :  ()
5. :  
6. : `,changeKey:" API ",footer:"FastType AI",clipboardTitle:"  (Alt+V)",clipboardEmpty:" ",clipboardCopy:"",clipboardClear:"",clipboardEnable:".  ",clipboardSearch:"...",tooltipLang:" ",tooltipStats:" ",tooltipSettings:" (Alt+S)",tooltipMin:"",tooltipMax:"",tooltipClose:"",btnHeaderClear:" ",btnHeaderCopy:"",btnHeaderPaste:"",detailDictation:` : 
:  
:   `,detailTyping:` : 
:   
:  `,detailDictCheck:` : ...
 :  ()
 :  (  )`,detailAiFixing:` : 
: Gemini 
:  `,detailFinalizing:` : 
: 
: `,detailScriptFix:` -
:    
:  `,detailReset:"   (Reset)",detailPause:"/ ",tooltipPauseAction:" (Alt+A)",tooltipResumeAction:" (Alt+A)",tooltipPin:"   ",tooltipUnpin:" ",modeSmart:":   + ",modeTransOnly:":   ()",pausedScriptFix:"-: ",pausedDictCheck:": ",pausedAiFixing:"-: ",pausedFinalizing:": ",waveProcessing:"...",waveProcessed:"",visGeminiLabel:"GEMINI",visListening:"",visEditing:" / .",visAnalyzingListening:" / ",visAnalyzing:"",visDone:"",testMic:" ",stopTest:"",noiseLevel:" ",silenceZone:" ()",speechZone:" ()",micAccessError:"   ",audioModelTitle:" ",modelFlash:"Gemini 2.5 Flash ()",modelPro:"Gemini 2.5 Pro ()",ttsVoiceTitle:"  (TTS)",btnHelp:"",btnHome:"",tooltipHelp:"  (F1)",tooltipHome:"   (Home)",historyTitle:"  (Alt+H)",historyEmpty:" ",historyRestore:"  ",historyCurrent:" ",tagRaw:" ",tagDictated:"",tagProcessed:"",tagFinalized:"",tagEnhanced:"",tagRawDictation:"  ()",tagAiCorrected:" ",helpModalTitle:" FastType AI",helpSection1:" ",helpDesc1:"    .    :  () ->  () ->  () ->   () ->  ().  = .",helpSection2:" ",helpDesc2:`Ctrl+Z - 
Alt+R - 
Alt+V - 
Alt+H - 
Alt+S - 
Alt+A - /`,helpSection3:"",helpDesc3:"  .    .",lockTitle:"  ",lockDesc:" .  PIN-.",lockPlaceholder:" PIN",lockBtn:"",lockCreateTitle:" ",lockCreateDesc:" PIN    .",lockCreatePlaceholder:" PIN",lockSetBtn:" PIN",lockError:" PIN-",lockRemove:" PIN-",lockChange:" PIN-",lockVerifyOld:"  PIN",lockNew:" PIN",lockSaved:"PIN- ",lockForgot:" PIN / ?",wipeTitle:"!  ",wipeDesc:`   PIN-   . 

     :
  
   
  

  .`,wipeConfirm:",    ",wipeCancel:"",btnCreatePin:" PIN-",btnBack:"",dictStatus:" ",dictRu:" RU",dictEn:" EN",dictWords:"",dictMissing:"",transTitle:"",transInput:" ",transOutput:"",transCopy:"",transClear:"",transLangRuEn:"RU  EN",transLangEnRu:"EN  RU",transPlaceholder:"   ...",tabEditor:"",tabAssist:"",tabTrans:"",tabPlanner:"",uploadMedia:" /",uploadProcessing:"...",dropHere:"  ",dropHint:" (.mp3, .wav)  ",planTitle:"  ",planNewNote:"",planNewTask:"",planDictateNote:" ",planDictateTask:" ",planClearDone:" ",planEmptyTasks:"   ",planEmptyNotes:"   ",planNotePlaceholder:" ...",planTaskPlaceholder:" ...",planModeNote:": ",planModeTask:": "},Kw={wizStep0Title:"Sound Setup",wizStep0Subtitle:"Enable voice guidance?",btnSoundOn:"Enable Sound",btnSoundOff:"Mute",wizStep1Title:"Welcome",wizStep1Subtitle:"Your Intelligent AI Assistant",wizStep1Desc:"FastType AI speeds up typing, fixes errors on the fly, and helps formulate thoughts.",wizStep2Title:"System Language",wizStep2Desc:"Choose the primary language you write in and want to see the interface in.",wizStep3Title:"Magic in Action",wizStep3Desc:"Just type naturally. AI will understand, correct, and format the text for you.",wizDemoInput:"hello hwo are yuo",wizDemoOutput:"Hello! How are you?",wizStep4Title:"Final Step",wizStep4Desc:"The intelligence requires a Google Gemini API key.",welcomeTitle:"Your Intelligent",welcomeSubtitle:"Typing Assistant.",welcomeDesc:"FastType AI runs in the background. Just type, and we'll handle the rest via a smart pipeline.",welcomeDisclaimer:"The app requires a Google (Gemini) API key. It is free, takes only 2 minutes to set up once.",feature1Title:"Instant Corrections",feature1Desc:"Automatically fixes typos during pauses.",feature2Title:"Style Enhancement",feature2Desc:"Turns drafts into professional text.",feature3Title:"Context Aware",feature3Desc:"Powered by Gemini 3 Flash.",setupTitle:"Access Setup",setupDesc:"Enter your Google Gemini API key to get started.",securityNote:"Developed with AI assistance. We guarantee privacy: data is not shared with third parties.",apiKeyLabel:"ENTER API KEY HERE",apiKeyTooltip:"Your key is stored locally only in your browser/app.",linkGetKey:"Get Key",linkTutorial:"Tutorial",startBtn:"Let's Go",btnHaveKey:"Enter API Key",btnNoKey:"No Key / Tutorial",guideTitle:"How to get an API Key",guideStep0:"Accept the Google AI Studio agreements (if it's your first time).",guideStep1:"Click 'Create API Key' in the top-left corner.",guideStep2:"Select 'Create API key in new project'. It will create a project automatically.",guideStep3:"Copy the generated key.",guideGoToGoogle:"Go to Google AI Studio",guideDone:"Enter Key",guideRepeat:"Repeat Tutorial",getKeyLink:"Get free Gemini API Key",keyStorageInfo:"Key is stored locally on your device.",placeholder:"Start typing here... (or drop file)",chars:"chars",btnRecord:"Dictate (Alt+R)",btnStop:"Stop (Alt+R)",btnDevRecord:"Dictate (DEV)",btnEnhance:"Improve Text",btnUndo:"Undo",btnRedo:"Redo",btnSpeak:"Speak Text",statusTyping:"Typing...",statusThinking:"Waiting...",statusDictCheck:"Dictionary...",statusAiFixing:"AI: Fixing...",statusAiFinalizing:"AI: Finalizing...",statusScriptFix:"Auto-Format...",statusGrammar:"AI Error Check...",statusCorrecting:"Fixing...",statusEnhancing:"Enhancing...",statusRecording:"Recording...",statusTranscribing:"Processing...",statusDictation:"Dictation (Speech to Text)",statusDone:"Done",statusIdle:"Ready",statusPaused:"Paused",statusError:"Network Error",btnPause:"Pause",btnResume:"Resume",nothingToImprove:"Text is perfect. No improvements needed.",groupActive:"Active Correction",groupSilence:"Silence Threshold",groupModel:"Processing Model",settingsTitle:"Analysis Settings",settingsActive:"Active Mode",settingsMiniScripts:"Mini-Scripts",settingsMiniScriptsDesc:"Instant regex fixes for spacing and case (No AI)",settingsDevMode:"Developer Mode",settingsDevModeDesc:"Enables test buttons (Visualizer Test)",settingsDelay:"Delay (ms)",settingsDelayDesc:"Wait time before processing",settingsFinalization:"Idle Finalization (sec)",settingsEconomy:"Traffic Saver",settingsEconomyDesc:"Checks local dictionary first.",howItWorksTitle:"COLOR LEGEND",howItWorksDesc:`1. Grey: Input
2. Yellow: Checking
3. Red: Dict Error
4. Blue: Verified (OK)
5. Purple: AI Fixed
6. Green: Final
7. Orange: Dictation`,changeKey:"Change API Key",footer:"FastType AI",clipboardTitle:"Clipboard History (Alt+V)",clipboardEmpty:"History is empty",clipboardCopy:"Copy",clipboardClear:"Clear All",clipboardEnable:"Enable History",clipboardSearch:"Search...",tooltipLang:"Switch Language",tooltipStats:"Corrections made",tooltipSettings:"Settings (Alt+S)",tooltipMin:"Minimize",tooltipMax:"Maximize",tooltipClose:"Close",btnHeaderClear:"Clear All",btnHeaderCopy:"Copy All",btnHeaderPaste:"Paste",detailDictation:` COLOR: Orange
ACTION: Voice Recording
RESULT: Audio to Text`,detailTyping:` COLOR: Grey
ACTION: Keyboard Input
RESULT: Raw Text`,detailDictCheck:` Yellow: Checking...
 Blue: Found (OK)
 Red: Error (Not in DB)`,detailAiFixing:` COLOR: Purple
ACTION: Gemini Fixing
RESULT: Clean Text`,detailFinalizing:` COLOR: Green
ACTION: Finalizing
RESULT: Punctuation`,detailScriptFix:` AUTO-FORMAT
ACTION: Spacing and capitalization
RESULT: Clean Format`,detailReset:"Reset Processor State",detailPause:"Pause/Resume Processing",tooltipPauseAction:"Pause Processing (Alt+A)",tooltipResumeAction:"Resume Processing (Alt+A)",tooltipPin:"Pin Always on Top",tooltipUnpin:"Unpin",modeSmart:"Mode: Smart Dictation + Editor",modeTransOnly:"Mode: Transcription Only",pausedScriptFix:"Auto-Format: OFF",pausedDictCheck:"Dictionary: OFF",pausedAiFixing:"AI Fixing: OFF",pausedFinalizing:"Finalization: OFF",waveProcessing:"Processing...",waveProcessed:"Processed",visGeminiLabel:"GEMINI",visListening:"LISTENING",visEditing:"LISTENING / EDIT",visAnalyzingListening:"LISTENING / ANALYZE",visAnalyzing:"ANALYZING",visDone:"DONE",testMic:"Test Microphone",stopTest:"Stop",noiseLevel:"Noise Level",silenceZone:"Silence (Ignored)",speechZone:"Speech (Recorded)",micAccessError:"Microphone access denied",audioModelTitle:"Audio Model",modelFlash:"Gemini 2.5 Flash (Fast)",modelPro:"Gemini 2.5 Pro (Smart)",ttsVoiceTitle:"TTS Voice",btnHelp:"Help",btnHome:"Home",tooltipHelp:"Quick Help (F1)",tooltipHome:"Return to Welcome (Home)",historyTitle:"Version History (Alt+H)",historyEmpty:"History is empty",historyRestore:"Restore this version",historyCurrent:"Current Version",tagRaw:"Raw Input",tagDictated:"Dictated",tagProcessed:"Edited",tagFinalized:"Final",tagEnhanced:"Enhanced",tagRawDictation:"Raw Dictation",tagAiCorrected:"AI Corrected",helpModalTitle:"FastType AI Help",helpSection1:"Core Features",helpDesc1:"Pipeline: Checking (Yellow) -> Error (Red) -> Verified (Blue) -> AI Fixed (Purple) -> Final (Green). Orange = Dictation.",helpSection2:"Shortcuts",helpDesc2:`Ctrl+Z - Undo
Alt+R - Record
Alt+V - Clipboard
Alt+H - History
Alt+S - Settings
Alt+A - Pause/Resume`,helpSection3:"Microphone",helpDesc3:"Click and speak. AI automatically filters silence.",lockTitle:"System Login",lockDesc:"Application is locked. Enter PIN to continue.",lockPlaceholder:"Enter PIN",lockBtn:"Unlock",lockCreateTitle:"App Protection",lockCreateDesc:"Set a PIN code to protect access.",lockCreatePlaceholder:"Create a PIN",lockSetBtn:"Save PIN",lockError:"Invalid PIN code",lockRemove:"Remove PIN",lockChange:"Change PIN",lockVerifyOld:"Enter current PIN",lockNew:"New PIN",lockSaved:"PIN code set",lockForgot:"Forgot PIN / Reset?",wipeTitle:"WARNING! FULL RESET",wipeDesc:`This action will remove the PIN code and unlock access. 

 ALL DATA WILL BE DELETED:
 Text History
 Clipboard Content
 Personal Settings

This action cannot be undone.`,wipeConfirm:"Yes, wipe data and unlock",wipeCancel:"Cancel",btnCreatePin:"Create PIN Code",btnBack:"Back",dictStatus:"Dictionary Check",dictRu:"RU Database",dictEn:"EN Database",dictWords:"words",dictMissing:"Empty",transTitle:"Translator",transInput:"Source Text",transOutput:"Translation",transCopy:"Copy",transClear:"Clear",transLangRuEn:"RU  EN",transLangEnRu:"EN  RU",transPlaceholder:"Enter text to translate...",tabEditor:"Editor",tabAssist:"Assistant",tabTrans:"Translator",tabPlanner:"Planner",uploadMedia:"Upload Audio/Image",uploadProcessing:"Processing...",dropHere:"Drop file here",dropHint:"Audio (.mp3, .wav) or Images",planTitle:"Notes & Tasks",planNewNote:"Note",planNewTask:"Task",planDictateNote:"Dictate Note",planDictateTask:"Dictate Task",planClearDone:"Clear Done",planEmptyTasks:"No tasks for today",planEmptyNotes:"Your notes will appear here",planNotePlaceholder:"Note text...",planTaskPlaceholder:"New task...",planModeNote:"Mode: Notes",planModeTask:"Mode: Tasks"},Ww={wizStep0Title:"Ovoz sozlamalari",wizStep0Subtitle:"Ovozli yordamchini yoqasizmi?",btnSoundOn:"Ovozni yoqish",btnSoundOff:"Ovozsiz",wizStep1Title:"Xush kelibsiz",wizStep1Subtitle:"Sizning aqlli yordamchingiz",wizStep1Desc:"FastType AI matn terishni tezlashtiradi va xatolarni tuzatadi.",wizStep2Title:"Tizim tili",wizStep2Desc:"Siz yozadigan va interfeysda ko'rishni istagan asosiy tilni tanlang.",wizStep3Title:"Sehrli harakat",wizStep3Desc:"Shunchaki yozing. AI tushunadi, tuzatadi va formatlaydi.",wizDemoInput:"salom ishlar qalay",wizDemoOutput:"Salom! Ishlar qalay?",wizStep4Title:"So'nggi qadam",wizStep4Desc:"Intellekt ishlashi uchun Google Gemini API kaliti kerak.",welcomeTitle:"Sizning aqlli",welcomeSubtitle:"yordamchingiz.",welcomeDesc:"FastType AI fon rejimida ishlaydi. Siz yozing, qolganini biz hal qilamiz.",welcomeDisclaimer:"Dastur ishlashi uchun Google (Gemini) API kaliti talab qilinadi. Bu bepul.",feature1Title:"Tezkor tuzatish",feature1Desc:"Xatolarni avtomatik tuzatadi.",feature2Title:"Uslubni yaxshilash",feature2Desc:"Qoralamani toza matnga aylantiradi.",feature3Title:"Kontekstni tushunish",feature3Desc:"Gemini 3 Flash kuchi bilan.",setupTitle:"Kirishni sozlash",setupDesc:"Boshlash uchun Google Gemini API kalitini kiriting.",securityNote:"Ma'lumotlar uchinchi shaxslarga berilmaydi.",apiKeyLabel:"API KALITNI BU YERGA KIRITING",apiKeyTooltip:"Kalit faqat sizning qurilmangizda saqlanadi.",linkGetKey:"Kalit olish",linkTutorial:"Qo'llanma",startBtn:"Boshladik",btnHaveKey:"Kalitni kiritish",btnNoKey:"Kalit yo'q / O'qish",guideTitle:"API Kalitni qanday olish mumkin",guideStep0:"Google AI Studio shartlarini qabul qiling.",guideStep1:"Yuqori chap burchakda 'Create API Key' ni bosing.",guideStep2:"'Create API key in new project' ni tanlang.",guideStep3:"Olingan kalitni nusxalang.",guideGoToGoogle:"Google AI Studio-ga o'tish",guideDone:"Kalitni kiritish",guideRepeat:"Qo'llanmani qaytarish",getKeyLink:"Bepul Gemini API kalitini olish",keyStorageInfo:"Kalit lokal saqlanadi.",placeholder:"Shu yerda yozishni boshlang... (yoki faylni tashlang)",chars:"belgi",btnRecord:"Yozish (Alt+R)",btnStop:"To'xtatish (Alt+R)",btnDevRecord:"Yozish (DEV)",btnEnhance:"Matnni yaxshilash",btnUndo:"Bekor qilish",btnRedo:"Qaytarish",btnSpeak:"Matnni o'qish",statusTyping:"Yozilmoqda...",statusThinking:"Kutilmoqda...",statusDictCheck:"Lug'at...",statusAiFixing:"AI: Tuzatish...",statusAiFinalizing:"AI: Yakunlash...",statusScriptFix:"Avto-Format...",statusGrammar:"Xatolar tekshiruvi...",statusCorrecting:"Tuzatish...",statusEnhancing:"Yaxshilash...",statusRecording:"Yozib olish...",statusTranscribing:"Qayta ishlash...",statusDictation:"Diktovka",statusDone:"Tayyor",statusIdle:"Tayyor",statusPaused:"Pauza",statusError:"Tarmoq xatosi",btnPause:"Pauza",btnResume:"Davom etish",nothingToImprove:"Matn mukammal. Yaxshilash talab etilmaydi.",groupActive:"Faol tuzatish",groupSilence:"Jimlik chegarasi",groupModel:"Qayta ishlash modeli",settingsTitle:"Tahlil sozlamalari",settingsActive:"Faol rejim",settingsMiniScripts:"Mini-Skriptlar",settingsMiniScriptsDesc:"Bo'shliqlar va registrlarni tezkor tuzatish (AI-siz)",settingsDevMode:"Dasturchi rejimi",settingsDevModeDesc:"Test tugmalarini yoqish",settingsDelay:"Kechikish (ms)",settingsDelayDesc:"Tuzatishdan oldingi kutish vaqti",settingsFinalization:"Yakunlash vaqti (sek)",settingsEconomy:"Traffikni tejash",settingsEconomyDesc:"Avval lokal lug'atni tekshiradi.",howItWorksTitle:"RANGLAR MA'NOSI",howItWorksDesc:`1. Kulrang: Kiritish
2. Sariq: Tekshirish
3. Qizil: Xato (Lug'atda yo'q)
4. Ko'k: Tasdiqlandi (OK)
5. Binafsha: AI tuzatdi
6. Yashil: Yakuniy`,changeKey:"Kalitni o'zgartirish",footer:"FastType AI",clipboardTitle:"Bufer tarixi (Alt+V)",clipboardEmpty:"Tarix bo'sh",clipboardCopy:"Nusxalash",clipboardClear:"Tozalash",clipboardEnable:"Tarixni yoqish",clipboardSearch:"Qidirish...",tooltipLang:"Tilni o'zgartirish",tooltipStats:"Tuzatishlar soni",tooltipSettings:"Sozlamalar (Alt+S)",tooltipMin:"Kichraytirish",tooltipMax:"Kattalashtirish",tooltipClose:"Yopish",btnHeaderClear:"Hammasini o'chirish",btnHeaderCopy:"Nusxalash",btnHeaderPaste:"Qo'yish",detailDictation:` RANG: To'q sariq
HARAKAT: Ovoz yozish
NATIJA: Audio matnga`,detailTyping:` RANG: Kulrang
HARAKAT: Klaviatura kiritish
NATIJA: Xom matn`,detailDictCheck:` Sariq: Tekshirish...
 Ko'k: Topildi (OK)
 Qizil: Xato (Bazada yo'q)`,detailAiFixing:` RANG: Binafsha
HARAKAT: Gemini tuzatmoqda
NATIJA: Toza matn`,detailFinalizing:` RANG: Yashil
HARAKAT: Yakunlash
NATIJA: Tinish belgilari`,detailScriptFix:` AVTO-FORMAT
HARAKAT: Bo'shliqlar va registr
NATIJA: Toza format`,detailReset:"Jarayonni qayta boshlash",detailPause:"To'xtatish/Davom ettirish",tooltipPauseAction:"To'xtatish (Alt+A)",tooltipResumeAction:"Davom ettirish (Alt+A)",tooltipPin:"Yuqoriga mahkamlash",tooltipUnpin:"Yechish",modeSmart:"Rejim: Aqlli diktovka + Tahrir",modeTransOnly:"Rejim: Faqat transkripsiya",pausedScriptFix:"Avto-format: O'CHIQ",pausedDictCheck:"Lug'at: O'CHIQ",pausedAiFixing:"AI tuzatish: O'CHIQ",pausedFinalizing:"Yakunlash: O'CHIQ",waveProcessing:"Qayta ishlanmoqda...",waveProcessed:"Bajarildi",visGeminiLabel:"GEMINI",visListening:"ESHITMOQDA",visEditing:"ESHITISH / TAHRIR",visAnalyzingListening:"ESHITISH / TAHLIL",visAnalyzing:"TAHLIL",visDone:"TAYYOR",testMic:"Mikrofon testi",stopTest:"To'xtatish",noiseLevel:"Shovqin darajasi",silenceZone:"Jimlik (E'tiborsiz)",speechZone:"Nutq (Yozib olish)",micAccessError:"Mikrofonga ruxsat yo'q",audioModelTitle:"Audio Model",modelFlash:"Gemini 2.5 Flash (Tez)",modelPro:"Gemini 2.5 Pro (Aqlli)",ttsVoiceTitle:"Ovoz (TTS)",btnHelp:"Yordam",btnHome:"Uyga",tooltipHelp:"Qisqa yordam (F1)",tooltipHome:"Bosh sahifaga qaytish",historyTitle:"Tarix (Alt+H)",historyEmpty:"Tarix bo'sh",historyRestore:"Ushbu versiyani tiklash",historyCurrent:"Joriy versiya",tagRaw:"Xom kiritish",tagDictated:"Aytib yozilgan",tagProcessed:"Tahrirlangan",tagFinalized:"Yakuniy",tagEnhanced:"Yaxshilangan",tagRawDictation:"Xom diktovka",tagAiCorrected:"AI tuzatgan",helpModalTitle:"FastType AI Yordam",helpSection1:"Asosiy funksiyalar",helpDesc1:"Konveyer: Tekshirish (Sariq) -> Xato (Qizil) -> Tasdiq (Ko'k) -> AI Tuzatish (Binafsha) -> Yakuniy (Yashil). To'q sariq = Diktovka.",helpSection2:"Tugmalar",helpDesc2:`Ctrl+Z - Bekor qilish
Alt+R - Yozish
Alt+V - Bufer
Alt+H - Tarix
Alt+S - Sozlamalar
Alt+A - Pauza`,helpSection3:"Mikrofon",helpDesc3:"Bosing va gapiring. AI jimlikni avtomatik olib tashlaydi.",lockTitle:"Tizimga kirish",lockDesc:"Ilova qulflangan. PIN kodni kiriting.",lockPlaceholder:"PIN kiritish",lockBtn:"Ochish",lockCreateTitle:"Himoya",lockCreateDesc:"Kirishni himoya qilish uchun PIN o'rnating.",lockCreatePlaceholder:"PIN yarating",lockSetBtn:"Saqlash",lockError:"Xato PIN kod",lockRemove:"PINni o'chirish",lockChange:"PINni o'zgartirish",lockVerifyOld:"Joriy PINni kiriting",lockNew:"Yangi PIN",lockSaved:"PIN o'rnatildi",lockForgot:"Unutdingizmi / Reset?",wipeTitle:"DIQQAT! TO'LIQ TOZALASH",wipeDesc:`Bu harakat PIN kodni va barcha ma'lumotlarni o'chirib tashlaydi:
 Tarix
 Bufer
 Sozlamalar

Ortga qaytarib bo'lmaydi.`,wipeConfirm:"Ha, tozalash va kirish",wipeCancel:"Bekor qilish",btnCreatePin:"PIN yaratish",btnBack:"Orqaga",dictStatus:"Lug'at tekshiruvi",dictRu:"RU Bazasi",dictEn:"EN Bazasi",dictWords:"so'z",dictMissing:"Bo'sh",transTitle:"Tarjimon",transInput:"Manba matn",transOutput:"Tarjima",transCopy:"Nusxalash",transClear:"Tozalash",transLangRuEn:"RU  EN",transLangEnRu:"EN  RU",transPlaceholder:"Tarjima uchun matn kiriting...",tabEditor:"Tahrirlovchi",tabAssist:"Yordamchi",tabTrans:"Tarjimon",uploadMedia:"Audio/Rasm yuklash",uploadProcessing:"Qayta ishlanmoqda...",dropHere:"Faylni tashlang",dropHint:"Audio (.mp3, .wav) yoki Rasm"},Yw={wizStep0Title:" ",wizStep0Subtitle:"  ?",btnSoundOn:" ",btnSoundOff:"",wizStep1Title:" ",wizStep1Subtitle:"  ",wizStep1Desc:"FastType AI      .",wizStep2Title:" ",wizStep2Desc:"        .",wizStep3Title:" ",wizStep3Desc:" .  ,   .",wizDemoInput:"  ",wizDemoOutput:"!  ?",wizStep4Title:" ",wizStep4Desc:"   Google Gemini API  .",welcomeTitle:" ",welcomeSubtitle:".",welcomeDesc:"FastType AI   .  ,    .",welcomeDisclaimer:"   Google (Gemini) API   .  .",feature1Title:" ",feature1Desc:"  .",feature2Title:" ",feature2Desc:"   .",feature3Title:" ",feature3Desc:"Gemini 3 Flash  .",setupTitle:" ",setupDesc:"  Google Gemini API  .",securityNote:"   .",apiKeyLabel:"API    ",apiKeyTooltip:"    .",linkGetKey:" ",linkTutorial:"",startBtn:"",btnHaveKey:" ",btnNoKey:"  / ",guideTitle:"API    ",guideStep0:"Google AI Studio   .",guideStep1:"   'Create API Key'  .",guideStep2:"'Create API key in new project'  .",guideStep3:"  .",guideGoToGoogle:"Google AI Studio- ",guideDone:" ",guideRepeat:" ",getKeyLink:" Gemini API  ",keyStorageInfo:"  .",placeholder:"   ... (  )",chars:"",btnRecord:" (Alt+R)",btnStop:" (Alt+R)",btnDevRecord:" (DEV)",btnEnhance:" ",btnUndo:" ",btnRedo:"",btnSpeak:" ",statusTyping:"...",statusThinking:"...",statusDictCheck:"...",statusAiFixing:": ...",statusAiFinalizing:": ...",statusScriptFix:"-...",statusGrammar:" ...",statusCorrecting:"...",statusEnhancing:"...",statusRecording:" ...",statusTranscribing:" ...",statusDictation:"",statusDone:"",statusIdle:"",statusPaused:"",statusError:" ",btnPause:"",btnResume:" ",nothingToImprove:" .   .",groupActive:" ",groupSilence:" ",groupModel:"  ",settingsTitle:" ",settingsActive:" ",settingsMiniScripts:"-",settingsMiniScriptsDesc:"     (-)",settingsDevMode:" ",settingsDevModeDesc:"  ",settingsDelay:" ()",settingsDelayDesc:"   ",settingsFinalization:"  ()",settingsEconomy:" ",settingsEconomyDesc:"   .",howItWorksTitle:" ",howItWorksDesc:`1. : 
2. : 
3. :  ( )
4. :  ()
5. :  
6. : `,changeKey:" ",footer:"FastType AI",clipboardTitle:"  (Alt+V)",clipboardEmpty:" ",clipboardCopy:"",clipboardClear:"",clipboardEnable:" ",clipboardSearch:"...",tooltipLang:" ",tooltipStats:" ",tooltipSettings:" (Alt+S)",tooltipMin:"",tooltipMax:"",tooltipClose:"",btnHeaderClear:" ",btnHeaderCopy:"",btnHeaderPaste:"",detailDictation:` :  
:  
:  `,detailTyping:` : 
:  
:  `,detailDictCheck:` : ...
 :  ()
 :  ( )`,detailAiFixing:` : 
: Gemini 
:  `,detailFinalizing:` : 
: 
:  `,detailScriptFix:` -
:   
:  `,detailReset:"  ",detailPause:"/ ",tooltipPauseAction:" (Alt+A)",tooltipResumeAction:"  (Alt+A)",tooltipPin:" ",tooltipUnpin:"",modeSmart:":   + ",modeTransOnly:":  ",pausedScriptFix:"-: ",pausedDictCheck:": ",pausedAiFixing:" : ",pausedFinalizing:": ",waveProcessing:" ...",waveProcessed:"",visGeminiLabel:"GEMINI",visListening:"",visEditing:" / ",visAnalyzingListening:" / ",visAnalyzing:"",visDone:"",testMic:" ",stopTest:"",noiseLevel:" ",silenceZone:" ()",speechZone:" ( )",micAccessError:"  ",audioModelTitle:" ",modelFlash:"Gemini 2.5 Flash ()",modelPro:"Gemini 2.5 Pro ()",ttsVoiceTitle:" (TTS)",btnHelp:"",btnHome:"",tooltipHelp:"  (F1)",tooltipHome:"  ",historyTitle:" (Alt+H)",historyEmpty:" ",historyRestore:"  ",historyCurrent:" ",tagRaw:" ",tagDictated:" ",tagProcessed:"",tagFinalized:"",tagEnhanced:"",tagRawDictation:" ",tagAiCorrected:" ",helpModalTitle:"FastType AI ",helpSection1:" ",helpDesc1:":  () ->  () ->  () ->   () ->  ().   = .",helpSection2:"",helpDesc2:`Ctrl+Z -  
Alt+R - 
Alt+V - 
Alt+H - 
Alt+S - 
Alt+A - `,helpSection3:"",helpDesc3:"  .     .",lockTitle:" ",lockDesc:" . PIN  .",lockPlaceholder:"PIN ",lockBtn:"",lockCreateTitle:"",lockCreateDesc:"    PIN .",lockCreatePlaceholder:"PIN ",lockSetBtn:"",lockError:" PIN ",lockRemove:"PIN ",lockChange:"PIN ",lockVerifyOld:" PIN ",lockNew:" PIN",lockSaved:"PIN ",lockForgot:" / Reset?",wipeTitle:"!  ",wipeDesc:`  PIN      :
 
 
 

  .`,wipeConfirm:",   ",wipeCancel:" ",btnCreatePin:"PIN ",btnBack:"",dictStatus:" ",dictRu:"RU ",dictEn:"EN ",dictWords:"",dictMissing:"",transTitle:"",transInput:" ",transOutput:"",transCopy:"",transClear:"",transLangRuEn:"RU  EN",transLangEnRu:"EN  RU",transPlaceholder:"   ...",tabEditor:"",tabAssist:"",tabTrans:"",uploadMedia:"/ ",uploadProcessing:" ...",dropHere:" ",dropHint:" (.mp3, .wav)  "},Qw={fixTypos:`
    .
 :
1.    .     .
2.     (    ).
3.    .
4.    -    .
`,finalize:`
  .     ,   ,      .
 :
1.   .            .     .
2.         (, ).
3.  :   -   .         .
4.     (***)   .
5.      .
6.    .
`,combined:`
   .
:       .   (*).
:      .     ,   .
   .
`,system:" .",enhance:`
  ,  .
 :
1.   .    .
2.      .
3.       .
   .
`,transcribe:`
 :     .
  (   ):
1.    (, 00:00:00 --> 00:00:05).
2.    (: [], [], [], []).
3.     " ", " ", " ".
4.    .
5.       .
   .
`,ocr:`
 :     (OCR).
 :
1.   ,    .
2.     "  ", " ".
3.   ( ),   .
4.   ,   .
`},Jw={fixTypos:`
Fix ONLY spelling typos.
STRICT RULES:
1. DO NOT change punctuation.
2. DO NOT change capitalization yet.
3. Return ONLY corrected text.
`,finalize:`
You are a proofreader. Fix grammar, spelling, punctuation, and remove profanity.
STRICT RULES:
1. PRESERVE ORIGINAL STRUCTURE. Do not rewrite commands or fragments into full sentences.
2. DO NOT add new words or change the meaning.
3. PROFANITY: Remove profane filler words. Replace meaningful profanity with mild euphemisms (heck, darn).
4. NEVER USE ASTERISKS (***) or masking symbols.
5. Remove accidental repetitions.
6. Return ONLY the corrected text.
`,combined:`
Fix errors and punctuation.
CENSORSHIP: Remove profanity or replace with mild euphemisms. NO ASTERISKS (*).
IMPORTANT: Preserve the original structure and style. Do not rewrite, only fix errors.
RETURN ONLY THE ONE BEST VERSION.
`,system:"You are a typo fixer.",enhance:`
Polish the text for clarity and grammar.
RULES:
1. Only ONE final version.
2. Do not alter technical meaning or commands.
3. Remove or soften profanity.
RETURN ONLY THE TEXT.
`,transcribe:`
Your task: Transcribe HUMAN SPEECH from audio.
STRICT PROHIBITIONS (NEVER DO THIS):
1. NO timecodes (e.g., 00:00:00 --> 00:00:05).
2. NO sound descriptions (e.g., [music], [laughter], [silence], [bell]).
3. NO meta-comments like "No speech", "End of recording".
4. Ignore stutters.
5. If there is no speech, return an empty string.
RETURN ONLY THE SPOKEN TEXT.
`,ocr:`
Your task: Extract text from the image (OCR).
STRICT RULES:
1. Return ONLY the text visible in the image.
2. DO NOT add descriptions like "The image says", "Here is the text".
3. Preserve line breaks where appropriate.
4. If there is no text, return an empty string.
`},Xw={fixTypos:`
Faqat imlo xatolarini tuzat.
QAT'IY QOIDALAR:
1. Tinish belgilarini O'ZGARTIRMA. Oxiriga nuqta qo'yma.
2. Harf kattaligini O'ZGARTIRMA.
3. FAQAT tuzatilgan matnni qaytar.
4. Agar matn to'g'ri bo'lsa, o'zgarishsiz qaytar.
`,finalize:`
Sen muharrirsan. Grammatika, imlo va tinish belgilarini tuzat.
QAT'IY QOIDALAR:
1. ASL TUZILISHNI SAQLA. Buyruq yoki qisqa iboralarni hikoyaga aylantirma.
2. Ma'noni o'zgartirma va ortiqcha so'z qo'shma.
3. So'kish va behayo so'zlarni olib tashla yoki yumshoqroq sinonim bilan almashtir.
4. Hech qachon yulduzcha (***) ishlatma.
5. Tasodifiy takrorlanishlarni olib tashla.
6. FAQAT tuzatilgan matnni qaytar.
`,combined:`
Xatolar va tinish belgilarini tuzat.
SENZURA: Behayo so'zlarni olib tashla.
MUHIM: Asl uslubni saqlab qol. Qayta yozma, faqat xatolarni tuzat.
FAQAT NATIJANI QAYTAR.
`,system:"Sen muharrirsan.",enhance:`
Matnni ravonroq va chiroyli qil.
QOIDALAR:
1. Faqat BITTA eng yaxshi variantni qaytar.
2. Texnik ma'noni buzma.
3. Behayo so'zlarni olib tashla.
FAQAT MATNNI QAYTAR.
`,transcribe:`
Vazifa: Audiodan INSON NUTQINI yozib olish (transkripsiya).
TAQIQLANADI:
1. Vaqt belgilarini yozma (00:00).
2. Tovushlarni tasvirlama ([musiqa], [kulgi]).
3. Izoh yozma ("so'z yo'q", "tugadi").
4. Tutilishlarni e'tiborga olma.
5. Agar nutq bo'lmasa, bo'sh qator qaytar.
FAQAT AYTILGAN SO'ZLARNI QAYTAR.
`,ocr:`
Vazifa: Rasmdagi matnni ajratib ol (OCR).
QOIDALAR:
1. Faqat rasmdagi ko'ringan matnni qaytar.
2. Izoh qo'shma ("Rasmda yozilgan...").
3. Qatorlarni saqlab qol.
4. Matn bo'lmasa, bo'sh qator qaytar.
`},Zw={fixTypos:`
   .
 :
1.   .   .
2.   .
3.    .
4.    ,  .
`,finalize:`
 . ,     .
 :
1.   .      .
2.      .
3.           .
4.    (***) .
5.    .
6.    .
`,combined:`
    .
:    .
:    .  ,   .
  .
`,system:" .",enhance:`
    .
:
1.      .
2.   .
3.    .
  .
`,transcribe:`
:      ().
:
1.    (00:00).
2.   ([], []).
3.   (" ", "").
4.   .
5.   ,   .
   .
`,ocr:`
:     (OCR).
:
1.     .
2.   (" ...").
3.   .
4.  ,   .
`},Eo={ru:{ui:Gw,prompts:Qw},en:{ui:Kw,prompts:Jw},"uz-latn":{ui:Ww,prompts:Xw},"uz-cyrl":{ui:Yw,prompts:Zw}},tt=e=>{var t;return((t=Eo[e])==null?void 0:t.ui)||Eo.en.ui},ei=e=>{var t;return((t=Eo[e])==null?void 0:t.prompts)||Eo.en.prompts},jf={ru:["","","","","","","","","","","","","","","","","","-","-","-","","","",""," "," "," ","",""],en:["ding","beep","click","clack","thump","noise","silence","sound","music","applause","laughter","sigh","cough","squeak","knock","tap","m","m-m","uh","uh-uh","hm","hmm","subtitles","transcription","to be continued","end of recording","beep","boop"]},Pf={ru:["","","-","",""," ","",""," "," ","","","","","","","",""],en:["um","umm","uh","er","ah","like","you know","sort of","kind of","basically","literally","actually","so","mean","right","okay","well","hmm","huh"]},h0=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),m0=(e,t)=>{if(!e)return"";let n=e;n=n.replace(/\d{2}:\d{2}:\d{2}([.,]\d{3})?(\s*-->\s*\d{2}:\d{2}:\d{2}([.,]\d{3})?)?/g,""),n=n.replace(/\d{2}:\d{2}/g,""),n=n.replace(/\[.*?\]/g," "),n=n.replace(/\((||||music|sound|silence|laughter|applause|).*?\)/gi," ");const r=t==="ru"?jf.ru:jf.en,i=n.trim().toLowerCase().replace(/[.,!?;:]/g,"");if(r.includes(i))return"";r.forEach(o=>{const s=new RegExp(`(^|[^a-zA-Z--])${h0(o)}($|[^a-zA-Z--])`,"gi");n=n.replace(s,"$1$2").replace(/\s+/g," ")});const l=t==="ru"?/(^|\s)([^])(\s|$)/gi:/(^|\s)([^ai])(\s|$)/gi;return n=n.replace(l," "),n.replace(/\s+/g," ").trim()},oc=(e,t)=>{if(!e)return"";let n=e;return(t==="ru"?Pf.ru:Pf.en).forEach(i=>{const l=new RegExp(`(^|[^a-zA-Z--])${h0(i)}($|[^a-zA-Z--])`,"gi");n=n.replace(l,"$1$2")}),n.replace(/\s+/g," ").trim()},sl=e=>{if(!e)return"";let t=e.split(`
`);t=t.filter(r=>{const i=r.trim();return!(/^[\*\-]\s/.test(i)||/^(here is|sure|||| |option).*?[:\n]/i.test(i))}),t.length===0&&(t=e.split(`
`).map(r=>r.replace(/^\s*[\*\-]\s/,"")));let n=t.join(" ").trim();return n=n.replace(/\([a-zA-Z\s\d]+\)/g,""),n=n.replace(/\b\w+=\w+\b/g,""),n=n.replace(/^Wait,.*?:/i,""),n=n.replace(/^(Here is|Sure|Okay|||| ).*?[:\n]/i,""),n=n.replace(/\s+/g," ").trim(),n},Rf=e=>{if(!e)return"";let t=e.replace(/([.,:;])([a-zA-Z--])/g,"$1 $2");return t=t.replace(/([?!])([a-zA-Z--0-9])/g,"$1 $2"),t},Mf=e=>e?e.replace(/\s+([.,!?:;])/g,"$1"):"";let ft=null;const _f=e=>{e&&(ft=new ol({apiKey:e}))};function e2(e){const t=atob(e),n=t.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=t.charCodeAt(i);return r}async function t2(e,t,n=24e3,r=1){const i=new Int16Array(e.buffer),l=i.length/r,o=t.createBuffer(r,l,n);for(let s=0;s<r;s++){const u=o.getChannelData(s);for(let c=0;c<l;c++)u[c]=i[c*r+s]/32768}return o}const n2=async(e,t)=>{var n,r,i,l,o,s;if(!ft)throw new Error("API Key not set");if(!e||!e.trim())return null;try{const c=(s=(o=(l=(i=(r=(n=(await ft.models.generateContent({model:"gemini-2.5-flash-preview-tts",contents:[{parts:[{text:e}]}],config:{responseModalities:[So.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:t||"Puck"}}}}})).candidates)==null?void 0:n[0])==null?void 0:r.content)==null?void 0:i.parts)==null?void 0:l[0])==null?void 0:o.inlineData)==null?void 0:s.data;if(c){const d=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3}),f=d.createGain(),g=e2(c),m=await t2(g,d,24e3,1),C=d.createBufferSource();return C.buffer=m,C.connect(f),f.connect(d.destination),C.start(),c}return null}catch(u){throw console.error("TTS Error:",u),u}},r2=async(e,t)=>{var r;if(!e||e.trim().length===0||!ft)return e;const n=ei(t);try{let l=((r=(await ft.models.generateContent({model:"gemini-3-flash-preview",contents:e,config:{systemInstruction:n.fixTypos,temperature:.2,maxOutputTokens:2048,thinkingConfig:{thinkingBudget:0}}})).text)==null?void 0:r.trim())||e;return l=sl(l),l}catch(i){return console.error("Gemini Typo Fix Error:",i),e}},i2=async(e,t)=>{var r;if(!e||e.trim().length===0||!ft)return e;const n=ei(t);try{let l=((r=(await ft.models.generateContent({model:"gemini-3-flash-preview",contents:e,config:{systemInstruction:n.finalize,temperature:.1,maxOutputTokens:8192,thinkingConfig:{thinkingBudget:0}}})).text)==null?void 0:r.trim())||e;return l=oc(l,t),l=sl(l),l}catch(i){return console.error("Gemini Finalize Error:",i),e}},l2=async(e,t)=>{var r;if(!e||e.trim().length===0||!ft)return e;const n=ei(t);try{let l=((r=(await ft.models.generateContent({model:"gemini-3-flash-preview",contents:e,config:{systemInstruction:n.combined,temperature:.1,maxOutputTokens:8192,thinkingConfig:{thinkingBudget:0}}})).text)==null?void 0:r.trim())||e;return l=oc(l,t),l=sl(l),l}catch(i){return console.error("Gemini Combined Fix Error:",i),e}},o2=async(e,t)=>{if(!e||e.trim().length===0||!ft)return e;const n=ei(t);try{let i=(await ft.models.generateContent({model:"gemini-3-flash-preview",contents:e,config:{systemInstruction:n.enhance,temperature:.1,maxOutputTokens:8192,thinkingConfig:{thinkingBudget:0}}})).text||e;return i=oc(i,t),i=sl(i),i}catch(r){return console.error("Gemini Enhancement Error:",r),e}},s2=e=>{if(!e||e.length<10)return!1;if(e.toLowerCase().split(",  ").length>3)return!0;const r=e.split(/[.!?]\s+/);return r.length>3&&new Set(r.map(l=>l.trim().toLowerCase())).size<r.length/2},Va=async(e,t,n,r="gemini-2.5-flash")=>{if(!ft)throw new Error("API Key not set");const i=ei(n);try{if(!e||e.length<100)return console.warn("Audio chunk too small, skipping."),"";console.log(`Sending to Gemini [${r}]: ${t}, size: ${Math.round(e.length/1024)}KB`);let o=(await ft.models.generateContent({model:r,contents:{parts:[{inlineData:{mimeType:t,data:e}}]},config:{systemInstruction:i.transcribe,temperature:.1}})).text||"";if(console.log("Raw Transcription:",o),o=m0(o,n),!o)return"";const s=o.toLowerCase().trim();return s.includes("  ")||s.includes("expert transcriber")||s.startsWith(" , ")||s2(o)?"":o}catch(l){return console.error("Gemini Transcription Error:",l),""}},a2=async(e,t,n)=>{if(!ft)throw new Error("API Key not set");const r=ei(n);try{console.log(`Sending Image to Gemini [OCR]: ${t}, size: ${Math.round(e.length/1024)}KB`);let l=(await ft.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[{inlineData:{mimeType:t,data:e}}]},config:{systemInstruction:r.ocr,temperature:.1}})).text||"";return l=sl(l),l}catch(i){return console.error("Gemini OCR Error:",i),""}},Df="fasttype_editor_state_v2",u2=()=>{const t=(()=>{try{const R=localStorage.getItem(Df);if(R){const L=JSON.parse(R);return{text:L.text||"",committedLength:L.committedLength||0,correctedLength:L.correctedLength||L.processedLength||0,checkedLength:L.checkedLength||0,history:L.history||[],historyIndex:L.historyIndex||0,finalizedSentences:L.finalizedSentences||[],aiFixedSegments:L.aiFixedSegments||[],dictatedSegments:L.dictatedSegments||[],unknownSegments:L.unknownSegments||[]}}}catch(R){console.error("Failed to load editor state",R)}return null})(),[n,r]=w.useState((t==null?void 0:t.text)||""),[i,l]=w.useState((t==null?void 0:t.committedLength)||0),[o,s]=w.useState((t==null?void 0:t.correctedLength)||0),[u,c]=w.useState((t==null?void 0:t.checkedLength)||0),[d,f]=w.useState(0),[g,m]=w.useState(Date.now()),[C,S]=w.useState(new Set((t==null?void 0:t.aiFixedSegments)||[])),[T,y]=w.useState(new Set((t==null?void 0:t.dictatedSegments)||[])),[v,x]=w.useState(new Set((t==null?void 0:t.unknownSegments)||[])),[A,j]=w.useState(new Set((t==null?void 0:t.finalizedSentences)||[])),[N,E]=w.useState(t&&t.history&&t.history.length>0?t.history:[{id:"init",text:"",committedLength:0,correctedLength:0,processedLength:0,checkedLength:0,timestamp:Date.now(),tags:[],finalizedSentences:[],aiFixedSegments:[],dictatedSegments:[],unknownSegments:[]}]),[I,z]=w.useState((t==null?void 0:t.historyIndex)||0),F=w.useRef(!1);w.useEffect(()=>{const R={text:n,committedLength:i,correctedLength:o,checkedLength:u,history:N,historyIndex:I,finalizedSentences:Array.from(A),aiFixedSegments:Array.from(C),dictatedSegments:Array.from(T),unknownSegments:Array.from(v)};localStorage.setItem(Df,JSON.stringify(R))},[n,i,o,u,N,I,A,C,T,v]),w.useEffect(()=>{z(R=>Math.min(R,N.length-1))},[N.length]);const P=w.useCallback(R=>{const L=R.trim();L.length>0&&j(b=>{const M=new Set(b);return M.add(L),M})},[]),_=w.useCallback(R=>{const L=R.trim();L.length>0&&S(b=>{const M=new Set(b);return M.add(L),M})},[]),D=w.useCallback(R=>{const L=R.trim();L.length>0&&y(b=>{const M=new Set(b);return M.add(L),M})},[]),Z=w.useCallback(R=>{R.length>0&&x(L=>{const b=new Set(L);return R.forEach(M=>b.add(M.toLowerCase())),b})},[]),Q=w.useCallback(R=>{if(F.current||R.length===0)return;let L=N.slice(0,I+1),b=!1;for(const M of R){const O=L[L.length-1];!M.tags.includes("raw_dictation")&&O&&O.text===M.text&&O.correctedLength===M.correctedLength&&(!M.tags.length||JSON.stringify(O.tags)===JSON.stringify(M.tags))||(L.push({id:Math.random().toString(36).substring(2,9),text:M.text,committedLength:M.committedLength,correctedLength:M.correctedLength,processedLength:M.correctedLength,checkedLength:M.checkedLength??Math.max(M.correctedLength,u),timestamp:Date.now(),tags:M.tags,finalizedSentences:Array.from(A),aiFixedSegments:Array.from(C),dictatedSegments:Array.from(T),unknownSegments:Array.from(v)}),b=!0)}b&&(L.length>50&&(L=L.slice(L.length-50)),E(L),z(L.length-1),m(Date.now()))},[N,I,A,C,T,v,u]),se=w.useCallback((R,L,b,M=[])=>{Q([{text:R,committedLength:L,correctedLength:b,tags:M}])},[Q]),W=w.useCallback(()=>{if(I>0){F.current=!0;const R=N[I-1];return r(R.text),l(R.committedLength),s(R.correctedLength??R.processedLength),c(R.checkedLength??R.correctedLength??R.processedLength),f(0),R.finalizedSentences&&j(new Set(R.finalizedSentences)),R.aiFixedSegments&&S(new Set(R.aiFixedSegments)),R.dictatedSegments&&y(new Set(R.dictatedSegments)),R.unknownSegments&&x(new Set(R.unknownSegments)),z(I-1),setTimeout(()=>{F.current=!1},50),!0}return!1},[N,I]),H=w.useCallback(()=>{if(I<N.length-1){F.current=!0;const R=N[I+1];return r(R.text),l(R.committedLength),s(R.correctedLength??R.processedLength),c(R.checkedLength??R.correctedLength??R.processedLength),f(0),R.finalizedSentences&&j(new Set(R.finalizedSentences)),R.aiFixedSegments&&S(new Set(R.aiFixedSegments)),R.dictatedSegments&&y(new Set(R.dictatedSegments)),R.unknownSegments&&x(new Set(R.unknownSegments)),z(I+1),setTimeout(()=>{F.current=!1},50),!0}return!1},[N,I]),Y=w.useCallback(R=>{if(R>=0&&R<N.length){F.current=!0;const L=N[R];return r(L.text),l(L.committedLength),s(L.correctedLength??L.processedLength),c(L.checkedLength??L.correctedLength??L.processedLength),f(0),L.finalizedSentences&&j(new Set(L.finalizedSentences)),L.aiFixedSegments&&S(new Set(L.aiFixedSegments)),L.dictatedSegments&&y(new Set(L.dictatedSegments)),L.unknownSegments&&x(new Set(L.unknownSegments)),z(R),setTimeout(()=>{F.current=!1},50),!0}return!1},[N]),k=w.useCallback(()=>{if(N.length===0)return;const L={...N[I],id:"reset_"+Date.now(),tags:["reset"]};E([L]),z(0),f(0),m(Date.now())},[N,I]);return{text:n,setText:r,committedLength:i,setCommittedLength:l,correctedLength:o,setCorrectedLength:s,checkedLength:u,setCheckedLength:c,checkingLength:d,setCheckingLength:f,finalizedSentences:A,addFinalizedSentence:P,aiFixedSegments:C,addAiFixedSegment:_,dictatedSegments:T,addDictatedSegment:D,unknownSegments:v,addUnknownSegments:Z,saveCheckpoint:se,saveCheckpoints:Q,undo:W,redo:H,jumpTo:Y,clearHistory:k,canUndo:I>0,canRedo:I<N.length-1,isUndoing:F.current,history:N,historyIndex:I,lastUpdate:g}},sc=(e=25)=>{const[t,n]=w.useState(!1),[r,i]=w.useState(null),l=w.useRef(!1),o=w.useRef(null),s=w.useRef(null),u=w.useRef(null),c=w.useRef(null),d=w.useRef(null),f=w.useRef([]),g=w.useRef(null),m=w.useRef(null),C=w.useRef(null),S=w.useRef(null),T=w.useRef(null),y=w.useRef(!1),v=w.useRef(0),x=1200,A=6e3,j=w.useCallback(()=>{if(l.current=!1,n(!1),i(null),T.current&&(clearInterval(T.current),T.current=null),d.current&&d.current.state!=="inactive")try{d.current.stop()}catch(P){console.warn("Error stopping recorder:",P)}if(d.current=null,g.current&&(g.current.getTracks().forEach(P=>{try{P.stop()}catch{}}),g.current=null),o.current&&o.current.state!=="closed"){try{o.current.close()}catch{}o.current=null}},[]);w.useEffect(()=>()=>j(),[j]);const N=P=>{let _=0;for(let D=0;D<P.length;D++){const Z=(P[D]-128)/128;_+=Z*Z}return Math.sqrt(_/P.length)},E=async P=>{if(!(!P||P.size===0)){C.current&&C.current("analyzing_listening");try{const _=new FileReader;_.onloadend=()=>{const D=_.result;if(D&&m.current){const Z=D.split(",")[1],Q=P.type||"audio/webm";m.current(Z,Q).catch(se=>console.error("Chunk upload error:",se))}},_.readAsDataURL(P)}catch(_){console.error("Chunk processing failed",_)}}},I=P=>{let _;MediaRecorder.isTypeSupported("audio/webm;codecs=opus")?_={mimeType:"audio/webm;codecs=opus"}:MediaRecorder.isTypeSupported("audio/webm")?_={mimeType:"audio/webm"}:MediaRecorder.isTypeSupported("audio/mp4")&&(_={mimeType:"audio/mp4"});try{const D=new MediaRecorder(P,_);d.current=D,f.current=[],v.current=0,C.current&&C.current("listening"),D.ondataavailable=Z=>{Z.data.size>0&&f.current.push(Z.data)},D.onstop=()=>{if(f.current.length>0){const Z=D.mimeType||"audio/webm",Q=new Blob(f.current,{type:Z});f.current=[],E(Q)}},D.start()}catch(D){console.error("Failed to create MediaRecorder",D),j()}},z=w.useCallback(async(P,_)=>{try{j(),m.current=P,C.current=_||null;const D=await navigator.mediaDevices.getUserMedia({audio:!0});g.current=D;const Z=new(window.AudioContext||window.webkitAudioContext);o.current=Z;const Q=Z.createAnalyser();Q.fftSize=512,Q.smoothingTimeConstant=.3,s.current=Q;const se=Z.createMediaStreamSource(D);u.current=se,se.connect(Q);const W=Q.frequencyBinCount,H=new Uint8Array(W);c.current=H;const Y=new Uint8Array(W);return I(D),l.current=!0,n(!0),S.current=Date.now(),T.current=setInterval(()=>{if(!l.current){j();return}if(!s.current||!d.current)return;s.current.getByteFrequencyData(H),s.current.getByteTimeDomainData(Y);const k=N(Y);k>v.current&&(v.current=k);const R=Math.max(.01,e/100*.2);if(k>R)S.current=null,i(null);else if(S.current===null)S.current=Date.now();else{const b=Date.now()-S.current,M=Math.max(0,A-b),O=Math.ceil(M/1e3);if(O<=5&&O>0?i(G=>G!==O?O:G):O<=0&&i(0),b>A){F();return}b>x&&!y.current&&(y.current=!0,C.current&&C.current("editing"),d.current.state==="recording"&&d.current.stop(),g.current&&g.current.active&&I(g.current),setTimeout(()=>{y.current=!1},200))}},50),!0}catch(D){return console.error("Error accessing microphone:",D),j(),!1}},[e,j]),F=w.useCallback(async()=>{j()},[j]);return{isRecording:t,startRecording:z,stopRecording:F,visualizerDataRef:c,autoStopCountdown:r}},g0=w.createContext(void 0),c2=({children:e})=>{const[t,n]=w.useState([]),r=w.useCallback(l=>{n(o=>o.filter(s=>s.id!==l))},[]),i=w.useCallback((l,o,s=2e3)=>{const u=Math.random().toString(36).substring(2,9),c={id:u,message:l,type:o,duration:s};n(d=>[...d,c]),s>0&&setTimeout(()=>{r(u)},s)},[r]);return a.jsx(g0.Provider,{value:{notifications:t,addNotification:i,removeNotification:r},children:e})},dn=()=>{const e=w.useContext(g0);if(!e)throw new Error("useNotification must be used within a NotificationProvider");return e},d2=({undo:e,redo:t,toggleRecording:n,toggleProcessing:r,onStatusChange:i,onPauseProcessing:l})=>{const o=w.useCallback(()=>{e()&&(i("paused"),l())},[e,i,l]),s=w.useCallback(()=>{t()&&(i("paused"),l())},[t,i,l]),u=w.useCallback(c=>{(c.metaKey||c.ctrlKey)&&c.key==="z"?(c.preventDefault(),c.shiftKey?s():o()):(c.metaKey||c.ctrlKey)&&c.key==="y"&&(c.preventDefault(),s())},[o,s]);return w.useEffect(()=>{const c=d=>{d.repeat||(d.altKey&&d.code==="KeyR"&&(d.preventDefault(),n()),d.altKey&&d.code==="KeyA"&&(d.preventDefault(),r()))};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[n,r]),{handleUndo:o,handleRedo:s,handleKeyDown:u}},yi=e=>{const t=[],n=/([^.!?]+[.!?]+(\s+|$))/g;let r,i=0;for(;(r=n.exec(e))!==null;){if(r.index>i){const l=e.slice(i,r.index);t.push({text:l,start:i,end:r.index,isSeparator:!0})}t.push({text:r[0],start:r.index,end:r.index+r[0].length,isSeparator:!1}),i=r.index+r[0].length}return i<e.length&&t.push({text:e.slice(i),start:i,end:e.length,isSeparator:!1}),t},_n=e=>e.trim(),x0=e=>{if(!e)return e;let t=e;return t=t.replace(/\s+([.,!?:;])/g,"$1"),t=t.replace(/([.,!?:;])([a-zA-Z--])/g,"$1 $2"),t=t.replace(/([.!?]\s+)([a-z-])/g,(n,r,i)=>r+i.toUpperCase()),t=t.replace(/^(\s*)([a-z-])/g,(n,r,i)=>r+i.toUpperCase()),t=t.replace(/[ \t]{2,}/g," "),t},f2=({textRef:e,committedLengthRef:t,correctedLengthRef:n,checkedLengthRef:r,checkingLengthRef:i,settingsRef:l,statusRef:o,language:s,setText:u,setCorrectedLength:c,setCommittedLength:d,setCheckedLength:f,setCheckingLength:g,finalizedSentences:m,addFinalizedSentence:C,addAiFixedSegment:S,unknownSegments:T,addUnknownSegments:y,saveCheckpoint:v,saveCheckpoints:x,onStatsUpdate:A,onStatusChange:j,onAutoFormat:N,workerRef:E})=>{const I=w.useRef(!1),z=w.useRef(null),F=w.useRef(Date.now()),[P,_]=w.useState(null),D=M=>M.toLowerCase().replace(/[^a-zA-Z--0-9'`]/g,"").trim(),Z=async()=>{const M=e.current,O=l.current,G=O.enabled;let V=t.current;const ae=M.slice(V);if(ae.length>0&&G){const re=yi(ae);let ye=0;for(const ve of re){const J=_n(ve.text);if(m.has(J))ye=ve.end;else break}if(ye>0){const ve=V+ye;d(ve),c(Math.max(n.current,ve)),f(Math.max(r.current,ve)),g(Math.max(i.current,ve));return}}const ie=t.current,oe=n.current,q=r.current,B=M.slice(ie),X=yi(B);let ce=B.length;for(const re of X)if(m.has(_n(re.text))){ce=re.start;break}const pe=ie+ce;if(O.miniScripts){const re=x0(M);if(re!==M){N(re),j("script_fix");return}}if(G){const re=M.slice(ie,pe),ye=re.match(/[.!?](\s|$)/g);if((ye&&ye.length>=1||re.length>50)&&O.fixTypos&&O.fixPunctuation){await se(re,ie);return}}if(G&&O.fixPunctuation){const re=Math.min(oe,pe);if(re>ie){const ye=M.slice(ie,re),ve=Array.from(ye.matchAll(/[.!?](\s|$)/g));if(ve.length>0){const le=(ve[ve.length-1].index??0)+1,ge=ye.slice(0,le);if(ge.trim().length>1){await H(ge,ie);return}}}}const ke=Math.min(q,pe);if(G&&ke>oe){const re=M.slice(oe,ke);if(re.trim()){const ye=re.split(/([ \n\t.,!?;:()""\-\/_+]+)/);let ve=!1;for(const J of ye){const le=D(J);if(le.length>3&&T.has(le)){ve=!0;break}}ve&&O.fixTypos?await W(re,oe):(!ve||!O.fixTypos)&&c(ke);return}else{c(ke);return}}if(O.dictionaryCheck&&pe>q){const re=M.slice(q,pe);let ye=0;const ve=re.split(/(\s+)/);let J=0,le="",ge=!1;for(const me of ve){if(ye+=me.length,me.trim())if(J++,le=me.trim(),/[.!?]/.test(le)){ge=!0;break}else ge=!1;if(J>=3&&(D(le).length>3||ge))break}const de=q+ye>=M.length,xe=J>=3&&(D(le).length>3||ge);if(ye>0&&(xe||de||ge)){const me=re.slice(0,ye);await Q(me,q);return}}o.current!=="done"&&o.current!=="error"&&o.current!=="speaking"&&(G?o.current!=="idle"&&j("idle"):o.current!=="paused"&&j("paused"))},Q=(M,O)=>new Promise(G=>{if(!E.current){G();return}j("dict_check");const V=M.length,ae=O+V;g(ae);const ie=B=>{const{type:X,unknownWords:ce}=B.data;if(X==="CHECK_RESULT"){if(q(),ae>e.current.length){g(0),G();return}ce&&ce.length>0&&y(ce),f(ae),G()}},oe=setTimeout(()=>{q(),f(ae),G()},2e3),q=()=>{var B;(B=E.current)==null||B.removeEventListener("message",ie),clearTimeout(oe)};E.current.addEventListener("message",ie),E.current.postMessage({type:"CHECK_CHUNK",text:M,language:s})}),se=async(M,O)=>{var ie;j("ai_finalizing"),_({start:O,end:O+M.length,type:"finalizing"});const G={text:e.current,committed:t.current,corrected:n.current},V=((ie=M.match(/^\s*/))==null?void 0:ie[0])||"",ae=M.trim();try{const oe=await l2(ae,s);let q=V+oe;if(q=Rf(q),q=Mf(q),/[.!?]$/.test(q)&&!/\s$/.test(q)){const X=e.current[O+M.length];X&&X!==" "&&X!=="."&&(q+=" ")}if(q!==M){const B=Y(O,O+M.length,q);if(!B){j("error");return}A(1);const X=O+q.length;d(X),c(X),f(X),g(X),yi(q).forEach(pe=>{C(pe.text)}),S(_n(q)),x([{text:G.text,committedLength:G.committed,correctedLength:G.corrected,checkedLength:r.current,tags:["pre_ai"]},{text:B,committedLength:X,correctedLength:X,checkedLength:X,tags:["finalized","ai_corrected","bulk"]}]),j("done")}else{if(e.current.length>=O+M.length){const B=O+M.length;d(B),c(B),f(B),g(B),yi(M).forEach(ce=>{C(ce.text)})}j("idle")}}catch(oe){console.error("Bulk finalize error",oe),j("error")}finally{_(null)}},W=async(M,O)=>{var oe,q;j("ai_fixing"),_({start:O,end:O+M.length,type:"fixing"});const G={text:e.current,committed:t.current,corrected:n.current},V=((oe=M.match(/^\s*/))==null?void 0:oe[0])||"",ae=((q=M.match(/\s*$/))==null?void 0:q[0])||"",ie=M.trim();if(!ie){c(O+M.length),_(null);return}try{const B=await r2(ie,s),X=V+B+ae;if(X!==M){const ce=Y(O,O+M.length,X);if(!ce){j("error");return}A(1),S(_n(X));const pe=O+X.length;c(pe),f(Math.max(r.current,pe)),x([{text:G.text,committedLength:G.committed,correctedLength:G.corrected,checkedLength:r.current,tags:["pre_ai"]},{text:ce,committedLength:t.current,correctedLength:pe,checkedLength:Math.max(r.current,pe),tags:["processed","ai_corrected"]}])}else e.current.length>=O+M.length&&c(O+M.length)}catch{e.current.length>=O+M.length&&c(O+M.length),j("error")}finally{_(null)}},H=async(M,O)=>{var ie;j("ai_finalizing"),_({start:O,end:O+M.length,type:"finalizing"});const G={text:e.current,committed:t.current,corrected:n.current},V=((ie=M.match(/^\s*/))==null?void 0:ie[0])||"",ae=M.trim();try{const oe=await i2(ae,s);let q=V+oe;if(q=Rf(q),q=Mf(q),/[.!?]$/.test(q)&&!/\s$/.test(q)){const X=e.current[O+M.length];X&&X!==" "&&(q+=" ")}if(q!==M){const B=Y(O,O+M.length,q);if(!B){j("error");return}A(1);const X=O+q.length;d(X);const ce=Math.max(n.current,X);c(ce),f(Math.max(r.current,X)),C(q),x([{text:G.text,committedLength:G.committed,correctedLength:G.corrected,checkedLength:r.current,tags:["pre_ai"]},{text:B,committedLength:X,correctedLength:X,checkedLength:Math.max(r.current,X),tags:["finalized","ai_corrected"]}]),j("done")}else e.current.length>=O+M.length&&(d(O+M.length),C(M)),j("idle")}catch{e.current.length>=O+M.length&&d(O+M.length),j("error")}finally{_(null)}},Y=(M,O,G)=>{const V=e.current;if(M>V.length||O>V.length)return console.warn("Attempted replace out of bounds. Aborting."),null;const ae=V.slice(0,M),ie=V.slice(O),oe=ae+G+ie;return u(oe),oe},k=w.useRef(Z);w.useEffect(()=>{k.current=Z}),w.useEffect(()=>{const{fixTypos:M,fixPunctuation:O,dictionaryCheck:G}=l.current;(M||O||G)&&!I.current&&k.current&&k.current()},[l.current.fixTypos,l.current.fixPunctuation,l.current.dictionaryCheck]);const R=w.useCallback(async()=>{if(!(I.current||o.current==="recording"||Date.now()-F.current<l.current.debounceMs)){I.current=!0;try{k.current&&await k.current()}catch(G){console.error("Processor Cycle Error:",G),j("error"),setTimeout(()=>j("idle"),2e3)}finally{I.current=!1}}},[l,o,j]);w.useEffect(()=>(z.current=setInterval(R,500),()=>{z.current&&clearInterval(z.current)}),[R]);const L=w.useCallback(()=>{F.current=Date.now()},[]),b=w.useCallback(()=>{I.current=!1,_(null),j("idle")},[j]);return{notifyActivity:L,reset:b,processingOverlay:P}},p2=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],h2=["the","be","to","of","and","a","in","that","have","i","it","for","not","on","with","he","as","you","do","at","this","but","his","by","from","they","we","say","her","she","or","an","will","my","one","all","would","there","their","what","so","up","out","if","about","who","get","which","go","me","when","make","can","like","time","no","just","him","know","take","people","into","year","your","good","some","could","them","see","other","than","then","now","look","only","come","its","over","think","also","back","after","use","two","how","our","work","first","well","way","even","new","want","because","any","these","give","day","most","us","hello","hi","ok","yes","thanks"],m2=["va","bilan","uchun","bu","bir","deb","da","ni","ki","bo'lib","ham","o'z","esa","edi","qilish","kerak","uni","undan","ular","biz","siz","men","u","nima","qanday","qachon","kim","yer","suv","yaxshi","yomon","katta","kichik","ko'p","oz","assalomu","alaykum","rahmat","xayr","bugun","ertaga"],g2=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Or=new Set(p2),Ao=new Set(h2),Io=new Set(m2),jo=new Set(g2),Rs=e=>e.toLowerCase().replace(/[^a-zA-Z--0-9'`]/g,"").trim(),x2=()=>({ruCount:Or.size,enCount:Ao.size,uzLatnCount:Io.size,uzCyrlCount:jo.size,ruLoaded:Or.size>200,enLoaded:Ao.size>200,uzLatnLoaded:Io.size>100,uzCyrlLoaded:jo.size>100}),y2=async()=>{console.log("Starting dictionary load...");const e=async(t,n,r)=>{try{const i=await fetch(t);if(i.ok){const l=await i.json();Array.isArray(l)&&l.forEach(o=>{typeof o=="string"?n.add(Rs(o)):o.word&&typeof o.word=="string"&&n.add(Rs(o.word))}),console.log(`Loaded ${r} Dictionary: ${n.size} words`)}}catch{}};try{if(await Promise.all([e("./dictionaries/en/oxford-3000.json",Ao,"EN"),e("./dictionaries/ru/dictionary.json",Or,"RU"),e("./dictionaries/uz-latn/dictionary.json",Io,"UZ-LATN"),e("./dictionaries/uz-cyrl/dictionary.json",jo,"UZ-CYRL")]),Or.size<200){const t=["nouns.csv","adjectives.csv","verbs.csv","others.csv"];for(const n of t)try{const r=await fetch(`./dictionaries/ru/${n}`);if(!r.ok)continue;const l=(await r.text()).split(`
`);for(const o of l){if(!o.trim())continue;const u=o.split(/[\t,;]/)[0];if(u&&u.length>1){const c=Rs(u);c&&Or.add(c)}}}catch{}}}catch(t){console.error("Critical error loading dictionaries:",t)}},v2=1500,w2=1e3,k2=2e4,b2=({settings:e,onStatsUpdate:t,language:n,status:r,onStatusChange:i,setIsGrammarChecking:l,onClipboardAction:o,resetSignal:s,onPauseProcessing:u,onToggleProcessing:c})=>{const{text:d,setText:f,committedLength:g,setCommittedLength:m,correctedLength:C,setCorrectedLength:S,checkedLength:T,setCheckedLength:y,checkingLength:v,setCheckingLength:x,finalizedSentences:A,addFinalizedSentence:j,aiFixedSegments:N,addAiFixedSegment:E,dictatedSegments:I,addDictatedSegment:z,unknownSegments:F,addUnknownSegments:P,saveCheckpoint:_,saveCheckpoints:D,undo:Z,redo:Q,canUndo:se,canRedo:W,history:H,historyIndex:Y,jumpTo:k,lastUpdate:R,clearHistory:L}=u2(),b=w.useRef(d),M=w.useRef(g),O=w.useRef(C),G=w.useRef(T),V=w.useRef(v),ae=w.useRef(e),ie=w.useRef(r),oe=w.useRef(Date.now()),q=w.useRef(null),B=w.useRef(null),X=w.useRef(!1),ce=w.useRef(null);w.useEffect(()=>{b.current=d},[d]),w.useEffect(()=>{M.current=g},[g]),w.useEffect(()=>{O.current=C},[C]),w.useEffect(()=>{G.current=T},[T]),w.useEffect(()=>{V.current=v},[v]),w.useEffect(()=>{ae.current=e},[e]),w.useEffect(()=>{ie.current=r},[r]),w.useEffect(()=>{ce.current=new Worker(new URL(""+new URL("dictionary.worker-DNPEQvc-.js",import.meta.url).href,import.meta.url),{type:"module"});const Ne=(Ie,Ce)=>{var Me;(Me=ce.current)==null||Me.postMessage({type:"SET_DICTIONARY",language:Ie,words:Array.from(Ce)})};return Ne("ru",Or),Ne("en",Ao),Ne("uz-latn",Io),Ne("uz-cyrl",jo),()=>{var Ie;(Ie=ce.current)==null||Ie.terminate()}},[]);const{isRecording:pe,startRecording:ke,stopRecording:re,visualizerDataRef:ye,autoStopCountdown:ve}=sc(e.silenceThreshold),{addNotification:J}=dn(),[le,ge]=w.useState("idle"),[de,xe]=w.useState(!1),[me,U]=w.useState(!1),K=w.useRef(null),ue=w.useRef(null),fe=w.useRef(0),$=w.useCallback(Ne=>{oe.current=Date.now();const Ie=b.current;if(f(Ne),q.current&&clearTimeout(q.current),B.current&&clearTimeout(B.current),Ne.length===0){m(0),S(0),y(0),x(0),i(e.enabled?"idle":"paused"),_("",0,0,["raw"]);return}if(Math.abs(Ne.length-Ie.length)>5){Math.min(G.current,Ne.length);const Me=Math.min(O.current,Ne.length),Cn=Math.min(M.current,Ne.length);V.current>Ne.length&&x(0),_(Ne,Cn,Me,["raw"])}else B.current=setTimeout(()=>{const Me=b.current;_(Me,M.current,O.current,["raw"])},w2);ie.current!=="recording"&&ie.current!=="transcribing"&&ie.current!=="ai_fixing"&&ie.current!=="ai_finalizing"&&i("typing"),q.current=setTimeout(()=>{ie.current==="typing"&&i(e.enabled?"idle":"paused")},v2);let Ce=0;for(;Ce<Ie.length&&Ce<Ne.length&&Ie[Ce]===Ne[Ce];)Ce++;Ce<G.current&&y(Ce),Ce<V.current&&x(Ce),Ce<O.current&&S(Ce),Ce<M.current&&m(Math.max(0,Ce))},[_,i,m,S,y,x,f,e.enabled]),we=w.useCallback(Ne=>{const Ie=K.current;if(!Ie){$(Ne);return}const Ce=Ie.selectionStart,Cn=b.current.substring(0,Ce),Zt=x0(Cn).length;$(Ne),setTimeout(()=>{K.current&&(K.current.focus(),K.current.setSelectionRange(Zt,Zt))},0)},[$]),{notifyActivity:Oe,reset:$e,processingOverlay:$t}=f2({textRef:b,committedLengthRef:M,correctedLengthRef:O,checkedLengthRef:G,checkingLengthRef:V,settingsRef:ae,statusRef:ie,language:n,setText:f,setCorrectedLength:S,setCommittedLength:m,setCheckedLength:y,setCheckingLength:x,finalizedSentences:A,addFinalizedSentence:j,addAiFixedSegment:E,unknownSegments:F,addUnknownSegments:P,saveCheckpoint:_,saveCheckpoints:D,onStatsUpdate:t,onStatusChange:i,onAutoFormat:we,workerRef:ce});w.useEffect(()=>{const Ne=setInterval(()=>{Date.now()-oe.current>k2&&ie.current==="idle"&&fe.current===0&&($e(),x(0),pe&&re(),oe.current=Date.now())},5e3);return()=>clearInterval(Ne)},[$e,pe,re]);const{handleUndo:Dt,handleRedo:Qe,handleKeyDown:Xt}=d2({undo:Z,redo:Q,toggleRecording:()=>Ic(),toggleProcessing:c,onStatusChange:i,onPauseProcessing:u}),mt=Ne=>{ue.current&&(ue.current.scrollTop=Ne.currentTarget.scrollTop)},dg=Ne=>{oe.current=Date.now();const Ie=Ne.currentTarget,Ce=Ie.value.substring(Ie.selectionStart,Ie.selectionEnd);Ce&&o(Ce)},fg=w.useCallback(Ne=>{oe.current=Date.now(),k(Ne)&&(i("paused"),u())},[k,i,u]);w.useEffect(()=>{s>0&&(re(),$e(),i("idle"),ge("idle"),xe(!1),x(0),fe.current=0,oe.current=Date.now())},[s,i,$e,x,re]);const pg=async()=>{oe.current=Date.now();const Ne=tt(n);if(ie.current==="recording"||ie.current==="enhancing"||!b.current.trim())return;if(M.current>=b.current.trim().length){J(Ne.nothingToImprove,"info");return}i("enhancing");const Ie=b.current;_(Ie,M.current,O.current,["pre_ai"]);try{const Ce=await o2(Ie,n);if(Ce&&Ce!==Ie){f(Ce);const Me=Ce.length;m(Me),S(Me),y(Me),x(Me),E(_n(Ce)),_(Ce,Me,Me,["enhanced","ai_corrected"]),t(1)}else{J(Ne.nothingToImprove,"info");const Me=Ie.length;m(Me),S(Me),y(Me),x(Me)}}catch(Ce){console.error("Enhance failed",Ce),J(n==="ru"?" ":"Enhance failed","error")}finally{i("idle")}},hg=Ne=>{$(Ne.target.value),Oe()},mg=w.useCallback(Ne=>{oe.current=Date.now();const Ie=new FileReader,Ce=Ne.type.startsWith("audio/"),Me=Ne.type.startsWith("image/");if(!Ce&&!Me){J(n==="ru"?"  ":"Unsupported file format","error");return}fe.current+=1,xe(!0),i("transcribing"),Ie.onload=async Cn=>{var Qn;if((Qn=Cn.target)!=null&&Qn.result){const Zt=Cn.target.result.split(",")[1];try{let Nn="";if(Ce?Nn=await Va(Zt,Ne.type,n,ae.current.audioModel):Me&&(Nn=await a2(Zt,Ne.type,n)),Nn&&Nn.trim()){const is=b.current,xg=is.trim().length>0&&!is.endsWith(" ")?" ":"",ls=is+xg+Nn,dl=ls.length;f(ls),Oe(),z(_n(Nn)),S(dl),y(dl),x(dl),t(1),_(ls,M.current,dl,["dictated","raw_dictation"]),setTimeout(()=>{K.current&&(K.current.scrollTop=K.current.scrollHeight,ue.current&&(ue.current.scrollTop=K.current.scrollHeight))},10)}}catch(Nn){console.error("Media processing failed",Nn),J(n==="ru"?"  ":"File processing error","error")}finally{fe.current-=1,fe.current<=0&&(fe.current=0,xe(!1),i(e.enabled?"idle":"paused"))}}},Ie.readAsDataURL(Ne)},[n,t,i,f,_,Oe,z,S,y,x,J]),Ac=w.useCallback(async(Ne,Ie)=>{fe.current+=1,xe(!0);try{let Ce=await Va(Ne,Ie,n,ae.current.audioModel);if(Ce&&Ce.trim()){oe.current=Date.now();const Me=b.current,Cn=Me.trim().length>0&&!Me.endsWith(" ")?" ":"",Qn=Me+Cn+Ce,Zt=Qn.length;f(Qn),Oe(),z(_n(Ce)),S(Zt),y(Zt),x(Zt),t(1),_(Qn,M.current,Zt,["dictated","raw_dictation"]),setTimeout(()=>{K.current&&(K.current.scrollTop=K.current.scrollHeight,ue.current&&(ue.current.scrollTop=K.current.scrollHeight))},10)}}catch(Ce){console.error("Chunk transcription failed",Ce)}finally{fe.current-=1,fe.current<=0&&(fe.current=0,xe(!1),rs.current)}},[n,t,f,_,Oe,z,S,y,x,e.enabled]),rs=w.useRef(pe);w.useEffect(()=>{rs.current=pe},[pe]);const Ic=w.useCallback(async()=>{if(!X.current){X.current=!0,oe.current=Date.now();try{if(me){await re(),U(!1),i(e.enabled?"idle":"paused"),ge("idle");return}rs.current?(i(e.enabled?"idle":"paused"),ge("idle"),await re()):($e(),fe.current=0,await ke(async(Ie,Ce)=>{await Ac(Ie,Ce)},Ie=>ge(Ie))&&(i("recording"),ge("listening")))}finally{setTimeout(()=>{X.current=!1},500)}}},[re,ke,i,Ac,$e,me,e.enabled]),gg=w.useCallback(async()=>{if(pe&&!me){await re();return}me?(await re(),U(!1),i(e.enabled?"idle":"paused")):($e(),await ke(async()=>{},Ie=>ge(Ie))&&(U(!0),i("recording"),ge("listening")))},[pe,me,re,ke,i,$e,e.enabled]);return{text:d,committedLength:g,correctedLength:C,checkedLength:T,checkingLength:v,processedLength:C,finalizedSentences:A,aiFixedSegments:N,dictatedSegments:I,unknownSegments:F,textareaRef:K,backdropRef:ue,isBusy:r!=="idle"&&r!=="typing"&&r!=="paused"&&r!=="done",canUndo:se,canRedo:W,handleScroll:mt,handleChange:hg,handleKeyDown:Xt,handleClipboardEvent:dg,handleUndo:Dt,handleRedo:Qe,handleEnhance:pg,toggleRecording:Ic,visualizerDataRef:ye,autoStopCountdown:ve,visualizerStatus:le,isAnalyzing:de,isRecording:pe,history:H,historyIndex:Y,handleHistoryJump:fg,lastHistoryUpdate:R,clearHistory:L,setFullText:$,handleMediaFile:mg,toggleDevRecording:gg,isDevRecording:me,processingOverlay:$t}};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var C2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ne=(e,t)=>{const n=w.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:s="",children:u,...c},d)=>w.createElement("svg",{ref:d,...C2,width:i,height:i,stroke:r,strokeWidth:o?Number(l)*24/Number(i):l,className:["lucide",`lucide-${N2(e)}`,s].join(" "),...c},[...t.map(([f,g])=>w.createElement(f,g)),...Array.isArray(u)?u:[u]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=ne("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=ne("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=ne("AlertOctagon",[["polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2",key:"h1p8hx"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=ne("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=ne("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=ne("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=ne("AudioWaveform",[["path",{d:"M2 13a2 2 0 0 0 2-2V7a2 2 0 0 1 4 0v13a2 2 0 0 0 4 0V4a2 2 0 0 1 4 0v13a2 2 0 0 0 4 0v-4a2 2 0 0 1 2-2",key:"57tc96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=ne("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=ne("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=ne("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=ne("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=ne("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=ne("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=ne("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=ne("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=ne("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=ne("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=ne("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=ne("ClipboardPaste",[["path",{d:"M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z",key:"1pp7kr"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10",key:"2ik1ml"}],["path",{d:"m17 10 4 4-4 4",key:"vp2hj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=ne("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=ne("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=ne("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=ne("FileAudio",[["path",{d:"M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"rslqgf"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0",key:"9f7x3i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=ne("FileInput",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 15h10",key:"jfw4w8"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=ne("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=ne("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=ne("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=ne("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=ne("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=ne("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=ne("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=ne("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=ne("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=ne("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=ne("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=ne("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=ne("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=ne("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=ne("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=ne("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=ne("MousePointer2",[["path",{d:"m4 4 7.07 17 2.51-7.39L21 11.07z",key:"1vqm48"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=ne("MoveVertical",[["polyline",{points:"8 18 12 22 16 18",key:"1uutw3"}],["polyline",{points:"8 6 12 2 16 6",key:"d60sxy"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=ne("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=ne("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=ne("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=ne("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=ne("PencilLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}],["path",{d:"m15 5 3 3",key:"1w25hb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=ne("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=ne("PinOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V17h12",key:"13x2n8"}],["path",{d:"M15 9.34V6h1a2 2 0 0 0 0-4H7.89",key:"reo3ki"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=ne("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=ne("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=ne("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=ne("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5v0A5.5 5.5 0 0 0 9.5 20H13",key:"19mnr4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=ne("Replace",[["path",{d:"M14 4c0-1.1.9-2 2-2",key:"1mvvbw"}],["path",{d:"M20 2c1.1 0 2 .9 2 2",key:"1mj6oe"}],["path",{d:"M22 8c0 1.1-.9 2-2 2",key:"v1wql3"}],["path",{d:"M16 10c-1.1 0-2-.9-2-2",key:"821ux0"}],["path",{d:"m3 7 3 3 3-3",key:"x25e72"}],["path",{d:"M6 10V5c0-1.7 1.3-3 3-3h1",key:"13af7h"}],["rect",{width:"8",height:"8",x:"2",y:"14",rx:"2",key:"17ihk4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=ne("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=ne("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=ne("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=ne("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=ne("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=ne("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=ne("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=ne("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=ne("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=ne("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=ne("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=ne("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=ne("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=ne("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=ne("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=ne("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=ne("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=ne("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=ne("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),yr=(e,t,n)=>e*(1-n)+t*n,Xi=w.memo(({visualizerDataRef:e,isRecording:t,lowCut:n=0,highCut:r=128,amp:i=.4,visualizerStyle:l="classic",silenceThreshold:o=15,norm:s=!1,gravity:u=2,mirror:c=!1,rounded:d=!1})=>{const f=w.useRef(null),g=w.useRef({lowCut:n,highCut:r,amp:i,visualizerStyle:l,silenceThreshold:o,norm:s,gravity:u,mirror:c,rounded:d}),m=w.useRef({volBass:0,volMid:0,volHigh:0,phaseFront:0,phaseMid:0,phaseBack:0,waveAlpha:0}),C=w.useRef([]);return w.useEffect(()=>{g.current={lowCut:n,highCut:r,amp:i,visualizerStyle:l,silenceThreshold:o,norm:s,gravity:u,mirror:c,rounded:d}},[n,r,i,l,o,s,u,c,d]),w.useEffect(()=>{const S=f.current;if(!S||!S.parentElement)return;let T=null;const y=new ResizeObserver(v=>{const x=v[0];x&&(T&&cancelAnimationFrame(T),T=requestAnimationFrame(()=>{const{width:A,height:j}=x.contentRect;(S.width!==Math.floor(A)||S.height!==Math.floor(j))&&(S.width=Math.floor(A),S.height=Math.floor(j))}))});return y.observe(S.parentElement),()=>{y.disconnect(),T&&cancelAnimationFrame(T)}},[]),w.useLayoutEffect(()=>{const S=f.current;if(!S)return;const T=S.getContext("2d",{alpha:!0});if(!T)return;C.current.length===0&&(C.current=new Array(256).fill(0));let y;const v=()=>{const x=S.width,A=S.height,j=x/2,N=A/2;T.clearRect(0,0,x,A);const{lowCut:E,highCut:I,amp:z,visualizerStyle:F,norm:P,gravity:_,silenceThreshold:D,mirror:Z,rounded:Q}=g.current,se=t?1:0;if(m.current.waveAlpha=yr(m.current.waveAlpha,se,.1),m.current.waveAlpha<.01){y=requestAnimationFrame(v);return}const W=e.current;if(!W){y=requestAnimationFrame(v);return}const H=m.current.waveAlpha,Y=(D||0)/100;if(F==="classic"){let k=0,R=0,L=0,b=0,M=0,O=0;for(let q=0;q<W.length;q++){if(q<E||q>I)continue;let B=W[q]/255;B<Y?B=0:B=(B-Y)/(1-Y),P&&B>0&&(B=Math.pow(B,.6)),B<.05&&(B=0),q<=5?(k+=B,b++):q<=30?(R+=B,M++):(L+=B,O++)}b>0&&(k/=b),M>0&&(R/=M),O>0&&(L/=O);const G=Math.max(.1,k*6),V=Math.max(.05,R*5),ae=Math.max(.02,L*3),ie=_*.1;m.current.volBass=yr(m.current.volBass,G,G>m.current.volBass?.2:ie),m.current.volMid=yr(m.current.volMid,V,V>m.current.volMid?.2:ie),m.current.volHigh=yr(m.current.volHigh,ae,ae>m.current.volHigh?.2:ie),m.current.phaseBack+=.003,m.current.phaseMid+=.01,m.current.phaseFront+=.03,[{color:`rgba(56, 189, 248, ${.3*H})`,lineWidth:2,amplitudeMod:.8,freqMod:.8,phase:m.current.phaseBack,volume:m.current.volBass,phaseOffset:0},{color:`rgba(168, 85, 247, ${.5*H})`,lineWidth:3,amplitudeMod:.9,freqMod:1,phase:m.current.phaseMid,volume:m.current.volMid,phaseOffset:2},{color:`rgba(99, 102, 241, ${.9*H})`,lineWidth:2,amplitudeMod:1.1,freqMod:.8,phase:m.current.phaseFront,volume:m.current.volHigh,phaseOffset:4}].forEach(q=>{T.beginPath(),T.strokeStyle=q.color,T.lineWidth=q.lineWidth,T.lineCap="round",T.lineJoin="round";let B=!1;for(let X=0;X<=x;X+=2){const ce=X/x*2-1,pe=Math.pow(1-Math.abs(ce),3),ke=Math.sin(X*.01*q.freqMod+q.phase+q.phaseOffset),re=1+q.volume*2,ye=Math.sin(X*.1*re+q.phase*5),ve=(ke*.5+ye*.8)*(q.volume*(A*.4)*q.amplitudeMod*z),J=N+ve*pe;B?T.lineTo(X,J):(T.moveTo(X,J),B=!0)}T.stroke()})}else if(F==="bars"){const k=I-E,R=Math.floor(k/2),b=(Z?x/2:x)/R,M=_*.02;for(let O=0;O<R;O++){const G=E+O*2;if(G>=W.length)break;let V=W[G]/255;V<Y?V=0:V=(V-Y)/(1-Y),P&&V>0&&(V=Math.pow(V,.6));const ae=V*A*.8*z,ie=C.current[O]||0;let oe=ie;ae>ie?oe=ae:oe=yr(ie,ae,M),C.current[O]=oe;const q=O*2+200;if(T.fillStyle=`hsla(${q}, 80%, 60%, ${H})`,Z){const B=O*b;T.fillRect(j+B,N-oe/2,b-1,oe),T.fillRect(j-B-b,N-oe/2,b-1,oe)}else{const B=O*b;T.fillRect(B,N-oe/2,b-1,oe)}}}else if(F==="circular"){const k=Math.min(x,A)*.2,R=I-E,L=2,b=Math.floor(R/L),M=_*.02,O=Z?Math.PI/b:2*Math.PI/b,G=0;T.translate(j,N);for(let V=0;V<b;V++){const ae=E+V*L;if(ae>=W.length)break;let ie=W[ae]/255;ie<Y?ie=0:ie=(ie-Y)/(1-Y),P&&ie>0&&(ie=Math.pow(ie,.6));const oe=ie*(Math.min(x,A)*.3)*z,q=C.current[V]||0;let B=q;oe>q?B=oe:B=yr(q,oe,M),C.current[V]=B;const X=V*3+240;T.fillStyle=`hsla(${X}, 90%, 65%, ${H})`;const ce=Z?3:2;if(Z){const pe=V*O;T.save(),T.rotate(G-pe),T.fillRect(0,k,ce,B),T.restore(),T.save(),T.rotate(G+pe),T.fillRect(0,k,ce,B),T.restore()}else{const pe=V*O;T.save(),T.rotate(G+pe),T.fillRect(0,k,ce,B),T.restore()}}T.setTransform(1,0,0,1,0,0)}else if(F==="wave"){T.beginPath(),T.strokeStyle=`rgba(99, 102, 241, ${H})`,T.lineWidth=2,T.lineJoin="round",T.lineCap="round";const k=I-E,R=(b,M,O=1)=>{let G=W[E+b]/255;G<Y?G=0:G=(G-Y)/(1-Y),P&&G>0&&(G=Math.pow(G,.6));const V=G*(A*.4)*z,ae=b%2===0?1:-1;return{x:M,y:N+V*ae*O}},L=b=>{if(!(b.length<2))if(T.moveTo(b[0].x,b[0].y),Q){for(let M=1;M<b.length-2;M++){const O=(b[M].x+b[M+1].x)/2,G=(b[M].y+b[M+1].y)/2;T.quadraticCurveTo(b[M].x,b[M].y,O,G)}b.length>2?T.quadraticCurveTo(b[b.length-2].x,b[b.length-2].y,b[b.length-1].x,b[b.length-1].y):T.lineTo(b[1].x,b[1].y)}else for(let M=1;M<b.length;M++)T.lineTo(b[M].x,b[M].y)};if(Z){const b=x/2/k,M=[];for(let G=0;G<k;G++)M.push(R(G,j+G*b));L(M);const O=[];for(let G=0;G<k;G++)O.push(R(G,j-G*b));O.length>0&&(T.moveTo(j,N),L(O))}else{const b=x/k,M=[];let O=0;for(let G=0;G<k;G++)M.push(R(G,O)),O+=b;L(M)}T.stroke()}y=requestAnimationFrame(v)};return v(),()=>cancelAnimationFrame(y)},[t,e]),a.jsx("canvas",{ref:f,className:"absolute inset-0 w-full h-full pointer-events-none z-0 opacity-80"})}),pk=({text:e,committedLength:t,correctedLength:n,checkedLength:r,checkingLength:i,finalizedSentences:l,aiFixedSegments:o,dictatedSegments:s,unknownSegments:u,status:c,visualizerStatus:d,isAnalyzing:f,isRecording:g,language:m,textareaRef:C,backdropRef:S,onChange:T,onScroll:y,onKeyDown:v,onClipboard:x,onPaste:A,visualizerDataRef:j,onInteraction:N,isPaused:E,showResumeAnimation:I,lowCut:z=0,highCut:F=128,amp:P=.4,visualizerStyle:_="classic",silenceThreshold:D,visualizerNorm:Z=!1,visualizerGravity:Q=2,visualizerMirror:se=!1,onDropFile:W,processingOverlay:H})=>{const Y=tt(m),[k,R]=w.useState(!1),L=V=>{V.preventDefault(),V.stopPropagation(),R(!0)},b=V=>{V.preventDefault(),V.stopPropagation(),!V.currentTarget.contains(V.relatedTarget)&&R(!1)},M=V=>{if(V.preventDefault(),V.stopPropagation(),R(!1),V.dataTransfer.files&&V.dataTransfer.files.length>0){const ae=V.dataTransfer.files[0];W&&W(ae)}},O=V=>V.toLowerCase().replace(/[^a-zA-Z--0-9'`]/g,"").trim(),G=w.useMemo(()=>{const V=yi(e),ae=Math.min(t,e.length),ie=Math.min(Math.max(ae,n),e.length),oe=Math.min(Math.max(ie,r),e.length),q=Math.min(Math.max(oe,i),e.length),X=c==="ai_fixing"||c==="ai_finalizing"||c==="enhancing"?H:null;return V.map((ce,pe)=>{const ke=_n(ce.text),re=ce.start<ae&&ce.end>ae;if(X){const de=Math.max(ce.start,X.start);if(Math.min(ce.end,X.end)>de){if(X.type==="fixing")return a.jsx("span",{className:"text-fuchsia-300 animate-pulse brightness-150 transition-all duration-300",children:ce.text},pe);if(X.type==="finalizing")return a.jsx("span",{className:"text-emerald-300 animate-pulse brightness-150 transition-all duration-300",children:ce.text},pe)}}if(!re){if(l.has(ke))return a.jsx("span",{className:"text-emerald-500 transition-colors duration-500",children:ce.text},pe);if(s.has(ke))return a.jsx("span",{className:"text-orange-400 transition-colors duration-500",children:ce.text},pe)}const ye=(de,xe)=>{const me=xe+de.length;if(X){const U=Math.max(xe,X.start);if(Math.min(me,X.end)>U){if(X.type==="fixing")return a.jsx("span",{className:"text-fuchsia-300 animate-pulse brightness-150 transition-all duration-300",children:de},xe);if(X.type==="finalizing")return a.jsx("span",{className:"text-emerald-300 animate-pulse brightness-150 transition-all duration-300",children:de},xe)}}if(me<=ae&&!re)return a.jsx("span",{className:"text-emerald-500 transition-colors duration-500",children:de},xe);if(E)return a.jsx("span",{className:"text-slate-200 transition-colors duration-200",children:de},xe);if(me<=ie)return o.has(ke)?a.jsx("span",{className:"text-violet-400 font-medium transition-colors duration-300",children:de},xe):a.jsx("span",{className:"text-sky-400 transition-colors duration-300",children:de},xe);if(xe>=ie&&me<=oe){const U=de.split(/([^\s.,!?;:()""''\-\/_+]+)/);return a.jsx("span",{children:U.map((K,ue)=>{if(!K)return null;if(/[a-zA-Z--'`0-9]/.test(K)){const $=O(K);if($.length<=3)return a.jsx("span",{className:"text-sky-400 transition-colors duration-200",children:K},ue);const we=u.has($);return a.jsx("span",{className:we?"text-red-400 font-medium transition-colors duration-200":"text-sky-400 transition-colors duration-200",children:K},ue)}return a.jsx("span",{className:"text-sky-400 transition-colors duration-200",children:K},ue)})},xe)}return me<=q?a.jsx("span",{className:"text-yellow-400 font-medium transition-colors duration-300",children:de},xe):a.jsx("span",{className:"text-slate-200 transition-colors duration-200",children:de},xe)},ve=[ae,ie,oe,q].filter(de=>de>ce.start&&de<ce.end);if(ve.length===0)return ye(ce.text,ce.start);const J=[];let le=ce.start;const ge=[...new Set(ve)].sort((de,xe)=>de-xe);for(const de of ge){const xe=e.slice(le,de);J.push(ye(xe,le)),le=de}if(le<ce.end){const de=e.slice(le,ce.end);J.push(ye(de,le))}return a.jsx(Pi.Fragment,{children:J},pe)})},[e,t,n,r,i,l,o,s,u,H,E,c]);return a.jsxs("div",{className:"relative flex-1 w-full overflow-hidden",onDragOver:L,onDragLeave:b,onDrop:M,children:[k&&a.jsxs("div",{className:"absolute inset-4 z-50 rounded-3xl border-4 border-dashed border-indigo-500/50 bg-slate-900/90 backdrop-blur-sm flex flex-col items-center justify-center animate-in fade-in duration-200 pointer-events-none",children:[a.jsx("div",{className:"p-6 rounded-full bg-indigo-500/20 mb-4 animate-bounce",children:a.jsx(O2,{className:"w-12 h-12 text-indigo-400"})}),a.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:Y.dropHere||"Drop file here"}),a.jsx("p",{className:"text-slate-400 text-sm",children:Y.dropHint||"Audio or Image"})]}),a.jsx(Xi,{visualizerDataRef:j,isRecording:g,lowCut:z,highCut:F,amp:P,visualizerStyle:_,silenceThreshold:D,norm:Z,gravity:Q,mirror:se}),a.jsx("div",{className:`absolute inset-0 flex items-center justify-center z-0 pointer-events-none transition-[opacity,transform] duration-500 ease-in-out ${E?"opacity-100 scale-100":"opacity-0 scale-110 scale-95"}`,children:a.jsxs("div",{className:"flex flex-col items-center text-slate-700/20 select-none",children:[a.jsx(Pn,{className:"w-32 h-32 md:w-48 md:h-48 fill-current"}),a.jsx("span",{className:"text-2xl md:text-4xl font-black tracking-[0.5em] uppercase mt-4",children:Y.statusPaused})]})}),a.jsx("div",{className:`absolute inset-0 flex items-center justify-center z-20 pointer-events-none transition-[opacity,transform] duration-500 ease-in-out ${I?"opacity-100 scale-100":"opacity-0 scale-110"}`,children:a.jsx("div",{className:"flex flex-col items-center justify-center p-12 bg-slate-900/40 backdrop-blur-sm rounded-3xl shadow-2xl border border-emerald-500/20",children:a.jsx(Xo,{className:"w-24 h-24 text-emerald-400 fill-current animate-pulse"})})}),a.jsxs("div",{className:"absolute bottom-24 left-1/2 -translate-x-1/2 z-20 flex flex-col-reverse items-center gap-3 pointer-events-none",children:[a.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border shadow-lg backdrop-blur-md transition-all duration-500 ease-out transform ${g?"opacity-100 translate-y-0 scale-100 bg-orange-950/80 border-orange-500/50 text-orange-200 shadow-orange-500/20":"opacity-0 translate-y-8 scale-90"}`,children:[a.jsx(an,{className:"w-4 h-4 text-orange-400"}),a.jsx("span",{className:"text-xs font-bold tracking-wider",children:Y.visListening||"LISTENING"})]}),a.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border shadow-lg backdrop-blur-md transition-all duration-500 ease-out transform ${f?"opacity-100 translate-y-0 scale-100 bg-sky-950/80 border-sky-500/50 text-sky-200 shadow-sky-500/20":"opacity-0 translate-y-4 scale-90 h-0 py-0 border-0 overflow-hidden"}`,children:[a.jsx(kn,{className:"w-4 h-4 text-sky-400 animate-spin"}),a.jsx("span",{className:"text-xs font-bold tracking-wider",children:Y.visAnalyzing||"ANALYZING"})]})]}),a.jsxs("div",{ref:S,className:"custom-scrollbar absolute inset-0 w-full h-full p-8 pb-32 text-lg leading-relaxed font-medium whitespace-pre-wrap break-words overflow-y-scroll cursor-text z-10","aria-hidden":"true",onClick:N,children:[G,e.endsWith(`
`)&&a.jsx("br",{})]}),a.jsx("textarea",{ref:C,value:e,onChange:T,onScroll:y,onKeyDown:v,onCopy:x,onCut:x,onPaste:A,onClick:N,placeholder:Y.placeholder,className:"custom-scrollbar absolute inset-0 w-full h-full p-8 pb-32 resize-none focus:outline-none text-lg leading-relaxed font-medium bg-transparent text-transparent caret-white placeholder:text-slate-700 z-20 overflow-y-scroll break-words",spellCheck:!1})]})},Te=({content:e,children:t,side:n="top",align:r="center"})=>{const i=()=>{switch(n){case"top":return`bottom-full mb-2 ${r==="start"?"left-0":r==="end"?"right-0":"left-1/2 -translate-x-1/2"}`;case"bottom":return`top-full mt-2 ${r==="start"?"left-0":r==="end"?"right-0":"left-1/2 -translate-x-1/2"}`;case"left":return"right-full top-1/2 -translate-y-1/2 mr-2";case"right":return"left-full top-1/2 -translate-y-1/2 ml-2";default:return""}},l=()=>{let o="absolute w-2 h-2 bg-slate-800 border-slate-700 transform rotate-45";return n==="top"?(o+=" bottom-[-5px] border-b border-r",r==="center"&&(o+=" left-1/2 -translate-x-1/2"),r==="start"&&(o+=" left-3"),r==="end"&&(o+=" right-3")):n==="bottom"?(o+=" top-[-5px] border-t border-l",r==="center"&&(o+=" left-1/2 -translate-x-1/2"),r==="start"&&(o+=" left-3"),r==="end"&&(o+=" right-3")):n==="left"?o+=" right-[-5px] top-1/2 -translate-y-1/2 border-t border-r":n==="right"&&(o+=" left-[-5px] top-1/2 -translate-y-1/2 border-b border-l"),o};return a.jsxs("div",{className:"relative flex items-center group z-40 hover:z-[1000] transition-none",children:[t,e&&a.jsxs("div",{className:`
            absolute pointer-events-none z-[9999] px-3 py-2 
            bg-slate-800/95 border border-slate-700/80 rounded-lg shadow-2xl backdrop-blur-md
            whitespace-pre-wrap text-[10px] font-medium text-slate-200 tracking-wide
            opacity-0 group-hover:opacity-100 transition-opacity duration-200
            select-none w-max max-w-[200px] text-center
            ${i()}
          `,children:[e,a.jsx("div",{className:l()})]})]})},hk=w.forwardRef(({textLength:e,committedLength:t,processedLength:n,status:r,language:i,isBusy:l,canUndo:o,canRedo:s,onUndo:u,onRedo:c,onRecord:d,onEnhance:f,onFileUpload:g,autoStopCountdown:m,onHistoryClick:C,isHistoryOpen:S,developerMode:T=!1,onDevRecord:y,isDevRecording:v=!1,showClipboard:x,onToggleClipboard:A,isRecording:j},N)=>{const E=tt(i),I=r==="enhancing",[z,F]=w.useState(null),P=w.useRef(null);w.useImperativeHandle(N,()=>({setFile:W=>{F(W)}}));const _=W=>{W.target.files&&W.target.files[0]&&F(W.target.files[0])},D=()=>{z&&(g(z),F(null),P.current&&(P.current.value=""))},Z=()=>{F(null),P.current&&(P.current.value="")},se=j&&!v?{text:E.btnStop,icon:a.jsx(fr,{className:"w-5 h-5 md:w-4 md:h-4 fill-current animate-pulse"}),className:"bg-red-500/20 text-red-400 border-red-500/50 hover:bg-red-500/30",disabled:!1,tooltip:E.btnStop}:{text:E.btnRecord,icon:a.jsx(an,{className:"w-5 h-5 md:w-4 md:h-4"}),className:v?"opacity-50 cursor-not-allowed bg-slate-800 border-slate-700":"bg-slate-800 text-slate-300 border-slate-700 hover:bg-slate-700",disabled:v,tooltip:E.btnRecord};return a.jsxs("div",{className:"absolute bottom-0 md:bottom-6 left-0 md:left-auto md:right-6 w-full md:w-auto flex md:inline-flex items-center justify-between md:justify-start gap-3 md:gap-4 z-30 pointer-events-auto select-none bg-slate-900/90 md:bg-transparent backdrop-blur-lg md:backdrop-blur-none border-t md:border-none border-slate-800 p-3 md:p-0 safe-area-bottom",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"hidden sm:flex items-center gap-3",children:[a.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-emerald-950/30 rounded border border-emerald-900/50",children:[a.jsx(Ro,{className:"w-3 h-3 text-emerald-500"}),a.jsxs("span",{className:"text-[10px] text-emerald-400 font-mono",children:[Math.round(t/(e||1)*100),"%"]})]}),n>t&&a.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-sky-950/30 rounded border border-sky-900/50 animate-in fade-in zoom-in duration-300",children:[a.jsx(v0,{className:"w-3 h-3 text-sky-400"}),a.jsx("span",{className:"text-[10px] text-sky-400 font-mono",children:n-t})]})]}),a.jsxs("span",{className:"text-xs text-slate-600 font-mono md:hidden",children:[e," ",E.chars]})]}),a.jsxs("div",{className:"hidden md:block text-xs text-slate-600 font-mono",children:[e," ",E.chars]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex items-center bg-slate-800 rounded-lg p-1 border border-slate-700 shadow-lg",children:[a.jsx(Te,{content:E.btnUndo,side:"top",children:a.jsx("button",{onClick:u,disabled:!o||l,className:"p-2 md:p-1.5 rounded hover:bg-slate-700 text-slate-400 hover:text-white disabled:opacity-30 disabled:hover:bg-transparent transition-colors touch-manipulation",children:a.jsx(ak,{className:"w-5 h-5 md:w-4 md:h-4"})})}),a.jsx("div",{className:"w-px h-5 md:h-4 bg-slate-700 mx-1"}),a.jsx(Te,{content:E.btnRedo,side:"top",children:a.jsx("button",{onClick:c,disabled:!s||l,className:"p-2 md:p-1.5 rounded hover:bg-slate-700 text-slate-400 hover:text-white disabled:opacity-30 disabled:hover:bg-transparent transition-colors touch-manipulation",children:a.jsx(ek,{className:"w-5 h-5 md:w-4 md:h-4"})})}),a.jsx("div",{className:"w-px h-5 md:h-4 bg-slate-700 mx-1"}),a.jsx(Te,{content:E.historyTitle,side:"top",children:a.jsx("button",{onClick:C,className:`p-2 md:p-1.5 rounded transition-colors touch-manipulation ${S?"bg-indigo-600 text-white":"text-slate-400 hover:bg-slate-700 hover:text-white"}`,children:a.jsx(qa,{className:"w-5 h-5 md:w-4 md:h-4"})})})]}),a.jsx("div",{className:"flex items-center bg-slate-800 rounded-lg p-1 border border-slate-700 shadow-lg",children:a.jsx(Te,{content:E.clipboardTitle,side:"top",children:a.jsx("button",{onClick:A,className:`p-2 md:p-1.5 rounded transition-colors touch-manipulation ${x?"bg-indigo-600 text-white":"text-slate-400 hover:bg-slate-700 hover:text-white"}`,children:a.jsx(Yr,{className:"w-5 h-5 md:w-4 md:h-4"})})})}),T&&y&&a.jsx(Te,{content:E.btnDevRecord||"Dictate (DEV)",side:"top",children:a.jsx("button",{onClick:y,className:`flex items-center justify-center p-2.5 md:p-2 rounded-lg text-sm font-medium shadow-lg transition-all active:scale-95 group border touch-manipulation ${v?"bg-fuchsia-900/50 text-fuchsia-400 border-fuchsia-500/50 hover:bg-fuchsia-900/70 animate-pulse":"bg-slate-800 text-fuchsia-500 border-slate-700 hover:bg-slate-700"}`,children:v?a.jsx(fr,{className:"w-5 h-5 md:w-4 md:h-4 fill-current"}):a.jsx(sk,{className:"w-5 h-5 md:w-4 md:h-4"})})}),a.jsx(Te,{content:se.tooltip,side:"top",children:a.jsxs("button",{onClick:d,disabled:se.disabled,className:`flex items-center justify-center gap-2 px-4 md:px-4 py-2.5 md:py-2 rounded-lg text-sm font-medium shadow-lg transition-all active:scale-95 group border touch-manipulation ${se.className}`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[se.icon,a.jsx("span",{className:"hidden md:inline font-semibold",children:se.text})]}),j&&!v&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mx-2 h-4 w-px bg-red-400/40"}),a.jsx("div",{className:"w-4 flex justify-center text-xs font-mono font-bold tabular-nums",children:typeof m=="number"?m:""})]})]})}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("input",{type:"file",ref:P,className:"hidden",accept:"audio/*,image/*",onChange:_}),z?a.jsxs("div",{className:"flex items-center gap-1 bg-slate-800 rounded-lg border border-slate-700 p-1 pr-2 animate-in fade-in slide-in-from-bottom-2",children:[a.jsx("button",{onClick:Z,className:"p-1 hover:bg-slate-700 rounded text-slate-400 hover:text-red-400",children:a.jsx(wt,{className:"w-4 h-4"})}),a.jsxs("span",{className:"text-xs text-slate-300 max-w-[80px] truncate flex items-center gap-1",children:[z.type.startsWith("image/")?a.jsx(B2,{className:"w-3 h-3 shrink-0"}):a.jsx(uc,{className:"w-3 h-3 shrink-0"}),z.name]}),a.jsx("button",{onClick:D,className:"ml-1 p-1 bg-indigo-600 hover:bg-indigo-500 text-white rounded shadow-sm",title:i==="ru"?"":"Process",children:a.jsx(dc,{className:"w-3.5 h-3.5"})})]}):a.jsx(Te,{content:E.uploadMedia||"Upload Audio/Image",side:"top",children:a.jsx("button",{onClick:()=>{var W;return(W=P.current)==null?void 0:W.click()},disabled:l,className:"p-2.5 md:p-2 rounded-lg bg-slate-800 text-slate-300 border border-slate-700 hover:bg-slate-700 hover:text-white transition-colors",children:a.jsx(ck,{className:"w-5 h-5 md:w-4 md:h-4"})})})]}),a.jsx(Te,{content:E.btnEnhance,side:"top",children:a.jsxs("button",{onClick:f,disabled:l||I,className:`flex items-center gap-2 px-4 md:px-4 py-2.5 md:py-2 rounded-lg text-sm font-medium shadow-lg transition-all active:scale-95 group touch-manipulation
                ${I?"bg-indigo-600 text-white cursor-wait opacity-80 border border-indigo-500 shadow-indigo-900/50":"bg-slate-800 text-slate-400 border border-slate-700 hover:bg-purple-600 hover:text-white hover:border-purple-500 hover:shadow-purple-900/30"}
            `,children:[I?a.jsx(Ji,{className:"w-5 h-5 md:w-4 md:h-4 animate-spin"}):a.jsx(al,{className:"w-5 h-5 md:w-4 md:h-4 group-hover:rotate-12 transition-transform"}),a.jsx("span",{className:"hidden md:inline",children:E.btnEnhance})]})})]})]})}),mk=({history:e,currentIndex:t,isOpen:n,onClose:r,onRestore:i,onClear:l,language:o})=>{const s=tt(o),[u,c]=w.useState(!1);w.useEffect(()=>{const m=setTimeout(()=>c(!0),100);return()=>clearTimeout(m)},[]);const d=m=>new Intl.DateTimeFormat(o==="ru"?"ru-RU":"en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date(m)),f=m=>{switch(m){case"raw_dictation":return a.jsxs("span",{className:"flex items-center gap-0.5 px-1.5 py-0.5 rounded-md bg-orange-900/40 text-orange-300 text-[10px] font-semibold border border-orange-700/50 shadow-sm",title:s.tagRawDictation||"Raw Dictation",children:[a.jsx(an,{className:"w-3 h-3"}),a.jsx("span",{className:"hidden sm:inline",children:s.tagRawDictation||"Raw Dictation"})]});case"pre_ai":return a.jsxs("span",{className:"flex items-center gap-0.5 px-1.5 py-0.5 rounded-md bg-slate-700 text-slate-200 text-[10px] font-semibold border border-slate-600 shadow-sm",title:"Snapshot before AI processing",children:[a.jsx(b0,{className:"w-3 h-3"}),a.jsx("span",{className:"hidden sm:inline",children:"Before AI"})]});case"ai_corrected":return a.jsxs("span",{className:"flex items-center gap-0.5 px-1.5 py-0.5 rounded-md bg-purple-900/40 text-purple-300 text-[10px] font-semibold border border-purple-700/50 shadow-sm",title:s.tagAiCorrected||"AI Corrected",children:[a.jsx(al,{className:"w-3 h-3"}),a.jsx("span",{className:"hidden sm:inline",children:s.tagAiCorrected||"AI Corrected"})]});case"raw":return a.jsxs("span",{className:"flex items-center gap-0.5 px-1.5 py-0.5 rounded-md bg-slate-700/50 text-slate-300 text-[9px] border border-slate-600/50",title:s.tagRaw,children:[a.jsx(Po,{className:"w-2.5 h-2.5"}),a.jsx("span",{className:"hidden sm:inline",children:s.tagRaw})]});case"dictated":return a.jsxs("span",{className:"flex items-center gap-0.5 px-1.5 py-0.5 rounded-md bg-red-900/30 text-red-300 text-[9px] border border-red-800/50",title:s.tagDictated,children:[a.jsx(an,{className:"w-2.5 h-2.5"}),a.jsx("span",{className:"hidden sm:inline",children:s.tagDictated})]});case"processed":return a.jsxs("span",{className:"flex items-center gap-0.5 px-1.5 py-0.5 rounded-md bg-amber-900/30 text-amber-300 text-[9px] border border-amber-800/50",title:s.tagProcessed,children:[a.jsx(kn,{className:"w-2.5 h-2.5"}),a.jsx("span",{className:"hidden sm:inline",children:s.tagProcessed})]});case"finalized":return a.jsxs("span",{className:"flex items-center gap-0.5 px-1.5 py-0.5 rounded-md bg-emerald-900/30 text-emerald-300 text-[9px] border border-emerald-800/50",title:s.tagFinalized,children:[a.jsx(v0,{className:"w-2.5 h-2.5"}),a.jsx("span",{className:"hidden sm:inline",children:s.tagFinalized})]});case"enhanced":return a.jsxs("span",{className:"flex items-center gap-0.5 px-1.5 py-0.5 rounded-md bg-pink-900/30 text-pink-300 text-[9px] border border-pink-800/50",title:s.tagEnhanced,children:[a.jsx(kn,{className:"w-2.5 h-2.5"}),a.jsx("span",{className:"hidden sm:inline",children:s.tagEnhanced})]});case"reset":return a.jsxs("span",{className:"flex items-center gap-0.5 px-1.5 py-0.5 rounded-md bg-slate-800 text-slate-400 text-[9px] border border-slate-700 font-mono",children:[a.jsx(un,{className:"w-2.5 h-2.5"}),a.jsx("span",{className:"hidden sm:inline",children:"Reset"})]});default:return null}},g=[...e].map((m,C)=>({item:m,idx:C})).reverse();return a.jsxs("div",{className:`
            absolute top-0 right-0 w-80 h-full bg-slate-900 border-l border-slate-800 shadow-2xl z-40 
            flex flex-col no-drag
            ${u?"transition-transform duration-300 ease-in-out":""} 
            ${n?"translate-x-0":"translate-x-full"}
        `,children:[a.jsxs("div",{className:"p-4 border-b border-slate-800 flex items-center justify-between shrink-0 select-none",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(qa,{className:"w-4 h-4 text-indigo-400"}),a.jsx("h3",{className:"text-sm font-semibold text-slate-200",children:s.historyTitle})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:l,className:"p-1.5 hover:bg-slate-800 rounded text-slate-500 hover:text-red-400 transition-colors",title:s.clipboardClear||"Clear History",children:a.jsx(un,{className:"w-4 h-4"})}),a.jsx("div",{className:"w-px h-4 bg-slate-800 mx-1"}),a.jsx("button",{onClick:r,className:"p-1 hover:bg-slate-800 rounded text-slate-500 hover:text-white transition-colors",children:a.jsx(wt,{className:"w-4 h-4"})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2 space-y-2",children:e.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-slate-600 space-y-2",children:[a.jsx(qa,{className:"w-8 h-8 opacity-50"}),a.jsx("p",{className:"text-xs",children:s.historyEmpty})]}):g.map(({item:m,idx:C})=>{var A,j,N;const S=C===t,T=(A=m.tags)==null?void 0:A.includes("raw_dictation"),y=(j=m.tags)==null?void 0:j.includes("ai_corrected"),v=(N=m.tags)==null?void 0:N.includes("pre_ai");let x="border-slate-700/50";return T&&(x="border-orange-900/50"),y&&(x="border-purple-900/50"),v&&(x="border-slate-600/80"),S&&(x="border-indigo-500/50"),a.jsxs("div",{onClick:()=>!S&&i(C),className:`
                        group relative rounded-lg p-3 transition-all border
                        ${x}
                        ${S?"bg-indigo-900/20 cursor-default":"bg-slate-800/50 hover:bg-slate-800 hover:border-slate-600 cursor-pointer"}
                    `,children:[a.jsx("div",{className:"flex items-center justify-between mb-2",children:a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("span",{className:"text-[10px] text-slate-500 font-mono",children:d(m.timestamp)}),m.tags&&m.tags.length>0&&a.jsx("div",{className:"flex gap-1 flex-wrap",children:m.tags.map(E=>a.jsx(Pi.Fragment,{children:f(E)},E))})]})}),a.jsx("p",{className:`text-xs line-clamp-3 font-medium break-all opacity-90 group-hover:opacity-100 ${T?"text-orange-200":y?"text-purple-200":"text-slate-300"}`,children:m.text||a.jsx("span",{className:"text-slate-600 italic",children:"Empty"})}),!S&&a.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx("div",{className:"p-1.5 bg-indigo-600 text-white rounded-md shadow-lg",children:a.jsx(cc,{className:"w-3.5 h-3.5"})})}),S&&a.jsx("div",{className:"absolute top-2 right-2",children:a.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-bold text-indigo-400 bg-indigo-900/30 px-1.5 py-0.5 rounded",children:[a.jsx(_2,{className:"w-3 h-3"}),a.jsx("span",{className:"hidden sm:inline",children:s.historyCurrent})]})})]},m.id)})})]})},gk=w.forwardRef((e,t)=>{const{text:n,committedLength:r,correctedLength:i,checkedLength:l,checkingLength:o,finalizedSentences:s,aiFixedSegments:u,dictatedSegments:c,unknownSegments:d,textareaRef:f,backdropRef:g,isBusy:m,canUndo:C,canRedo:S,handleScroll:T,handleChange:y,handleKeyDown:v,handleClipboardEvent:x,handleUndo:A,handleRedo:j,handleEnhance:N,toggleRecording:E,visualizerDataRef:I,autoStopCountdown:z,visualizerStatus:F,isAnalyzing:P,isRecording:_,history:D,historyIndex:Z,handleHistoryJump:Q,lastHistoryUpdate:se,clearHistory:W,setFullText:H,handleMediaFile:Y,toggleDevRecording:k,isDevRecording:R,processingOverlay:L}=b2(e),{addNotification:b}=dn();tt(e.language);const[M,O]=w.useState(!1),G=w.useRef(!0),V=w.useRef(null),ae=async q=>{if(window.require)try{const{clipboard:B}=window.require("electron");B.writeText(q);return}catch(B){console.warn("Electron clipboard write error (fallback to web)",B)}try{await navigator.clipboard.writeText(q)}catch(B){throw console.error("Web clipboard write error",B),B}},ie=async()=>{if(window.require)try{const{clipboard:q}=window.require("electron");return q.readText()}catch(q){console.warn("Electron clipboard read error (fallback to web)",q)}try{return await navigator.clipboard.readText()}catch(q){throw console.error("Web clipboard read error",q),q}},oe=w.useCallback(q=>{if(q.clipboardData&&q.clipboardData.files.length>0){const B=q.clipboardData.files[0];if(B.type.startsWith("image/")){q.preventDefault(),V.current&&(V.current.setFile(B),b(e.language==="ru"?" ":"Image pasted","success"));return}}},[e.language,b]);return w.useImperativeHandle(t,()=>({getText:()=>n,clear:()=>{H("")},copy:async()=>{if(n)try{await ae(n),b(e.language==="ru"?"!":"Copied!","success")}catch{b(e.language==="ru"?" ":"Copy failed","error")}},cut:async()=>{if(n)try{await ae(n),H(""),b(e.language==="ru"?"!":"Cut!","success")}catch{b(e.language==="ru"?"":"Error","error")}},paste:async()=>{try{try{const X=await navigator.clipboard.read();for(const ce of X){const pe=ce.types.find(ke=>ke.startsWith("image/"));if(pe){const ke=await ce.getType(pe),re=new File([ke],`pasted_image_${Date.now()}.png`,{type:pe});V.current&&(V.current.setFile(re),b(e.language==="ru"?" ":"Image pasted","success"));return}}}catch{}const q=await ie();if(!q)return;const B=f.current;if(B){const X=B.selectionStart,ce=B.selectionEnd,pe=n.length;let ke="",re=0;pe>0&&X===0&&ce===0?(ke=n+q,re=ke.length):(ke=n.substring(0,X)+q+n.substring(ce),re=X+q.length),H(ke),setTimeout(()=>{f.current&&(f.current.focus(),f.current.setSelectionRange(re,re))},10)}else H(n+q)}catch(q){console.error("Paste failed",q),b(e.language==="ru"?"  ( ?)":"Paste failed (permissions?)","error")}},clearAndPaste:async()=>{try{try{const B=await navigator.clipboard.read();for(const X of B){const ce=X.types.find(pe=>pe.startsWith("image/"));if(ce){const pe=await X.getType(ce),ke=new File([pe],`pasted_image_${Date.now()}.png`,{type:ce});H(""),V.current&&(V.current.setFile(ke),b(e.language==="ru"?" ":"Image pasted","success"));return}}}catch{}const q=await ie();H(q||""),setTimeout(()=>{f.current&&q&&(f.current.focus(),f.current.setSelectionRange(q.length,q.length))},10)}catch(q){console.error("Replace failed",q),b(e.language==="ru"?" ":"Paste Error","error")}},fullWipe:()=>{H(""),W()}})),w.useEffect(()=>{if(G.current){G.current=!1;return}if(e.settings.enabled){O(!0);const q=setTimeout(()=>O(!1),800);return()=>clearTimeout(q)}},[e.settings.enabled]),w.useEffect(()=>{e.onHistoryUpdate()},[se]),a.jsxs("div",{className:"relative w-full h-full flex flex-col overflow-hidden",children:[a.jsx(pk,{text:n,committedLength:r,correctedLength:i,checkedLength:l,checkingLength:o,finalizedSentences:s,aiFixedSegments:u,dictatedSegments:c,unknownSegments:d,status:e.status,visualizerStatus:F,isAnalyzing:P,isRecording:_,language:e.language,textareaRef:f,backdropRef:g,onChange:y,onScroll:T,onKeyDown:v,onClipboard:x,onPaste:oe,visualizerDataRef:I,onInteraction:e.onInteraction,isPaused:!e.settings.enabled,showResumeAnimation:M,lowCut:e.settings.visualizerLowCut,highCut:e.settings.visualizerHighCut,amp:e.settings.visualizerAmp,visualizerStyle:e.settings.visualizerStyle,silenceThreshold:e.settings.silenceThreshold,visualizerNorm:e.settings.visualizerNorm,visualizerGravity:e.settings.visualizerGravity,visualizerMirror:e.settings.visualizerMirror,onDropFile:Y,processingOverlay:L}),a.jsx(hk,{ref:V,textLength:n.length,committedLength:r,processedLength:i,status:e.status,language:e.language,isBusy:m,canUndo:C,canRedo:S,onUndo:A,onRedo:j,onRecord:E,onEnhance:N,onFileUpload:Y,autoStopCountdown:z,onHistoryClick:e.onToggleHistory,isHistoryOpen:e.showHistory,developerMode:e.settings.developerMode,onDevRecord:k,isDevRecording:R,showClipboard:e.showClipboard,onToggleClipboard:e.onToggleClipboard,isRecording:_}),a.jsx(mk,{history:D,currentIndex:Z,isOpen:e.showHistory,onClose:e.onToggleHistory,onRestore:Q,language:e.language,onClear:W})]})}),Hf="0.1.5",xk=({language:e,onDone:t,isActive:n,isMuted:r})=>{const i=tt(e),[l,o]=w.useState(0),[s,u]=w.useState(!1),[c,d]=w.useState(0),f=w.useRef(!1),g=w.useRef(null),m=w.useRef([]),[C,S]=w.useState({x:-100,y:-100}),T=w.useRef(null),y=w.useRef(!1);w.useEffect(()=>{if(!n){y.current=!1,T.current&&(T.current.pause(),T.current=null);return}y.current=!0,f.current=!1,u(!1);let I;const z=[0,1,2,3,4,5,6],F=P=>{if(!y.current)return;const _=z[P];o(_),T.current&&(T.current.pause(),T.current=null);const D=()=>{y.current&&(I=setTimeout(()=>{const W=(P+1)%z.length;W===0&&(f.current=!0,u(!0)),F(W)},1e3))};if(r||f.current){I=setTimeout(D,4e3);return}const Z=`./sounds/guide_step_${_}_${e}.wav`,Q=new Audio(Z);Q.volume=.6,T.current=Q,Q.onended=D,Q.onerror=()=>{console.warn(`Audio missing for step ${_}, using fallback timer.`),I=setTimeout(D,4e3)};const se=Q.play();se!==void 0&&se.catch(W=>{console.log("Guide audio autoplay blocked or failed:",W),I=setTimeout(D,4e3)})};return F(0),()=>{y.current=!1,clearTimeout(I),T.current&&(T.current.pause(),T.current.onended=null,T.current.onerror=null,T.current=null)}},[n,e,r,c]);const v=()=>{u(!1),d(I=>I+1)},x=w.useCallback(()=>{if(!g.current)return;if(l===0||l===6){S({x:-100,y:500});return}const I=m.current[l];if(I){const z=g.current.getBoundingClientRect(),F=I.getBoundingClientRect(),P=F.left-z.left+F.width/2,_=F.top-z.top+F.height/2;S({x:P,y:_})}},[l]);w.useEffect(()=>{requestAnimationFrame(x);const I=setInterval(x,16),z=setTimeout(()=>clearInterval(I),600),F=new ResizeObserver(()=>{x()});return g.current&&F.observe(g.current),window.addEventListener("resize",x),()=>{clearInterval(I),clearTimeout(z),F.disconnect(),window.removeEventListener("resize",x)}},[l,x]);const A=()=>{if(e==="ru")switch(l){case 0:return" 1:   Google AI Studio";case 1:return" 2:  'Create API key'";case 2:return" 3:   ";case 3:return" 4:  'Create in new project'";case 4:return" 5:  ";case 5:return" 6:   ";case 6:return" 7:    ' '";default:return""}else switch(l){case 0:return"Step 1: Go to Google AI Studio";case 1:return"Step 2: Click 'Create API key'";case 2:return"Step 3: Open project menu";case 3:return"Step 4: Select 'New project'";case 4:return"Step 5: Confirm creation";case 5:return"Step 6: Copy your new key";case 6:return"Step 7: Return and click 'Enter key'";default:return""}},j=()=>{if(e==="ru")switch(l){case 1:return" Create";case 2:return" ";case 3:return" 'New Project'";case 4:return"";case 5:return"";default:return""}else switch(l){case 1:return"Click Create";case 2:return"Open Menu";case 3:return"Select 'New Project'";case 4:return"Confirm";case 5:return"Copy Key";default:return""}},N=I=>{if(window.require){I.preventDefault();try{const{shell:z}=window.require("electron");z.openExternal(I.currentTarget.href)}catch(z){console.error("Failed to open external link",z),window.open(I.currentTarget.href,"_blank")}}},E=C.x>400;return a.jsxs("div",{className:"flex flex-col h-full bg-slate-900 overflow-hidden relative",children:[a.jsx("div",{className:"p-6 pb-4 shrink-0 z-20 bg-slate-900 border-b border-slate-800 flex flex-col items-center",children:a.jsxs("div",{className:"w-full max-w-5xl",children:[a.jsxs("h2",{className:"text-xl font-bold text-white mb-2 flex items-center gap-2",children:[a.jsx(N0,{className:"w-5 h-5 text-indigo-400"}),i.guideTitle]}),a.jsx("div",{className:"h-6 flex items-center",children:a.jsx("span",{className:"text-sm text-indigo-300 font-mono animate-in slide-in-from-bottom-2 fade-in duration-300 bg-indigo-900/30 px-2 py-0.5 rounded border border-indigo-500/30",children:A()},l)})]})}),a.jsx("div",{className:"flex-1 w-full max-w-6xl mx-auto relative flex flex-col",children:a.jsxs("div",{ref:g,className:"flex-1 min-h-[350px] relative mx-4 my-4 flex flex-col font-sans select-none z-10",children:[a.jsxs("div",{className:"absolute inset-0 rounded-xl border border-slate-700 bg-[#1e1e1e] overflow-hidden shadow-2xl flex flex-col pointer-events-none",children:[a.jsxs("div",{className:"h-8 bg-[#2d2d2d] border-b border-[#1e1e1e] flex items-center px-3 gap-2 shrink-0",children:[a.jsxs("div",{className:"flex gap-1.5",children:[a.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-red-500/50"}),a.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-yellow-500/50"}),a.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-green-500/50"})]}),a.jsxs("div",{className:"ml-4 px-3 py-0.5 bg-[#1e1e1e] rounded text-[10px] text-slate-500 w-full max-w-[200px] flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-slate-600"}),"aistudio.google.com"]})]}),a.jsxs("div",{className:"flex-1 relative p-6 overflow-hidden bg-[#1e1e1e]",children:[a.jsxs("div",{className:"absolute left-0 top-0 bottom-0 w-16 border-r border-[#333] flex flex-col items-center pt-4 gap-4 bg-[#1e1e1e] z-10",children:[a.jsx("div",{className:"w-8 h-8 rounded bg-blue-600/20 text-blue-500 flex items-center justify-center font-bold text-xs",children:"AI"}),a.jsx("div",{className:"w-8 h-8 rounded bg-[#333]"}),a.jsx("div",{className:"w-8 h-8 rounded bg-[#333] border-l-2 border-blue-500"})]}),a.jsxs("div",{className:"ml-16 h-full relative",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsx("h1",{className:"text-2xl font-semibold text-white",children:"API Keys"}),a.jsxs("div",{ref:I=>{m.current[1]=I},className:`
                                    relative flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300
                                    ${l===1?"bg-blue-600 text-white scale-110 shadow-[0_0_20px_rgba(37,99,235,0.6)] ring-2 ring-white z-20":"bg-[#333] text-gray-400"}
                              `,children:[a.jsx(Wa,{className:"w-4 h-4"}),"Create API key"]})]}),a.jsxs("div",{className:"border-b border-[#333] pb-2 mb-4 flex text-xs text-gray-500 gap-8",children:[a.jsx("span",{className:"w-1/3",children:"Key"}),a.jsx("span",{className:"w-1/3",children:"Project"}),a.jsx("span",{className:"w-1/3 text-right",children:"Action"})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[l<5&&a.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-gray-600 text-sm gap-2 opacity-50",children:[a.jsx("div",{className:"w-10 h-10 border-2 border-dashed border-gray-700 rounded rotate-45"}),a.jsx("span",{children:"No API keys found"})]}),a.jsxs("div",{className:`
                                    w-full bg-[#252525] p-3 rounded flex items-center border border-green-900/30 transition-all duration-500
                                    ${l>=5?"opacity-100 translate-y-0":"opacity-0 translate-y-4 absolute"}
                               `,children:[a.jsxs("div",{className:"w-1/3 flex flex-col",children:[a.jsx("span",{className:"text-white text-xs font-mono",children:"AIzaSy...7x92"}),a.jsx("span",{className:"text-[10px] text-gray-500",children:"Created just now"})]}),a.jsx("div",{className:"w-1/3 text-xs text-gray-400",children:"Gemini Project"}),a.jsx("div",{className:"w-1/3 flex justify-end",children:a.jsxs("div",{ref:I=>{m.current[5]=I},className:`
                                          p-2 rounded transition-all duration-300
                                          ${l===5?"bg-blue-600 text-white scale-125 ring-2 ring-white shadow-[0_0_15px_rgba(37,99,235,0.5)]":"hover:bg-[#333] text-gray-500"}
                                       `,children:[a.jsx(Qr,{className:"w-4 h-4"}),l===5&&a.jsx("div",{className:"absolute inset-0 bg-white/30 rounded-full animate-ping"})]})})]})]})]}),a.jsx("div",{className:`absolute inset-0 bg-black/60 z-20 flex items-center justify-center transition-all duration-300 ${l>=2&&l<=4?"opacity-100":"opacity-0 pointer-events-none"}`,children:a.jsxs("div",{className:`bg-[#1e1e1e] w-full max-w-sm rounded-xl border border-[#333] shadow-2xl overflow-hidden p-6 relative transition-transform duration-300 ${l>=2&&l<=4?"scale-100":"scale-95"}`,children:[a.jsx("h3",{className:"text-lg text-white mb-6",children:"Create a new key"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"space-y-1 relative",children:[a.jsx("label",{className:"text-xs text-gray-400",children:"Choose an imported project"}),a.jsxs("div",{ref:I=>{m.current[2]=I},className:`
                                          w-full flex justify-between bg-[#111] border rounded p-2 text-sm text-left relative transition-all duration-300
                                          ${l===2?"border-blue-500 text-white ring-2 ring-blue-500 shadow-[0_0_15px_rgba(59,130,246,0.4)] scale-105 z-10":"border-[#333] text-gray-500"}
                                      `,children:[l>=3?"New Project":"Select a Cloud Project",a.jsx(Jo,{className:"w-4 h-4"})]}),a.jsxs("div",{className:`
                                          absolute top-full left-0 w-full bg-[#252525] border border-[#333] rounded mt-1 shadow-xl z-30 overflow-hidden transition-all duration-200 origin-top 
                                          ${l>=2&&l<=3?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}
                                      `,children:[a.jsx("div",{className:"p-2 text-gray-400 text-xs border-b border-[#333]",children:"Existing Project"}),a.jsxs("div",{ref:I=>{m.current[3]=I},className:`
                                                p-2 font-medium text-xs flex items-center gap-2 transition-all duration-200
                                                ${l===3?"bg-blue-600 text-white scale-105 origin-left pl-4 font-bold shadow-md":"text-blue-500"}
                                            `,children:[a.jsx("span",{children:"+"})," Create API key in new project"]})]})]})}),a.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[a.jsx("div",{className:"px-3 py-1.5 rounded text-sm text-gray-400",children:"Cancel"}),a.jsx("div",{ref:I=>{m.current[4]=I},className:`
                                        px-4 py-1.5 rounded text-sm font-medium transition-all duration-300
                                        ${l===4?"bg-blue-600 text-white scale-110 shadow-[0_0_20px_rgba(37,99,235,0.6)] ring-2 ring-white z-10":"bg-[#333] text-gray-500"}
                                    `,children:"Create key"})]})]})})]})]}),a.jsxs("div",{className:"absolute z-50 transition-all duration-500 ease-[cubic-bezier(0.25,1,0.5,1)] pointer-events-none",style:{top:`${C.y}px`,left:`${C.x}px`,opacity:l>0&&l<6?1:0},children:[a.jsx(q2,{className:"w-8 h-8 text-indigo-500 fill-white drop-shadow-xl relative z-10 -mt-1 -ml-1"}),l>0&&l<6&&a.jsxs("div",{className:`
                            absolute top-8 flex items-center gap-2 whitespace-nowrap bg-indigo-600 text-white text-xs font-bold px-3 py-2 rounded-xl shadow-xl animate-bounce border border-indigo-400
                            ${E?"right-0 mr-[-20px]":"left-0 ml-[-20px]"}
                       `,children:[a.jsx("div",{className:"w-5 h-5 bg-white text-indigo-600 rounded-full flex items-center justify-center text-[10px] shrink-0",children:l}),a.jsx("span",{children:j()})]})]})]})}),a.jsx("div",{className:"p-6 pt-0 shrink-0 flex flex-col items-center z-20",children:a.jsxs("div",{className:"w-full max-w-2xl flex flex-col gap-3 relative",children:[l===0&&a.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 z-30 animate-bounce whitespace-nowrap",children:a.jsxs("div",{className:"bg-indigo-600 text-white text-xs font-bold px-3 py-2 rounded-xl shadow-xl flex items-center gap-2",children:[a.jsx("div",{className:"w-5 h-5 bg-white text-indigo-600 rounded-full flex items-center justify-center text-[10px] shrink-0",children:"1"}),a.jsx("span",{children:e==="ru"?"  Google AI Studio":"Go to Google AI Studio"}),a.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-3 h-3 bg-indigo-600 rotate-45"})]})}),a.jsxs("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",onClick:N,className:`
                    w-full font-medium py-3 px-4 rounded-xl transition-all flex items-center justify-center gap-2 border
                    ${l===0?"bg-indigo-600 text-white border-indigo-500 shadow-lg shadow-indigo-900/40 ring-2 ring-indigo-400 ring-offset-2 ring-offset-slate-900":"bg-slate-800 hover:bg-slate-700 text-indigo-400 border-slate-700"}
                  `,children:[a.jsx("span",{children:i.guideGoToGoogle}),a.jsx(ac,{className:"w-4 h-4"})]}),a.jsxs("div",{className:"relative w-full space-y-3",children:[l===6&&a.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 z-30 animate-bounce whitespace-nowrap",children:a.jsxs("div",{className:"bg-emerald-600 text-white text-xs font-bold px-3 py-2 rounded-xl shadow-xl flex items-center gap-2",children:[a.jsx("div",{className:"w-5 h-5 bg-white text-emerald-600 rounded-full flex items-center justify-center text-[10px] shrink-0",children:"7"}),a.jsx("span",{children:e==="ru"?" ":"Click here"}),a.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-3 h-3 bg-emerald-600 rotate-45"})]})}),a.jsxs("button",{onClick:t,className:`
                            w-full font-bold py-3.5 px-4 rounded-xl transition-all duration-200 flex items-center justify-center gap-2 border
                            ${l===6?"bg-emerald-600 text-white border-emerald-500 shadow-lg shadow-emerald-900/40 ring-2 ring-emerald-400 ring-offset-2 ring-offset-slate-900":"bg-slate-800 hover:bg-emerald-600 hover:text-white text-slate-300 border-slate-700 hover:border-emerald-500"}
                        `,children:[a.jsx("span",{children:i.guideDone}),a.jsx(dr,{className:"w-4 h-4"})]}),s&&a.jsxs("button",{onClick:v,className:"w-full text-slate-500 hover:text-white text-xs font-medium py-2 transition-colors flex items-center justify-center gap-2",children:[a.jsx(cc,{className:"w-3 h-3"}),i.guideRepeat]})]})]})})]})},yk=({language:e})=>{const t=tt(e),[n,r]=w.useState(t.wizDemoInput),[i,l]=w.useState("typing");return w.useEffect(()=>{const o=()=>{r(t.wizDemoInput),l("typing"),setTimeout(()=>{l("fixing")},1500),setTimeout(()=>{r(t.wizDemoOutput),l("done")},2500)};o();const s=setInterval(o,5e3);return()=>clearInterval(s)},[e,t]),a.jsxs("div",{className:"w-full max-w-sm bg-slate-950 border border-slate-800 rounded-xl p-4 shadow-lg mb-6 relative overflow-hidden",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 border-b border-slate-800 pb-2",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${i==="typing"?"bg-slate-500":i==="fixing"?"bg-purple-500 animate-pulse":"bg-emerald-500"}`}),a.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider",children:i==="typing"?"Input":i==="fixing"?"AI Processing":"Fixed"})]}),a.jsx("div",{className:`text-lg font-medium transition-all duration-500 ${i==="typing"?"text-slate-400":i==="fixing"?"text-purple-300 blur-[1px]":"text-emerald-400 scale-105 origin-left"}`,children:n}),i==="fixing"&&a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-purple-500/10 to-transparent w-full h-full animate-[shimmer_1s_infinite] pointer-events-none"})]})},vk=({initialKey:e,onStart:t,language:n,setLanguage:r,isLocked:i,hasLock:l,onUnlock:o,onSetLock:s,isExiting:u,onWindowControl:c,onWipeData:d})=>{const[f,g]=w.useState(e),[m,C]=w.useState(""),[S,T]=w.useState(e?"setup":"welcome"),[y,v]=w.useState("forward"),[x,A]=w.useState(0),j=5,[N,E]=w.useState(""),[I,z]=w.useState(""),[F,P]=w.useState(""),[_,D]=w.useState(!1),[Z,Q]=w.useState(!1),[se,W]=w.useState(!1),[H,Y]=w.useState(!1),k=w.useRef(null),R=w.useRef(null),L=w.useRef(null),b=w.useRef(null),M=w.useRef(new Uint8Array(128)),O=w.useRef(null),{addNotification:G}=dn(),V=tt(n),ae={next:n==="en"?"Next":"",back:n==="en"?"Back":"",tutorial:n==="en"?"Tutorial":""};w.useEffect(()=>{g(e)},[e]),w.useEffect(()=>{P("")},[N,I]),w.useEffect(()=>{const J=new Audio;J.crossOrigin="anonymous",b.current=J;const le=window.AudioContext||window.webkitAudioContext,ge=new le;k.current=ge;const de=ge.createAnalyser();de.fftSize=256,R.current=de;const xe=ge.createMediaElementSource(J);L.current=xe,xe.connect(de),de.connect(ge.destination);const me=()=>{R.current&&R.current.getByteFrequencyData(M.current),O.current=requestAnimationFrame(me)};return me(),()=>{O.current&&cancelAnimationFrame(O.current),k.current&&k.current.close(),b.current&&(b.current.pause(),b.current=null)}},[]),w.useEffect(()=>{if(!b.current||(b.current.pause(),Y(!1),S!=="welcome"||se||x===0))return;let J="ru";n==="en"&&(J="en");let le=x;x===1?le=2:x===2&&(le=1);const ge=`./sounds/welcome_step_${le}_${J}.wav`;b.current.src=ge,b.current.volume=.6,k.current&&k.current.state==="suspended"&&k.current.resume();const de=b.current.play();de!==void 0&&de.then(()=>{Y(!0)}).catch(me=>{console.log("Audio autoplay waiting for interaction:",me),Y(!1)});const xe=()=>Y(!1);return b.current.addEventListener("ended",xe),()=>{b.current&&b.current.removeEventListener("ended",xe)}},[x,n,S,se]);const ie=J=>{v(S==="welcome"?"forward":J==="welcome"?"backward":"forward"),T(J)},oe=()=>{x<j-1&&A(J=>J+1)},q=()=>{x>0&&A(J=>J-1)},B=J=>{if(J.preventDefault(),f.trim().length<10){C(n==="ru"?" API   .":"API Key looks too short.");return}t(f.trim()),G(n==="ru"?"API  ":"API Key Saved","success")},X=J=>{J.preventDefault(),I.trim().length>0&&(s(I.trim()),G(V.lockSaved||"PIN saved","success"),D(!1),z(""))},ce=J=>{J.preventDefault(),o(N)?E(""):P(V.lockError)},pe=async()=>{try{const J=await navigator.clipboard.readText();J&&(g(J.trim()),C(""))}catch(J){console.error("Failed to paste",J)}},ke=J=>{if(window.require)try{const{shell:le}=window.require("electron");le.openExternal(J)}catch{window.open(J,"_blank")}else window.open(J,"_blank")},re=J=>{const le=S===J;let ge="absolute inset-0 w-full h-full transition-all duration-500 ease-[cubic-bezier(0.2,0.8,0.2,1)] will-change-transform flex flex-col";if(le)return`${ge} opacity-100 scale-100 z-10 pointer-events-auto blur-0 translate-y-0`;if(y==="forward"){const de=["welcome","setup","guide"],xe=de.indexOf(J),me=de.indexOf(S);return xe<me?`${ge} opacity-0 scale-90 z-0 pointer-events-none blur-sm`:`${ge} opacity-0 scale-110 z-20 pointer-events-none blur-sm`}else{const de=["welcome","setup","guide"],xe=de.indexOf(J),me=de.indexOf(S);return xe<me?`${ge} opacity-0 scale-90 z-0 pointer-events-none blur-sm`:`${ge} opacity-0 scale-110 z-20 pointer-events-none blur-sm`}},ye=S==="setup"||S==="guide",ve=({className:J=""})=>a.jsx("button",{onClick:()=>W(!se),className:`p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-colors no-drag ${J}`,title:se?"Unmute":"Mute",children:se?a.jsx(Qa,{className:"w-5 h-5"}):a.jsx(lr,{className:"w-5 h-5"})});return i?a.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-slate-950 text-slate-200 h-full w-full overflow-hidden titlebar-drag-region p-4",children:[a.jsxs("div",{className:"absolute top-0 right-0 p-3 flex gap-2 no-drag z-50",children:[a.jsx("button",{onClick:()=>c("minimize"),className:"p-1.5 rounded hover:bg-slate-800 text-slate-400 hover:text-white transition-colors",children:a.jsx(Ka,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>c("maximize"),className:"p-1.5 rounded hover:bg-slate-800 text-slate-400 hover:text-white transition-colors",children:a.jsx(fr,{className:"w-3.5 h-3.5"})}),a.jsx("button",{onClick:()=>c("close"),className:"p-1.5 rounded hover:bg-red-600 text-slate-400 hover:text-white transition-colors",children:a.jsx(wt,{className:"w-4 h-4"})})]}),Z&&a.jsx("div",{className:"absolute inset-0 z-[60] bg-slate-950/90 backdrop-blur-md flex items-center justify-center p-4 animate-in fade-in duration-300",children:a.jsx("div",{className:"bg-red-950/20 border border-red-900 rounded-2xl p-6 max-w-sm w-full shadow-2xl ring-1 ring-red-900/50",children:a.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[a.jsx("div",{className:"p-4 bg-red-900/30 rounded-full text-red-500",children:a.jsx(T2,{className:"w-10 h-10"})}),a.jsx("h3",{className:"text-xl font-bold text-red-400",children:V.wipeTitle}),a.jsx("p",{className:"text-sm text-red-200/70 whitespace-pre-line leading-relaxed",children:V.wipeDesc}),a.jsxs("div",{className:"flex flex-col w-full gap-3 pt-2",children:[a.jsx("button",{onClick:d,className:"w-full py-3 rounded-lg bg-red-600 hover:bg-red-500 text-white font-bold transition-all shadow-lg shadow-red-900/40",children:V.wipeConfirm}),a.jsx("button",{onClick:()=>Q(!1),className:"w-full py-2.5 rounded-lg border border-red-900/50 text-red-300 hover:bg-red-900/20 transition-all text-sm",children:V.wipeCancel})]})]})})}),a.jsxs("div",{className:`no-drag w-full max-w-sm bg-slate-900 border border-slate-800 rounded-2xl shadow-2xl overflow-hidden p-8 flex flex-col items-center text-center animate-in zoom-in duration-300 ${Z?"blur-sm scale-95 opacity-50 pointer-events-none":""}`,children:[a.jsx("div",{className:"bg-slate-800 p-4 rounded-full mb-4 ring-1 ring-indigo-500/30",children:a.jsx(Ro,{className:"w-8 h-8 text-indigo-400"})}),a.jsx("h2",{className:"text-xl font-bold text-white mb-1",children:V.lockTitle}),a.jsxs("div",{className:"text-[10px] font-mono text-slate-600 mb-6",children:["v",Hf]}),a.jsxs("form",{onSubmit:ce,className:"w-full space-y-4",children:[a.jsx("input",{type:"password",inputMode:"numeric",value:N,onChange:J=>E(J.target.value),placeholder:V.lockPlaceholder,className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-4 py-3 text-center text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 font-mono tracking-widest text-lg",autoFocus:!0}),F&&a.jsx("p",{className:"text-red-400 text-xs animate-pulse",children:F}),a.jsxs("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-semibold py-3 px-4 rounded-lg flex items-center justify-center gap-2",children:[a.jsx(uk,{className:"w-4 h-4"}),a.jsx("span",{children:V.lockBtn})]})]}),a.jsx("button",{onClick:()=>Q(!0),className:"mt-6 text-[10px] text-slate-500 hover:text-red-400 transition-colors uppercase tracking-wider font-semibold",children:V.lockForgot})]})]}):a.jsxs("div",{className:`fixed inset-0 z-40 flex items-center justify-center bg-slate-950 text-slate-200 h-full w-full titlebar-drag-region overflow-hidden ${u?"pointer-events-none":""}`,children:[a.jsxs("div",{className:`fixed top-0 left-0 w-full h-full overflow-hidden pointer-events-none transition-opacity duration-1000 ${u?"opacity-0":"opacity-100"}`,children:[a.jsx("div",{className:`absolute inset-0 z-0 opacity-40 transition-opacity duration-1000 ${S==="welcome"&&H?"opacity-40":"opacity-0"}`,children:a.jsx(Xi,{visualizerDataRef:M,isRecording:!0,visualizerStyle:"wave",amp:.6,highCut:50,lowCut:2,gravity:1.5,silenceThreshold:5,norm:!0,mirror:!0,rounded:!0})}),a.jsx("div",{className:"absolute top-[-10%] right-[-5%] w-96 h-96 bg-indigo-900/10 blur-[120px] rounded-full animate-pulse [animation-duration:8s]"}),a.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[500px] h-[500px] bg-blue-900/10 blur-[150px] rounded-full animate-pulse [animation-duration:10s]"})]}),a.jsxs("div",{className:`
            no-drag relative z-10 
            transition-all duration-700 ease-[cubic-bezier(0.2,0.8,0.2,1)]
            bg-transparent md:bg-slate-900 md:shadow-2xl md:overflow-hidden

            ${ye?"w-full h-full rounded-none border-none":"w-full h-full md:w-[600px] md:h-[650px] md:max-h-[90vh] md:rounded-2xl md:border md:border-slate-800"}

            ${u?"scale-90 opacity-0 blur-lg translate-y-10":"scale-100 opacity-100 blur-0 translate-y-0"}
        `,children:[a.jsx("div",{className:re("welcome"),children:a.jsxs("div",{className:"flex-1 flex flex-col relative overflow-hidden",children:[a.jsx("div",{className:"shrink-0 h-14 w-full flex items-center px-4 z-50 titlebar-drag-region",children:x>0&&a.jsx(ve,{})}),a.jsxs("div",{className:"flex-1 relative",children:[a.jsxs("div",{className:`absolute inset-0 flex flex-col items-center justify-center p-8 transition-all duration-500 ${x===0?"opacity-100 translate-x-0":x<0?"opacity-0 translate-x-10 pointer-events-none":"opacity-0 -translate-x-10 pointer-events-none"}`,children:[a.jsx("div",{className:"bg-indigo-600/20 p-6 rounded-full mb-8 ring-1 ring-indigo-500/50",children:a.jsx(lr,{className:"w-12 h-12 text-indigo-400"})}),a.jsx("h1",{className:"text-3xl font-bold text-white text-center mb-2",children:V.wizStep0Title}),a.jsx("p",{className:"text-xl text-slate-400 text-center mb-10",children:V.wizStep0Subtitle}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 w-full max-w-sm",children:[a.jsxs("button",{onClick:()=>{W(!1),oe()},className:"p-6 rounded-2xl border border-slate-700 bg-slate-800 hover:bg-emerald-900/20 hover:border-emerald-500/50 hover:text-emerald-400 transition-all duration-300 flex flex-col items-center gap-3 group",children:[a.jsx(lr,{className:"w-8 h-8 group-hover:scale-110 transition-transform"}),a.jsx("span",{className:"font-bold",children:V.btnSoundOn})]}),a.jsxs("button",{onClick:()=>{W(!0),oe()},className:"p-6 rounded-2xl border border-slate-700 bg-slate-800 hover:bg-slate-700/50 hover:border-slate-600 hover:text-slate-300 transition-all duration-300 flex flex-col items-center gap-3 group",children:[a.jsx(Qa,{className:"w-8 h-8 group-hover:scale-110 transition-transform"}),a.jsx("span",{className:"font-bold",children:V.btnSoundOff})]})]})]}),a.jsxs("div",{className:`absolute inset-0 flex flex-col items-center justify-center p-8 transition-all duration-500 ${x===1?"opacity-100 translate-x-0":x<1?"opacity-0 translate-x-10 pointer-events-none":"opacity-0 -translate-x-10 pointer-events-none"}`,children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:V.wizStep2Title}),a.jsx("p",{className:"text-slate-400 text-center mb-8",children:V.wizStep2Desc}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 w-full max-w-sm mb-4",children:[a.jsxs("button",{onClick:()=>{r("ru"),setTimeout(oe,300)},className:`p-4 rounded-xl border transition-all duration-300 flex flex-col items-center gap-2 ${n==="ru"?"bg-indigo-600/20 border-indigo-500":"bg-slate-800 border-slate-700"}`,children:[a.jsx("div",{className:"text-2xl",children:""}),a.jsx("span",{className:"font-bold text-white text-sm",children:""})]}),a.jsxs("button",{onClick:()=>{r("en"),setTimeout(oe,300)},className:`p-4 rounded-xl border transition-all duration-300 flex flex-col items-center gap-2 ${n==="en"?"bg-indigo-600/20 border-indigo-500":"bg-slate-800 border-slate-700"}`,children:[a.jsx("div",{className:"text-2xl",children:""}),a.jsx("span",{className:"font-bold text-white text-sm",children:"English"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 w-full max-w-sm",children:[a.jsxs("button",{onClick:()=>{r("uz-latn"),setTimeout(oe,300)},className:`p-4 rounded-xl border transition-all duration-300 flex flex-col items-center gap-2 ${n==="uz-latn"?"bg-indigo-600/20 border-indigo-500":"bg-slate-800 border-slate-700"}`,children:[a.jsx("div",{className:"text-2xl",children:""}),a.jsx("span",{className:"font-bold text-white text-sm",children:"O'zbek"})]}),a.jsxs("button",{onClick:()=>{r("uz-cyrl"),setTimeout(oe,300)},className:`p-4 rounded-xl border transition-all duration-300 flex flex-col items-center gap-2 ${n==="uz-cyrl"?"bg-indigo-600/20 border-indigo-500":"bg-slate-800 border-slate-700"}`,children:[a.jsx("div",{className:"text-2xl",children:""}),a.jsx("span",{className:"font-bold text-white text-sm",children:""})]})]})]}),a.jsxs("div",{className:`absolute inset-0 flex flex-col items-center justify-center p-8 transition-all duration-500 ${x===2?"opacity-100 translate-x-0":x<2?"opacity-0 translate-x-10 pointer-events-none":"opacity-0 -translate-x-10 pointer-events-none"}`,children:[a.jsx("div",{className:"bg-indigo-600 p-6 rounded-3xl shadow-2xl shadow-indigo-900/50 mb-8 animate-[bounce_2s_infinite]",children:a.jsx(kn,{className:"w-12 h-12 text-white"})}),a.jsx("h1",{className:"text-3xl font-bold text-white text-center mb-2",children:V.wizStep1Title}),a.jsx("p",{className:"text-xl text-indigo-400 font-medium text-center mb-6",children:V.wizStep1Subtitle}),a.jsx("p",{className:"text-slate-400 text-center max-w-sm leading-relaxed",children:V.wizStep1Desc})]}),a.jsxs("div",{className:`absolute inset-0 flex flex-col items-center justify-center p-8 transition-all duration-500 ${x===3?"opacity-100 translate-x-0":x<3?"opacity-0 translate-x-10 pointer-events-none":"opacity-0 -translate-x-10 pointer-events-none"}`,children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:V.wizStep3Title}),a.jsx("p",{className:"text-slate-400 text-center mb-6 max-w-sm text-sm",children:V.wizStep3Desc}),a.jsx(yk,{language:n}),a.jsxs("div",{className:"w-full max-w-sm space-y-3",children:[a.jsx(Bf,{icon:a.jsx(fc,{className:"w-4 h-4 text-amber-400"}),title:V.feature1Title,desc:V.feature1Desc}),a.jsx(Bf,{icon:a.jsx(al,{className:"w-4 h-4 text-purple-400"}),title:V.feature2Title,desc:V.feature2Desc})]})]}),a.jsxs("div",{className:`absolute inset-0 flex flex-col items-center justify-center p-8 transition-all duration-500 ${x===4?"opacity-100 translate-x-0":x<4?"opacity-0 translate-x-10 pointer-events-none":"opacity-0 -translate-x-10 pointer-events-none"}`,children:[a.jsx("div",{className:"bg-emerald-500/20 p-6 rounded-full mb-6 ring-1 ring-emerald-500/50",children:a.jsx(Uf,{className:"w-12 h-12 text-emerald-400"})}),a.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:V.wizStep4Title}),a.jsx("p",{className:"text-slate-400 text-center mb-8 max-w-xs",children:V.wizStep4Desc}),a.jsxs("div",{className:"w-full max-w-sm space-y-3",children:[a.jsxs("button",{onClick:()=>ie("setup"),className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-semibold py-4 px-4 rounded-xl transition-all duration-300 flex items-center justify-center gap-2 group shadow-lg shadow-indigo-900/20 hover:shadow-indigo-900/40 active:scale-95",children:[a.jsx("span",{children:V.btnHaveKey}),a.jsx(zf,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]}),a.jsx("button",{onClick:()=>ie("guide"),className:"w-full bg-slate-800 hover:bg-slate-700 text-slate-300 hover:text-white font-semibold py-4 px-4 rounded-xl transition-all duration-300 flex items-center justify-center gap-2 text-sm border border-slate-700 active:scale-95",children:a.jsx("span",{children:V.btnNoKey})})]})]})]}),a.jsxs("div",{className:"p-6 shrink-0 flex items-center justify-between border-t border-slate-800/50 bg-slate-900/50",children:[a.jsx("button",{onClick:q,className:`text-slate-500 hover:text-white transition-colors text-sm font-medium ${x===0?"opacity-0 pointer-events-none":"opacity-100"}`,children:ae.back}),a.jsx("div",{className:"flex gap-2",children:[0,1,2,3,4].map(J=>a.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${J===x?"w-6 bg-indigo-500":"w-1.5 bg-slate-700"}`},J))}),a.jsxs("button",{onClick:oe,className:`text-indigo-400 hover:text-indigo-300 transition-colors text-sm font-bold flex items-center gap-1 ${x===j-1||x===0?"opacity-0 pointer-events-none":"opacity-100"}`,children:[ae.next," ",a.jsx(_s,{className:"w-4 h-4 rotate-180"})]})]})]})}),a.jsxs("div",{className:re("setup"),children:[a.jsx("div",{className:"h-14 shrink-0 flex items-center justify-between px-4 gap-1 border-b border-slate-800 bg-slate-900/50 md:bg-transparent titlebar-drag-region",children:a.jsx(ve,{})}),a.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 md:p-8 flex flex-col justify-center items-center",children:[a.jsxs("div",{className:`transition-all duration-300 w-full max-w-lg relative ${_?"hidden":"block"}`,children:[a.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 -z-10 pointer-events-none select-none",children:a.jsx(kn,{className:"w-96 h-96 text-indigo-600/10 blur-md animate-pulse duration-[3000ms]"})}),a.jsxs("div",{className:"text-center mb-10 relative z-10",children:[a.jsxs("h1",{className:"text-4xl md:text-5xl font-black tracking-tight mb-2 leading-tight",children:[a.jsx("span",{className:"block text-slate-200 mb-1",children:n==="ru"?"  ":n==="uz-latn"?"Fast Type AI ga":n==="uz-cyrl"?"Fast Type AI ":"Welcome to"}),a.jsx("span",{className:"bg-gradient-to-r from-indigo-400 via-purple-400 to-fuchsia-400 bg-clip-text text-transparent drop-shadow-sm",children:n==="uz-latn"||n==="uz-cyrl"?"Xush kelibsiz":"Fast Type AI"})]}),a.jsx("div",{className:"inline-flex items-center justify-center px-3 py-1 rounded-full bg-slate-800/50 border border-slate-700/50 backdrop-blur-sm",children:a.jsxs("span",{className:"text-[10px] font-mono text-slate-400 tracking-wider",children:["v",Hf]})})]}),a.jsx("div",{className:"bg-slate-900/80 backdrop-blur-sm border border-slate-800 rounded-2xl p-5 mb-4 relative z-10 shadow-xl",children:a.jsxs("div",{className:"flex items-start gap-4 mb-2",children:[a.jsx("div",{className:"w-10 h-10 bg-slate-800 rounded-xl flex items-center justify-center border border-slate-700 shrink-0",children:a.jsx(N0,{className:"w-5 h-5 text-indigo-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-white leading-tight mb-1",children:V.setupTitle}),a.jsx("p",{className:"text-sm text-slate-400 leading-snug",children:V.setupDesc})]})]})}),a.jsxs("div",{className:"bg-emerald-950/20 backdrop-blur-sm border border-emerald-500/20 rounded-xl p-3 mb-6 relative z-10 flex items-start gap-3 shadow-lg",children:[a.jsx("div",{className:"p-1.5 bg-emerald-500/10 rounded-lg shrink-0 mt-0.5",children:a.jsx(Uf,{className:"w-4 h-4 text-emerald-400"})}),a.jsx("p",{className:"text-[11px] text-emerald-100/70 leading-relaxed font-medium",children:V.securityNote})]}),a.jsxs("form",{onSubmit:B,className:"space-y-5 relative z-10",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-end mb-2",children:[a.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider ml-1",children:V.apiKeyLabel}),a.jsxs("div",{className:"flex items-center gap-3 text-[10px] font-medium",children:[a.jsxs("button",{type:"button",onClick:()=>ke("https://aistudio.google.com/app/apikey"),className:"text-indigo-400 hover:text-indigo-300 transition-colors flex items-center gap-1 group",children:[a.jsx("span",{children:V.linkGetKey}),a.jsx(ac,{className:"w-3 h-3 group-hover:rotate-45 transition-transform"})]}),a.jsx("span",{className:"text-slate-700",children:"|"}),a.jsx("button",{type:"button",onClick:()=>ie("guide"),className:"text-slate-500 hover:text-slate-300 transition-colors",children:V.linkTutorial})]})]}),a.jsx("div",{className:"relative group mb-1",children:a.jsxs("div",{className:"w-full bg-blue-500/10 border border-blue-500/20 text-blue-300 text-[10px] px-3 py-2 rounded-xl flex items-center justify-center gap-2 mb-2",children:[a.jsx(Ro,{className:"w-3 h-3 shrink-0"}),a.jsx("span",{className:"text-center",children:V.apiKeyTooltip})]})}),a.jsxs("div",{className:"relative group",children:[a.jsx("input",{type:"password",value:f,onChange:J=>{g(J.target.value),C("")},placeholder:"AIzaSy...",className:"w-full bg-slate-950/80 border border-slate-700 rounded-xl pl-4 pr-10 py-3.5 text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 placeholder:text-slate-700 transition-all font-mono text-sm shadow-inner",autoFocus:S==="setup"&&!_}),a.jsx("button",{type:"button",onClick:pe,className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 text-slate-500 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",title:"Paste",children:a.jsx(w0,{className:"w-4 h-4"})})]}),m&&a.jsxs("p",{className:"text-red-400 text-xs mt-2 ml-1 animate-pulse flex items-center gap-1",children:[a.jsx("span",{children:""})," ",m]})]}),a.jsxs("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-3.5 px-4 rounded-xl transition-all duration-200 flex items-center justify-center gap-2 group shadow-lg shadow-indigo-900/20 hover:shadow-indigo-900/40 active:scale-95",children:[a.jsx("span",{children:V.startBtn}),a.jsx(zf,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]}),!l&&a.jsx("div",{className:"pt-4 border-t border-slate-800/50 text-center",children:a.jsxs("button",{type:"button",onClick:()=>D(!0),className:"inline-flex items-center gap-2 py-2 px-3 rounded-lg text-slate-500 hover:text-indigo-400 hover:bg-slate-800/50 transition-all text-xs font-medium",children:[a.jsx(Yl,{className:"w-3.5 h-3.5"}),a.jsx("span",{children:V.btnCreatePin})]})})]})]}),_&&a.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4 duration-300 w-full max-w-lg relative z-20",children:[a.jsxs("button",{onClick:()=>D(!1),className:"flex items-center gap-1 text-xs font-bold text-slate-500 hover:text-white mb-6 transition-colors uppercase tracking-wide",children:[a.jsx(_s,{className:"w-3 h-3"}),V.btnBack]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-white mb-2 flex items-center gap-2",children:[a.jsx(Yl,{className:"w-6 h-6 text-emerald-400"}),V.lockCreateTitle]}),a.jsx("p",{className:"text-sm text-slate-400",children:V.lockCreateDesc})]}),a.jsxs("form",{onSubmit:X,className:"space-y-6",children:[a.jsx("div",{className:"relative",children:a.jsx("input",{type:"password",inputMode:"numeric",value:I,onChange:J=>z(J.target.value),placeholder:"",autoFocus:_,className:"w-full bg-slate-950 border border-slate-700 rounded-xl px-4 py-4 text-slate-200 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500 placeholder:text-slate-800 font-mono tracking-[0.5em] text-2xl text-center shadow-inner",maxLength:8})}),a.jsxs("button",{type:"submit",disabled:I.length<3,className:"w-full bg-emerald-600 hover:bg-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold py-3.5 px-4 rounded-xl transition-all duration-200 flex items-center justify-center gap-2 shadow-lg shadow-emerald-900/20 active:scale-95",children:[a.jsx("span",{children:V.lockSetBtn}),a.jsx(Yl,{className:"w-4 h-4"})]})]})]})]})]}),a.jsxs("div",{className:re("guide"),children:[a.jsxs("div",{className:"h-14 shrink-0 flex items-center px-4 gap-1 border-b border-slate-800 bg-slate-900/50 md:bg-transparent titlebar-drag-region",children:[a.jsx(ve,{}),a.jsxs("button",{onClick:()=>ie("setup"),className:"flex items-center gap-1 text-slate-400 hover:text-white transition-colors py-2 px-2 rounded hover:bg-slate-800 no-drag",children:[a.jsx(_s,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-medium",children:ae.back})]})]}),a.jsx("div",{className:"flex-1 overflow-hidden relative flex flex-col",children:a.jsx(xk,{language:n,onDone:()=>ie("setup"),isActive:S==="guide",isMuted:se})})]})]}),a.jsx("div",{className:`absolute top-0 right-0 z-[100] flex items-start gap-3 p-3 transition-all duration-500 pointer-events-auto no-drag ${u?"opacity-0 -translate-y-4":"opacity-100"}`,children:a.jsxs("div",{className:"flex items-center gap-1 bg-slate-900/50 backdrop-blur border border-slate-800/60 rounded-lg p-0.5 pointer-events-auto no-drag",children:[a.jsx("button",{onClick:()=>ie("welcome"),className:`p-1.5 rounded hover:bg-slate-800 text-slate-400 hover:text-white transition-colors ${S==="welcome"?"text-indigo-400":""}`,title:ae.tutorial,children:a.jsx(C0,{className:"w-3.5 h-3.5"})}),a.jsx("div",{className:"w-px h-3 bg-slate-700/50 mx-0.5"}),a.jsx("button",{onClick:()=>r(n==="ru"?"en":n==="en"?"uz-latn":n==="uz-latn"?"uz-cyrl":"ru"),className:"p-1.5 rounded hover:bg-slate-800 text-slate-400 hover:text-white transition-colors text-[10px] font-bold uppercase min-w-[28px]",children:n==="ru"?"RU":n==="en"?"EN":n==="uz-latn"?"UZ":""}),a.jsx("div",{className:"w-px h-3 bg-slate-700/50 mx-0.5"}),a.jsx("button",{onClick:()=>c("minimize"),className:"p-1.5 rounded hover:bg-slate-800 text-slate-400 hover:text-white transition-colors",children:a.jsx(Ka,{className:"w-3.5 h-3.5"})}),a.jsx("button",{onClick:()=>c("maximize"),className:"p-1.5 rounded hover:bg-slate-800 text-slate-400 hover:text-white transition-colors",children:a.jsx(fr,{className:"w-3 h-3"})}),a.jsx("button",{onClick:()=>c("close"),className:"p-1.5 rounded hover:bg-red-600 text-slate-400 hover:text-white transition-colors",children:a.jsx(wt,{className:"w-3.5 h-3.5"})})]})})]})},Bf=({icon:e,title:t,desc:n})=>a.jsxs("div",{className:"flex items-start gap-4 p-3 rounded-xl hover:bg-white/10 transition-colors duration-300",children:[a.jsx("div",{className:"p-2 bg-slate-800 rounded-lg shrink-0 ring-1 ring-white/10",children:e}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-bold text-slate-200",children:t}),a.jsx("p",{className:"text-xs text-slate-500 mt-0.5 leading-relaxed",children:n})]})]}),wk=({isExiting:e=!1})=>a.jsxs("div",{className:`
        fixed inset-0 z-[200] flex flex-col items-center justify-center bg-slate-950 text-slate-200 h-screen w-screen titlebar-drag-region
        transition-all duration-1000 ease-[cubic-bezier(0.2,0.8,0.2,1)]
        ${e?"opacity-0 scale-110 blur-xl pointer-events-none":"opacity-100 scale-100 blur-0"}
      `,children:[a.jsxs("div",{className:"relative mb-8",children:[a.jsx("div",{className:"absolute inset-0 bg-indigo-500 blur-2xl opacity-20 animate-pulse rounded-full"}),a.jsx("div",{className:"relative bg-slate-900/80 p-6 rounded-2xl border border-slate-800 shadow-2xl shadow-indigo-900/20",children:a.jsx(kn,{className:"w-12 h-12 text-indigo-400 animate-pulse"})})]}),a.jsxs("div",{className:"text-center space-y-3",children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight bg-gradient-to-br from-white to-slate-400 bg-clip-text text-transparent",children:"FastType AI"}),a.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-500 rounded-full animate-bounce [animation-delay:-0.3s]"}),a.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-500 rounded-full animate-bounce [animation-delay:-0.15s]"}),a.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-500 rounded-full animate-bounce"})]}),a.jsx("p",{className:"text-xs text-slate-500 font-medium uppercase tracking-widest pt-2",children:" ..."})]})]}),kk=({items:e,isOpen:t,isEnabled:n,onToggleEnabled:r,onClose:i,onClear:l,language:o})=>{const[s,u]=w.useState(""),[c,d]=w.useState(null),[f,g]=w.useState(!1),m=tt(o),{addNotification:C}=dn();w.useEffect(()=>{const x=setTimeout(()=>g(!0),100);return()=>clearTimeout(x)},[]);const S=e.filter(x=>x.text.toLowerCase().includes(s.toLowerCase())),T=async(x,A)=>{try{await navigator.clipboard.writeText(A),y(x)}catch{try{const N=document.createElement("textarea");N.value=A,N.style.position="fixed",N.style.left="-9999px",N.style.top="0",document.body.appendChild(N),N.focus(),N.select();const E=document.execCommand("copy");if(document.body.removeChild(N),E)y(x);else throw new Error("Fallback copy failed")}catch(N){console.error("Copy failed",N),C(o==="ru"?" ":"Copy failed","error")}}},y=x=>{d(x),C(o==="ru"?"":"Copied","success"),setTimeout(()=>{d(null)},2e3)},v=x=>new Intl.DateTimeFormat(o==="ru"?"ru-RU":"en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date(x));return a.jsxs("div",{className:`
            absolute top-0 right-0 w-80 h-full bg-slate-900 border-l border-slate-800 shadow-2xl z-40 
            flex flex-col no-drag 
            ${f?"transition-transform duration-300 ease-in-out":""} 
            ${t?"translate-x-0":"translate-x-full invisible pointer-events-none"}
        `,children:[a.jsxs("div",{className:"p-4 border-b border-slate-800 flex items-center justify-between shrink-0 select-none",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yr,{className:"w-4 h-4 text-indigo-400"}),a.jsx("h3",{className:"text-sm font-semibold text-slate-200",children:m.clipboardTitle})]}),a.jsx("button",{onClick:i,className:"p-1 hover:bg-slate-800 rounded text-slate-500 hover:text-white transition-colors",children:a.jsx(wt,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"p-4 bg-slate-900 shrink-0 space-y-3 border-b border-slate-800",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-slate-400 font-medium",children:m.clipboardEnable}),a.jsx("button",{onClick:r,className:`relative w-10 h-5 rounded-full transition-colors ${n?"bg-indigo-600":"bg-slate-700"}`,children:a.jsx("span",{className:`absolute top-1 left-1 bg-white w-3 h-3 rounded-full shadow transition-transform ${n?"translate-x-5":"translate-x-0"}`})})]}),a.jsxs("div",{className:"relative",children:[a.jsx(E0,{className:"absolute left-3 top-2.5 w-3.5 h-3.5 text-slate-500"}),a.jsx("input",{type:"text",placeholder:m.clipboardSearch,value:s,onChange:x=>u(x.target.value),className:"w-full bg-slate-800/50 border border-slate-700 rounded-lg pl-9 pr-3 py-2 text-xs text-slate-200 focus:outline-none focus:border-indigo-500/50 transition-colors"})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2 space-y-2",children:n?S.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-slate-600 space-y-2",children:[a.jsx(Yr,{className:"w-8 h-8 opacity-50"}),a.jsx("p",{className:"text-xs",children:m.clipboardEmpty})]}):S.map(x=>{const A=c===x.id;return a.jsxs("div",{className:"group bg-slate-800/50 border border-slate-700/50 rounded-lg p-3 hover:border-indigo-500/30 hover:bg-slate-800 transition-all",children:[a.jsx("p",{className:"text-xs text-slate-300 line-clamp-3 mb-2 font-mono break-all",children:x.text}),a.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2 border-t border-slate-700/50",children:[a.jsx("span",{className:"text-[10px] text-slate-500",children:v(x.timestamp)}),a.jsxs("button",{onClick:()=>T(x.id,x.text),className:`flex items-center gap-1.5 px-2 py-1 rounded text-[10px] transition-all duration-200 ${A?"bg-emerald-600 text-white":"bg-slate-700 hover:bg-indigo-600 text-slate-300 hover:text-white"}`,children:[A?a.jsx(dr,{className:"w-3 h-3"}):a.jsx(Qr,{className:"w-3 h-3"}),A?o==="ru"?"":"Copied":m.clipboardCopy]})]})]},x.id)}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-slate-600 space-y-2",children:[a.jsx(Z2,{className:"w-8 h-8 opacity-50"}),a.jsx("p",{className:"text-xs",children:"History disabled"})]})}),S.length>0&&n&&a.jsx("div",{className:"p-3 border-t border-slate-800 bg-slate-900 shrink-0",children:a.jsxs("button",{onClick:l,className:"w-full flex items-center justify-center gap-2 py-2 rounded-lg border border-red-900/30 hover:bg-red-950/20 text-red-400 text-xs transition-colors",children:[a.jsx(un,{className:"w-3.5 h-3.5"}),m.clipboardClear]})})]})},jl=(e,t,n)=>{for(let r=0;r<n.length;r++)e.setUint8(t+r,n.charCodeAt(r))},bk=(e,t,n,r)=>{const i=new ArrayBuffer(44),l=new DataView(i);return jl(l,0,"RIFF"),l.setUint32(4,36+e,!0),jl(l,8,"WAVE"),jl(l,12,"fmt "),l.setUint32(16,16,!0),l.setUint16(20,1,!0),l.setUint16(22,n,!0),l.setUint32(24,t,!0),l.setUint32(28,t*n*(r/8),!0),l.setUint16(32,n*(r/8),!0),l.setUint16(34,r,!0),jl(l,36,"data"),l.setUint32(40,e,!0),new Uint8Array(i)},Vf=e=>{const t=atob(e),n=t.length,r=new Uint8Array(n);for(let s=0;s<n;s++)r[s]=t.charCodeAt(s);const i=bk(n,24e3,1,16),l=new Uint8Array(i.length+r.length);l.set(i,0),l.set(r,i.length);const o=new Blob([l],{type:"audio/wav"});return URL.createObjectURL(o)},Ck=({items:e,isOpen:t,onClose:n,onRemove:r,onClear:i,language:l})=>{const o=tt(l),{addNotification:s}=dn(),[u,c]=w.useState(""),[d,f]=w.useState(null),[g,m]=w.useState(!1),C=w.useRef(null);w.useEffect(()=>{const x=setTimeout(()=>m(!0),100);return()=>clearTimeout(x)},[]),w.useEffect(()=>()=>{C.current&&(C.current.pause(),C.current=null)},[]);const S=e.filter(x=>x.text.toLowerCase().includes(u.toLowerCase())),T=(x,A)=>{var E;if(d===x){(E=C.current)==null||E.pause(),f(null);return}C.current&&C.current.pause();const j=Vf(A),N=new Audio(j);C.current=N,N.onended=()=>f(null),N.onerror=I=>{console.error("Audio playback error",I),f(null)},N.play().catch(I=>console.error("Playback failed",I)),f(x)},y=x=>{const A=`speech-${x.timestamp}.wav`,j=Vf(x.base64Audio),N=document.createElement("a");N.href=j,N.download=A,document.body.appendChild(N),N.click(),document.body.removeChild(N),s(l==="ru"?` : ${A}`:`Successfully Saved: ${A}`,"success")},v=x=>new Intl.DateTimeFormat(l==="ru"?"ru-RU":"en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date(x));return a.jsxs("div",{className:`
            absolute top-0 right-0 w-80 h-full bg-slate-900 border-l border-slate-800 shadow-2xl z-40 
            flex flex-col no-drag 
            ${g?"transition-transform duration-300 ease-in-out":""} 
            ${t?"translate-x-0":"translate-x-full invisible pointer-events-none"}
        `,children:[a.jsxs("div",{className:"p-4 border-b border-slate-800 flex items-center justify-between shrink-0 select-none",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(E2,{className:"w-4 h-4 text-purple-400"}),a.jsx("h3",{className:"text-sm font-semibold text-slate-200",children:l==="ru"?" ":"Audio Archive"})]}),a.jsx("button",{onClick:n,className:"p-1 hover:bg-slate-800 rounded text-slate-500 hover:text-white transition-colors",children:a.jsx(wt,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"p-4 bg-slate-900 shrink-0 space-y-3 border-b border-slate-800",children:a.jsxs("div",{className:"relative",children:[a.jsx(E0,{className:"absolute left-3 top-2.5 w-3.5 h-3.5 text-slate-500"}),a.jsx("input",{type:"text",placeholder:o.clipboardSearch,value:u,onChange:x=>c(x.target.value),className:"w-full bg-slate-800/50 border border-slate-700 rounded-lg pl-9 pr-3 py-2 text-xs text-slate-200 focus:outline-none focus:border-purple-500/50 transition-colors"})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2 space-y-2",children:e.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-slate-600 space-y-2",children:[a.jsx(uc,{className:"w-8 h-8 opacity-50"}),a.jsx("p",{className:"text-xs",children:o.historyEmpty})]}):S.map(x=>{const A=d===x.id;return a.jsxs("div",{className:"group bg-slate-800/50 border border-slate-700/50 rounded-lg p-3 hover:border-purple-500/30 hover:bg-slate-800 transition-all",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsx("p",{className:"text-xs text-slate-300 line-clamp-2 font-medium mb-2 leading-relaxed",children:x.text}),a.jsx("span",{className:"text-[9px] px-1.5 py-0.5 rounded bg-slate-700 text-slate-400 font-mono shrink-0",children:x.voice})]}),a.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2 border-t border-slate-700/50",children:[a.jsx("span",{className:"text-[10px] text-slate-500",children:v(x.timestamp)}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>T(x.id,x.base64Audio),className:`p-1.5 rounded transition-colors ${A?"bg-purple-600 text-white":"hover:bg-slate-700 text-slate-400 hover:text-white"}`,title:"Play",children:A?a.jsx(Pn,{className:"w-3.5 h-3.5"}):a.jsx(Xo,{className:"w-3.5 h-3.5"})}),a.jsx("button",{onClick:()=>y(x),className:"p-1.5 rounded hover:bg-slate-700 text-slate-400 hover:text-emerald-400 transition-colors",title:l==="ru"?"":"Download",children:a.jsx(L2,{className:"w-3.5 h-3.5"})}),a.jsx("button",{onClick:()=>r(x.id),className:"p-1.5 rounded hover:bg-slate-700 text-slate-400 hover:text-red-400 transition-colors",title:l==="ru"?"":"Delete",children:a.jsx(un,{className:"w-3.5 h-3.5"})})]})]})]},x.id)})}),S.length>0&&a.jsx("div",{className:"p-3 border-t border-slate-800 bg-slate-900 shrink-0",children:a.jsxs("button",{onClick:i,className:"w-full flex items-center justify-center gap-2 py-2 rounded-lg border border-red-900/30 hover:bg-red-950/20 text-red-400 text-xs transition-colors",children:[a.jsx(un,{className:"w-3.5 h-3.5"}),o.clipboardClear]})})]})},Nk=()=>{const[e,t]=w.useState(0);return w.useEffect(()=>{let n=performance.now(),r=0,i=!0;const l=o=>{i&&(r++,o-n>=1e3&&(t(Math.round(r*1e3/(o-n))),r=0,n=o),requestAnimationFrame(l))};return requestAnimationFrame(l),()=>{i=!1}},[]),a.jsxs("span",{className:"text-[10px] font-mono text-fuchsia-400 bg-fuchsia-900/20 px-1.5 py-0.5 rounded border border-fuchsia-500/30 select-none animate-in fade-in",children:[e," FPS"]})},Sk=({language:e,status:t,isGrammarChecking:n,stats:r,settings:i,showSettings:l,showHistory:o,currentTab:s,isPinned:u,setCurrentTab:c,onSetLanguage:d,onTogglePause:f,onToggleSettings:g,onToggleHistory:m,onToggleHelp:C,onTogglePin:S,onGoHome:T,onWindowControl:y,onResetProcessor:v,historyUpdateCount:x=0,onClearText:A,onCopyText:j,onPasteText:N,onCutText:E,onClearAndPaste:I,showClipboard:z,onToggleClipboard:F,onUpdateSettings:P,onSendToChat:_,onSendToTranslator:D,onSpeakText:Z,onToggleArchive:Q,showArchive:se})=>{const W=tt(e),[H,Y]=w.useState(!1),[k,R]=w.useState(!1),L=w.useRef(null);w.useEffect(()=>{if(x>0){Y(!0);const re=setTimeout(()=>Y(!1),800);return()=>clearTimeout(re)}},[x]),w.useEffect(()=>{const re=ye=>{L.current&&!L.current.contains(ye.target)&&R(!1)};return k&&document.addEventListener("mousedown",re),()=>{document.removeEventListener("mousedown",re)}},[k]);const b=re=>{P?P({...i,[re]:!i[re]}):console.warn("onUpdateSettings not provided to AppHeader")},M=[{id:"editor",icon:W2,label:W.tabEditor,activeColor:"bg-slate-800",shortcut:"Ctrl+1"},{id:"chat",icon:Qi,label:W.tabAssist,activeColor:"bg-indigo-600",shortcut:"Ctrl+2"},{id:"translator",icon:Ga,label:W.tabTrans,activeColor:"bg-emerald-600",shortcut:"Ctrl+3"},{id:"planner",icon:S0,label:W.tabPlanner||"Planner",activeColor:"bg-amber-600",shortcut:"Ctrl+4"}],O=t==="typing",G=t==="recording"||t==="transcribing",V=t==="dict_check",ae=t==="ai_fixing",ie=t==="ai_finalizing"||t==="enhancing",oe=t==="script_fix",q=t==="speaking",B=i.enabled,X=a.jsx("div",{className:"flex p-1 bg-slate-950 rounded-lg border border-slate-800 shrink-0 gap-1 no-drag shadow-sm transition-all duration-300",children:M.map(re=>{const ye=s===re.id;return a.jsx(Te,{content:ye?"":`${re.label} (${re.shortcut})`,side:"bottom",children:a.jsxs("button",{onClick:()=>c(re.id),className:`flex items-center justify-center gap-1 px-2.5 py-1.5 rounded-md text-xs font-semibold transition-all duration-300 touch-manipulation ease-out ${ye?`${re.activeColor} text-white shadow-md pr-3`:"text-slate-500 hover:text-slate-300 hover:bg-slate-800/50"}`,children:[a.jsx(re.icon,{className:`w-4 h-4 shrink-0 transition-transform duration-300 ${ye?"scale-100":"scale-90"}`}),a.jsx("span",{className:`overflow-hidden whitespace-nowrap transition-all duration-300 ease-in-out ${ye?"max-w-[150px] ml-1 opacity-100":"max-w-0 ml-0 opacity-0"}`,children:re.label})]})},re.id)})}),ce=a.jsxs("div",{className:"flex items-center gap-1 overflow-visible animate-in fade-in zoom-in duration-300 no-drag bg-slate-900/50 px-3 py-1 rounded-full border border-slate-800/50 shadow-sm justify-center transition-all",children:[a.jsx(Te,{content:W.detailReset||"Reset Processor",side:"bottom",children:a.jsx("button",{onClick:v,className:"p-2 rounded-full text-slate-500 hover:text-white hover:bg-slate-800 transition-all cursor-pointer group active:scale-95 touch-manipulation",children:a.jsx(cc,{className:"w-4 h-4 group-hover:-rotate-90 transition-transform duration-300"})})}),a.jsx(Te,{content:B?W.tooltipPauseAction:W.tooltipResumeAction,side:"bottom",children:a.jsx("button",{onClick:f,className:`p-2 rounded-full transition-all cursor-pointer hover:bg-slate-800 active:scale-95 touch-manipulation ${B?"text-emerald-400 hover:text-emerald-300":"text-amber-400 hover:text-amber-300"}`,children:B?a.jsx(Pn,{className:"w-4 h-4"}):a.jsx(Xo,{className:"w-4 h-4"})})}),a.jsx("div",{className:"w-px h-4 bg-slate-800 mx-1 md:mx-2 shrink-0"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Te,{content:B?W.modeSmart:W.modeTransOnly,side:"bottom",children:a.jsx("button",{onClick:f,className:`shrink-0 flex items-center justify-center w-8 h-8 rounded-full border transition-all duration-300 cursor-pointer active:scale-95 ${G?"bg-orange-950/40 border-orange-500/50 text-orange-400 shadow-[0_0_10px_rgba(251,146,60,0.3)] animate-pulse":B?"bg-purple-900/20 border-purple-500/30 text-purple-400 hover:bg-purple-900/40":"bg-orange-900/20 border-orange-500/30 text-orange-400 hover:bg-orange-900/40"}`,children:a.jsx(an,{className:`w-3.5 h-3.5 ${G?"animate-pulse":""}`})})}),a.jsx(Te,{content:W.historyTitle,side:"bottom",children:a.jsx("button",{onClick:m,className:`shrink-0 flex items-center justify-center w-8 h-8 rounded-full border transition-all duration-300 cursor-pointer ${H?"bg-slate-600 border-white text-white shadow-[0_0_15px_rgba(255,255,255,0.5)] scale-110":o?"bg-indigo-600 border-indigo-500 text-white":"bg-slate-800 border-slate-700 text-slate-400 hover:text-white"}`,children:a.jsx(b0,{className:`w-3.5 h-3.5 ${H?"animate-pulse":""}`})})}),a.jsx(Te,{content:W.detailTyping,side:"bottom",children:a.jsx("div",{className:`shrink-0 flex items-center justify-center w-8 h-8 rounded-full border transition-all duration-300 ${O?"bg-slate-700 border-slate-500 text-white shadow-[0_0_10px_rgba(148,163,184,0.3)]":"bg-slate-800 border-slate-700 text-slate-400"}`,children:a.jsx(Y2,{className:`w-3.5 h-3.5 ${O?"animate-pulse":""}`})})}),a.jsx(Te,{content:i.miniScripts?W.detailScriptFix:W.pausedScriptFix,side:"bottom",children:a.jsx("button",{onClick:()=>b("miniScripts"),className:`shrink-0 flex items-center justify-center w-8 h-8 rounded-full border transition-all duration-300 cursor-pointer active:scale-95 ${!i.miniScripts||!B?"bg-slate-800 border-slate-700 text-slate-500 opacity-40":oe?"bg-blue-500/20 border-blue-400 text-blue-200 shadow-[0_0_15px_rgba(96,165,250,0.5)]":"bg-slate-800 border-slate-700 text-blue-500/60 hover:text-blue-400 shadow-sm"}`,children:i.miniScripts?a.jsx(al,{className:`w-3.5 h-3.5 ${oe?"animate-pulse":""}`}):a.jsx(Pn,{className:"w-3.5 h-3.5"})})}),a.jsx(Te,{content:i.dictionaryCheck?W.detailDictCheck:W.pausedDictCheck,side:"bottom",children:a.jsx("button",{onClick:()=>b("dictionaryCheck"),className:`shrink-0 flex items-center justify-center w-8 h-8 rounded-full border transition-all duration-300 cursor-pointer active:scale-95 ${!i.dictionaryCheck||!B?"bg-slate-800 border-slate-700 text-slate-500 opacity-40":V?"bg-yellow-500/20 border-yellow-400 text-yellow-200 shadow-[0_0_15px_rgba(250,204,21,0.5)]":"bg-slate-800 border-slate-700 text-yellow-600/70 hover:text-yellow-400 shadow-sm"}`,children:i.dictionaryCheck?a.jsx(P2,{className:`w-3.5 h-3.5 ${V?"animate-bounce":""}`}):a.jsx(Pn,{className:"w-3.5 h-3.5"})})}),a.jsx(Te,{content:i.fixTypos?W.detailAiFixing:W.pausedAiFixing,side:"bottom",children:a.jsx("button",{onClick:()=>b("fixTypos"),className:`shrink-0 flex items-center justify-center w-8 h-8 rounded-full border transition-all duration-300 cursor-pointer active:scale-95 ${!i.fixTypos||!B?"bg-slate-800 border-slate-700 text-slate-500 opacity-40":ae?"bg-purple-500/20 border-purple-400 text-purple-200 shadow-[0_0_15px_rgba(192,132,252,0.5)]":"bg-slate-800 border-slate-700 text-purple-500/60 hover:text-purple-400 shadow-sm"}`,children:i.fixTypos?a.jsx(fc,{className:`w-3.5 h-3.5 ${ae?"animate-pulse":""}`}):a.jsx(Pn,{className:"w-3.5 h-3.5"})})}),a.jsx(Te,{content:i.fixPunctuation?W.detailFinalizing:W.pausedFinalizing,side:"bottom",children:a.jsx("button",{onClick:()=>b("fixPunctuation"),className:`shrink-0 flex items-center justify-center w-8 h-8 rounded-full border transition-all duration-300 cursor-pointer active:scale-95 ${!i.fixPunctuation||!B?"bg-slate-800 border-slate-700 text-slate-500 opacity-40":ie?"bg-emerald-500/20 border-emerald-400 text-emerald-200 shadow-[0_0_15px_rgba(52,211,153,0.5)]":"bg-slate-800 border-slate-700 text-emerald-600/70 hover:text-emerald-400 shadow-sm"}`,children:i.fixPunctuation?a.jsx(kn,{className:`w-3.5 h-3.5 ${ie?"animate-spin":""}`}):a.jsx(Pn,{className:"w-3.5 h-3.5"})})})]})]}),pe=a.jsxs("div",{className:"flex items-center gap-1 bg-slate-800/30 p-1 rounded-lg border border-slate-800/50 no-drag shadow-sm transition-all duration-300",children:[a.jsx(Te,{content:e==="ru"?" ":"Send to Assistant",side:"bottom",children:a.jsx("button",{onClick:_,className:"p-1.5 rounded-md hover:bg-indigo-900/30 text-slate-400 hover:text-indigo-400 transition-colors cursor-pointer active:scale-95",children:a.jsx(Qi,{className:"w-4 h-4"})})}),a.jsx(Te,{content:e==="ru"?" ":"Send to Translator",side:"bottom",children:a.jsx("button",{onClick:D,className:"p-1.5 rounded-md hover:bg-emerald-900/30 text-slate-400 hover:text-emerald-400 transition-colors cursor-pointer active:scale-95",children:a.jsx(Ga,{className:"w-4 h-4"})})}),a.jsxs("div",{className:"flex items-center gap-0.5 bg-purple-900/10 rounded-md border border-purple-500/20 mx-0.5",children:[a.jsx(Te,{content:q?e==="ru"?"...":"Generating...":W.btnSpeak||"Speak Text",side:"bottom",children:a.jsx("button",{onClick:Z,disabled:q,className:`p-1.5 rounded-l-md transition-all duration-300 cursor-pointer ${q?"bg-purple-900/30 text-purple-300 cursor-wait opacity-50 pointer-events-none":"text-slate-400 hover:bg-purple-900/30 hover:text-purple-400 active:scale-95"}`,children:q?a.jsx(Ji,{className:"w-4 h-4 animate-spin"}):a.jsx(lr,{className:"w-4 h-4"})})}),a.jsx(Te,{content:e==="ru"?" ":"Audio Archive",side:"bottom",children:a.jsx("button",{onClick:Q,className:`p-1.5 rounded-r-md transition-colors cursor-pointer active:scale-95 border-l border-purple-500/20 ${se?"bg-purple-900/30 text-purple-400":"hover:bg-purple-900/20 text-slate-400 hover:text-purple-300"}`,children:a.jsx(uc,{className:"w-3.5 h-3.5"})})})]}),a.jsx("div",{className:"w-px h-3 bg-slate-700/50 mx-0.5"}),a.jsx(Te,{content:(e==="ru"?" ":"Cut All")+" (Alt+1)",side:"bottom",children:a.jsx("button",{onClick:E,className:"p-1.5 rounded-md hover:bg-slate-800 text-slate-400 hover:text-pink-400 transition-colors cursor-pointer active:scale-95",children:a.jsx(Ya,{className:"w-4 h-4"})})}),a.jsx(Te,{content:W.btnHeaderCopy+" (Alt+2)",side:"bottom",children:a.jsx("button",{onClick:j,className:"p-1.5 rounded-md hover:bg-slate-800 text-slate-400 hover:text-indigo-400 transition-colors cursor-pointer active:scale-95",children:a.jsx(Qr,{className:"w-4 h-4"})})}),a.jsx(Te,{content:W.btnHeaderPaste+" (Alt+3)",side:"bottom",children:a.jsx("button",{onClick:N,className:"p-1.5 rounded-md hover:bg-slate-800 text-slate-400 hover:text-emerald-400 transition-colors cursor-pointer active:scale-95",children:a.jsx(w0,{className:"w-4 h-4"})})}),a.jsx(Te,{content:(e==="ru"?" ()":"Replace All")+" (Alt+4)",side:"bottom",children:a.jsx("button",{onClick:I,className:"p-1.5 rounded-md hover:bg-slate-800 text-slate-400 hover:text-cyan-400 transition-colors cursor-pointer active:scale-95",children:a.jsx(tk,{className:"w-4 h-4"})})}),a.jsx("div",{className:"w-px h-3 bg-slate-700/50 mx-0.5"}),a.jsx(Te,{content:W.btnHeaderClear+" (Alt+5)",side:"bottom",children:a.jsx("button",{onClick:A,className:"p-1.5 rounded-md hover:bg-red-900/30 text-slate-400 hover:text-red-400 transition-colors cursor-pointer active:scale-95",children:a.jsx(un,{className:"w-4 h-4"})})})]}),ke=[{code:"ru",label:"",flag:""},{code:"en",label:"English",flag:""},{code:"uz-latn",label:"O'zbek",flag:""},{code:"uz-cyrl",label:"",flag:""}];return a.jsxs("header",{className:"titlebar-drag-region bg-slate-900 border-b border-slate-800 flex flex-col shrink-0 z-50 relative select-none supports-[padding-top:env(safe-area-inset-top)]:pt-[env(safe-area-inset-top)] transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between w-full px-3 md:px-4 py-2 min-h-[48px]",children:[a.jsxs("div",{className:"flex items-center gap-2 md:gap-4 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-1 bg-slate-800/30 p-1 rounded-lg border border-slate-800/50 no-drag relative z-[120]",children:[a.jsx(Te,{content:W.tooltipHome,side:"bottom",align:"start",children:a.jsx("button",{onClick:T,className:"p-1.5 rounded-md hover:bg-slate-800 text-slate-400 hover:text-indigo-400 transition-colors cursor-pointer active:scale-95",children:a.jsx(H2,{className:"w-4 h-4"})})}),a.jsx(Te,{content:W.tooltipHelp,side:"bottom",children:a.jsx("button",{onClick:C,className:"p-1.5 rounded-md hover:bg-slate-800 text-slate-400 hover:text-indigo-400 transition-colors cursor-pointer active:scale-95",children:a.jsx(k0,{className:"w-4 h-4"})})}),a.jsx(Te,{content:W.tooltipSettings,side:"bottom",children:a.jsx("button",{onClick:g,className:`p-1.5 rounded-md transition-colors cursor-pointer active:scale-95 ${l?"bg-indigo-900/30 text-indigo-400":"hover:bg-slate-800 text-slate-400"}`,children:a.jsx(rk,{className:"w-4 h-4"})})})]}),a.jsx("div",{className:"h-5 w-px bg-slate-800 mx-0.5 hidden sm:block"}),a.jsxs("div",{className:"flex items-center gap-3 select-none pr-2 cursor-default",children:[a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute inset-0 bg-indigo-500 blur opacity-20 group-hover:opacity-40 transition-opacity rounded-lg"}),a.jsx("div",{className:"relative bg-slate-800/80 border border-slate-700/50 p-1.5 rounded-lg shadow-sm group-hover:border-indigo-500/30 transition-colors",children:a.jsx(kn,{className:"w-3.5 h-3.5 text-indigo-400"})})]}),a.jsxs("span",{className:"font-bold text-sm text-slate-200 tracking-tight hidden sm:block whitespace-nowrap",children:["FastType ",a.jsx("span",{className:"text-indigo-400",children:"AI"})]})]})]}),a.jsxs("div",{className:"hidden 2xl:flex flex-1 items-center justify-between gap-4 px-12 animate-in fade-in zoom-in duration-300 pointer-events-none",children:[a.jsx("div",{className:"pointer-events-auto",children:X}),s==="editor"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"pointer-events-auto",children:ce}),a.jsx("div",{className:"pointer-events-auto",children:pe})]})]}),a.jsxs("div",{className:"flex items-center gap-2 md:gap-3 z-50 relative shrink-0 ml-auto",children:[a.jsxs("div",{className:`flex items-center gap-2 no-drag relative ${k?"z-[200]":"z-50"}`,ref:L,children:[a.jsxs("button",{onClick:()=>R(!k),className:"flex items-center gap-2 pl-3 pr-2 py-1.5 rounded-lg bg-slate-800 border border-slate-700 hover:bg-slate-700 hover:text-white text-slate-300 transition-all cursor-pointer active:scale-95",children:[a.jsx("span",{className:"text-[11px] font-bold uppercase min-w-[20px] text-center tracking-wide",children:e==="ru"?"RU":e==="en"?"EN":e==="uz-latn"?"UZ":""}),a.jsx(Jo,{className:`w-3 h-3 text-slate-500 transition-transform duration-200 ${k?"rotate-180":""}`})]}),k&&a.jsx("div",{className:"absolute top-full right-0 mt-2 w-40 bg-slate-800 border border-slate-700 rounded-xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200 z-[100] origin-top-right",children:a.jsx("ul",{className:"flex flex-col py-1",children:ke.map(re=>a.jsx("li",{children:a.jsxs("button",{onClick:()=>{d(re.code),R(!1)},className:`w-full flex items-center justify-between px-3 py-2.5 text-xs font-medium transition-colors ${e===re.code?"bg-indigo-600/10 text-indigo-400":"text-slate-300 hover:bg-slate-700/50 hover:text-white"}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-base",children:re.flag}),a.jsx("span",{children:re.label})]}),e===re.code&&a.jsx(dr,{className:"w-3.5 h-3.5"})]})},re.code))})}),s==="editor"&&a.jsx(Te,{content:W.tooltipStats,side:"bottom",children:a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-slate-800 rounded-md text-xs font-semibold text-slate-400 border border-slate-700 select-none",children:[a.jsx(F2,{className:"w-3 h-3"}),a.jsx("span",{children:r.corrections})]})})]}),a.jsxs("div",{className:"flex items-center gap-3 pl-2 border-l border-slate-800 ml-1 no-drag",children:[i.developerMode&&a.jsx(Nk,{}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Te,{content:u?W.tooltipUnpin:W.tooltipPin,side:"bottom",children:a.jsx("button",{onClick:S,className:`p-1.5 rounded hover:bg-slate-800 transition-colors cursor-pointer ${u?"text-indigo-400":"text-slate-400 hover:text-white"}`,children:u?a.jsx(J2,{className:"w-3.5 h-3.5"}):a.jsx(X2,{className:"w-3.5 h-3.5"})})}),a.jsx("div",{className:"w-px h-3 bg-slate-800 mx-0.5"}),a.jsx("button",{onClick:()=>y("minimize"),className:"p-1.5 rounded hover:bg-slate-800 text-slate-400 hover:text-white transition-colors cursor-pointer",children:a.jsx(Ka,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>y("maximize"),className:"p-1.5 rounded hover:bg-slate-800 text-slate-400 hover:text-white transition-colors cursor-pointer",children:a.jsx(fr,{className:"w-3.5 h-3.5"})}),a.jsx("button",{onClick:()=>y("close"),className:"p-1.5 rounded hover:bg-red-600 text-slate-400 hover:text-white transition-colors cursor-pointer",children:a.jsx(wt,{className:"w-4 h-4"})})]})]})]})]}),a.jsx("div",{className:"2xl:hidden w-full bg-slate-900 border-b border-slate-800 pb-2 transition-all duration-300",children:s!=="editor"?a.jsx("div",{className:"flex items-center justify-start px-4 pt-1 animate-in fade-in slide-in-from-top-2",children:X}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"hidden lg:flex items-center justify-between px-4 pt-1 animate-in fade-in slide-in-from-top-2",children:[X,ce,pe]}),a.jsxs("div",{className:"hidden sm:flex lg:hidden flex-col gap-2 px-4 pt-1 animate-in fade-in slide-in-from-top-2",children:[a.jsxs("div",{className:"flex items-center justify-between w-full",children:[X,pe]}),a.jsx("div",{className:"flex justify-start w-full",children:ce})]}),a.jsxs("div",{className:"flex sm:hidden flex-col items-start gap-2 pt-1 px-4 animate-in fade-in slide-in-from-top-2",children:[X,pe,ce]})]})})]})},di=(e,t,n)=>e*(1-n)+t*n,Tk=({threshold:e,language:t,isVisible:n,lowCut:r=0,highCut:i=128,amp:l=1,style:o="classic",norm:s=!1,gravity:u=2,mirror:c=!1})=>{const[d,f]=w.useState(!1),[g,m]=w.useState(0),[C,S]=w.useState(""),T=w.useRef(null),y=w.useRef(null),v=w.useRef(null),x=w.useRef(null),A=w.useRef(null),j=w.useRef({lowCut:r,highCut:i,amp:l,style:o,norm:s,gravity:u,threshold:e,mirror:c});w.useEffect(()=>{j.current={lowCut:r,highCut:i,amp:l,style:o,norm:s,gravity:u,threshold:e,mirror:c}},[r,i,l,o,s,u,e,c]);const N=w.useRef({volBass:0,volMid:0,volHigh:0,phaseFront:0,phaseMid:0,phaseBack:0}),E=w.useRef([]),I=tt(t);w.useEffect(()=>{!n&&d&&P()},[n]),w.useEffect(()=>()=>P(),[]);const z=D=>{let Z=0;for(let Q=0;Q<D.length;Q++){const se=(D[Q]-128)/128;Z+=se*se}return Math.sqrt(Z/D.length)},F=async()=>{try{const D=await navigator.mediaDevices.getUserMedia({audio:!0});y.current=D;const Z=new(window.AudioContext||window.webkitAudioContext);T.current=Z;const Q=Z.createAnalyser();Q.fftSize=512,Q.smoothingTimeConstant=.5,Z.createMediaStreamSource(D).connect(Q),v.current=Q;const W=Q.frequencyBinCount,H=new Uint8Array(W),Y=new Uint8Array(W);E.current=new Array(W).fill(0);const k=()=>{if(!v.current||!x.current)return;const{lowCut:R,highCut:L,amp:b,style:M,norm:O,gravity:G,threshold:V,mirror:ae}=j.current;v.current.getByteFrequencyData(H),v.current.getByteTimeDomainData(Y);const ie=z(Y),oe=Math.min(100,ie/.2*100);m(oe);const q=x.current,B=q.getContext("2d"),X=V/100;if(q.parentElement&&(q.width!==q.parentElement.offsetWidth&&(q.width=q.parentElement.offsetWidth),q.height!==q.parentElement.offsetHeight&&(q.height=q.parentElement.offsetHeight)),B){const ce=q.width,pe=q.height,ke=pe/2,re=ce/2;if(B.clearRect(0,0,ce,pe),M==="classic"){let ye=0,ve=0,J=0,le=0,ge=0,de=0;for(let fe=0;fe<H.length;fe++){if(fe<R||fe>L)continue;let $=H[fe]/255;$<X?$=0:$=($-X)/(1-X),O&&$>0&&($=Math.pow($,.6)),$<.05&&($=0),fe<=5?(ye+=$,le++):fe<=30?(ve+=$,ge++):(J+=$,de++)}le>0&&(ye/=le),ge>0&&(ve/=ge),de>0&&(J/=de);const xe=Math.max(.1,ye*6),me=Math.max(.05,ve*5),U=Math.max(.02,J*3),K=G*.1;N.current.volBass=di(N.current.volBass,xe,xe>N.current.volBass?.5:K),N.current.volMid=di(N.current.volMid,me,me>N.current.volMid?.5:K),N.current.volHigh=di(N.current.volHigh,U,U>N.current.volHigh?.5:K),N.current.phaseBack+=.003,N.current.phaseMid+=.01,N.current.phaseFront+=.03,[{color:"rgba(56, 189, 248, 0.3)",lineWidth:2,amplitudeMod:.8,freqMod:.8,phase:N.current.phaseBack,volume:N.current.volBass,phaseOffset:0},{color:"rgba(168, 85, 247, 0.5)",lineWidth:3,amplitudeMod:.9,freqMod:1,phase:N.current.phaseMid,volume:N.current.volMid,phaseOffset:2},{color:"rgba(99, 102, 241, 0.9)",lineWidth:2,amplitudeMod:1.1,freqMod:.8,phase:N.current.phaseFront,volume:N.current.volHigh,phaseOffset:4}].forEach(fe=>{B.beginPath(),B.strokeStyle=fe.color,B.lineWidth=fe.lineWidth,B.lineCap="round",B.lineJoin="round";let $=!1;for(let we=0;we<=ce;we+=2){const Oe=we/ce*2-1,$e=Math.pow(1-Math.abs(Oe),3),$t=Math.sin(we*.01*fe.freqMod+fe.phase+fe.phaseOffset),Dt=1+fe.volume*2,Qe=Math.sin(we*.1*Dt+fe.phase*5),Xt=($t*.5+Qe*.8)*(fe.volume*(pe*.4)*fe.amplitudeMod*b),mt=ke+Xt*$e;$?B.lineTo(we,mt):(B.moveTo(we,mt),$=!0)}B.stroke()})}else if(M==="bars"){const ye=L-R,ve=Math.floor(ye/2),le=(ae?ce/2:ce)/ve,ge=G*.02;for(let de=0;de<ve;de++){const xe=R+de*2;if(xe>=H.length)break;let me=H[xe]/255;me<X?me=0:me=(me-X)/(1-X),O&&me>0&&(me=Math.pow(me,.6));const U=me*pe*.8*b,K=E.current[de]||0;let ue=K;U>K?ue=U:ue=di(K,U,ge),E.current[de]=ue;const fe=de*2+200;if(B.fillStyle=`hsl(${fe}, 80%, 60%)`,ae){const $=de*le;B.fillRect(re+$,ke-ue/2,le-1,ue),B.fillRect(re-$-le,ke-ue/2,le-1,ue)}else{const $=de*le;B.fillRect($,ke-ue/2,le-1,ue)}}}else if(M==="circular"){const ye=Math.min(ce,pe)*.2,ve=L-R,J=G*.02,le=ae?Math.PI/ve:2*Math.PI/ve;B.translate(re,ke);const ge=0;for(let de=0;de<ve;de++){const xe=R+de;if(xe>=H.length)break;let me=H[xe]/255;me<X?me=0:me=(me-X)/(1-X),O&&me>0&&(me=Math.pow(me,.6));const U=me*(Math.min(ce,pe)*.3)*b,K=E.current[de]||0;let ue=K;U>K?ue=U:ue=di(K,U,J),E.current[de]=ue;const fe=de*3+240;if(B.fillStyle=`hsl(${fe}, 90%, 65%)`,ae){const $=de*le;B.save(),B.rotate(ge-$),B.fillRect(0,ye,2,ue),B.restore(),B.save(),B.rotate(ge+$),B.fillRect(0,ye,2,ue),B.restore()}else{const $=de*le;B.save(),B.rotate(ge+$),B.fillRect(0,ye,2,ue),B.restore()}}B.setTransform(1,0,0,1,0,0)}else if(M==="wave"){B.beginPath(),B.strokeStyle="#6366f1",B.lineWidth=2;const ye=L-R;if(ae){const ve=ce/2/ye;for(let J=0;J<ye;J++){let le=H[R+J]/255;le<X?le=0:le=(le-X)/(1-X),O&&le>0&&(le=Math.pow(le,.6));const ge=le*(pe*.4)*b,de=J%2===0?1:-1,xe=ke+ge*de,me=re+J*ve;J===0?B.moveTo(me,xe):B.lineTo(me,xe)}for(let J=0;J<ye;J++){let le=H[R+J]/255;le<X?le=0:le=(le-X)/(1-X),O&&le>0&&(le=Math.pow(le,.6));const ge=le*(pe*.4)*b,de=J%2===0?1:-1,xe=ke+ge*de,me=re-J*ve;B.moveTo(me,xe)}B.stroke(),B.beginPath();for(let J=0;J<ye;J++){let le=H[R+J]/255;le<X?le=0:le=(le-X)/(1-X),O&&le>0&&(le=Math.pow(le,.6));const ge=le*(pe*.4)*b,de=J%2===0?1:-1,xe=ke+ge*de,me=re-J*ve;J===0?B.moveTo(me,xe):B.lineTo(me,xe)}B.stroke()}else{const ve=ce/ye;let J=0;for(let le=R;le<L;le++){let ge=H[le]/255;ge<X?ge=0:ge=(ge-X)/(1-X),O&&ge>0&&(ge=Math.pow(ge,.6));const de=ge*(pe*.4)*b,xe=le%2===0?1:-1,me=ke+de*xe;le===R?B.moveTo(J,me):B.lineTo(J,me),J+=ve}B.stroke()}}}A.current=requestAnimationFrame(k)};k(),f(!0),S("")}catch(D){console.error(D),S(I.micAccessError||"Mic Error"),f(!1)}},P=()=>{if(A.current&&cancelAnimationFrame(A.current),y.current&&y.current.getTracks().forEach(D=>D.stop()),T.current&&T.current.close(),f(!1),m(0),x.current){const D=x.current.getContext("2d");D==null||D.clearRect(0,0,x.current.width,x.current.height)}},_=g>e;return a.jsxs("div",{className:"mt-4 p-4 bg-slate-900 rounded-lg border border-slate-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(lr,{className:`w-4 h-4 ${d?"text-indigo-400":"text-slate-500"}`}),a.jsx("span",{className:"text-sm font-medium text-slate-300",children:d?I.noiseLevel||"Noise Level":I.testMic||"Test Microphone"})]}),a.jsx("button",{onClick:d?P:F,className:`px-3 py-1.5 rounded text-xs font-bold transition-colors border ${d?"bg-red-900/30 text-red-400 border-red-900/50 hover:bg-red-900/50":"bg-indigo-600 text-white border-transparent hover:bg-indigo-500"}`,children:d?I.stopTest||"Stop":I.testMic||"Start Test"})]}),C&&a.jsx("p",{className:"text-xs text-red-400 mb-2",children:C}),a.jsxs("div",{className:"relative h-24 bg-slate-950 rounded-md overflow-hidden border border-slate-700 shadow-inner",children:[a.jsx("canvas",{ref:x,className:"absolute inset-0 w-full h-full z-10"}),a.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-red-500/80 z-20 transition-all duration-300 shadow-[0_0_8px_rgba(239,68,68,0.5)]",style:{left:`${e}%`}}),a.jsxs("div",{className:"absolute inset-0 flex text-[9px] font-bold text-slate-500 z-30 pointer-events-none select-none",children:[a.jsx("div",{style:{width:`${e}%`},className:"h-full flex items-end justify-center pb-1 border-r border-slate-700/30 bg-red-500/5",children:a.jsx("span",{className:"opacity-50 truncate px-1",children:I.silenceZone||"Silence"})}),a.jsx("div",{className:"flex-1 h-full flex items-end justify-center pb-1 bg-emerald-500/5",children:a.jsx("span",{className:"opacity-50 truncate px-1",children:I.speechZone||"Speech"})})]}),a.jsx("div",{className:`absolute top-0 bottom-0 left-0 transition-all duration-75 ease-out z-0 opacity-20 ${_?"bg-emerald-500":"bg-slate-500"}`,style:{width:`${g}%`}})]}),a.jsxs("p",{className:"text-[10px] text-slate-500 mt-2 text-right font-mono",children:["Input: ",Math.round(g),"% | Trigger: ",e,"%"]})]})},Ek=({settings:e,language:t,onUpdateSettings:n,onResetKey:r,onUpdateApiKey:i,hasLock:l,onRemoveLock:o,onSetLock:s,onClose:u,isVisible:c=!0,onVerifyPin:d})=>{const f=tt(t),g=x2(),{addNotification:m}=dn(),[C,S]=w.useState(!1),[T,y]=w.useState("none"),[v,x]=w.useState(""),[A,j]=w.useState(""),[N,E]=w.useState(!1),[I,z]=w.useState("");w.useEffect(()=>{x(""),j(""),c||E(!1)},[T,c]);const F=()=>{j(""),T==="create"?v.length>=3&&s&&(s(v),y("none")):T==="verify_change"||T==="verify_remove"?d&&d(v)?T==="verify_remove"&&o?(o(),y("none")):(y("set_new"),x("")):j(f.lockError):T==="set_new"&&v.length>=3&&s&&(s(v),y("none"))},P=()=>{if(I.trim().length<10){m(t==="ru"?"  ":"Key too short","error");return}i&&(i(I.trim()),m(t==="ru"?" ":"Key updated","success"),E(!1),z(""))},_=()=>{switch(T){case"create":return f.lockCreateTitle;case"verify_change":return f.lockVerifyOld||"Verify PIN";case"verify_remove":return f.lockVerifyOld||"Verify PIN";case"set_new":return f.lockNew||"New PIN";default:return""}};return a.jsxs("div",{className:"bg-slate-900 border-b border-slate-800 shadow-xl z-40 w-full shrink-0 h-[85vh] md:max-h-[85vh] md:h-auto overflow-y-auto custom-scrollbar flex flex-col relative select-none",children:[N&&a.jsx("div",{className:"absolute inset-0 z-[60] bg-slate-900/95 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in zoom-in duration-200 select-none",children:a.jsxs("div",{className:"w-full max-w-sm bg-slate-800 border border-slate-700 rounded-xl p-6 shadow-2xl relative",children:[a.jsx("button",{onClick:()=>E(!1),className:"absolute top-4 right-4 text-slate-500 hover:text-white transition-colors",children:a.jsx(wt,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex flex-col items-center text-center mb-6",children:[a.jsx("div",{className:"w-12 h-12 bg-indigo-900/30 rounded-full flex items-center justify-center mb-3 text-indigo-400 border border-indigo-500/20",children:a.jsx(Of,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:f.changeKey}),a.jsx("p",{className:"text-xs text-slate-400",children:t==="ru"?"   API ":"Enter your new API key below"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("input",{type:"password",value:I,onChange:D=>z(D.target.value),placeholder:"AIzaSy...",className:"w-full bg-slate-900 border border-slate-600 rounded-lg px-4 py-3 text-slate-200 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 font-mono text-sm",autoFocus:!0}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("button",{onClick:P,className:"flex-1 bg-indigo-600 hover:bg-indigo-500 text-white font-semibold py-2.5 rounded-lg transition-colors flex items-center justify-center gap-2",children:[a.jsx(nk,{className:"w-4 h-4"}),t==="ru"?"":"Save"]})}),a.jsxs("div",{className:"pt-4 border-t border-slate-700/50 flex flex-col gap-2",children:[a.jsxs("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noreferrer",className:"text-xs text-indigo-400 hover:text-indigo-300 flex items-center justify-center gap-1",children:[a.jsx(ac,{className:"w-3 h-3"}),f.linkGetKey]}),a.jsxs("button",{onClick:()=>{r(),E(!1)},className:"text-xs text-red-400 hover:text-red-300 flex items-center justify-center gap-1 mt-1 opacity-70 hover:opacity-100",children:[a.jsx($2,{className:"w-3 h-3"}),t==="ru"?"   ":"Remove Key & Logout"]})]})]})]})}),a.jsxs("div",{className:"sticky top-0 z-50 flex items-center justify-between px-4 md:px-6 py-4 bg-slate-900/95 backdrop-blur border-b border-slate-800 shrink-0",children:[a.jsxs("button",{onClick:()=>E(!0),className:"flex items-center gap-2 px-3 py-2 text-slate-400 hover:text-white bg-slate-800 hover:bg-slate-700 border border-slate-700 rounded-lg transition-all active:scale-95 text-xs font-bold uppercase tracking-wider touch-manipulation",children:[a.jsx(Of,{className:"w-3.5 h-3.5"}),f.changeKey]}),a.jsx("button",{onClick:u,className:"p-2 text-slate-400 hover:text-white bg-slate-800/50 hover:bg-slate-700 rounded-full transition-all active:scale-95",title:f.tooltipClose||"Close",children:a.jsx(Ff,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"w-full max-w-[1400px] mx-auto px-4 md:px-6 py-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8 pb-10",children:[a.jsxs("div",{className:"space-y-4 md:space-y-6",children:[a.jsxs("h3",{className:"text-sm font-semibold text-slate-200 flex items-center gap-2 border-b border-slate-800 pb-2",children:[a.jsx(Po,{className:"w-4 h-4 text-indigo-400"}),f.groupActive]}),a.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700/50 space-y-5",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm text-slate-400",children:f.settingsActive}),a.jsx("button",{onClick:()=>n({...e,enabled:!e.enabled}),className:`w-12 h-7 md:w-11 md:h-6 flex items-center rounded-full transition-colors duration-200 touch-manipulation ${e.enabled?"bg-indigo-600":"bg-slate-700"}`,children:a.jsx("span",{className:`w-5 h-5 md:w-4 md:h-4 bg-white rounded-full shadow-md transform transition-transform duration-200 ${e.enabled?"translate-x-6 md:translate-x-6":"translate-x-1"}`})})]}),a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"mr-2",children:[a.jsxs("label",{className:"text-sm text-slate-400 flex items-center gap-2",children:[a.jsx(al,{className:"w-3.5 h-3.5 text-sky-400"}),f.settingsMiniScripts||"Mini-Scripts"]}),a.jsx("p",{className:"text-[10px] text-slate-600 leading-tight mt-1",children:f.settingsMiniScriptsDesc||"Instant fixes for spacing and case (No AI)"})]}),a.jsx("button",{onClick:()=>n({...e,miniScripts:!e.miniScripts}),className:`w-12 h-7 md:w-11 md:h-6 flex items-center rounded-full transition-colors duration-200 shrink-0 touch-manipulation ${e.miniScripts?"bg-sky-600":"bg-slate-700"}`,children:a.jsx("span",{className:`w-5 h-5 md:w-4 md:h-4 bg-white rounded-full shadow-md transform transition-transform duration-200 ${e.miniScripts?"translate-x-6 md:translate-x-6":"translate-x-1"}`})})]}),a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"mr-2",children:[a.jsxs("label",{className:"text-sm text-slate-400 flex items-center gap-2",children:[a.jsx(R2,{className:"w-3.5 h-3.5 text-fuchsia-400"}),f.settingsDevMode||"Developer Mode"]}),a.jsx("p",{className:"text-[10px] text-slate-600 leading-tight mt-1",children:f.settingsDevModeDesc||"Enable test buttons"})]}),a.jsx("button",{onClick:()=>n({...e,developerMode:!e.developerMode}),className:`w-12 h-7 md:w-11 md:h-6 flex items-center rounded-full transition-colors duration-200 shrink-0 touch-manipulation ${e.developerMode?"bg-fuchsia-600":"bg-slate-700"}`,children:a.jsx("span",{className:`w-5 h-5 md:w-4 md:h-4 bg-white rounded-full shadow-md transform transition-transform duration-200 ${e.developerMode?"translate-x-6 md:translate-x-6":"translate-x-1"}`})})]}),a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"mr-2",children:[a.jsxs("label",{className:"text-sm text-slate-400 flex items-center gap-2",children:[a.jsx(V2,{className:"w-3.5 h-3.5 text-emerald-500"}),f.settingsEconomy]}),a.jsx("p",{className:"text-[10px] text-slate-600 leading-tight mt-1",children:f.settingsEconomyDesc})]}),a.jsx("button",{onClick:()=>n({...e,economyMode:!e.economyMode}),className:`w-12 h-7 md:w-11 md:h-6 flex items-center rounded-full transition-colors duration-200 shrink-0 touch-manipulation ${e.economyMode?"bg-emerald-600":"bg-slate-700"}`,children:a.jsx("span",{className:`w-5 h-5 md:w-4 md:h-4 bg-white rounded-full shadow-md transform transition-transform duration-200 ${e.economyMode?"translate-x-6 md:translate-x-6":"translate-x-1"}`})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("label",{className:"text-sm text-slate-400",children:f.settingsDelay}),a.jsxs("span",{className:"text-xs font-mono bg-slate-800 px-2 py-0.5 rounded text-slate-400 border border-slate-700",children:[e.debounceMs,"ms"]})]}),a.jsx("input",{type:"range",min:"300",max:"2000",step:"100",value:e.debounceMs,onChange:D=>n({...e,debounceMs:parseInt(D.target.value)}),className:"w-full h-4 md:h-2 bg-slate-900 rounded-lg appearance-none cursor-pointer accent-indigo-500 touch-manipulation"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("label",{className:"text-sm text-slate-400",children:f.settingsFinalization}),a.jsxs("span",{className:"text-xs font-mono bg-slate-800 px-2 py-0.5 rounded text-slate-400 border border-slate-700",children:[e.finalizationTimeout/1e3,"s"]})]}),a.jsx("input",{type:"range",min:"5000",max:"20000",step:"1000",value:e.finalizationTimeout,onChange:D=>n({...e,finalizationTimeout:parseInt(D.target.value)}),className:"w-full h-4 md:h-2 bg-slate-900 rounded-lg appearance-none cursor-pointer accent-indigo-500 touch-manipulation"})]})]})]}),a.jsxs("div",{className:"space-y-4 md:space-y-6",children:[a.jsxs("h3",{className:"text-sm font-semibold text-slate-200 flex items-center gap-2 border-b border-slate-800 pb-2",children:[a.jsx(an,{className:"w-4 h-4 text-emerald-400"}),f.groupSilence]}),a.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700/50",children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("button",{onClick:()=>S(!C),className:"w-full flex items-center justify-between text-xs font-bold text-slate-300 uppercase tracking-wider hover:text-indigo-400 transition-colors mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ms,{className:"w-3.5 h-3.5"}),"Visualizer Waves"]}),C?a.jsx(Ff,{className:"w-4 h-4"}):a.jsx(Jo,{className:"w-4 h-4"})]}),a.jsxs("div",{className:`space-y-4 overflow-hidden transition-all duration-300 ${C?"max-h-[700px] opacity-100 mt-4":"max-h-0 opacity-0"}`,children:[a.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[a.jsx("button",{onClick:()=>n({...e,visualizerStyle:"classic"}),className:`flex flex-col items-center justify-center p-2 rounded border transition-all ${e.visualizerStyle==="classic"?"bg-indigo-600 text-white border-indigo-500":"bg-slate-800 border-slate-700 text-slate-500 hover:bg-slate-700"}`,title:"Classic",children:a.jsx(y0,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>n({...e,visualizerStyle:"bars"}),className:`flex flex-col items-center justify-center p-2 rounded border transition-all ${e.visualizerStyle==="bars"?"bg-indigo-600 text-white border-indigo-500":"bg-slate-800 border-slate-700 text-slate-500 hover:bg-slate-700"}`,title:"Bars",children:a.jsx(j2,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>n({...e,visualizerStyle:"circular"}),className:`flex flex-col items-center justify-center p-2 rounded border transition-all ${e.visualizerStyle==="circular"?"bg-indigo-600 text-white border-indigo-500":"bg-slate-800 border-slate-700 text-slate-500 hover:bg-slate-700"}`,title:"Circular",children:a.jsx(D2,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>n({...e,visualizerStyle:"wave"}),className:`flex flex-col items-center justify-center p-2 rounded border transition-all ${e.visualizerStyle==="wave"?"bg-indigo-600 text-white border-indigo-500":"bg-slate-800 border-slate-700 text-slate-500 hover:bg-slate-700"}`,title:"Wave",children:a.jsx(Ms,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("label",{className:"text-xs text-slate-400 flex items-center gap-1",children:[a.jsx(G2,{className:"w-3 h-3"}),"Normalize (Auto-Level)"]}),a.jsx("button",{onClick:()=>n({...e,visualizerNorm:!e.visualizerNorm}),className:`w-8 h-4 flex items-center rounded-full transition-colors duration-200 ${e.visualizerNorm?"bg-emerald-600":"bg-slate-700"}`,children:a.jsx("span",{className:`w-3 h-3 bg-white rounded-full shadow-md transform transition-transform duration-200 ${e.visualizerNorm?"translate-x-4":"translate-x-0.5"}`})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("label",{className:"text-xs text-slate-400 flex items-center gap-1",children:[a.jsx(lk,{className:"w-3 h-3"}),"Mirror (Center/Bass)"]}),a.jsx("button",{onClick:()=>n({...e,visualizerMirror:!e.visualizerMirror}),className:`w-8 h-4 flex items-center rounded-full transition-colors duration-200 ${e.visualizerMirror?"bg-blue-600":"bg-slate-700"}`,children:a.jsx("span",{className:`w-3 h-3 bg-white rounded-full shadow-md transform transition-transform duration-200 ${e.visualizerMirror?"translate-x-4":"translate-x-0.5"}`})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsxs("label",{className:"text-xs text-slate-400 flex items-center gap-1",children:[a.jsx(A2,{className:"w-3 h-3"}),"Gravity (Decay)"]}),a.jsx("span",{className:"text-[10px] font-mono text-slate-500",children:e.visualizerGravity||2})]}),a.jsx("input",{type:"range",min:"0.5",max:"10.0",step:"0.5",value:e.visualizerGravity||2,onChange:D=>n({...e,visualizerGravity:parseFloat(D.target.value)}),className:"w-full h-1.5 bg-slate-900 rounded-lg appearance-none cursor-pointer accent-indigo-500"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsxs("label",{className:"text-xs text-slate-400 flex items-center gap-1",children:[a.jsx(Ya,{className:"w-3 h-3 rotate-90"}),"Low Cut (Bass)"]}),a.jsx("span",{className:"text-[10px] font-mono text-slate-500",children:e.visualizerLowCut||0})]}),a.jsx("input",{type:"range",min:"0",max:"20",step:"1",value:e.visualizerLowCut||0,onChange:D=>n({...e,visualizerLowCut:parseInt(D.target.value)}),className:"w-full h-1.5 bg-slate-900 rounded-lg appearance-none cursor-pointer accent-sky-500"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsxs("label",{className:"text-xs text-slate-400 flex items-center gap-1",children:[a.jsx(Ya,{className:"w-3 h-3 -rotate-90"}),"High Cut (Freq)"]}),a.jsx("span",{className:"text-[10px] font-mono text-slate-500",children:e.visualizerHighCut||128})]}),a.jsx("input",{type:"range",min:"30",max:"128",step:"1",value:e.visualizerHighCut||128,onChange:D=>n({...e,visualizerHighCut:parseInt(D.target.value)}),className:"w-full h-1.5 bg-slate-900 rounded-lg appearance-none cursor-pointer accent-indigo-500"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsxs("label",{className:"text-xs text-slate-400 flex items-center gap-1",children:[a.jsx(Ms,{className:"w-3 h-3"}),"Amplitude (Gain)"]}),a.jsxs("span",{className:"text-[10px] font-mono text-slate-500",children:["x",e.visualizerAmp||1]})]}),a.jsx("input",{type:"range",min:"0.1",max:"3.0",step:"0.1",value:e.visualizerAmp||1,onChange:D=>n({...e,visualizerAmp:parseFloat(D.target.value)}),className:"w-full h-1.5 bg-slate-900 rounded-lg appearance-none cursor-pointer accent-emerald-500"})]})]})]}),a.jsxs("div",{className:"border-t border-slate-700/50 pt-4 mb-2",children:[a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("label",{className:"text-sm text-slate-400 flex items-center gap-2",children:t==="ru"?" ":"Sensitivity"}),a.jsxs("span",{className:"text-xs font-mono bg-slate-800 px-2 py-0.5 rounded text-slate-400 border border-slate-700",children:[e.silenceThreshold,"%"]})]}),a.jsx("input",{type:"range",min:"1",max:"100",step:"1",value:e.silenceThreshold,onChange:D=>n({...e,silenceThreshold:parseInt(D.target.value)}),className:"w-full h-4 md:h-2 bg-slate-900 rounded-lg appearance-none cursor-pointer accent-indigo-500 touch-manipulation"})]}),a.jsx("div",{className:"mt-4",children:a.jsx(Tk,{threshold:e.silenceThreshold,language:t,isVisible:c,lowCut:e.visualizerLowCut||0,highCut:e.visualizerHighCut||128,amp:e.visualizerAmp||1,style:e.visualizerStyle,norm:e.visualizerNorm,gravity:e.visualizerGravity,mirror:e.visualizerMirror})})]})]}),a.jsxs("div",{className:"flex flex-col h-full space-y-4 md:space-y-6",children:[a.jsxs("h3",{className:"text-sm font-semibold text-slate-200 flex items-center gap-2 border-b border-slate-800 pb-2",children:[a.jsx(Lf,{className:"w-4 h-4 text-purple-400"}),f.groupModel]}),a.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700/50",children:[a.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 block",children:f.audioModelTitle||"Dictation Model"}),a.jsxs("div",{className:"flex gap-2 mb-4",children:[a.jsxs("button",{onClick:()=>n({...e,audioModel:"gemini-2.5-flash"}),className:`flex-1 flex flex-col items-center justify-center p-3 rounded-lg border transition-all touch-manipulation ${e.audioModel==="gemini-2.5-flash"?"bg-indigo-600/20 border-indigo-500 text-indigo-300":"bg-slate-800 border-slate-700 text-slate-500 hover:bg-slate-700"}`,children:[a.jsx(Po,{className:"w-5 h-5 md:w-4 md:h-4 mb-1"}),a.jsx("span",{className:"text-xs font-semibold",children:f.modelFlash})]}),a.jsxs("button",{onClick:()=>n({...e,audioModel:"gemini-2.5-pro"}),className:`flex-1 flex flex-col items-center justify-center p-3 rounded-lg border transition-all touch-manipulation ${e.audioModel==="gemini-2.5-pro"?"bg-purple-600/20 border-purple-500 text-purple-300":"bg-slate-800 border-slate-700 text-slate-500 hover:bg-slate-700"}`,children:[a.jsx(Lf,{className:"w-5 h-5 md:w-4 md:h-4 mb-1"}),a.jsx("span",{className:"text-xs font-semibold",children:f.modelPro})]})]}),a.jsxs("div",{className:"pt-4 border-t border-slate-700/50",children:[a.jsxs("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 block flex items-center gap-2",children:[a.jsx(lr,{className:"w-3.5 h-3.5"}),f.ttsVoiceTitle||"TTS Voice"]}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Puck","Charon","Kore","Fenrir","Zephyr"].map(D=>a.jsx("button",{onClick:()=>n({...e,ttsVoice:D}),className:`py-2 px-3 rounded text-xs font-medium border transition-colors ${e.ttsVoice===D?"bg-emerald-600/20 border-emerald-500 text-emerald-300":"bg-slate-800 border-slate-700 text-slate-400 hover:bg-slate-700"}`,children:D},D))})]})]}),a.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700/50",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3 border-b border-slate-700/50 pb-2",children:[a.jsx(z2,{className:"w-3.5 h-3.5 text-slate-400"}),a.jsx("span",{className:"text-xs font-semibold text-slate-300 uppercase tracking-wider",children:f.dictStatus})]}),a.jsxs("div",{className:"flex items-center justify-between mb-3 last:mb-0",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-sm text-slate-300 font-medium",children:f.dictRu}),a.jsxs("span",{className:"text-[10px] text-slate-500 font-mono",children:[g.ruCount," ",f.dictWords]})]}),g.ruLoaded?a.jsxs("div",{className:"flex items-center gap-1.5 text-emerald-400 bg-emerald-950/30 px-2 py-1 rounded border border-emerald-900/50",children:[a.jsx(dr,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"text-[10px] font-bold",children:"OK"})]}):a.jsxs("div",{className:"flex items-center gap-1.5 text-red-400 bg-red-950/30 px-2 py-1 rounded border border-red-900/50",children:[a.jsx(wt,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"text-[10px] font-bold uppercase",children:f.dictMissing})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-sm text-slate-300 font-medium",children:f.dictEn}),a.jsxs("span",{className:"text-[10px] text-slate-500 font-mono",children:[g.enCount," ",f.dictWords]})]}),g.enLoaded?a.jsxs("div",{className:"flex items-center gap-1.5 text-emerald-400 bg-emerald-950/30 px-2 py-1 rounded border border-emerald-900/50",children:[a.jsx(dr,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"text-[10px] font-bold",children:"OK"})]}):a.jsxs("div",{className:"flex items-center gap-1.5 text-red-400 bg-red-950/30 px-2 py-1 rounded border border-red-900/50",children:[a.jsx(wt,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"text-[10px] font-bold uppercase",children:f.dictMissing})]})]})]}),a.jsx("div",{className:"flex-1"}),a.jsx("div",{className:"space-y-2 mt-auto",children:T!=="none"?a.jsxs("div",{className:"bg-slate-800 p-3 rounded-lg border border-slate-700 animate-in fade-in zoom-in duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-xs font-bold text-slate-300",children:_()}),a.jsx("button",{onClick:()=>y("none"),className:"text-slate-500 hover:text-white",children:a.jsx(wt,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"password",inputMode:"numeric",value:v,onChange:D=>{x(D.target.value),j("")},placeholder:"****",className:"w-full bg-slate-900 border border-slate-700 rounded px-3 py-2 text-center text-sm font-mono focus:border-indigo-500 focus:outline-none",maxLength:8,autoFocus:!0}),a.jsx("button",{onClick:F,disabled:v.length<3,className:"bg-indigo-600 hover:bg-indigo-500 text-white px-3 py-1 rounded text-xs font-bold disabled:opacity-50 transition-colors",children:"OK"})]}),A&&a.jsx("p",{className:"text-xs text-red-400 mt-1",children:A})]}):a.jsx("div",{className:"space-y-2",children:l?a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>y("verify_change"),className:"flex items-center justify-center gap-2 p-3 md:p-2 w-full rounded-lg bg-slate-800 border border-slate-700 hover:bg-slate-700 hover:border-slate-600 text-slate-400 hover:text-white text-xs transition-colors touch-manipulation",children:[a.jsx(Ro,{className:"w-4 h-4"}),f.lockChange]}),a.jsxs("button",{onClick:()=>y("verify_remove"),className:"flex items-center justify-center gap-2 p-3 md:p-2 w-full rounded-lg bg-slate-800 border border-slate-700 hover:bg-red-950/30 hover:border-red-900/50 hover:text-red-400 text-slate-400 text-xs transition-colors touch-manipulation",children:[a.jsx(ik,{className:"w-4 h-4"}),f.lockRemove]})]}):a.jsxs("button",{onClick:()=>y("create"),className:"flex items-center justify-center gap-2 p-3 md:p-2 w-full rounded-lg bg-slate-800 border border-slate-700 hover:bg-slate-700 hover:border-slate-600 text-slate-400 hover:text-white text-xs transition-colors touch-manipulation",children:[a.jsx(Yl,{className:"w-4 h-4"}),f.btnCreatePin]})})})]})]})]})},$f=()=>{const{notifications:e,removeNotification:t}=dn();return e.length===0?null:a.jsx("div",{className:"fixed top-2 left-1/2 -translate-x-1/2 z-[100] flex flex-col items-center gap-2 pointer-events-none w-full max-w-md",children:e.map(n=>a.jsxs("div",{className:`
            pointer-events-auto flex items-center gap-2 px-4 py-2 rounded-full shadow-2xl border backdrop-blur-md min-w-[240px] max-w-sm
            animate-in slide-in-from-top-2 fade-in duration-300
            ${n.type==="success"?"bg-slate-900/95 border-emerald-500/30 text-emerald-100 shadow-emerald-900/10":""}
            ${n.type==="error"?"bg-slate-900/95 border-red-500/30 text-red-100 shadow-red-900/10":""}
            ${n.type==="info"?"bg-slate-900/95 border-indigo-500/30 text-indigo-100 shadow-indigo-900/10":""}
            ${n.type==="warning"?"bg-slate-900/95 border-amber-500/30 text-amber-100 shadow-amber-900/10":""}
          `,children:[a.jsxs("div",{className:"shrink-0",children:[n.type==="success"&&a.jsx($a,{className:"w-4 h-4 text-emerald-400"}),n.type==="error"&&a.jsx(fk,{className:"w-4 h-4 text-red-400"}),n.type==="info"&&a.jsx(C0,{className:"w-4 h-4 text-indigo-400"}),n.type==="warning"&&a.jsx(S2,{className:"w-4 h-4 text-amber-400"})]}),a.jsx("p",{className:"text-xs font-medium flex-1 text-center",children:n.message}),a.jsx("button",{onClick:()=>t(n.id),className:"shrink-0 p-0.5 hover:bg-white/10 rounded-full transition-colors",children:a.jsx(wt,{className:"w-3 h-3 opacity-70"})})]},n.id))})},Ak=({isOpen:e,onClose:t,language:n})=>{const r=tt(n),[i,l]=w.useState(!1);return w.useEffect(()=>{if(e)l(!0);else{const o=setTimeout(()=>l(!1),300);return()=>clearTimeout(o)}},[e]),a.jsxs("div",{className:`fixed inset-0 z-[60] flex items-center justify-center p-4 transition-all duration-300 ${e?"opacity-100 visible":"opacity-0 invisible pointer-events-none"}`,children:[a.jsx("div",{className:"absolute inset-0 bg-slate-950/80 backdrop-blur-sm transition-opacity duration-300",onClick:t}),a.jsxs("div",{className:`
            relative bg-slate-900 border border-slate-800 rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden 
            transform transition-all duration-300 ease-out
            ${e?"scale-100 translate-y-0 opacity-100":"scale-95 translate-y-4 opacity-0"}
        `,children:[a.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-slate-800 bg-slate-800/50",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(k0,{className:"w-5 h-5 text-indigo-400"}),a.jsx("h2",{className:"text-lg font-bold text-slate-100",children:r.helpModalTitle})]}),a.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-slate-700/50 text-slate-500 hover:text-white transition-colors",children:a.jsx(wt,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"shrink-0 p-3 bg-blue-500/10 rounded-lg h-fit",children:a.jsx(T0,{className:"w-5 h-5 text-blue-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-200 mb-1",children:r.howItWorksTitle}),a.jsx("p",{className:"text-sm text-slate-400 leading-relaxed whitespace-pre-line",children:r.howItWorksDesc})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"shrink-0 p-3 bg-indigo-500/10 rounded-lg h-fit",children:a.jsx(fc,{className:"w-5 h-5 text-indigo-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-200 mb-1",children:r.helpSection1}),a.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:r.helpDesc1})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"shrink-0 p-3 bg-emerald-500/10 rounded-lg h-fit",children:a.jsx(Po,{className:"w-5 h-5 text-emerald-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-200 mb-1",children:r.helpSection2}),a.jsx("p",{className:"text-sm text-slate-400 leading-relaxed whitespace-pre-line",children:r.helpDesc2})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"shrink-0 p-3 bg-amber-500/10 rounded-lg h-fit",children:a.jsx(an,{className:"w-5 h-5 text-amber-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-200 mb-1",children:r.helpSection3}),a.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:r.helpDesc3})]})]})]}),a.jsx("div",{className:"p-4 bg-slate-950/50 border-t border-slate-800 text-center",children:a.jsx("button",{onClick:t,className:"px-6 py-2 bg-slate-800 hover:bg-slate-700 text-slate-200 rounded-lg text-sm font-medium transition-colors",children:r.tooltipClose})})]})]})},Ik=e=>e==="ru"?"    -.  ,  ,  .  Markdown  .":"You are a helpful and friendly AI assistant. Answer concisely and politely. Use Markdown for formatting.",jk=async function*(e,t,n,r,i,l){if(!e)throw new Error("API Key Missing");const o=new ol({apiKey:e}),s=[];for(const c of r){if(c.isTyping||(!c.text||!c.text.trim())&&!c.attachment)continue;const d=c.role,f=c.text?c.text.trim():"",g=[];if(c.attachment&&g.push({inlineData:{mimeType:c.attachment.mimeType,data:c.attachment.data}}),f&&g.push({text:f}),s.length>0&&s[s.length-1].role===d){const m=s[s.length-1];m.parts&&m.parts.push(...g)}else s.push({role:d,parts:g})}s.length>0&&s[0].role==="model"&&s.shift();const u=[];if(l&&u.push({inlineData:{mimeType:l.mimeType,data:l.data}}),i&&u.push({text:i}),s.length>0&&s[s.length-1].role==="user"){const c=s.pop();c&&c.parts&&u.unshift(...c.parts)}try{const d=await o.chats.create({model:t,history:s,config:{systemInstruction:Ik(n),temperature:.7}}).sendMessageStream({message:u});for await(const f of d)f.text&&(yield f.text)}catch(c){throw console.error("Chat Stream Error Details:",c),c}},Pk=async(e,t,n,r)=>{var l;if(!e)throw new Error("API Key Missing");const i=new ol({apiKey:e});try{let s=((l=(await i.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[{inlineData:{mimeType:n,data:t}}]},config:{systemInstruction:r==="ru"?`  .  :    . 
 :
1.     , , ,         ( ).
2.   .   '', '', ' '. 
3.  -  .
4.   ,     .`:`You are a transcriber. Your task: convert audio to text.
STRICT RULES:
1. If audio contains only silence, noise, music, breathing, or unclear sounds - return EMPTY STRING (just a space).
2. Do NOT hallucinate text. Do NOT write 'Subtitles', 'Thanks', 'Continued'.
3. Ignore stutters.
4. Return ONLY what was clearly spoken by a human.`,temperature:0}})).text)==null?void 0:l.trim())||"";s=m0(s,r);const u=s.toLowerCase(),c=["","subtitles"," ","to be continued","  ","thanks for watching","copyright","  ","all rights reserved","","translated by","","","the end","transcribed by","audio","sound","","subscribe","","like"];return s.length<50&&c.some(d=>u.includes(d))?(console.warn("Hallucination detected and blocked:",s),""):/^(.{1,3})\1{4,}$/.test(s.replace(/\s/g,""))?"":s}catch(o){return console.error("Chat Transcription Error:",o),""}};function Rk(e){const t=atob(e),n=t.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=t.charCodeAt(i);return r}function Mk(e){let t="";const n=e.byteLength;for(let r=0;r<n;r++)t+=String.fromCharCode(e[r]);return btoa(t)}function _k(e){const t=e.length,n=new Int16Array(t);for(let r=0;r<t;r++)n[r]=Math.max(-32768,Math.min(32767,e[r]*32768));return{data:Mk(new Uint8Array(n.buffer)),mimeType:"audio/pcm;rate=16000"}}async function Dk(e,t,n=24e3,r=1){const i=new Int16Array(e.buffer),l=i.length/r,o=t.createBuffer(r,l,n);for(let s=0;s<r;s++){const u=o.getChannelData(s);for(let c=0;c<l;c++)u[c]=i[c*r+s]/32768}return o}const zk=e=>{const[t,n]=w.useState(!1),[r,i]=w.useState(!1),[l,o]=w.useState(null),s=w.useRef(!1),u=w.useRef(null),c=w.useRef(null),d=w.useRef(null),f=w.useRef(null),g=w.useRef(null),m=w.useRef(0),C=w.useRef(new Set),S=w.useRef(new Uint8Array(128)),T=w.useRef(null),y=w.useRef(null),v=w.useRef(null),x=w.useCallback(async()=>{if(n(!1),s.current=!1,i(!1),v.current){try{v.current.close()}catch(j){console.error("Error closing live session",j)}v.current=null,y.current=null}f.current&&(f.current.disconnect(),f.current=null),d.current&&(d.current.disconnect(),d.current=null),u.current&&(u.current.close(),u.current=null),C.current.forEach(j=>{try{j.stop()}catch{}}),C.current.clear(),c.current&&(c.current.close(),c.current=null),T.current&&cancelAnimationFrame(T.current)},[]),A=w.useCallback(async()=>{if(!(t||r||!e)){i(!0),o(null);try{const j=new ol({apiKey:e}),N=await navigator.mediaDevices.getUserMedia({audio:{sampleRate:16e3,channelCount:1,echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}}),E=window.AudioContext||window.webkitAudioContext;u.current=new E({sampleRate:16e3}),d.current=u.current.createMediaStreamSource(N),f.current=u.current.createScriptProcessor(4096,1,1),d.current.connect(f.current),f.current.connect(u.current.destination),c.current=new E({sampleRate:24e3}),m.current=c.current.currentTime,g.current=c.current.createAnalyser(),g.current.fftSize=256,g.current.connect(c.current.destination);const I=()=>{g.current&&g.current.getByteFrequencyData(S.current),T.current=requestAnimationFrame(I)};I();const z=j.live.connect({model:"gemini-2.5-flash-native-audio-preview-12-2025",config:{responseModalities:[So.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Kore"}}},systemInstruction:"You are a helpful, witty, and concise voice assistant. Keep answers short and conversational."},callbacks:{onopen:()=>{console.log("Gemini Live Connected"),i(!1),n(!0),s.current=!0},onmessage:async F=>{var _,D,Z,Q,se,W;if(!s.current)return;const P=(se=(Q=(Z=(D=(_=F.serverContent)==null?void 0:_.modelTurn)==null?void 0:D.parts)==null?void 0:Z[0])==null?void 0:Q.inlineData)==null?void 0:se.data;if(P&&c.current&&g.current)try{const H=Rk(P),Y=await Dk(H,c.current),k=c.current.createBufferSource();k.buffer=Y,k.connect(g.current);const R=c.current.currentTime;m.current=Math.max(m.current,R),k.start(m.current),m.current+=Y.duration,C.current.add(k),k.onended=()=>{C.current.delete(k)}}catch(H){console.error("Error decoding audio chunk",H)}(W=F.serverContent)!=null&&W.interrupted&&(console.log("Interrupted!"),C.current.forEach(H=>H.stop()),C.current.clear(),c.current&&(m.current=c.current.currentTime))},onclose:()=>{console.log("Gemini Live Closed"),x()},onerror:F=>{console.error("Gemini Live Error",F),o("Connection lost"),x()}}});y.current=z,z.then(F=>{v.current=F}),f.current.onaudioprocess=F=>{if(!s.current)return;const P=F.inputBuffer.getChannelData(0),_=_k(P);z.then(D=>{s.current&&D.sendRealtimeInput({media:_})})}}catch(j){console.error("Failed to start Live session",j),o("Microphone access failed or API error."),i(!1),x()}}},[e,t,r,x]);return{isLive:t,isConnecting:r,error:l,startLive:A,stopLive:x,liveVisualizerDataRef:S}},qf="fasttype_chat_history_v1",Lk=(e,t,n=20)=>{const[r,i]=w.useState(()=>{try{const R=localStorage.getItem(qf);return R?JSON.parse(R):[]}catch{return[]}}),[l,o]=w.useState(!1),[s,u]=w.useState(!1),[c,d]=w.useState(""),[f,g]=w.useState(!1),m=w.useRef(0),C=w.useRef(!1),S="gemini-3-flash-preview",{isRecording:T,startRecording:y,stopRecording:v,autoStopCountdown:x,visualizerDataRef:A}=sc(n),{isLive:j,isConnecting:N,startLive:E,stopLive:I,liveVisualizerDataRef:z,error:F}=zk(t);w.useEffect(()=>{localStorage.setItem(qf,JSON.stringify(r))},[r]);const P=w.useRef(null),_=()=>{var R;(R=P.current)==null||R.scrollIntoView({behavior:"smooth"})};w.useEffect(()=>{_()},[r,l]);const D=async(R,L,b,M)=>{const O=(Date.now()+1).toString();i(ae=>[...ae,{id:O,role:"model",text:"",timestamp:Date.now(),isTyping:!0}]);let G="";const V=jk(t,b,e,M,R,L);for await(const ae of V)G+=ae,i(ie=>ie.map(oe=>oe.id===O?{...oe,text:G}:oe));i(ae=>ae.map(ie=>ie.id===O?{...ie,isTyping:!1}:ie)),s&&G&&Y(G)},Z=async(R,L)=>{if(C.current=!0,T&&await v(),g(!1),m.current=0,!R.trim()&&!L||!t)return;d("");const b={id:Date.now().toString(),role:"user",text:R,timestamp:Date.now(),attachment:L},M=r;i(O=>[...O,b]),o(!0);try{await D(R,L,S,M)}catch(O){console.warn("Model failed:",O),Q(O)}finally{o(!1)}},Q=R=>{let L=e==="ru"?"...":"Error...";if(R.message){const b=R.message.replace(/\[.*?\]/g,"").trim();L+=` (${b.substring(0,50)}...)`}i(b=>b.map(M=>M.isTyping?{...M,text:L,isTyping:!1}:M))},se=async(R,L)=>{if(!C.current){m.current++,g(!0);try{const b=await Pk(t,R,L,e);if(C.current)return;b&&b.trim()&&d(M=>{const O=b.trim();if(!O)return M;const G=M.length>0&&!M.endsWith(" ")?" ":"";return M+G+O})}catch(b){console.error("Chat Transcription failed",b)}finally{m.current--,m.current===0&&g(!1)}}},W=async()=>{T?await v():(C.current=!1,await y(se)||console.warn("Failed to start recording"))},H=()=>{j||N?I():(T&&(C.current=!0,v()),E())},Y=w.useCallback(R=>{if(!window.speechSynthesis)return;window.speechSynthesis.cancel();const L=new SpeechSynthesisUtterance(R);L.lang=e==="ru"?"ru-RU":"en-US",window.speechSynthesis.speak(L)},[e]);return{messages:r,inputText:c,setInputText:d,isLoading:l,activeModel:S,messagesEndRef:P,handleSendMessage:Z,toggleVoice:W,isRecording:T,isAnalyzing:f,soundEnabled:s,setSoundEnabled:u,clearChat:()=>{C.current=!0,i([]),d(""),g(!1),T&&v(),window.speechSynthesis.cancel()},autoStopCountdown:x,visualizerDataRef:A,isLive:j,isLiveConnecting:N,liveError:F,toggleLiveMode:H,liveVisualizerDataRef:z}};function Fk(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Ok=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Uk=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Hk={};function Gf(e,t){return(Hk.jsx?Uk:Ok).test(e)}const Bk=/[ \t\n\f\r]/g;function Vk(e){return typeof e=="object"?e.type==="text"?Kf(e.value):!1:Kf(e)}function Kf(e){return e.replace(Bk,"")===""}class ul{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}ul.prototype.normal={};ul.prototype.property={};ul.prototype.space=void 0;function A0(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new ul(n,r,t)}function Ja(e){return e.toLowerCase()}class St{constructor(t,n){this.attribute=n,this.property=t}}St.prototype.attribute="";St.prototype.booleanish=!1;St.prototype.boolean=!1;St.prototype.commaOrSpaceSeparated=!1;St.prototype.commaSeparated=!1;St.prototype.defined=!1;St.prototype.mustUseProperty=!1;St.prototype.number=!1;St.prototype.overloadedBoolean=!1;St.prototype.property="";St.prototype.spaceSeparated=!1;St.prototype.space=void 0;let $k=0;const Se=gr(),We=gr(),Xa=gr(),te=gr(),_e=gr(),Ur=gr(),Tt=gr();function gr(){return 2**++$k}const Za=Object.freeze(Object.defineProperty({__proto__:null,boolean:Se,booleanish:We,commaOrSpaceSeparated:Tt,commaSeparated:Ur,number:te,overloadedBoolean:Xa,spaceSeparated:_e},Symbol.toStringTag,{value:"Module"})),Ds=Object.keys(Za);class pc extends St{constructor(t,n,r,i){let l=-1;if(super(t,n),Wf(this,"space",i),typeof r=="number")for(;++l<Ds.length;){const o=Ds[l];Wf(this,Ds[l],(r&Za[o])===Za[o])}}}pc.prototype.defined=!0;function Wf(e,t,n){n&&(e[t]=n)}function ti(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const l=new pc(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(l.mustUseProperty=!0),t[r]=l,n[Ja(r)]=r,n[Ja(l.attribute)]=r}return new ul(t,n,e.space)}const I0=ti({properties:{ariaActiveDescendant:null,ariaAtomic:We,ariaAutoComplete:null,ariaBusy:We,ariaChecked:We,ariaColCount:te,ariaColIndex:te,ariaColSpan:te,ariaControls:_e,ariaCurrent:null,ariaDescribedBy:_e,ariaDetails:null,ariaDisabled:We,ariaDropEffect:_e,ariaErrorMessage:null,ariaExpanded:We,ariaFlowTo:_e,ariaGrabbed:We,ariaHasPopup:null,ariaHidden:We,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:_e,ariaLevel:te,ariaLive:null,ariaModal:We,ariaMultiLine:We,ariaMultiSelectable:We,ariaOrientation:null,ariaOwns:_e,ariaPlaceholder:null,ariaPosInSet:te,ariaPressed:We,ariaReadOnly:We,ariaRelevant:null,ariaRequired:We,ariaRoleDescription:_e,ariaRowCount:te,ariaRowIndex:te,ariaRowSpan:te,ariaSelected:We,ariaSetSize:te,ariaSort:null,ariaValueMax:te,ariaValueMin:te,ariaValueNow:te,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function j0(e,t){return t in e?e[t]:t}function P0(e,t){return j0(e,t.toLowerCase())}const qk=ti({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ur,acceptCharset:_e,accessKey:_e,action:null,allow:null,allowFullScreen:Se,allowPaymentRequest:Se,allowUserMedia:Se,alt:null,as:null,async:Se,autoCapitalize:null,autoComplete:_e,autoFocus:Se,autoPlay:Se,blocking:_e,capture:null,charSet:null,checked:Se,cite:null,className:_e,cols:te,colSpan:null,content:null,contentEditable:We,controls:Se,controlsList:_e,coords:te|Ur,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Se,defer:Se,dir:null,dirName:null,disabled:Se,download:Xa,draggable:We,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Se,formTarget:null,headers:_e,height:te,hidden:Xa,high:te,href:null,hrefLang:null,htmlFor:_e,httpEquiv:_e,id:null,imageSizes:null,imageSrcSet:null,inert:Se,inputMode:null,integrity:null,is:null,isMap:Se,itemId:null,itemProp:_e,itemRef:_e,itemScope:Se,itemType:_e,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Se,low:te,manifest:null,max:null,maxLength:te,media:null,method:null,min:null,minLength:te,multiple:Se,muted:Se,name:null,nonce:null,noModule:Se,noValidate:Se,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Se,optimum:te,pattern:null,ping:_e,placeholder:null,playsInline:Se,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Se,referrerPolicy:null,rel:_e,required:Se,reversed:Se,rows:te,rowSpan:te,sandbox:_e,scope:null,scoped:Se,seamless:Se,selected:Se,shadowRootClonable:Se,shadowRootDelegatesFocus:Se,shadowRootMode:null,shape:null,size:te,sizes:null,slot:null,span:te,spellCheck:We,src:null,srcDoc:null,srcLang:null,srcSet:null,start:te,step:null,style:null,tabIndex:te,target:null,title:null,translate:null,type:null,typeMustMatch:Se,useMap:null,value:We,width:te,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:_e,axis:null,background:null,bgColor:null,border:te,borderColor:null,bottomMargin:te,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Se,declare:Se,event:null,face:null,frame:null,frameBorder:null,hSpace:te,leftMargin:te,link:null,longDesc:null,lowSrc:null,marginHeight:te,marginWidth:te,noResize:Se,noHref:Se,noShade:Se,noWrap:Se,object:null,profile:null,prompt:null,rev:null,rightMargin:te,rules:null,scheme:null,scrolling:We,standby:null,summary:null,text:null,topMargin:te,valueType:null,version:null,vAlign:null,vLink:null,vSpace:te,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Se,disableRemotePlayback:Se,prefix:null,property:null,results:te,security:null,unselectable:null},space:"html",transform:P0}),Gk=ti({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Tt,accentHeight:te,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:te,amplitude:te,arabicForm:null,ascent:te,attributeName:null,attributeType:null,azimuth:te,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:te,by:null,calcMode:null,capHeight:te,className:_e,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:te,diffuseConstant:te,direction:null,display:null,dur:null,divisor:te,dominantBaseline:null,download:Se,dx:null,dy:null,edgeMode:null,editable:null,elevation:te,enableBackground:null,end:null,event:null,exponent:te,externalResourcesRequired:null,fill:null,fillOpacity:te,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ur,g2:Ur,glyphName:Ur,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:te,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:te,horizOriginX:te,horizOriginY:te,id:null,ideographic:te,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:te,k:te,k1:te,k2:te,k3:te,k4:te,kernelMatrix:Tt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:te,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:te,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:te,overlineThickness:te,paintOrder:null,panose1:null,path:null,pathLength:te,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:_e,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:te,pointsAtY:te,pointsAtZ:te,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Tt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Tt,rev:Tt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Tt,requiredFeatures:Tt,requiredFonts:Tt,requiredFormats:Tt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:te,specularExponent:te,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:te,strikethroughThickness:te,string:null,stroke:null,strokeDashArray:Tt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:te,strokeOpacity:te,strokeWidth:null,style:null,surfaceScale:te,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Tt,tabIndex:te,tableValues:null,target:null,targetX:te,targetY:te,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Tt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:te,underlineThickness:te,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:te,values:null,vAlphabetic:te,vMathematical:te,vectorEffect:null,vHanging:te,vIdeographic:te,version:null,vertAdvY:te,vertOriginX:te,vertOriginY:te,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:te,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:j0}),R0=ti({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),M0=ti({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:P0}),_0=ti({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Kk={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Wk=/[A-Z]/g,Yf=/-[a-z]/g,Yk=/^data[-\w.:]+$/i;function Qk(e,t){const n=Ja(t);let r=t,i=St;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Yk.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(Yf,Xk);r="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!Yf.test(l)){let o=l.replace(Wk,Jk);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=pc}return new i(r,t)}function Jk(e){return"-"+e.toLowerCase()}function Xk(e){return e.charAt(1).toUpperCase()}const Zk=A0([I0,qk,R0,M0,_0],"html"),hc=A0([I0,Gk,R0,M0,_0],"svg");function eb(e){return e.join(" ").trim()}var mc={},Qf=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,tb=/\n/g,nb=/^\s*/,rb=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,ib=/^:\s*/,lb=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,ob=/^[;\s]*/,sb=/^\s+|\s+$/g,ab=`
`,Jf="/",Xf="*",Zn="",ub="comment",cb="declaration";function db(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(C){var S=C.match(tb);S&&(n+=S.length);var T=C.lastIndexOf(ab);r=~T?C.length-T:r+C.length}function l(){var C={line:n,column:r};return function(S){return S.position=new o(C),c(),S}}function o(C){this.start=C,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function s(C){var S=new Error(t.source+":"+n+":"+r+": "+C);if(S.reason=C,S.filename=t.source,S.line=n,S.column=r,S.source=e,!t.silent)throw S}function u(C){var S=C.exec(e);if(S){var T=S[0];return i(T),e=e.slice(T.length),S}}function c(){u(nb)}function d(C){var S;for(C=C||[];S=f();)S!==!1&&C.push(S);return C}function f(){var C=l();if(!(Jf!=e.charAt(0)||Xf!=e.charAt(1))){for(var S=2;Zn!=e.charAt(S)&&(Xf!=e.charAt(S)||Jf!=e.charAt(S+1));)++S;if(S+=2,Zn===e.charAt(S-1))return s("End of comment missing");var T=e.slice(2,S-2);return r+=2,i(T),e=e.slice(S),r+=2,C({type:ub,comment:T})}}function g(){var C=l(),S=u(rb);if(S){if(f(),!u(ib))return s("property missing ':'");var T=u(lb),y=C({type:cb,property:Zf(S[0].replace(Qf,Zn)),value:T?Zf(T[0].replace(Qf,Zn)):Zn});return u(ob),y}}function m(){var C=[];d(C);for(var S;S=g();)S!==!1&&(C.push(S),d(C));return C}return c(),m()}function Zf(e){return e?e.replace(sb,Zn):Zn}var fb=db,pb=Xl&&Xl.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mc,"__esModule",{value:!0});mc.default=mb;const hb=pb(fb);function mb(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,hb.default)(e),i=typeof t=="function";return r.forEach(l=>{if(l.type!=="declaration")return;const{property:o,value:s}=l;i?t(o,s,l):s&&(n=n||{},n[o]=s)}),n}var Zo={};Object.defineProperty(Zo,"__esModule",{value:!0});Zo.camelCase=void 0;var gb=/^--[a-zA-Z0-9_-]+$/,xb=/-([a-z])/g,yb=/^[^-]+$/,vb=/^-(webkit|moz|ms|o|khtml)-/,wb=/^-(ms)-/,kb=function(e){return!e||yb.test(e)||gb.test(e)},bb=function(e,t){return t.toUpperCase()},ep=function(e,t){return"".concat(t,"-")},Cb=function(e,t){return t===void 0&&(t={}),kb(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(wb,ep):e=e.replace(vb,ep),e.replace(xb,bb))};Zo.camelCase=Cb;var Nb=Xl&&Xl.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Sb=Nb(mc),Tb=Zo;function eu(e,t){var n={};return!e||typeof e!="string"||(0,Sb.default)(e,function(r,i){r&&i&&(n[(0,Tb.camelCase)(r,t)]=i)}),n}eu.default=eu;var Eb=eu;const Ab=au(Eb),D0=z0("end"),gc=z0("start");function z0(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Ib(e){const t=gc(e),n=D0(e);if(t&&n)return{start:t,end:n}}function Ai(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?tp(e.position):"start"in e||"end"in e?tp(e):"line"in e||"column"in e?tu(e):""}function tu(e){return np(e&&e.line)+":"+np(e&&e.column)}function tp(e){return tu(e&&e.start)+"-"+tu(e&&e.end)}function np(e){return e&&typeof e=="number"?e:1}class ut extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",l={},o=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof t=="string"?i=t:!l.cause&&t&&(o=!0,i=t.message,l.cause=t),!l.ruleId&&!l.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?l.ruleId=r:(l.source=r.slice(0,u),l.ruleId=r.slice(u+1))}if(!l.place&&l.ancestors&&l.ancestors){const u=l.ancestors[l.ancestors.length-1];u&&(l.place=u.position)}const s=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=Ai(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=o&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}ut.prototype.file="";ut.prototype.name="";ut.prototype.reason="";ut.prototype.message="";ut.prototype.stack="";ut.prototype.column=void 0;ut.prototype.line=void 0;ut.prototype.ancestors=void 0;ut.prototype.cause=void 0;ut.prototype.fatal=void 0;ut.prototype.place=void 0;ut.prototype.ruleId=void 0;ut.prototype.source=void 0;const xc={}.hasOwnProperty,jb=new Map,Pb=/[A-Z]/g,Rb=new Set(["table","tbody","thead","tfoot","tr"]),Mb=new Set(["td","th"]),L0="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function _b(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Bb(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Hb(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?hc:Zk,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},l=F0(i,e,void 0);return l&&typeof l!="string"?l:i.create(e,i.Fragment,{children:l||void 0},void 0)}function F0(e,t,n){if(t.type==="element")return Db(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return zb(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Fb(e,t,n);if(t.type==="mdxjsEsm")return Lb(e,t);if(t.type==="root")return Ob(e,t,n);if(t.type==="text")return Ub(e,t)}function Db(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=hc,e.schema=i),e.ancestors.push(t);const l=U0(e,t.tagName,!1),o=Vb(e,t);let s=vc(e,t);return Rb.has(t.tagName)&&(s=s.filter(function(u){return typeof u=="string"?!Vk(u):!0})),O0(e,o,l,t),yc(o,s),e.ancestors.pop(),e.schema=r,e.create(t,l,o,n)}function zb(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Zi(e,t.position)}function Lb(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Zi(e,t.position)}function Fb(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=hc,e.schema=i),e.ancestors.push(t);const l=t.name===null?e.Fragment:U0(e,t.name,!0),o=$b(e,t),s=vc(e,t);return O0(e,o,l,t),yc(o,s),e.ancestors.pop(),e.schema=r,e.create(t,l,o,n)}function Ob(e,t,n){const r={};return yc(r,vc(e,t)),e.create(t,e.Fragment,r,n)}function Ub(e,t){return t.value}function O0(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function yc(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Hb(e,t,n){return r;function r(i,l,o,s){const c=Array.isArray(o.children)?n:t;return s?c(l,o,s):c(l,o)}}function Bb(e,t){return n;function n(r,i,l,o){const s=Array.isArray(l.children),u=gc(r);return t(i,l,o,s,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function Vb(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&xc.call(t.properties,i)){const l=qb(e,i,t.properties[i]);if(l){const[o,s]=l;e.tableCellAlignToStyle&&o==="align"&&typeof s=="string"&&Mb.has(t.tagName)?r=s:n[o]=s}}if(r){const l=n.style||(n.style={});l[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function $b(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const l=r.data.estree.body[0];l.type;const o=l.expression;o.type;const s=o.properties[0];s.type,Object.assign(n,e.evaluater.evaluateExpression(s.argument))}else Zi(e,t.position);else{const i=r.name;let l;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const s=r.value.data.estree.body[0];s.type,l=e.evaluater.evaluateExpression(s.expression)}else Zi(e,t.position);else l=r.value===null?!0:r.value;n[i]=l}return n}function vc(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:jb;for(;++r<t.children.length;){const l=t.children[r];let o;if(e.passKeys){const u=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(u){const c=i.get(u)||0;o=u+"-"+c,i.set(u,c+1)}}const s=F0(e,l,o);s!==void 0&&n.push(s)}return n}function qb(e,t,n){const r=Qk(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Fk(n):eb(n)),r.property==="style"){let i=typeof n=="object"?n:Gb(e,String(n));return e.stylePropertyNameCase==="css"&&(i=Kb(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?Kk[r.property]||r.property:r.attribute,n]}}function Gb(e,t){try{return Ab(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new ut("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=L0+"#cannot-parse-style-attribute",i}}function U0(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let l=-1,o;for(;++l<i.length;){const s=Gf(i[l])?{type:"Identifier",name:i[l]}:{type:"Literal",value:i[l]};o=o?{type:"MemberExpression",object:o,property:s,computed:!!(l&&s.type==="Literal"),optional:!1}:s}r=o}else r=Gf(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return xc.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Zi(e)}function Zi(e,t){const n=new ut("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=L0+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Kb(e){const t={};let n;for(n in e)xc.call(e,n)&&(t[Wb(n)]=e[n]);return t}function Wb(e){let t=e.replace(Pb,Yb);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Yb(e){return"-"+e.toLowerCase()}const zs={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Qb={};function Jb(e,t){const n=Qb,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return H0(e,r,i)}function H0(e,t,n){if(Xb(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return rp(e.children,t,n)}return Array.isArray(e)?rp(e,t,n):""}function rp(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=H0(e[i],t,n);return r.join("")}function Xb(e){return!!(e&&typeof e=="object")}const ip=document.createElement("i");function wc(e){const t="&"+e+";";ip.innerHTML=t;const n=ip.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function cn(e,t,n,r){const i=e.length;let l=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);l<r.length;)o=r.slice(l,l+1e4),o.unshift(t,0),e.splice(...o),l+=1e4,t+=1e4}function Ft(e,t){return e.length>0?(cn(e,e.length,0,t),e):t}const lp={}.hasOwnProperty;function Zb(e){const t={};let n=-1;for(;++n<e.length;)eC(t,e[n]);return t}function eC(e,t){let n;for(n in t){const i=(lp.call(e,n)?e[n]:void 0)||(e[n]={}),l=t[n];let o;if(l)for(o in l){lp.call(i,o)||(i[o]=[]);const s=l[o];tC(i[o],Array.isArray(s)?s:s?[s]:[])}}}function tC(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);cn(e,0,0,r)}function B0(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Hr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ln=Yn(/[A-Za-z]/),It=Yn(/[\dA-Za-z]/),nC=Yn(/[#-'*+\--9=?A-Z^-~]/);function nu(e){return e!==null&&(e<32||e===127)}const ru=Yn(/\d/),rC=Yn(/[\dA-Fa-f]/),iC=Yn(/[!-/:-@[-`{-~]/);function be(e){return e!==null&&e<-2}function Nt(e){return e!==null&&(e<0||e===32)}function je(e){return e===-2||e===-1||e===32}const lC=Yn(new RegExp("\\p{P}|\\p{S}","u")),oC=Yn(/\s/);function Yn(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function ni(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const l=e.charCodeAt(n);let o="";if(l===37&&It(e.charCodeAt(n+1))&&It(e.charCodeAt(n+2)))i=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(o=String.fromCharCode(l));else if(l>55295&&l<57344){const s=e.charCodeAt(n+1);l<56320&&s>56319&&s<57344?(o=String.fromCharCode(l,s),i=1):o=""}else o=String.fromCharCode(l);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function ze(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let l=0;return o;function o(u){return je(u)?(e.enter(n),s(u)):t(u)}function s(u){return je(u)&&l++<i?(e.consume(u),s):(e.exit(n),t(u))}}const sC={tokenize:aC};function aC(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),ze(e,t,"linePrefix")}function i(s){return e.enter("paragraph"),l(s)}function l(s){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return be(s)?(e.consume(s),e.exit("chunkText"),l):(e.consume(s),o)}}const uC={tokenize:cC},op={tokenize:dC};function cC(e){const t=this,n=[];let r=0,i,l,o;return s;function s(x){if(r<n.length){const A=n[r];return t.containerState=A[1],e.attempt(A[0].continuation,u,c)(x)}return c(x)}function u(x){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&v();const A=t.events.length;let j=A,N;for(;j--;)if(t.events[j][0]==="exit"&&t.events[j][1].type==="chunkFlow"){N=t.events[j][1].end;break}y(r);let E=A;for(;E<t.events.length;)t.events[E][1].end={...N},E++;return cn(t.events,j+1,0,t.events.slice(A)),t.events.length=E,c(x)}return s(x)}function c(x){if(r===n.length){if(!i)return g(x);if(i.currentConstruct&&i.currentConstruct.concrete)return C(x);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(op,d,f)(x)}function d(x){return i&&v(),y(r),g(x)}function f(x){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,C(x)}function g(x){return t.containerState={},e.attempt(op,m,C)(x)}function m(x){return r++,n.push([t.currentConstruct,t.containerState]),g(x)}function C(x){if(x===null){i&&v(),y(0),e.consume(x);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:l}),S(x)}function S(x){if(x===null){T(e.exit("chunkFlow"),!0),y(0),e.consume(x);return}return be(x)?(e.consume(x),T(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(x),S)}function T(x,A){const j=t.sliceStream(x);if(A&&j.push(null),x.previous=l,l&&(l.next=x),l=x,i.defineSkip(x.start),i.write(j),t.parser.lazy[x.start.line]){let N=i.events.length;for(;N--;)if(i.events[N][1].start.offset<o&&(!i.events[N][1].end||i.events[N][1].end.offset>o))return;const E=t.events.length;let I=E,z,F;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){if(z){F=t.events[I][1].end;break}z=!0}for(y(r),N=E;N<t.events.length;)t.events[N][1].end={...F},N++;cn(t.events,I+1,0,t.events.slice(E)),t.events.length=N}}function y(x){let A=n.length;for(;A-- >x;){const j=n[A];t.containerState=j[1],j[0].exit.call(t,e)}n.length=x}function v(){i.write([null]),l=void 0,i=void 0,t.containerState._closeFlow=void 0}}function dC(e,t,n){return ze(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function sp(e){if(e===null||Nt(e)||oC(e))return 1;if(lC(e))return 2}function kc(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const l=e[i].resolveAll;l&&!r.includes(l)&&(t=l(t,n),r.push(l))}return t}const iu={name:"attention",resolveAll:fC,tokenize:pC};function fC(e,t){let n=-1,r,i,l,o,s,u,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},g={...e[n][1].start};ap(f,-u),ap(g,u),o={type:u>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},s={type:u>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:g},l={type:u>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:u>1?"strong":"emphasis",start:{...o.start},end:{...s.end}},e[r][1].end={...o.start},e[n][1].start={...s.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=Ft(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=Ft(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",l,t]]),c=Ft(c,kc(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=Ft(c,[["exit",l,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=Ft(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,cn(e,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function pC(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=sp(r);let l;return o;function o(u){return l=u,e.enter("attentionSequence"),s(u)}function s(u){if(u===l)return e.consume(u),s;const c=e.exit("attentionSequence"),d=sp(u),f=!d||d===2&&i||n.includes(u),g=!i||i===2&&d||n.includes(r);return c._open=!!(l===42?f:f&&(i||!g)),c._close=!!(l===42?g:g&&(d||!f)),t(u)}}function ap(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const hC={name:"autolink",tokenize:mC};function mC(e,t,n){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(m){return ln(m)?(e.consume(m),o):m===64?n(m):c(m)}function o(m){return m===43||m===45||m===46||It(m)?(r=1,s(m)):c(m)}function s(m){return m===58?(e.consume(m),r=0,u):(m===43||m===45||m===46||It(m))&&r++<32?(e.consume(m),s):(r=0,c(m))}function u(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||nu(m)?n(m):(e.consume(m),u)}function c(m){return m===64?(e.consume(m),d):nC(m)?(e.consume(m),c):n(m)}function d(m){return It(m)?f(m):n(m)}function f(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):g(m)}function g(m){if((m===45||It(m))&&r++<63){const C=m===45?g:f;return e.consume(m),C}return n(m)}}const es={partial:!0,tokenize:gC};function gC(e,t,n){return r;function r(l){return je(l)?ze(e,i,"linePrefix")(l):i(l)}function i(l){return l===null||be(l)?t(l):n(l)}}const V0={continuation:{tokenize:yC},exit:vC,name:"blockQuote",tokenize:xC};function xC(e,t,n){const r=this;return i;function i(o){if(o===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),l}return n(o)}function l(o){return je(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function yC(e,t,n){const r=this;return i;function i(o){return je(o)?ze(e,l,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):l(o)}function l(o){return e.attempt(V0,t,n)(o)}}function vC(e){e.exit("blockQuote")}const $0={name:"characterEscape",tokenize:wC};function wC(e,t,n){return r;function r(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),i}function i(l){return iC(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(l)}}const q0={name:"characterReference",tokenize:kC};function kC(e,t,n){const r=this;let i=0,l,o;return s;function s(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),u}function u(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),l=31,o=It,d(f))}function c(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,o=rC,d):(e.enter("characterReferenceValue"),l=7,o=ru,d(f))}function d(f){if(f===59&&i){const g=e.exit("characterReferenceValue");return o===It&&!wc(r.sliceSerialize(g))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&i++<l?(e.consume(f),d):n(f)}}const up={partial:!0,tokenize:CC},cp={concrete:!0,name:"codeFenced",tokenize:bC};function bC(e,t,n){const r=this,i={partial:!0,tokenize:j};let l=0,o=0,s;return u;function u(N){return c(N)}function c(N){const E=r.events[r.events.length-1];return l=E&&E[1].type==="linePrefix"?E[2].sliceSerialize(E[1],!0).length:0,s=N,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(N)}function d(N){return N===s?(o++,e.consume(N),d):o<3?n(N):(e.exit("codeFencedFenceSequence"),je(N)?ze(e,f,"whitespace")(N):f(N))}function f(N){return N===null||be(N)?(e.exit("codeFencedFence"),r.interrupt?t(N):e.check(up,S,A)(N)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(N))}function g(N){return N===null||be(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(N)):je(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),ze(e,m,"whitespace")(N)):N===96&&N===s?n(N):(e.consume(N),g)}function m(N){return N===null||be(N)?f(N):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),C(N))}function C(N){return N===null||be(N)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(N)):N===96&&N===s?n(N):(e.consume(N),C)}function S(N){return e.attempt(i,A,T)(N)}function T(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),y}function y(N){return l>0&&je(N)?ze(e,v,"linePrefix",l+1)(N):v(N)}function v(N){return N===null||be(N)?e.check(up,S,A)(N):(e.enter("codeFlowValue"),x(N))}function x(N){return N===null||be(N)?(e.exit("codeFlowValue"),v(N)):(e.consume(N),x)}function A(N){return e.exit("codeFenced"),t(N)}function j(N,E,I){let z=0;return F;function F(Q){return N.enter("lineEnding"),N.consume(Q),N.exit("lineEnding"),P}function P(Q){return N.enter("codeFencedFence"),je(Q)?ze(N,_,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Q):_(Q)}function _(Q){return Q===s?(N.enter("codeFencedFenceSequence"),D(Q)):I(Q)}function D(Q){return Q===s?(z++,N.consume(Q),D):z>=o?(N.exit("codeFencedFenceSequence"),je(Q)?ze(N,Z,"whitespace")(Q):Z(Q)):I(Q)}function Z(Q){return Q===null||be(Q)?(N.exit("codeFencedFence"),E(Q)):I(Q)}}}function CC(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),l)}function l(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const Ls={name:"codeIndented",tokenize:SC},NC={partial:!0,tokenize:TC};function SC(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),ze(e,l,"linePrefix",5)(c)}function l(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?u(c):be(c)?e.attempt(NC,o,u)(c):(e.enter("codeFlowValue"),s(c))}function s(c){return c===null||be(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),s)}function u(c){return e.exit("codeIndented"),t(c)}}function TC(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):be(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):ze(e,l,"linePrefix",5)(o)}function l(o){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):be(o)?i(o):n(o)}}const EC={name:"codeText",previous:IC,resolve:AC,tokenize:jC};function AC(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function IC(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function jC(e,t,n){let r=0,i,l;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),s(f)}function s(f){return f===96?(e.consume(f),r++,s):(e.exit("codeTextSequence"),u(f))}function u(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),u):f===96?(l=e.enter("codeTextSequence"),i=0,d(f)):be(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),u):(e.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||be(f)?(e.exit("codeTextData"),u(f)):(e.consume(f),c)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(l.type="codeTextData",c(f))}}class PC{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const l=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&fi(this.left,r),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),fi(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),fi(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);fi(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);fi(this.left,n.reverse())}}}function fi(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function G0(e){const t={};let n=-1,r,i,l,o,s,u,c;const d=new PC(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,l=0,l<u.length&&u[l][1].type==="lineEndingBlank"&&(l+=2),l<u.length&&u[l][1].type==="content"))for(;++l<u.length&&u[l][1].type!=="content";)u[l][1].type==="chunkText"&&(u[l][1]._isInFirstContentOfListItem=!0,l++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,RC(d,n)),n=t[n],c=!0);else if(r[1]._container){for(l=n,i=void 0;l--;)if(o=d.get(l),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=l);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},s=d.slice(i,n),s.unshift(r),d.splice(i,n-i+1,s))}}return cn(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function RC(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const l=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const s=o.events,u=[],c={};let d,f,g=-1,m=n,C=0,S=0;const T=[S];for(;m;){for(;e.get(++i)[1]!==m;);l.push(i),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),f&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++g<s.length;)s[g][0]==="exit"&&s[g-1][0]==="enter"&&s[g][1].type===s[g-1][1].type&&s[g][1].start.line!==s[g][1].end.line&&(S=g+1,T.push(S),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):T.pop(),g=T.length;g--;){const y=s.slice(T[g],T[g+1]),v=l.pop();u.push([v,v+y.length-1]),e.splice(v,2,y)}for(u.reverse(),g=-1;++g<u.length;)c[C+u[g][0]]=C+u[g][1],C+=u[g][1]-u[g][0]-1;return c}const MC={resolve:DC,tokenize:zC},_C={partial:!0,tokenize:LC};function DC(e){return G0(e),e}function zC(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?l(s):be(s)?e.check(_C,o,l)(s):(e.consume(s),i)}function l(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function LC(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),ze(e,l,"linePrefix")}function l(o){if(o===null||be(o))return n(o);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function K0(e,t,n,r,i,l,o,s,u){const c=u||Number.POSITIVE_INFINITY;let d=0;return f;function f(y){return y===60?(e.enter(r),e.enter(i),e.enter(l),e.consume(y),e.exit(l),g):y===null||y===32||y===41||nu(y)?n(y):(e.enter(r),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),S(y))}function g(y){return y===62?(e.enter(l),e.consume(y),e.exit(l),e.exit(i),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),m(y))}function m(y){return y===62?(e.exit("chunkString"),e.exit(s),g(y)):y===null||y===60||be(y)?n(y):(e.consume(y),y===92?C:m)}function C(y){return y===60||y===62||y===92?(e.consume(y),m):m(y)}function S(y){return!d&&(y===null||y===41||Nt(y))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(y)):d<c&&y===40?(e.consume(y),d++,S):y===41?(e.consume(y),d--,S):y===null||y===32||y===40||nu(y)?n(y):(e.consume(y),y===92?T:S)}function T(y){return y===40||y===41||y===92?(e.consume(y),S):S(y)}}function W0(e,t,n,r,i,l){const o=this;let s=0,u;return c;function c(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(l),d}function d(m){return s>999||m===null||m===91||m===93&&!u||m===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(m):m===93?(e.exit(l),e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):be(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||be(m)||s++>999?(e.exit("chunkString"),d(m)):(e.consume(m),u||(u=!je(m)),m===92?g:f)}function g(m){return m===91||m===92||m===93?(e.consume(m),s++,f):f(m)}}function Y0(e,t,n,r,i,l){let o;return s;function s(g){return g===34||g===39||g===40?(e.enter(r),e.enter(i),e.consume(g),e.exit(i),o=g===40?41:g,u):n(g)}function u(g){return g===o?(e.enter(i),e.consume(g),e.exit(i),e.exit(r),t):(e.enter(l),c(g))}function c(g){return g===o?(e.exit(l),u(o)):g===null?n(g):be(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),ze(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(g))}function d(g){return g===o||g===null||be(g)?(e.exit("chunkString"),c(g)):(e.consume(g),g===92?f:d)}function f(g){return g===o||g===92?(e.consume(g),d):d(g)}}function Ii(e,t){let n;return r;function r(i){return be(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):je(i)?ze(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const FC={name:"definition",tokenize:UC},OC={partial:!0,tokenize:HC};function UC(e,t,n){const r=this;let i;return l;function l(m){return e.enter("definition"),o(m)}function o(m){return W0.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function s(m){return i=Hr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),u):n(m)}function u(m){return Nt(m)?Ii(e,c)(m):c(m)}function c(m){return K0(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(OC,f,f)(m)}function f(m){return je(m)?ze(e,g,"whitespace")(m):g(m)}function g(m){return m===null||be(m)?(e.exit("definition"),r.parser.defined.push(i),t(m)):n(m)}}function HC(e,t,n){return r;function r(s){return Nt(s)?Ii(e,i)(s):n(s)}function i(s){return Y0(e,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function l(s){return je(s)?ze(e,o,"whitespace")(s):o(s)}function o(s){return s===null||be(s)?t(s):n(s)}}const BC={name:"hardBreakEscape",tokenize:VC};function VC(e,t,n){return r;function r(l){return e.enter("hardBreakEscape"),e.consume(l),i}function i(l){return be(l)?(e.exit("hardBreakEscape"),t(l)):n(l)}}const $C={name:"headingAtx",resolve:qC,tokenize:GC};function qC(e,t){let n=e.length-2,r=3,i,l;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},l={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},cn(e,r,n-r+1,[["enter",i,t],["enter",l,t],["exit",l,t],["exit",i,t]])),e}function GC(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),l(d)}function l(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(e.consume(d),o):d===null||Nt(d)?(e.exit("atxHeadingSequence"),s(d)):n(d)}function s(d){return d===35?(e.enter("atxHeadingSequence"),u(d)):d===null||be(d)?(e.exit("atxHeading"),t(d)):je(d)?ze(e,s,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function u(d){return d===35?(e.consume(d),u):(e.exit("atxHeadingSequence"),s(d))}function c(d){return d===null||d===35||Nt(d)?(e.exit("atxHeadingText"),s(d)):(e.consume(d),c)}}const KC=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],dp=["pre","script","style","textarea"],WC={concrete:!0,name:"htmlFlow",resolveTo:JC,tokenize:XC},YC={partial:!0,tokenize:eN},QC={partial:!0,tokenize:ZC};function JC(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function XC(e,t,n){const r=this;let i,l,o,s,u;return c;function c(b){return d(b)}function d(b){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(b),f}function f(b){return b===33?(e.consume(b),g):b===47?(e.consume(b),l=!0,S):b===63?(e.consume(b),i=3,r.interrupt?t:k):ln(b)?(e.consume(b),o=String.fromCharCode(b),T):n(b)}function g(b){return b===45?(e.consume(b),i=2,m):b===91?(e.consume(b),i=5,s=0,C):ln(b)?(e.consume(b),i=4,r.interrupt?t:k):n(b)}function m(b){return b===45?(e.consume(b),r.interrupt?t:k):n(b)}function C(b){const M="CDATA[";return b===M.charCodeAt(s++)?(e.consume(b),s===M.length?r.interrupt?t:_:C):n(b)}function S(b){return ln(b)?(e.consume(b),o=String.fromCharCode(b),T):n(b)}function T(b){if(b===null||b===47||b===62||Nt(b)){const M=b===47,O=o.toLowerCase();return!M&&!l&&dp.includes(O)?(i=1,r.interrupt?t(b):_(b)):KC.includes(o.toLowerCase())?(i=6,M?(e.consume(b),y):r.interrupt?t(b):_(b)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(b):l?v(b):x(b))}return b===45||It(b)?(e.consume(b),o+=String.fromCharCode(b),T):n(b)}function y(b){return b===62?(e.consume(b),r.interrupt?t:_):n(b)}function v(b){return je(b)?(e.consume(b),v):F(b)}function x(b){return b===47?(e.consume(b),F):b===58||b===95||ln(b)?(e.consume(b),A):je(b)?(e.consume(b),x):F(b)}function A(b){return b===45||b===46||b===58||b===95||It(b)?(e.consume(b),A):j(b)}function j(b){return b===61?(e.consume(b),N):je(b)?(e.consume(b),j):x(b)}function N(b){return b===null||b===60||b===61||b===62||b===96?n(b):b===34||b===39?(e.consume(b),u=b,E):je(b)?(e.consume(b),N):I(b)}function E(b){return b===u?(e.consume(b),u=null,z):b===null||be(b)?n(b):(e.consume(b),E)}function I(b){return b===null||b===34||b===39||b===47||b===60||b===61||b===62||b===96||Nt(b)?j(b):(e.consume(b),I)}function z(b){return b===47||b===62||je(b)?x(b):n(b)}function F(b){return b===62?(e.consume(b),P):n(b)}function P(b){return b===null||be(b)?_(b):je(b)?(e.consume(b),P):n(b)}function _(b){return b===45&&i===2?(e.consume(b),se):b===60&&i===1?(e.consume(b),W):b===62&&i===4?(e.consume(b),R):b===63&&i===3?(e.consume(b),k):b===93&&i===5?(e.consume(b),Y):be(b)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(YC,L,D)(b)):b===null||be(b)?(e.exit("htmlFlowData"),D(b)):(e.consume(b),_)}function D(b){return e.check(QC,Z,L)(b)}function Z(b){return e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),Q}function Q(b){return b===null||be(b)?D(b):(e.enter("htmlFlowData"),_(b))}function se(b){return b===45?(e.consume(b),k):_(b)}function W(b){return b===47?(e.consume(b),o="",H):_(b)}function H(b){if(b===62){const M=o.toLowerCase();return dp.includes(M)?(e.consume(b),R):_(b)}return ln(b)&&o.length<8?(e.consume(b),o+=String.fromCharCode(b),H):_(b)}function Y(b){return b===93?(e.consume(b),k):_(b)}function k(b){return b===62?(e.consume(b),R):b===45&&i===2?(e.consume(b),k):_(b)}function R(b){return b===null||be(b)?(e.exit("htmlFlowData"),L(b)):(e.consume(b),R)}function L(b){return e.exit("htmlFlow"),t(b)}}function ZC(e,t,n){const r=this;return i;function i(o){return be(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),l):n(o)}function l(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function eN(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(es,t,n)}}const tN={name:"htmlText",tokenize:nN};function nN(e,t,n){const r=this;let i,l,o;return s;function s(k){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(k),u}function u(k){return k===33?(e.consume(k),c):k===47?(e.consume(k),j):k===63?(e.consume(k),x):ln(k)?(e.consume(k),I):n(k)}function c(k){return k===45?(e.consume(k),d):k===91?(e.consume(k),l=0,C):ln(k)?(e.consume(k),v):n(k)}function d(k){return k===45?(e.consume(k),m):n(k)}function f(k){return k===null?n(k):k===45?(e.consume(k),g):be(k)?(o=f,W(k)):(e.consume(k),f)}function g(k){return k===45?(e.consume(k),m):f(k)}function m(k){return k===62?se(k):k===45?g(k):f(k)}function C(k){const R="CDATA[";return k===R.charCodeAt(l++)?(e.consume(k),l===R.length?S:C):n(k)}function S(k){return k===null?n(k):k===93?(e.consume(k),T):be(k)?(o=S,W(k)):(e.consume(k),S)}function T(k){return k===93?(e.consume(k),y):S(k)}function y(k){return k===62?se(k):k===93?(e.consume(k),y):S(k)}function v(k){return k===null||k===62?se(k):be(k)?(o=v,W(k)):(e.consume(k),v)}function x(k){return k===null?n(k):k===63?(e.consume(k),A):be(k)?(o=x,W(k)):(e.consume(k),x)}function A(k){return k===62?se(k):x(k)}function j(k){return ln(k)?(e.consume(k),N):n(k)}function N(k){return k===45||It(k)?(e.consume(k),N):E(k)}function E(k){return be(k)?(o=E,W(k)):je(k)?(e.consume(k),E):se(k)}function I(k){return k===45||It(k)?(e.consume(k),I):k===47||k===62||Nt(k)?z(k):n(k)}function z(k){return k===47?(e.consume(k),se):k===58||k===95||ln(k)?(e.consume(k),F):be(k)?(o=z,W(k)):je(k)?(e.consume(k),z):se(k)}function F(k){return k===45||k===46||k===58||k===95||It(k)?(e.consume(k),F):P(k)}function P(k){return k===61?(e.consume(k),_):be(k)?(o=P,W(k)):je(k)?(e.consume(k),P):z(k)}function _(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),i=k,D):be(k)?(o=_,W(k)):je(k)?(e.consume(k),_):(e.consume(k),Z)}function D(k){return k===i?(e.consume(k),i=void 0,Q):k===null?n(k):be(k)?(o=D,W(k)):(e.consume(k),D)}function Z(k){return k===null||k===34||k===39||k===60||k===61||k===96?n(k):k===47||k===62||Nt(k)?z(k):(e.consume(k),Z)}function Q(k){return k===47||k===62||Nt(k)?z(k):n(k)}function se(k){return k===62?(e.consume(k),e.exit("htmlTextData"),e.exit("htmlText"),t):n(k)}function W(k){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),H}function H(k){return je(k)?ze(e,Y,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):Y(k)}function Y(k){return e.enter("htmlTextData"),o(k)}}const bc={name:"labelEnd",resolveAll:oN,resolveTo:sN,tokenize:aN},rN={tokenize:uN},iN={tokenize:cN},lN={tokenize:dN};function oN(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&cn(e,0,e.length,n),e}function sN(e,t){let n=e.length,r=0,i,l,o,s;for(;n--;)if(i=e[n][1],l){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(l=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const u={type:e[l][1].type==="labelLink"?"link":"image",start:{...e[l][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[l][1].start},end:{...e[o][1].end}},d={type:"labelText",start:{...e[l+r+2][1].end},end:{...e[o-2][1].start}};return s=[["enter",u,t],["enter",c,t]],s=Ft(s,e.slice(l+1,l+r+3)),s=Ft(s,[["enter",d,t]]),s=Ft(s,kc(t.parser.constructs.insideSpan.null,e.slice(l+r+4,o-3),t)),s=Ft(s,[["exit",d,t],e[o-2],e[o-1],["exit",c,t]]),s=Ft(s,e.slice(o+1)),s=Ft(s,[["exit",u,t]]),cn(e,l,e.length,s),e}function aN(e,t,n){const r=this;let i=r.events.length,l,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){l=r.events[i][1];break}return s;function s(g){return l?l._inactive?f(g):(o=r.parser.defined.includes(Hr(r.sliceSerialize({start:l.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),u):n(g)}function u(g){return g===40?e.attempt(rN,d,o?d:f)(g):g===91?e.attempt(iN,d,o?c:f)(g):o?d(g):f(g)}function c(g){return e.attempt(lN,d,f)(g)}function d(g){return t(g)}function f(g){return l._balanced=!0,n(g)}}function uN(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Nt(f)?Ii(e,l)(f):l(f)}function l(f){return f===41?d(f):K0(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return Nt(f)?Ii(e,u)(f):d(f)}function s(f){return n(f)}function u(f){return f===34||f===39||f===40?Y0(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function c(f){return Nt(f)?Ii(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function cN(e,t,n){const r=this;return i;function i(s){return W0.call(r,e,l,o,"reference","referenceMarker","referenceString")(s)}function l(s){return r.parser.defined.includes(Hr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function o(s){return n(s)}}function dN(e,t,n){return r;function r(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),i}function i(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),t):n(l)}}const fN={name:"labelStartImage",resolveAll:bc.resolveAll,tokenize:pN};function pN(e,t,n){const r=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),l}function l(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const hN={name:"labelStartLink",resolveAll:bc.resolveAll,tokenize:mN};function mN(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),l}function l(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Fs={name:"lineEnding",tokenize:gN};function gN(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),ze(e,t,"linePrefix")}}const Ql={name:"thematicBreak",tokenize:xN};function xN(e,t,n){let r=0,i;return l;function l(c){return e.enter("thematicBreak"),o(c)}function o(c){return i=c,s(c)}function s(c){return c===i?(e.enter("thematicBreakSequence"),u(c)):r>=3&&(c===null||be(c))?(e.exit("thematicBreak"),t(c)):n(c)}function u(c){return c===i?(e.consume(c),r++,u):(e.exit("thematicBreakSequence"),je(c)?ze(e,s,"whitespace")(c):s(c))}}const gt={continuation:{tokenize:kN},exit:CN,name:"list",tokenize:wN},yN={partial:!0,tokenize:NN},vN={partial:!0,tokenize:bN};function wN(e,t,n){const r=this,i=r.events[r.events.length-1];let l=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return s;function s(m){const C=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(C==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:ru(m)){if(r.containerState.type||(r.containerState.type=C,e.enter(C,{_container:!0})),C==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(Ql,n,c)(m):c(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(m)}return n(m)}function u(m){return ru(m)&&++o<10?(e.consume(m),u):(!r.interrupt||o<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),c(m)):n(m)}function c(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(es,r.interrupt?n:d,e.attempt(yN,g,f))}function d(m){return r.containerState.initialBlankLine=!0,l++,g(m)}function f(m){return je(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),g):n(m)}function g(m){return r.containerState.size=l+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function kN(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(es,i,l);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ze(e,t,"listItemIndent",r.containerState.size+1)(s)}function l(s){return r.containerState.furtherBlankLines||!je(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(vN,t,o)(s))}function o(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,ze(e,e.attempt(gt,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function bN(e,t,n){const r=this;return ze(e,i,"listItemIndent",r.containerState.size+1);function i(l){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(l):n(l)}}function CN(e){e.exit(this.containerState.type)}function NN(e,t,n){const r=this;return ze(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(l){const o=r.events[r.events.length-1];return!je(l)&&o&&o[1].type==="listItemPrefixWhitespace"?t(l):n(l)}}const fp={name:"setextUnderline",resolveTo:SN,tokenize:TN};function SN(e,t){let n=e.length,r,i,l;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!l&&e[n][1].type==="definition"&&(l=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",l?(e.splice(i,0,["enter",o,t]),e.splice(l+1,0,["exit",e[r][1],t]),e[r][1].end={...e[l][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function TN(e,t,n){const r=this;let i;return l;function l(c){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return e.enter("setextHeadingLineSequence"),s(c)}function s(c){return c===i?(e.consume(c),s):(e.exit("setextHeadingLineSequence"),je(c)?ze(e,u,"lineSuffix")(c):u(c))}function u(c){return c===null||be(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const EN={tokenize:AN};function AN(e){const t=this,n=e.attempt(es,r,e.attempt(this.parser.constructs.flowInitial,i,ze(e,e.attempt(this.parser.constructs.flow,i,e.attempt(MC,i)),"linePrefix")));return n;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const IN={resolveAll:J0()},jN=Q0("string"),PN=Q0("text");function Q0(e){return{resolveAll:J0(e==="text"?RN:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],l=n.attempt(i,o,s);return o;function o(d){return c(d)?l(d):s(d)}function s(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),u}function u(d){return c(d)?(n.exit("data"),l(d)):(n.consume(d),u)}function c(d){if(d===null)return!0;const f=i[d];let g=-1;if(f)for(;++g<f.length;){const m=f[g];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function J0(e){return t;function t(n,r){let i=-1,l;for(;++i<=n.length;)l===void 0?n[i]&&n[i][1].type==="data"&&(l=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==l+2&&(n[l][1].end=n[i-1][1].end,n.splice(l+2,i-l-2),i=l+2),l=void 0);return e?e(n,r):n}}function RN(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let l=i.length,o=-1,s=0,u;for(;l--;){const c=i[l];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(c===-2)u=!0,s++;else if(c!==-1){l++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const c={type:n===e.length||u||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?o:r.start._bufferIndex+o,_index:r.start._index+l,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const MN={42:gt,43:gt,45:gt,48:gt,49:gt,50:gt,51:gt,52:gt,53:gt,54:gt,55:gt,56:gt,57:gt,62:V0},_N={91:FC},DN={[-2]:Ls,[-1]:Ls,32:Ls},zN={35:$C,42:Ql,45:[fp,Ql],60:WC,61:fp,95:Ql,96:cp,126:cp},LN={38:q0,92:$0},FN={[-5]:Fs,[-4]:Fs,[-3]:Fs,33:fN,38:q0,42:iu,60:[hC,tN],91:hN,92:[BC,$0],93:bc,95:iu,96:EC},ON={null:[iu,IN]},UN={null:[42,95]},HN={null:[]},BN=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:UN,contentInitial:_N,disable:HN,document:MN,flow:zN,flowInitial:DN,insideSpan:ON,string:LN,text:FN},Symbol.toStringTag,{value:"Module"}));function VN(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},l=[];let o=[],s=[];const u={attempt:E(j),check:E(N),consume:v,enter:x,exit:A,interrupt:E(N,{interrupt:!0})},c={code:null,containerState:{},defineSkip:S,events:[],now:C,parser:e,previous:null,sliceSerialize:g,sliceStream:m,write:f};let d=t.tokenize.call(c,u);return t.resolveAll&&l.push(t),c;function f(P){return o=Ft(o,P),T(),o[o.length-1]!==null?[]:(I(t,0),c.events=kc(l,c.events,c),c.events)}function g(P,_){return qN(m(P),_)}function m(P){return $N(o,P)}function C(){const{_bufferIndex:P,_index:_,line:D,column:Z,offset:Q}=r;return{_bufferIndex:P,_index:_,line:D,column:Z,offset:Q}}function S(P){i[P.line]=P.column,F()}function T(){let P;for(;r._index<o.length;){const _=o[r._index];if(typeof _=="string")for(P=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===P&&r._bufferIndex<_.length;)y(_.charCodeAt(r._bufferIndex));else y(_)}}function y(P){d=d(P)}function v(P){be(P)?(r.line++,r.column=1,r.offset+=P===-3?2:1,F()):P!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=P}function x(P,_){const D=_||{};return D.type=P,D.start=C(),c.events.push(["enter",D,c]),s.push(D),D}function A(P){const _=s.pop();return _.end=C(),c.events.push(["exit",_,c]),_}function j(P,_){I(P,_.from)}function N(P,_){_.restore()}function E(P,_){return D;function D(Z,Q,se){let W,H,Y,k;return Array.isArray(Z)?L(Z):"tokenize"in Z?L([Z]):R(Z);function R(G){return V;function V(ae){const ie=ae!==null&&G[ae],oe=ae!==null&&G.null,q=[...Array.isArray(ie)?ie:ie?[ie]:[],...Array.isArray(oe)?oe:oe?[oe]:[]];return L(q)(ae)}}function L(G){return W=G,H=0,G.length===0?se:b(G[H])}function b(G){return V;function V(ae){return k=z(),Y=G,G.partial||(c.currentConstruct=G),G.name&&c.parser.constructs.disable.null.includes(G.name)?O():G.tokenize.call(_?Object.assign(Object.create(c),_):c,u,M,O)(ae)}}function M(G){return P(Y,k),Q}function O(G){return k.restore(),++H<W.length?b(W[H]):se}}}function I(P,_){P.resolveAll&&!l.includes(P)&&l.push(P),P.resolve&&cn(c.events,_,c.events.length-_,P.resolve(c.events.slice(_),c)),P.resolveTo&&(c.events=P.resolveTo(c.events,c))}function z(){const P=C(),_=c.previous,D=c.currentConstruct,Z=c.events.length,Q=Array.from(s);return{from:Z,restore:se};function se(){r=P,c.previous=_,c.currentConstruct=D,c.events.length=Z,s=Q,F()}}function F(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function $N(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,l=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,l)];else{if(o=e.slice(n,i),r>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(r):o.shift()}l>0&&o.push(e[i].slice(0,l))}return o}function qN(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const l=e[n];let o;if(typeof l=="string")o=l;else switch(l){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(l)}i=l===-2,r.push(o)}return r.join("")}function GN(e){const r={constructs:Zb([BN,...(e||{}).extensions||[]]),content:i(sC),defined:[],document:i(uC),flow:i(EN),lazy:{},string:i(jN),text:i(PN)};return r;function i(l){return o;function o(s){return VN(r,l,s)}}}function KN(e){for(;!G0(e););return e}const pp=/[\0\t\n\r]/g;function WN(){let e=1,t="",n=!0,r;return i;function i(l,o,s){const u=[];let c,d,f,g,m;for(l=t+(typeof l=="string"?l.toString():new TextDecoder(o||void 0).decode(l)),f=0,t="",n&&(l.charCodeAt(0)===65279&&f++,n=void 0);f<l.length;){if(pp.lastIndex=f,c=pp.exec(l),g=c&&c.index!==void 0?c.index:l.length,m=l.charCodeAt(g),!c){t=l.slice(f);break}if(m===10&&f===g&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),f<g&&(u.push(l.slice(f,g)),e+=g-f),m){case 0:{u.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,u.push(-2);e++<d;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}f=g+1}return s&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}const YN=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function QN(e){return e.replace(YN,JN)}function JN(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),l=i===120||i===88;return B0(n.slice(l?2:1),l?16:10)}return wc(n)||e}const X0={}.hasOwnProperty;function XN(e,t,n){return typeof t!="string"&&(n=t,t=void 0),ZN(n)(KN(GN(n).document().write(WN()(e,t,!0))))}function ZN(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(ve),autolinkProtocol:z,autolinkEmail:z,atxHeading:l(pe),blockQuote:l(oe),characterEscape:z,characterReference:z,codeFenced:l(q),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:l(q,o),codeText:l(B,o),codeTextData:z,data:z,codeFlowValue:z,definition:l(X),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:l(ce),hardBreakEscape:l(ke),hardBreakTrailing:l(ke),htmlFlow:l(re,o),htmlFlowData:z,htmlText:l(re,o),htmlTextData:z,image:l(ye),label:o,link:l(ve),listItem:l(le),listItemValue:g,listOrdered:l(J,f),listUnordered:l(J),paragraph:l(ge),reference:b,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:l(pe),strong:l(de),thematicBreak:l(me)},exit:{atxHeading:u(),atxHeadingSequence:j,autolink:u(),autolinkEmail:ie,autolinkProtocol:ae,blockQuote:u(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:O,characterReferenceMarkerNumeric:O,characterReferenceValue:G,characterReference:V,codeFenced:u(T),codeFencedFence:S,codeFencedFenceInfo:m,codeFencedFenceMeta:C,codeFlowValue:F,codeIndented:u(y),codeText:u(Q),codeTextData:F,data:F,definition:u(),definitionDestinationString:A,definitionLabelString:v,definitionTitleString:x,emphasis:u(),hardBreakEscape:u(_),hardBreakTrailing:u(_),htmlFlow:u(D),htmlFlowData:F,htmlText:u(Z),htmlTextData:F,image:u(W),label:Y,labelText:H,lineEnding:P,link:u(se),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:M,resourceDestinationString:k,resourceTitleString:R,resource:L,setextHeading:u(I),setextHeadingLineSequence:E,setextHeadingText:N,strong:u(),thematicBreak:u()}};Z0(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(U){let K={type:"root",children:[]};const ue={stack:[K],tokenStack:[],config:t,enter:s,exit:c,buffer:o,resume:d,data:n},fe=[];let $=-1;for(;++$<U.length;)if(U[$][1].type==="listOrdered"||U[$][1].type==="listUnordered")if(U[$][0]==="enter")fe.push($);else{const we=fe.pop();$=i(U,we,$)}for($=-1;++$<U.length;){const we=t[U[$][0]];X0.call(we,U[$][1].type)&&we[U[$][1].type].call(Object.assign({sliceSerialize:U[$][2].sliceSerialize},ue),U[$][1])}if(ue.tokenStack.length>0){const we=ue.tokenStack[ue.tokenStack.length-1];(we[1]||hp).call(ue,void 0,we[0])}for(K.position={start:Tn(U.length>0?U[0][1].start:{line:1,column:1,offset:0}),end:Tn(U.length>0?U[U.length-2][1].end:{line:1,column:1,offset:0})},$=-1;++$<t.transforms.length;)K=t.transforms[$](K)||K;return K}function i(U,K,ue){let fe=K-1,$=-1,we=!1,Oe,$e,$t,Dt;for(;++fe<=ue;){const Qe=U[fe];switch(Qe[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Qe[0]==="enter"?$++:$--,Dt=void 0;break}case"lineEndingBlank":{Qe[0]==="enter"&&(Oe&&!Dt&&!$&&!$t&&($t=fe),Dt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Dt=void 0}if(!$&&Qe[0]==="enter"&&Qe[1].type==="listItemPrefix"||$===-1&&Qe[0]==="exit"&&(Qe[1].type==="listUnordered"||Qe[1].type==="listOrdered")){if(Oe){let Xt=fe;for($e=void 0;Xt--;){const mt=U[Xt];if(mt[1].type==="lineEnding"||mt[1].type==="lineEndingBlank"){if(mt[0]==="exit")continue;$e&&(U[$e][1].type="lineEndingBlank",we=!0),mt[1].type="lineEnding",$e=Xt}else if(!(mt[1].type==="linePrefix"||mt[1].type==="blockQuotePrefix"||mt[1].type==="blockQuotePrefixWhitespace"||mt[1].type==="blockQuoteMarker"||mt[1].type==="listItemIndent"))break}$t&&(!$e||$t<$e)&&(Oe._spread=!0),Oe.end=Object.assign({},$e?U[$e][1].start:Qe[1].end),U.splice($e||fe,0,["exit",Oe,Qe[2]]),fe++,ue++}if(Qe[1].type==="listItemPrefix"){const Xt={type:"listItem",_spread:!1,start:Object.assign({},Qe[1].start),end:void 0};Oe=Xt,U.splice(fe,0,["enter",Xt,Qe[2]]),fe++,ue++,$t=void 0,Dt=!0}}}return U[K][1]._spread=we,ue}function l(U,K){return ue;function ue(fe){s.call(this,U(fe),fe),K&&K.call(this,fe)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(U,K,ue){this.stack[this.stack.length-1].children.push(U),this.stack.push(U),this.tokenStack.push([K,ue||void 0]),U.position={start:Tn(K.start),end:void 0}}function u(U){return K;function K(ue){U&&U.call(this,ue),c.call(this,ue)}}function c(U,K){const ue=this.stack.pop(),fe=this.tokenStack.pop();if(fe)fe[0].type!==U.type&&(K?K.call(this,U,fe[0]):(fe[1]||hp).call(this,U,fe[0]));else throw new Error("Cannot close `"+U.type+"` ("+Ai({start:U.start,end:U.end})+"): its not open");ue.position.end=Tn(U.end)}function d(){return Jb(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function g(U){if(this.data.expectingFirstListItemValue){const K=this.stack[this.stack.length-2];K.start=Number.parseInt(this.sliceSerialize(U),10),this.data.expectingFirstListItemValue=void 0}}function m(){const U=this.resume(),K=this.stack[this.stack.length-1];K.lang=U}function C(){const U=this.resume(),K=this.stack[this.stack.length-1];K.meta=U}function S(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function T(){const U=this.resume(),K=this.stack[this.stack.length-1];K.value=U.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const U=this.resume(),K=this.stack[this.stack.length-1];K.value=U.replace(/(\r?\n|\r)$/g,"")}function v(U){const K=this.resume(),ue=this.stack[this.stack.length-1];ue.label=K,ue.identifier=Hr(this.sliceSerialize(U)).toLowerCase()}function x(){const U=this.resume(),K=this.stack[this.stack.length-1];K.title=U}function A(){const U=this.resume(),K=this.stack[this.stack.length-1];K.url=U}function j(U){const K=this.stack[this.stack.length-1];if(!K.depth){const ue=this.sliceSerialize(U).length;K.depth=ue}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function E(U){const K=this.stack[this.stack.length-1];K.depth=this.sliceSerialize(U).codePointAt(0)===61?1:2}function I(){this.data.setextHeadingSlurpLineEnding=void 0}function z(U){const ue=this.stack[this.stack.length-1].children;let fe=ue[ue.length-1];(!fe||fe.type!=="text")&&(fe=xe(),fe.position={start:Tn(U.start),end:void 0},ue.push(fe)),this.stack.push(fe)}function F(U){const K=this.stack.pop();K.value+=this.sliceSerialize(U),K.position.end=Tn(U.end)}function P(U){const K=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ue=K.children[K.children.length-1];ue.position.end=Tn(U.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(K.type)&&(z.call(this,U),F.call(this,U))}function _(){this.data.atHardBreak=!0}function D(){const U=this.resume(),K=this.stack[this.stack.length-1];K.value=U}function Z(){const U=this.resume(),K=this.stack[this.stack.length-1];K.value=U}function Q(){const U=this.resume(),K=this.stack[this.stack.length-1];K.value=U}function se(){const U=this.stack[this.stack.length-1];if(this.data.inReference){const K=this.data.referenceType||"shortcut";U.type+="Reference",U.referenceType=K,delete U.url,delete U.title}else delete U.identifier,delete U.label;this.data.referenceType=void 0}function W(){const U=this.stack[this.stack.length-1];if(this.data.inReference){const K=this.data.referenceType||"shortcut";U.type+="Reference",U.referenceType=K,delete U.url,delete U.title}else delete U.identifier,delete U.label;this.data.referenceType=void 0}function H(U){const K=this.sliceSerialize(U),ue=this.stack[this.stack.length-2];ue.label=QN(K),ue.identifier=Hr(K).toLowerCase()}function Y(){const U=this.stack[this.stack.length-1],K=this.resume(),ue=this.stack[this.stack.length-1];if(this.data.inReference=!0,ue.type==="link"){const fe=U.children;ue.children=fe}else ue.alt=K}function k(){const U=this.resume(),K=this.stack[this.stack.length-1];K.url=U}function R(){const U=this.resume(),K=this.stack[this.stack.length-1];K.title=U}function L(){this.data.inReference=void 0}function b(){this.data.referenceType="collapsed"}function M(U){const K=this.resume(),ue=this.stack[this.stack.length-1];ue.label=K,ue.identifier=Hr(this.sliceSerialize(U)).toLowerCase(),this.data.referenceType="full"}function O(U){this.data.characterReferenceType=U.type}function G(U){const K=this.sliceSerialize(U),ue=this.data.characterReferenceType;let fe;ue?(fe=B0(K,ue==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):fe=wc(K);const $=this.stack[this.stack.length-1];$.value+=fe}function V(U){const K=this.stack.pop();K.position.end=Tn(U.end)}function ae(U){F.call(this,U);const K=this.stack[this.stack.length-1];K.url=this.sliceSerialize(U)}function ie(U){F.call(this,U);const K=this.stack[this.stack.length-1];K.url="mailto:"+this.sliceSerialize(U)}function oe(){return{type:"blockquote",children:[]}}function q(){return{type:"code",lang:null,meta:null,value:""}}function B(){return{type:"inlineCode",value:""}}function X(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ce(){return{type:"emphasis",children:[]}}function pe(){return{type:"heading",depth:0,children:[]}}function ke(){return{type:"break"}}function re(){return{type:"html",value:""}}function ye(){return{type:"image",title:null,url:"",alt:null}}function ve(){return{type:"link",title:null,url:"",children:[]}}function J(U){return{type:"list",ordered:U.type==="listOrdered",start:null,spread:U._spread,children:[]}}function le(U){return{type:"listItem",spread:U._spread,checked:null,children:[]}}function ge(){return{type:"paragraph",children:[]}}function de(){return{type:"strong",children:[]}}function xe(){return{type:"text",value:""}}function me(){return{type:"thematicBreak"}}}function Tn(e){return{line:e.line,column:e.column,offset:e.offset}}function Z0(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Z0(e,r):eS(e,r)}}function eS(e,t){let n;for(n in t)if(X0.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function hp(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ai({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ai({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ai({start:t.start,end:t.end})+") is still open")}function tS(e){const t=this;t.parser=n;function n(r){return XN(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function nS(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function rS(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function iS(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let l={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(l.data={meta:t.meta}),e.patch(t,l),l=e.applyData(t,l),l={type:"element",tagName:"pre",properties:{},children:[l]},e.patch(t,l),l}function lS(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function oS(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function sS(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=ni(r.toLowerCase()),l=e.footnoteOrder.indexOf(r);let o,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=l+1,s+=1,e.footnoteCounts.set(r,s);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,u);const c={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,c),e.applyData(t,c)}function aS(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function uS(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function eg(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),l=i[0];l&&l.type==="text"?l.value="["+l.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function cS(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return eg(e,t);const i={src:ni(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const l={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,l),e.applyData(t,l)}function dS(e,t){const n={src:ni(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function fS(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function pS(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return eg(e,t);const i={href:ni(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const l={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,l),e.applyData(t,l)}function hS(e,t){const n={href:ni(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function mS(e,t,n){const r=e.all(t),i=n?gS(n):tg(t),l={},o=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const d=r[s];(i||s!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?o.push(...d.children):o.push(d)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:l,children:o};return e.patch(t,c),e.applyData(t,c)}function gS(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=tg(n[r])}return t}function tg(e){const t=e.spread;return t??e.children.length>1}function xS(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,l),e.applyData(t,l)}function yS(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function vS(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function wS(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function kS(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=gc(t.children[1]),u=D0(t.children[t.children.length-1]);s&&u&&(o.position={start:s,end:u}),i.push(o)}const l={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,l),e.applyData(t,l)}function bS(e,t,n){const r=n?n.children:void 0,l=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,s=o?o.length:t.children.length;let u=-1;const c=[];for(;++u<s;){const f=t.children[u],g={},m=o?o[u]:void 0;m&&(g.align=m);let C={type:"element",tagName:l,properties:g,children:[]};f&&(C.children=e.all(f),e.patch(f,C),C=e.applyData(f,C)),c.push(C)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,d),e.applyData(t,d)}function CS(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const mp=9,gp=32;function NS(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const l=[];for(;r;)l.push(xp(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return l.push(xp(t.slice(i),i>0,!1)),l.join("")}function xp(e,t,n){let r=0,i=e.length;if(t){let l=e.codePointAt(r);for(;l===mp||l===gp;)r++,l=e.codePointAt(r)}if(n){let l=e.codePointAt(i-1);for(;l===mp||l===gp;)i--,l=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function SS(e,t){const n={type:"text",value:NS(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function TS(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const ES={blockquote:nS,break:rS,code:iS,delete:lS,emphasis:oS,footnoteReference:sS,heading:aS,html:uS,imageReference:cS,image:dS,inlineCode:fS,linkReference:pS,link:hS,listItem:mS,list:xS,paragraph:yS,root:vS,strong:wS,table:kS,tableCell:CS,tableRow:bS,text:SS,thematicBreak:TS,toml:Pl,yaml:Pl,definition:Pl,footnoteDefinition:Pl};function Pl(){}const ng=-1,ts=0,ji=1,Mo=2,Cc=3,Nc=4,Sc=5,Tc=6,rg=7,ig=8,yp=typeof self=="object"?self:globalThis,AS=(e,t)=>{const n=(i,l)=>(e.set(l,i),i),r=i=>{if(e.has(i))return e.get(i);const[l,o]=t[i];switch(l){case ts:case ng:return n(o,i);case ji:{const s=n([],i);for(const u of o)s.push(r(u));return s}case Mo:{const s=n({},i);for(const[u,c]of o)s[r(u)]=r(c);return s}case Cc:return n(new Date(o),i);case Nc:{const{source:s,flags:u}=o;return n(new RegExp(s,u),i)}case Sc:{const s=n(new Map,i);for(const[u,c]of o)s.set(r(u),r(c));return s}case Tc:{const s=n(new Set,i);for(const u of o)s.add(r(u));return s}case rg:{const{name:s,message:u}=o;return n(new yp[s](u),i)}case ig:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:s}=new Uint8Array(o);return n(new DataView(s),o)}}return n(new yp[l](o),i)};return r},vp=e=>AS(new Map,e)(0),vr="",{toString:IS}={},{keys:jS}=Object,pi=e=>{const t=typeof e;if(t!=="object"||!e)return[ts,t];const n=IS.call(e).slice(8,-1);switch(n){case"Array":return[ji,vr];case"Object":return[Mo,vr];case"Date":return[Cc,vr];case"RegExp":return[Nc,vr];case"Map":return[Sc,vr];case"Set":return[Tc,vr];case"DataView":return[ji,n]}return n.includes("Array")?[ji,n]:n.includes("Error")?[rg,n]:[Mo,n]},Rl=([e,t])=>e===ts&&(t==="function"||t==="symbol"),PS=(e,t,n,r)=>{const i=(o,s)=>{const u=r.push(o)-1;return n.set(s,u),u},l=o=>{if(n.has(o))return n.get(o);let[s,u]=pi(o);switch(s){case ts:{let d=o;switch(u){case"bigint":s=ig,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);d=null;break;case"undefined":return i([ng],o)}return i([s,d],o)}case ji:{if(u){let g=o;return u==="DataView"?g=new Uint8Array(o.buffer):u==="ArrayBuffer"&&(g=new Uint8Array(o)),i([u,[...g]],o)}const d=[],f=i([s,d],o);for(const g of o)d.push(l(g));return f}case Mo:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(t&&"toJSON"in o)return l(o.toJSON());const d=[],f=i([s,d],o);for(const g of jS(o))(e||!Rl(pi(o[g])))&&d.push([l(g),l(o[g])]);return f}case Cc:return i([s,o.toISOString()],o);case Nc:{const{source:d,flags:f}=o;return i([s,{source:d,flags:f}],o)}case Sc:{const d=[],f=i([s,d],o);for(const[g,m]of o)(e||!(Rl(pi(g))||Rl(pi(m))))&&d.push([l(g),l(m)]);return f}case Tc:{const d=[],f=i([s,d],o);for(const g of o)(e||!Rl(pi(g)))&&d.push(l(g));return f}}const{message:c}=o;return i([s,{name:u,message:c}],o)};return l},wp=(e,{json:t,lossy:n}={})=>{const r=[];return PS(!(t||n),!!t,new Map,r)(e),r},_o=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?vp(wp(e,t)):structuredClone(e):(e,t)=>vp(wp(e,t));function RS(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function MS(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function _S(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||RS,r=e.options.footnoteBackLabel||MS,i=e.options.footnoteLabel||"Footnotes",l=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let u=-1;for(;++u<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[u]);if(!c)continue;const d=e.all(c),f=String(c.identifier).toUpperCase(),g=ni(f.toLowerCase());let m=0;const C=[],S=e.footnoteCounts.get(f);for(;S!==void 0&&++m<=S;){C.length>0&&C.push({type:"text",value:" "});let v=typeof n=="string"?n:n(u,m);typeof v=="string"&&(v={type:"text",value:v}),C.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,m),className:["data-footnote-backref"]},children:Array.isArray(v)?v:[v]})}const T=d[d.length-1];if(T&&T.type==="element"&&T.tagName==="p"){const v=T.children[T.children.length-1];v&&v.type==="text"?v.value+=" ":T.children.push({type:"text",value:" "}),T.children.push(...C)}else d.push(...C);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(d,!0)};e.patch(c,y),s.push(y)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{..._o(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const lg=function(e){if(e==null)return FS;if(typeof e=="function")return ns(e);if(typeof e=="object")return Array.isArray(e)?DS(e):zS(e);if(typeof e=="string")return LS(e);throw new Error("Expected function, string, or object as test")};function DS(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=lg(e[n]);return ns(r);function r(...i){let l=-1;for(;++l<t.length;)if(t[l].apply(this,i))return!0;return!1}}function zS(e){const t=e;return ns(n);function n(r){const i=r;let l;for(l in e)if(i[l]!==t[l])return!1;return!0}}function LS(e){return ns(t);function t(n){return n&&n.type===e}}function ns(e){return t;function t(n,r,i){return!!(OS(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function FS(){return!0}function OS(e){return e!==null&&typeof e=="object"&&"type"in e}const og=[],US=!0,kp=!1,HS="skip";function BS(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const l=lg(i),o=r?-1:1;s(e,void 0,[])();function s(u,c,d){const f=u&&typeof u=="object"?u:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(u.type+(m?"<"+m+">":""))+")"})}return g;function g(){let m=og,C,S,T;if((!t||l(u,c,d[d.length-1]||void 0))&&(m=VS(n(u,d)),m[0]===kp))return m;if("children"in u&&u.children){const y=u;if(y.children&&m[0]!==HS)for(S=(r?y.children.length:-1)+o,T=d.concat(y);S>-1&&S<y.children.length;){const v=y.children[S];if(C=s(v,S,T)(),C[0]===kp)return C;S=typeof C[1]=="number"?C[1]:S+o}}return m}}}function VS(e){return Array.isArray(e)?e:typeof e=="number"?[US,e]:e==null?og:[e]}function sg(e,t,n,r){let i,l,o;typeof t=="function"&&typeof n!="function"?(l=void 0,o=t,i=n):(l=t,o=n,i=r),BS(e,l,s,i);function s(u,c){const d=c[c.length-1],f=d?d.children.indexOf(u):void 0;return o(u,f,d)}}const lu={}.hasOwnProperty,$S={};function qS(e,t){const n=t||$S,r=new Map,i=new Map,l=new Map,o={...ES,...n.handlers},s={all:c,applyData:KS,definitionById:r,footnoteById:i,footnoteCounts:l,footnoteOrder:[],handlers:o,one:u,options:n,patch:GS,wrap:YS};return sg(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,g=String(d.identifier).toUpperCase();f.has(g)||f.set(g,d)}}),s;function u(d,f){const g=d.type,m=s.handlers[g];if(lu.call(s.handlers,g)&&m)return m(s,d,f);if(s.options.passThrough&&s.options.passThrough.includes(g)){if("children"in d){const{children:S,...T}=d,y=_o(T);return y.children=s.all(d),y}return _o(d)}return(s.options.unknownHandler||WS)(s,d,f)}function c(d){const f=[];if("children"in d){const g=d.children;let m=-1;for(;++m<g.length;){const C=s.one(g[m],d);if(C){if(m&&g[m-1].type==="break"&&(!Array.isArray(C)&&C.type==="text"&&(C.value=bp(C.value)),!Array.isArray(C)&&C.type==="element")){const S=C.children[0];S&&S.type==="text"&&(S.value=bp(S.value))}Array.isArray(C)?f.push(...C):f.push(C)}}}return f}}function GS(e,t){e.position&&(t.position=Ib(e))}function KS(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,l=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&l&&Object.assign(n.properties,_o(l)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function WS(e,t){const n=t.data||{},r="value"in t&&!(lu.call(n,"hProperties")||lu.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function YS(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function bp(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Cp(e,t){const n=qS(e,t),r=n.one(e,void 0),i=_S(n),l=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&l.children.push({type:"text",value:`
`},i),l}function QS(e,t){return e&&"run"in e?async function(n,r){const i=Cp(n,{file:r,...t});await e.run(i,r)}:function(n,r){return Cp(n,{file:r,...e||t})}}function Np(e){if(e)throw e}var Jl=Object.prototype.hasOwnProperty,ag=Object.prototype.toString,Sp=Object.defineProperty,Tp=Object.getOwnPropertyDescriptor,Ep=function(t){return typeof Array.isArray=="function"?Array.isArray(t):ag.call(t)==="[object Array]"},Ap=function(t){if(!t||ag.call(t)!=="[object Object]")return!1;var n=Jl.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Jl.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||Jl.call(t,i)},Ip=function(t,n){Sp&&n.name==="__proto__"?Sp(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},jp=function(t,n){if(n==="__proto__")if(Jl.call(t,n)){if(Tp)return Tp(t,n).value}else return;return t[n]},JS=function e(){var t,n,r,i,l,o,s=arguments[0],u=1,c=arguments.length,d=!1;for(typeof s=="boolean"&&(d=s,s=arguments[1]||{},u=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});u<c;++u)if(t=arguments[u],t!=null)for(n in t)r=jp(s,n),i=jp(t,n),s!==i&&(d&&i&&(Ap(i)||(l=Ep(i)))?(l?(l=!1,o=r&&Ep(r)?r:[]):o=r&&Ap(r)?r:{},Ip(s,{name:n,newValue:e(d,o,i)})):typeof i<"u"&&Ip(s,{name:n,newValue:i}));return s};const Os=au(JS);function ou(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function XS(){const e=[],t={run:n,use:r};return t;function n(...i){let l=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...i);function s(u,...c){const d=e[++l];let f=-1;if(u){o(u);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,d?ZS(d,s)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function ZS(e,t){let n;return r;function r(...o){const s=e.length>o.length;let u;s&&o.push(i);try{u=e.apply(this,o)}catch(c){const d=c;if(s&&n)throw d;return i(d)}s||(u&&u.then&&typeof u.then=="function"?u.then(l,i):u instanceof Error?i(u):l(u))}function i(o,...s){n||(n=!0,t(o,...s))}function l(o){i(null,o)}}const nn={basename:eT,dirname:tT,extname:nT,join:rT,sep:"/"};function eT(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');cl(e);let n=0,r=-1,i=e.length,l;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(l){n=i+1;break}}else r<0&&(l=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(l){n=i+1;break}}else o<0&&(l=!0,o=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(r=i):(s=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function tT(e){if(cl(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function nT(e){cl(e);let t=e.length,n=-1,r=0,i=-1,l=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?i<0?i=t:l!==1&&(l=1):i>-1&&(l=-1)}return i<0||n<0||l===0||l===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function rT(...e){let t=-1,n;for(;++t<e.length;)cl(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":iT(n)}function iT(e){cl(e);const t=e.codePointAt(0)===47;let n=lT(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function lT(e,t){let n="",r=0,i=-1,l=0,o=-1,s,u;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(i===o-1||l===1))if(i!==o-1&&l===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,l=0;continue}}else if(n.length>0){n="",r=0,i=o,l=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,l=0}else s===46&&l>-1?l++:l=-1}return n}function cl(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const oT={cwd:sT};function sT(){return"/"}function su(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function aT(e){if(typeof e=="string")e=new URL(e);else if(!su(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return uT(e)}function uT(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Us=["history","path","basename","stem","extname","dirname"];class ug{constructor(t){let n;t?su(t)?n={path:t}:typeof t=="string"||cT(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":oT.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Us.length;){const l=Us[r];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let i;for(i in n)Us.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?nn.basename(this.path):void 0}set basename(t){Bs(t,"basename"),Hs(t,"basename"),this.path=nn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?nn.dirname(this.path):void 0}set dirname(t){Pp(this.basename,"dirname"),this.path=nn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?nn.extname(this.path):void 0}set extname(t){if(Hs(t,"extname"),Pp(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=nn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){su(t)&&(t=aT(t)),Bs(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?nn.basename(this.path,this.extname):void 0}set stem(t){Bs(t,"stem"),Hs(t,"stem"),this.path=nn.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new ut(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Hs(e,t){if(e&&e.includes(nn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+nn.sep+"`")}function Bs(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Pp(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function cT(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const dT=function(e){const r=this.constructor.prototype,i=r[e],l=function(){return i.apply(l,arguments)};return Object.setPrototypeOf(l,r),l},fT={}.hasOwnProperty;class Ec extends dT{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=XS()}copy(){const t=new Ec;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Os(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(qs("data",this.frozen),this.namespace[t]=n,this):fT.call(this.namespace,t)&&this.namespace[t]||void 0:t?(qs("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Ml(t),r=this.parser||this.Parser;return Vs("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Vs("process",this.parser||this.Parser),$s("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(l,o){const s=Ml(t),u=r.parse(s);r.run(u,s,function(d,f,g){if(d||!f||!g)return c(d);const m=f,C=r.stringify(m,g);mT(C)?g.value=C:g.result=C,c(d,g)});function c(d,f){d||!f?o(d):l?l(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),Vs("processSync",this.parser||this.Parser),$s("processSync",this.compiler||this.Compiler),this.process(t,i),Mp("processSync","process",n),r;function i(l,o){n=!0,Np(l),r=o}}run(t,n,r){Rp(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?l(void 0,r):new Promise(l);function l(o,s){const u=Ml(n);i.run(t,u,c);function c(d,f,g){const m=f||t;d?s(d):o?o(m):r(void 0,m,g)}}}runSync(t,n){let r=!1,i;return this.run(t,n,l),Mp("runSync","run",r),i;function l(o,s){Np(o),i=s,r=!0}}stringify(t,n){this.freeze();const r=Ml(n),i=this.compiler||this.Compiler;return $s("stringify",i),Rp(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(qs("use",this.frozen),t!=null)if(typeof t=="function")u(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function l(c){if(typeof c=="function")u(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...f]=c;u(d,f)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(c.plugins),c.settings&&(i.settings=Os(!0,i.settings,c.settings))}function s(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const f=c[d];l(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function u(c,d){let f=-1,g=-1;for(;++f<r.length;)if(r[f][0]===c){g=f;break}if(g===-1)r.push([c,...d]);else if(d.length>0){let[m,...C]=d;const S=r[g][1];ou(S)&&ou(m)&&(m=Os(!0,S,m)),r[g]=[c,m,...C]}}}}const pT=new Ec().freeze();function Vs(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function $s(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function qs(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Rp(e){if(!ou(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Mp(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Ml(e){return hT(e)?e:new ug(e)}function hT(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function mT(e){return typeof e=="string"||gT(e)}function gT(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const xT="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",_p=[],Dp={allowDangerousHtml:!0},yT=/^(https?|ircs?|mailto|xmpp)$/i,vT=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function wT(e){const t=kT(e),n=bT(e);return CT(t.runSync(t.parse(n),n),e)}function kT(e){const t=e.rehypePlugins||_p,n=e.remarkPlugins||_p,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Dp}:Dp;return pT().use(tS).use(n).use(QS,r).use(t)}function bT(e){const t=e.children||"",n=new ug;return typeof t=="string"&&(n.value=t),n}function CT(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,l=t.disallowedElements,o=t.skipHtml,s=t.unwrapDisallowed,u=t.urlTransform||NT;for(const d of vT)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+xT+d.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),sg(e,c),_b(e,{Fragment:a.Fragment,components:i,ignoreInvalidStyle:!0,jsx:a.jsx,jsxs:a.jsxs,passKeys:!0,passNode:!0});function c(d,f,g){if(d.type==="raw"&&g&&typeof f=="number")return o?g.children.splice(f,1):g.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let m;for(m in zs)if(Object.hasOwn(zs,m)&&Object.hasOwn(d.properties,m)){const C=d.properties[m],S=zs[m];(S===null||S.includes(d.tagName))&&(d.properties[m]=u(String(C||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):l?l.includes(d.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(d,f,g)),m&&g&&typeof f=="number")return s&&d.children?g.children.splice(f,1,...d.children):g.children.splice(f,1),f}}}function NT(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||yT.test(e.slice(0,t))?e:""}const ST=({message:e})=>{const t=e.role==="user";return a.jsx("div",{className:`flex w-full ${t?"justify-end":"justify-start"} mb-6`,children:a.jsxs("div",{className:`flex max-w-[85%] md:max-w-[75%] ${t?"flex-row-reverse":"flex-row"} gap-4`,children:[a.jsx("div",{className:`shrink-0 w-8 h-8 rounded-full flex items-center justify-center mt-1 shadow-lg select-none ${t?"bg-indigo-600":"bg-slate-700"}`,children:t?a.jsx(dk,{className:"w-5 h-5 text-indigo-100"}):a.jsx(Qi,{className:"w-5 h-5 text-slate-300"})}),a.jsxs("div",{className:`flex flex-col gap-2 ${t?"items-end":"items-start"}`,children:[e.attachment&&e.attachment.type==="image"&&a.jsx("div",{className:"rounded-xl overflow-hidden border border-slate-700/50 shadow-md max-w-full select-none",children:a.jsx("img",{src:`data:${e.attachment.mimeType};base64,${e.attachment.data}`,alt:"attachment",className:"max-h-[200px] object-cover"})}),(e.text||e.isTyping)&&a.jsx("div",{className:`relative px-5 py-4 rounded-2xl text-sm leading-relaxed shadow-md select-text cursor-text ${t?"bg-indigo-600/20 border border-indigo-500/30 text-indigo-100 rounded-tr-none":"bg-slate-800/80 border border-slate-700/50 text-slate-200 rounded-tl-none"}`,children:e.isTyping&&!e.text?a.jsxs("div",{className:"flex gap-1.5 items-center h-5 px-2 select-none",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce [animation-delay:-0.3s]"}),a.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce [animation-delay:-0.15s]"}),a.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce"})]}):a.jsx("div",{className:"markdown-content",children:t?a.jsx("p",{className:"whitespace-pre-wrap",children:e.text}):a.jsx(wT,{components:{h1:({node:n,...r})=>a.jsx("h1",{className:"text-xl font-bold text-white mb-3 mt-4 border-b border-slate-700 pb-2",...r}),h2:({node:n,...r})=>a.jsx("h2",{className:"text-lg font-bold text-indigo-300 mb-2 mt-4",...r}),h3:({node:n,...r})=>a.jsx("h3",{className:"text-base font-bold text-emerald-400 mb-2 mt-3",...r}),strong:({node:n,...r})=>a.jsx("strong",{className:"font-bold text-amber-200",...r}),em:({node:n,...r})=>a.jsx("em",{className:"italic text-slate-300",...r}),ul:({node:n,...r})=>a.jsx("ul",{className:"list-disc pl-5 mb-3 space-y-1.5 marker:text-indigo-500",...r}),ol:({node:n,...r})=>a.jsx("ol",{className:"list-decimal pl-5 mb-3 space-y-1.5 marker:text-indigo-500",...r}),li:({node:n,...r})=>a.jsx("li",{className:"pl-1",...r}),p:({node:n,...r})=>a.jsx("p",{className:"mb-3 last:mb-0",...r}),code:({node:n,inline:r,className:i,children:l,...o})=>r?a.jsx("code",{className:"bg-slate-900/50 text-indigo-200 px-1.5 py-0.5 rounded font-mono text-xs border border-slate-700/50",...o,children:l}):a.jsx("div",{className:"bg-slate-950 rounded-lg border border-slate-800 p-3 my-3 overflow-x-auto",children:a.jsx("code",{className:"font-mono text-xs text-slate-300 block",...o,children:l})}),blockquote:({node:n,...r})=>a.jsx("blockquote",{className:"border-l-4 border-indigo-500/50 pl-4 py-1 my-3 bg-indigo-500/5 rounded-r text-slate-300 italic",...r}),a:({node:n,...r})=>a.jsx("a",{className:"text-indigo-400 hover:text-indigo-300 hover:underline",target:"_blank",rel:"noopener noreferrer",...r})},children:e.text})})})]})]})})},TT=({onSend:e,onRecordToggle:t,isRecording:n,isLoading:r,placeholder:i,value:l,onChange:o})=>{const[s,u]=w.useState(void 0),[c,d]=w.useState(!1),f=w.useRef(null),g=w.useRef(null),m=()=>{!l.trim()&&!s||r||(e(l,s),u(void 0),f.current&&(f.current.style.height="auto"))},C=E=>{E.key==="Enter"&&!E.shiftKey&&(E.preventDefault(),m())},S=E=>{o(E.target.value),E.target.style.height="auto",E.target.style.height=Math.min(E.target.scrollHeight,120)+"px"},T=w.useCallback(E=>{if(E.type.startsWith("text/")||E.name.endsWith(".txt")||E.name.endsWith(".md")||E.name.endsWith(".json")||E.name.endsWith(".js")||E.name.endsWith(".ts")){const I=new FileReader;I.onload=z=>{var P;const F=(P=z.target)==null?void 0:P.result;o(l+(l?`
`:"")+F),f.current&&setTimeout(()=>{f.current&&(f.current.style.height="auto",f.current.style.height=Math.min(f.current.scrollHeight,120)+"px")},10)},I.readAsText(E);return}if(E.type.startsWith("image/")){const I=new FileReader;I.onload=z=>{var _;const P=((_=z.target)==null?void 0:_.result).split(",")[1];u({type:"image",mimeType:E.type,data:P,name:E.name})},I.readAsDataURL(E);return}},[l,o]),y=E=>{E.target.files&&E.target.files[0]&&T(E.target.files[0]),g.current&&(g.current.value="")},v=E=>{E.clipboardData.files&&E.clipboardData.files.length>0&&(E.preventDefault(),T(E.clipboardData.files[0]))},x=E=>{E.preventDefault(),d(!0)},A=E=>{E.preventDefault(),d(!1)},j=E=>{E.preventDefault(),d(!1),E.dataTransfer.files&&E.dataTransfer.files.length>0&&T(E.dataTransfer.files[0])},N=()=>{u(void 0)};return a.jsxs("div",{className:"p-3 md:p-4 bg-slate-900 border-t border-slate-800 shrink-0 relative safe-area-bottom",children:[c&&a.jsxs("div",{className:"absolute inset-0 z-50 bg-indigo-900/90 border-2 border-dashed border-indigo-400 m-2 rounded-xl flex flex-col items-center justify-center text-indigo-200 animate-in fade-in duration-200 pointer-events-none",children:[a.jsx(U2,{className:"w-10 h-10 mb-2"}),a.jsx("p",{className:"font-semibold",children:"Drop file to attach"})]}),a.jsx("input",{type:"file",ref:g,onChange:y,accept:"image/*,.txt,.md,.json,.js,.ts",className:"hidden"}),a.jsxs("div",{className:`relative bg-slate-950 p-2 rounded-xl border transition-all ${c?"border-indigo-500":"border-slate-800 focus-within:border-indigo-500/50"}`,onDragOver:x,onDragLeave:A,onDrop:j,children:[s&&a.jsxs("div",{className:"flex items-center gap-3 p-2 mb-2 bg-slate-900 rounded-lg border border-slate-800 animate-in slide-in-from-bottom-2",children:[a.jsx("div",{className:"w-10 h-10 rounded overflow-hidden bg-slate-800 shrink-0 border border-slate-700",children:a.jsx("img",{src:`data:${s.mimeType};base64,${s.data}`,alt:"preview",className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs font-medium text-slate-200 truncate",children:s.name||"Image"}),a.jsx("p",{className:"text-[10px] text-slate-500 uppercase",children:s.mimeType.split("/")[1]})]}),a.jsx("button",{onClick:N,className:"p-2 hover:bg-slate-800 rounded-full text-slate-500 hover:text-red-400 transition-colors touch-manipulation",children:a.jsx(wt,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsx("button",{onClick:()=>{var E;return(E=g.current)==null?void 0:E.click()},disabled:n,className:"shrink-0 p-2.5 md:p-2 rounded-lg text-slate-500 hover:text-indigo-400 hover:bg-slate-900 transition-colors touch-manipulation",title:"Attach image or text file",children:a.jsx(K2,{className:"w-5 h-5"})}),a.jsx("textarea",{ref:f,value:l,onChange:S,onKeyDown:C,onPaste:v,placeholder:i,rows:1,disabled:n,className:"w-full bg-transparent border-none focus:ring-0 resize-none text-slate-200 placeholder:text-slate-600 max-h-[120px] py-2.5 px-0 custom-scrollbar disabled:opacity-50 text-base md:text-sm"}),n&&a.jsxs("div",{className:"flex items-center gap-2 mb-2.5 mr-1 text-red-400 animate-pulse select-none shrink-0 bg-red-950/30 px-2 py-1 rounded-full border border-red-900/50",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500 shadow-[0_0_8px_rgba(239,68,68,0.8)]"}),a.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider hidden sm:block",children:"Recording"})]}),a.jsx("button",{onClick:t,className:`shrink-0 p-2.5 md:p-2 rounded-lg transition-all touch-manipulation ${n?"bg-red-500/20 text-red-400 shadow-[0_0_15px_rgba(239,68,68,0.2)]":"text-slate-500 hover:text-indigo-400 hover:bg-slate-900"}`,children:n?a.jsx(fr,{className:"w-5 h-5 fill-current"}):a.jsx(an,{className:"w-5 h-5"})}),a.jsx("button",{onClick:m,disabled:!l.trim()&&!s||r,className:`shrink-0 p-2.5 md:p-2 rounded-lg transition-all touch-manipulation ${(l.trim()||s)&&!r?"bg-indigo-600 text-white shadow-lg":"bg-slate-900 text-slate-600 cursor-not-allowed"}`,children:a.jsx(dc,{className:"w-4 h-4"})})]})]})]})},ET=({language:e,apiKey:t,settings:n,transferRequest:r,onToggleClipboard:i})=>{const l=(n==null?void 0:n.silenceThreshold)||20,o=tt(e),{messages:s,inputText:u,setInputText:c,isLoading:d,messagesEndRef:f,handleSendMessage:g,toggleVoice:m,isRecording:C,isAnalyzing:S,soundEnabled:T,setSoundEnabled:y,clearChat:v,visualizerDataRef:x,isLive:A,isLiveConnecting:j,liveError:N,toggleLiveMode:E,liveVisualizerDataRef:I}=Lk(e,t,l);w.useEffect(()=>{r&&r.target==="chat"&&c(r.text)},[r,c]);const z={placeholder:e==="ru"?"... (Drop file or Paste image)":"Message... (Drop file or Paste image)",emptyTitle:e==="ru"?"  Gemini":"Gemini Chat",emptyDesc:e==="ru"?"    ,    .":"I am ready to help with text, ideas, or image analysis.",liveConnecting:e==="ru"?"  Live...":"Connecting to Live...",liveActive:e==="ru"?"Gemini ":"Gemini is listening",liveEnd:e==="ru"?" ":"End Call",statusListening:o.visListening||"LISTENING",statusAnalyzing:o.visAnalyzing||"ANALYZING"};return a.jsxs("div",{className:"flex flex-col h-full w-full bg-slate-900 overflow-hidden relative select-none",children:[!A&&a.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none opacity-40",children:a.jsx(Xi,{visualizerDataRef:x,isRecording:C||S,visualizerStyle:"wave",amp:.8,lowCut:0,highCut:50,rounded:!0,silenceThreshold:l})}),A&&a.jsxs("div",{className:"absolute inset-0 z-50 bg-slate-950 flex flex-col items-center justify-center animate-in fade-in zoom-in duration-300",children:[a.jsx("div",{className:"absolute inset-0 z-0 opacity-60",children:a.jsx(Xi,{visualizerDataRef:I,isRecording:!0,visualizerStyle:"circular",amp:1.5,lowCut:5,highCut:100,rounded:!0,norm:!0,gravity:4})}),a.jsxs("div",{className:"z-10 flex flex-col items-center gap-8",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-32 h-32 rounded-full bg-indigo-600/20 flex items-center justify-center animate-pulse",children:a.jsx("div",{className:"w-24 h-24 rounded-full bg-indigo-500/30 flex items-center justify-center",children:a.jsx(Qi,{className:"w-12 h-12 text-indigo-400"})})}),j&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"w-full h-full border-4 border-t-indigo-500 border-indigo-900/0 rounded-full animate-spin"})})]}),a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx("h2",{className:"text-2xl font-bold text-white tracking-tight",children:j?z.liveConnecting:z.liveActive}),a.jsx("p",{className:"text-indigo-400 font-mono text-sm animate-pulse",children:"Gemini 2.5 Live"})]}),a.jsxs("button",{onClick:E,className:"mt-8 flex items-center gap-3 px-8 py-4 bg-red-600 hover:bg-red-500 text-white rounded-full font-bold shadow-[0_0_30px_rgba(220,38,38,0.4)] transition-all hover:scale-105 active:scale-95 group",children:[a.jsx(Q2,{className:"w-6 h-6 group-hover:shake"}),z.liveEnd]})]})]}),a.jsxs("div",{className:"shrink-0 h-10 flex items-center justify-between px-4 border-b border-slate-800 bg-slate-900/80 backdrop-blur-sm z-10",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`w-2 h-2 rounded-full ${d?"bg-amber-400 animate-pulse":"bg-emerald-500"}`}),a.jsx("span",{className:"text-xs font-medium text-slate-400",children:"Gemini 3 Flash"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:E,disabled:j,className:`flex items-center gap-2 px-3 py-1 rounded-md transition-all ${j?"bg-indigo-900/50 text-indigo-400":"bg-indigo-600 hover:bg-indigo-500 text-white shadow-lg shadow-indigo-900/20"}`,title:"Live Voice Chat",children:[a.jsx(y0,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"text-xs font-bold uppercase tracking-wider hidden sm:inline",children:"Live"})]}),a.jsx("div",{className:"w-px h-4 bg-slate-800 mx-1"}),i&&a.jsx("button",{onClick:i,className:"p-1.5 rounded hover:bg-slate-800 text-slate-500 hover:text-white transition-colors",title:o.clipboardTitle||"Clipboard",children:a.jsx(Yr,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>y(!T),className:`p-1.5 rounded transition-colors ${T?"text-indigo-400 bg-indigo-900/20":"text-slate-600 hover:text-slate-400"}`,title:"Toggle Text-to-Speech",children:T?a.jsx(lr,{className:"w-4 h-4"}):a.jsx(Qa,{className:"w-4 h-4"})}),a.jsx("button",{onClick:v,className:"p-1.5 rounded hover:bg-slate-800 text-slate-600 hover:text-red-400 transition-colors",title:"Clear Chat",children:a.jsx(un,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 md:p-6 z-10 relative",children:[s.length===0?a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center opacity-50 space-y-4",children:[a.jsx("div",{className:"w-16 h-16 bg-slate-800 rounded-2xl flex items-center justify-center",children:a.jsx(Qi,{className:"w-8 h-8 text-indigo-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-300",children:z.emptyTitle}),a.jsx("p",{className:"text-sm text-slate-500 max-w-xs mx-auto mt-2",children:z.emptyDesc})]})]}):s.map(P=>a.jsx(ST,{message:P},P.id)),a.jsx("div",{ref:f})]}),a.jsxs("div",{className:"absolute bottom-20 left-1/2 -translate-x-1/2 z-30 flex flex-col-reverse items-center gap-2 pointer-events-none w-full max-w-md px-4",children:[a.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border shadow-lg backdrop-blur-md transition-all duration-300 ease-out transform ${C?"opacity-100 translate-y-0 scale-100 bg-orange-950/90 border-orange-500/50 text-orange-200 shadow-orange-500/20":"opacity-0 translate-y-4 scale-90 pointer-events-none"}`,children:[a.jsx(an,{className:"w-4 h-4 text-orange-400 animate-pulse"}),a.jsx("span",{className:"text-xs font-bold tracking-wider",children:z.statusListening})]}),a.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border shadow-lg backdrop-blur-md transition-all duration-300 ease-out transform ${S?"opacity-100 translate-y-0 scale-100 bg-sky-950/90 border-sky-500/50 text-sky-200 shadow-sky-500/20":"opacity-0 translate-y-4 scale-90 pointer-events-none absolute"}`,children:[a.jsx(kn,{className:"w-4 h-4 text-sky-400 animate-spin"}),a.jsx("span",{className:"text-xs font-bold tracking-wider",children:z.statusAnalyzing})]})]}),a.jsx("div",{className:"z-20 relative",children:a.jsx(TT,{onSend:g,onRecordToggle:m,isRecording:C,isLoading:d,placeholder:z.placeholder,value:u,onChange:c})}),N&&a.jsxs("div",{className:"absolute bottom-20 left-1/2 -translate-x-1/2 bg-red-900/90 text-red-200 px-4 py-2 rounded-lg text-sm border border-red-500/50 shadow-xl z-[60] animate-in slide-in-from-bottom-2",children:["Error: ",N]})]})},zp={ru:"Russian",en:"English","uz-latn":"Uzbek (Latin script)","uz-cyrl":"Uzbek (Cyrillic script)"},AT=async(e,t,n,r)=>{var u;if(!r)return console.error("Translation Error: API Key is missing."),"Error: No API Key.";if(!e||!e.trim())return"";const i=new ol({apiKey:r}),l=zp[t]||t,o=zp[n]||n,s=`You are a professional translator. 
    Your task is to translate text from ${l} to ${o}.
    
    STRICT RULES:
    1. Maintain the original tone, nuance, and formatting.
    2. Return ONLY the translation. Do not add introductory phrases like "Here is the translation".
    3. If the input is technically code or untranslatable, return it as is.
    `;try{return((u=(await i.models.generateContent({model:"gemini-3-flash-preview",contents:e,config:{systemInstruction:s,temperature:.3}})).text)==null?void 0:u.trim())||""}catch(c){console.error("Translation API Error:",c);let d="Error: Could not translate.";return c.message&&c.message.includes("429")?d="Error: Too many requests (429).":c.message&&c.message.includes("API key")&&(d="Error: Invalid API Key."),d}},IT=e=>{const[t,n]=w.useState(""),[r,i]=w.useState(""),[l,o]=w.useState("en"),[s,u]=w.useState("ru"),[c,d]=w.useState(!1),[f,g]=w.useState(!0),m=w.useRef(null),C=w.useCallback(async(N,E,I)=>{if(!N.trim()){i("");return}if(E===I){i(N);return}d(!0);try{const z=await AT(N,E,I,e);i(z)}catch(z){console.error("Translation Hook Error:",z),i("Error: Could not translate.")}finally{d(!1)}},[e]),S=w.useCallback((N,E=!1)=>{if(n(N),m.current&&clearTimeout(m.current),!N.trim()){i("");return}(f||E)&&(m.current=setTimeout(()=>{C(N,l,s)},800))},[f,l,s,C]),T=w.useCallback(()=>{m.current&&clearTimeout(m.current),C(t,l,s)},[t,l,s,C]),y=w.useCallback(()=>{g(N=>!N)},[]),v=w.useCallback(N=>{o(N),f&&t&&C(t,N,s)},[f,t,s,C]),x=w.useCallback(N=>{u(N),f&&t&&C(t,l,N)},[f,t,l,C]),A=w.useCallback(()=>{const N=s,E=l;o(N),u(E);const I=t,z=r;z&&z.trim().length>0?(n(z),C(z,N,E)):C(I,N,E)},[s,l,t,r,C]),j=w.useCallback(()=>{n(""),i("")},[]);return{inputText:t,setInputText:n,outputText:r,sourceLang:l,targetLang:s,isLoading:c,isLive:f,setIsLive:g,handleInputChange:S,triggerTranslation:T,toggleLive:y,changeSourceLang:v,changeTargetLang:x,swapLanguages:A,clearAll:j}},Lp=[{code:"ru",label:"Russian",flag:""},{code:"en",label:"English",flag:""},{code:"uz-latn",label:"Uzbek (Lat)",flag:""},{code:"uz-cyrl",label:"Uzbek (Cyr)",flag:""}],jT=({language:e,apiKey:t,transferRequest:n,onToggleClipboard:r})=>{const{inputText:i,setInputText:l,outputText:o,sourceLang:s,targetLang:u,isLoading:c,isLive:d,setIsLive:f,handleInputChange:g,triggerTranslation:m,toggleLive:C,changeSourceLang:S,changeTargetLang:T,swapLanguages:y,clearAll:v}=IT(t),x=tt(e),{addNotification:A}=dn(),[j,N]=Pi.useState(!1),[E,I]=Pi.useState(!1),z=w.useRef(0);w.useEffect(()=>{n&&n.target==="translator"&&n.timestamp>z.current&&(z.current=n.timestamp,l(n.text),f(!1))},[n,l,f]);const F=async(D,Z)=>{if(D)try{await navigator.clipboard.writeText(D),Z?(N(!0),setTimeout(()=>N(!1),2e3)):(I(!0),setTimeout(()=>I(!1),2e3)),A(x.clipboardCopy+"!","success")}catch{A("Failed to copy","error")}},P=({value:D,onChange:Z,exclude:Q})=>a.jsxs("div",{className:"relative group",children:[a.jsx("select",{value:D,onChange:se=>Z(se.target.value),className:"appearance-none bg-slate-800 text-slate-200 text-xs font-bold py-2 pl-3 pr-8 rounded-lg border border-slate-700 hover:border-indigo-500 hover:bg-slate-700/50 focus:outline-none focus:ring-1 focus:ring-indigo-500 transition-all cursor-pointer w-[110px] sm:w-[130px]",children:Lp.map(se=>a.jsxs("option",{value:se.code,className:"bg-slate-800 text-slate-300",children:[se.flag," ",se.label]},se.code))}),a.jsx(Jo,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-slate-500 pointer-events-none group-hover:text-indigo-400 transition-colors"})]}),_=D=>{var Z;return((Z=Lp.find(Q=>Q.code===D))==null?void 0:Z.label)||D};return a.jsxs("div",{className:"flex flex-col h-full w-full bg-slate-900 overflow-hidden select-none",children:[a.jsxs("div",{className:"shrink-0 h-16 flex items-center justify-between px-4 md:px-6 border-b border-slate-800 bg-slate-900/80 backdrop-blur-sm z-10",children:[a.jsxs("div",{className:"flex items-center gap-2 text-indigo-400 mr-2 md:mr-0",children:[a.jsx(Ga,{className:"w-5 h-5 hidden sm:block"}),a.jsx("span",{className:"font-semibold text-xs sm:text-sm tracking-wide uppercase hidden md:inline",children:x.transTitle})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(P,{value:s,onChange:S}),a.jsx("button",{onClick:y,className:"p-2 rounded-full hover:bg-slate-700 text-slate-400 hover:text-white transition-colors bg-slate-800 border border-slate-700 active:rotate-180 duration-300",title:"Swap Languages",children:a.jsx(I2,{className:"w-4 h-4"})}),a.jsx(P,{value:u,onChange:T})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Te,{content:d?e==="ru"?"- ":"Live ON":e==="ru"?"-  ()":"Live OFF (Paused)",children:a.jsx("button",{onClick:C,className:`p-2 rounded-lg transition-colors border ${d?"text-emerald-400 bg-emerald-950/30 border-emerald-900/50 hover:bg-emerald-900/50":"text-amber-400 bg-amber-950/30 border-amber-900/50 hover:bg-amber-900/50"}`,children:d?a.jsx(Pn,{className:"w-4 h-4"}):a.jsx(Xo,{className:"w-4 h-4"})})}),a.jsx("div",{className:"w-px h-6 bg-slate-800 mx-1"}),r&&a.jsx(Te,{content:x.clipboardTitle||"Clipboard",children:a.jsx("button",{onClick:r,className:"p-2 rounded-lg text-slate-500 hover:text-white hover:bg-slate-800 transition-colors",children:a.jsx(Yr,{className:"w-4 h-4"})})}),a.jsx(Te,{content:x.transClear,children:a.jsx("button",{onClick:v,disabled:!i,className:"p-2 rounded-lg text-slate-500 hover:text-red-400 hover:bg-slate-800 transition-colors disabled:opacity-30 disabled:hover:bg-transparent disabled:hover:text-slate-500",children:a.jsx(un,{className:"w-4 h-4"})})})]})]}),a.jsxs("div",{className:"flex-1 flex flex-col md:flex-col overflow-hidden",children:[a.jsxs("div",{className:"flex-1 relative border-b border-slate-800/50 bg-slate-900 p-4 md:p-6 group",children:[a.jsx("div",{className:"absolute top-3 left-6 text-[10px] font-bold text-slate-500 uppercase tracking-widest pointer-events-none",children:_(s)}),a.jsx("textarea",{value:i,onChange:D=>g(D.target.value),placeholder:x.transPlaceholder,className:"w-full h-full bg-transparent resize-none focus:outline-none text-slate-200 text-lg md:text-xl leading-relaxed placeholder:text-slate-700 pt-6 custom-scrollbar",spellCheck:!1}),i&&a.jsx("button",{onClick:()=>F(i,!0),className:"absolute top-4 right-16 p-2 rounded-lg bg-slate-800/0 text-slate-600 group-hover:bg-slate-800 group-hover:text-slate-300 transition-all opacity-0 group-hover:opacity-100",title:x.transCopy,children:j?a.jsx(dr,{className:"w-4 h-4 text-emerald-500"}):a.jsx(Qr,{className:"w-4 h-4"})}),a.jsx("div",{className:"absolute bottom-4 right-6",children:a.jsx("button",{onClick:m,disabled:c||!i,className:`
                                p-3 rounded-full shadow-lg transition-all active:scale-95 flex items-center justify-center
                                ${c?"bg-slate-800 cursor-not-allowed text-slate-500":d?"bg-indigo-600 hover:bg-indigo-500 text-white":"bg-amber-600 hover:bg-amber-500 text-white animate-pulse"}
                            `,title:e==="ru"?"":"Translate",children:c?a.jsx(Ji,{className:"w-5 h-5 animate-spin"}):a.jsx(dc,{className:"w-5 h-5"})})})]}),a.jsxs("div",{className:"flex-1 relative bg-slate-950/30 p-4 md:p-6 group",children:[a.jsxs("div",{className:"absolute top-3 left-6 flex items-center gap-2",children:[a.jsx("span",{className:"text-[10px] font-bold text-indigo-500 uppercase tracking-widest",children:_(u)}),c&&a.jsx(Ji,{className:"w-3 h-3 text-indigo-500 animate-spin"})]}),a.jsx("textarea",{value:o,readOnly:!0,placeholder:c?x.waveProcessing:d?x.transOutput:e==="ru"?"  ...":"Translation paused...",className:"w-full h-full bg-transparent resize-none focus:outline-none text-indigo-100 text-lg md:text-xl leading-relaxed placeholder:text-slate-700/50 pt-6 custom-scrollbar font-medium"}),o&&a.jsx("button",{onClick:()=>F(o,!1),className:"absolute top-4 right-6 p-2 rounded-lg bg-slate-800/50 text-slate-400 hover:bg-indigo-600 hover:text-white transition-all shadow-lg",title:x.transCopy,children:E?a.jsx(dr,{className:"w-4 h-4 text-white"}):a.jsx(Qr,{className:"w-4 h-4"})})]})]})]})},Fp="fasttype_planner_data",PT=(e,t,n=20)=>{const[r,i]=w.useState([]),[l,o]=w.useState([]),[s,u]=w.useState("note"),[c,d]=w.useState(!1),{isRecording:f,startRecording:g,stopRecording:m,autoStopCountdown:C,visualizerDataRef:S}=sc(n),T=w.useRef(0);w.useEffect(()=>{try{const P=localStorage.getItem(Fp);if(P){const _=JSON.parse(P);i(_.notes||[]),o(_.tasks||[])}}catch(P){console.error("Failed to load planner data",P)}},[]),w.useEffect(()=>{const P={notes:r,tasks:l};localStorage.setItem(Fp,JSON.stringify(P))},[r,l]);const y=w.useCallback((P="",_="")=>{const D={id:Date.now().toString()+Math.random(),title:_,content:P,timestamp:Date.now(),color:"yellow"};i(Z=>[D,...Z])},[]),v=w.useCallback((P,_,D)=>{i(Z=>Z.map(Q=>Q.id===P?{...Q,content:_,title:D??Q.title}:Q))},[]),x=w.useCallback(P=>{i(_=>_.filter(D=>D.id!==P))},[]),A=w.useCallback((P,_)=>{i(D=>D.map(Z=>Z.id===P?{...Z,color:_}:Z))},[]),j=w.useCallback(P=>{if(!P.trim())return;const _={id:Date.now().toString()+Math.random(),text:P,completed:!1,timestamp:Date.now()};o(D=>[_,...D])},[]),N=w.useCallback(P=>{o(_=>_.map(D=>D.id===P?{...D,completed:!D.completed}:D))},[]),E=w.useCallback(P=>{o(_=>_.filter(D=>D.id!==P))},[]),I=w.useCallback(()=>{o(P=>P.filter(_=>!_.completed))},[]),z=async(P,_)=>{T.current++,d(!0);try{const D=await Va(P,_,t);if(D&&D.trim()){const Z=D.trim(),Q=Z.charAt(0).toUpperCase()+Z.slice(1);s==="task"?j(Q):y(Q)}}catch(D){console.error("Planner Transcription failed",D)}finally{T.current--,T.current===0&&d(!1)}};return{notes:r,tasks:l,isRecording:f,isAnalyzing:c,dictationMode:s,setDictationMode:u,visualizerDataRef:S,autoStopCountdown:C,addNote:y,updateNote:v,deleteNote:x,setNoteColor:A,addTask:j,toggleTask:N,deleteTask:E,clearCompletedTasks:I,toggleDictation:async()=>{f?await m():await g(z)}}},Op={yellow:"bg-yellow-900/40 text-yellow-100 border-yellow-700/50 hover:border-yellow-600",blue:"bg-blue-900/40 text-blue-100 border-blue-700/50 hover:border-blue-600",green:"bg-emerald-900/40 text-emerald-100 border-emerald-700/50 hover:border-emerald-600",purple:"bg-purple-900/40 text-purple-100 border-purple-700/50 hover:border-purple-600",red:"bg-red-900/40 text-red-100 border-red-700/50 hover:border-red-600"},RT=({note:e,onUpdate:t,onDelete:n,onColorChange:r,placeholder:i})=>a.jsxs("div",{className:`
            relative p-3 rounded-xl shadow-lg border transition-all duration-300 flex flex-col gap-2 min-h-[160px] max-h-[250px]
            backdrop-blur-sm select-none
            ${Op[e.color]} hover:scale-[1.02] hover:shadow-xl hover:bg-opacity-50
        `,children:[a.jsxs("div",{className:"flex items-center justify-between opacity-60 hover:opacity-100 transition-opacity",children:[a.jsx("input",{type:"text",value:e.title,onChange:l=>t(e.id,e.content,l.target.value),placeholder:"TITLE",className:"bg-transparent border-none focus:outline-none text-xs font-bold uppercase tracking-wider w-full placeholder:text-white/20"}),a.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[a.jsx("button",{onClick:()=>{const l=Object.keys(Op),o=(l.indexOf(e.color)+1)%l.length;r(e.id,l[o])},className:"p-1.5 rounded-full hover:bg-white/10 transition-colors",title:"Change Color",children:a.jsx(T0,{className:"w-3 h-3"})}),a.jsx("button",{onClick:()=>n(e.id),className:"p-1.5 rounded-full hover:bg-red-500/20 hover:text-red-300 transition-colors",children:a.jsx(un,{className:"w-3 h-3"})})]})]}),a.jsx("textarea",{value:e.content,onChange:l=>t(e.id,l.target.value),placeholder:i,className:"w-full h-full bg-transparent resize-none border-none focus:outline-none text-sm leading-relaxed font-medium placeholder:text-white/20 custom-scrollbar select-text cursor-text",spellCheck:!1}),a.jsx("div",{className:"text-[9px] opacity-40 font-mono text-right mt-auto",children:new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),MT=({task:e,onToggle:t,onDelete:n})=>a.jsxs("div",{className:`
            group flex items-center gap-3 p-3 rounded-lg border transition-all duration-200 select-none
            ${e.completed?"bg-slate-800/30 border-slate-800 text-slate-500":"bg-slate-800/80 border-slate-700 text-slate-200 hover:border-indigo-500/30"}
        `,children:[a.jsx("button",{onClick:()=>t(e.id),className:`shrink-0 transition-colors ${e.completed?"text-emerald-500":"text-slate-400 hover:text-white"}`,children:e.completed?a.jsx(M2,{className:"w-5 h-5"}):a.jsx(fr,{className:"w-5 h-5"})}),a.jsx("span",{className:`flex-1 text-sm font-medium break-all ${e.completed?"line-through decoration-slate-600":""}`,children:e.text}),a.jsx("button",{onClick:()=>n(e.id),className:"shrink-0 p-1.5 rounded text-slate-600 hover:text-red-400 hover:bg-slate-700/50 opacity-0 group-hover:opacity-100 transition-all",children:a.jsx(un,{className:"w-4 h-4"})})]}),_T=({language:e,apiKey:t,onToggleClipboard:n})=>{const r=tt(e),{addNotification:i}=dn(),{notes:l,tasks:o,isRecording:s,isAnalyzing:u,dictationMode:c,setDictationMode:d,visualizerDataRef:f,autoStopCountdown:g,addNote:m,updateNote:C,deleteNote:S,setNoteColor:T,addTask:y,toggleTask:v,deleteTask:x,clearCompletedTasks:A,toggleDictation:j}=PT(t,e),[N,E]=w.useState(""),I={title:r.planTitle||"Notes & Tasks",newNote:r.planNewNote||"New Note",newTask:r.planNewTask||"New Task",dictateNote:r.planDictateNote||"Dictate Note",dictateTask:r.planDictateTask||"Dictate Task",clearDone:r.planClearDone||"Clear Done",emptyTasks:r.planEmptyTasks||"No tasks for today",emptyNotes:r.planEmptyNotes||"Your notes will appear here",notePlace:r.planNotePlaceholder||"Note content...",taskPlace:r.planTaskPlaceholder||"Add a task...",listening:r.visListening||"LISTENING",analyzing:r.visAnalyzing||"ANALYZING"},z=P=>{P.preventDefault(),N.trim()&&(y(N),E(""))},F=()=>{const P=l.map(_=>`[${_.title||"Note"}] ${_.content}`).join(`

`);navigator.clipboard.writeText(P),i(r.clipboardCopy+"!","success")};return a.jsxs("div",{className:"flex flex-col h-full w-full bg-slate-900 overflow-hidden relative select-none",children:[a.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none opacity-30",children:a.jsx(Xi,{visualizerDataRef:f,isRecording:s||u,visualizerStyle:"bars",amp:1,lowCut:5,highCut:60,gravity:3,mirror:!0})}),a.jsxs("div",{className:"shrink-0 h-14 flex items-center justify-between px-4 border-b border-slate-800 bg-slate-900/90 backdrop-blur-sm z-20",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("span",{className:"text-slate-200 font-bold tracking-wide flex items-center gap-2",children:[a.jsx(S0,{className:"w-5 h-5 text-indigo-400"}),I.title]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>m(),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-indigo-600 hover:bg-indigo-500 text-white text-xs font-bold transition-all shadow-lg active:scale-95",children:[a.jsx(Wa,{className:"w-3.5 h-3.5"}),I.newNote]}),a.jsx("div",{className:"w-px h-5 bg-slate-700 mx-1"}),n&&a.jsx(Te,{content:r.clipboardTitle||"Clipboard",side:"bottom",children:a.jsx("button",{onClick:n,className:"p-2 rounded-lg text-slate-500 hover:text-white hover:bg-slate-800 transition-colors",children:a.jsx(Yr,{className:"w-4 h-4"})})}),a.jsx(Te,{content:"Copy Notes",side:"bottom",children:a.jsx("button",{onClick:F,className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800",children:a.jsx(Qr,{className:"w-4 h-4"})})}),a.jsx(Te,{content:I.clearDone,side:"bottom",children:a.jsx("button",{onClick:A,className:"p-2 rounded-lg text-slate-400 hover:text-red-400 hover:bg-slate-800",children:a.jsx($a,{className:"w-4 h-4"})})})]})]}),a.jsxs("div",{className:"flex-1 flex overflow-hidden z-10 relative",children:[a.jsx("div",{className:"w-1/2 p-4 overflow-y-auto custom-scrollbar border-r border-slate-800/50 bg-slate-900/50",children:l.length===0?a.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-30 text-slate-400",children:[a.jsx(ok,{className:"w-12 h-12 mb-2"}),a.jsx("span",{className:"text-sm",children:I.emptyNotes})]}):a.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 pb-20",children:l.map(P=>a.jsx(RT,{note:P,onUpdate:C,onDelete:S,onColorChange:T,placeholder:I.notePlace},P.id))})}),a.jsxs("div",{className:"w-1/2 flex flex-col bg-slate-900/30",children:[a.jsx("form",{onSubmit:z,className:"p-4 border-b border-slate-800 bg-slate-900/50",children:a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:N,onChange:P=>E(P.target.value),placeholder:I.taskPlace,className:"w-full bg-slate-800 text-slate-200 rounded-lg pl-4 pr-10 py-3 text-sm focus:outline-none focus:ring-1 focus:ring-indigo-500 placeholder:text-slate-600"}),a.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 text-slate-400 hover:text-indigo-400 transition-colors",children:a.jsx(Wa,{className:"w-4 h-4"})})]})}),a.jsx("div",{className:"flex-1 p-4 overflow-y-auto custom-scrollbar pb-20",children:o.length===0?a.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-30 text-slate-400",children:[a.jsx($a,{className:"w-12 h-12 mb-2"}),a.jsx("span",{className:"text-sm",children:I.emptyTasks})]}):a.jsx("div",{className:"space-y-2",children:o.sort((P,_)=>Number(P.completed)-Number(_.completed)||_.timestamp-P.timestamp).map(P=>a.jsx(MT,{task:P,onToggle:v,onDelete:x},P.id))})})]})]}),a.jsxs("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 z-30 flex flex-col items-center gap-3",children:[(s||u)&&a.jsxs("div",{className:"flex items-center gap-2 animate-in slide-in-from-bottom-2 fade-in",children:[s&&a.jsxs("div",{className:"bg-red-950/80 text-red-400 px-3 py-1 rounded-full text-[10px] font-bold border border-red-500/50 shadow-lg flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),I.listening," ",g!==null&&`(${g})`]}),u&&a.jsxs("div",{className:"bg-sky-950/80 text-sky-400 px-3 py-1 rounded-full text-[10px] font-bold border border-sky-500/50 shadow-lg flex items-center gap-2",children:[a.jsx(Ji,{className:"w-3 h-3 animate-spin"}),I.analyzing]})]}),a.jsxs("div",{className:"flex items-center p-1 bg-slate-800/90 backdrop-blur border border-slate-700 rounded-full shadow-2xl",children:[a.jsxs("div",{className:"flex bg-slate-900 rounded-full p-1 mr-2",children:[a.jsx("button",{onClick:()=>d("note"),className:`px-3 py-1.5 rounded-full text-xs font-bold transition-all ${c==="note"?"bg-yellow-200 text-yellow-900 shadow-sm":"text-slate-500 hover:text-slate-300"}`,children:"Note"}),a.jsx("button",{onClick:()=>d("task"),className:`px-3 py-1.5 rounded-full text-xs font-bold transition-all ${c==="task"?"bg-indigo-200 text-indigo-900 shadow-sm":"text-slate-500 hover:text-slate-300"}`,children:"Task"})]}),a.jsx("button",{onClick:j,disabled:u&&!s,className:`
                            w-12 h-12 flex items-center justify-center rounded-full transition-all duration-300 shadow-lg border-2
                            ${s?"bg-red-500 border-red-400 text-white scale-110 shadow-red-500/40":"bg-slate-700 border-slate-600 text-slate-200 hover:bg-slate-600 hover:border-slate-500"}
                        `,children:s?a.jsx("div",{className:"w-4 h-4 bg-white rounded-sm animate-pulse"}):a.jsx(an,{className:"w-6 h-6"})})]})]})]})},Gs="fasttype_settings_v1",Ks={enabled:!0,debounceMs:700,finalizationTimeout:5e3,miniScripts:!0,fixTypos:!0,fixPunctuation:!0,clipboardEnabled:!0,silenceThreshold:15,audioModel:"gemini-2.5-flash",ttsVoice:"Puck",economyMode:!0,dictionaryCheck:!0,visualizerLowCut:0,visualizerHighCut:128,visualizerAmp:.4,visualizerStyle:"wave",visualizerNorm:!1,visualizerGravity:2,visualizerMirror:!0,developerMode:!1},DT=()=>{const[e,t]=w.useState("loading"),[n,r]=w.useState(""),[i,l]=w.useState(""),[o,s]=w.useState(!1),[u,c]=w.useState("editor"),[d,f]=w.useState("ru"),[g,m]=w.useState("idle"),[C,S]=w.useState(!1),[T,y]=w.useState({corrections:0}),[v,x]=w.useState(0),[A,j]=w.useState(!1),[N,E]=w.useState(()=>{try{const $=localStorage.getItem(Gs);if($)return{...Ks,...JSON.parse($)}}catch($){console.warn("Failed to load settings",$)}return Ks});w.useEffect(()=>{localStorage.setItem(Gs,JSON.stringify(N))},[N]);const[I,z]=w.useState(!1),[F,P]=w.useState(!1),[_,D]=w.useState(!1),[Z,Q]=w.useState(!1),[se,W]=w.useState(!1),[H,Y]=w.useState(()=>{try{const $=localStorage.getItem("fasttype_clipboard");return $?JSON.parse($):[]}catch{return[]}}),[k,R]=w.useState([]);w.useEffect(()=>{localStorage.setItem("fasttype_clipboard",JSON.stringify(H))},[H]);const[L,b]=w.useState(null);w.useEffect(()=>{if(window.require)try{const $=window.require("electron");b($.ipcRenderer)}catch{console.log("Electron not found (likely in browser mode)")}},[]),w.useEffect(()=>{(async()=>{const we=y2(),Oe=new Promise(Qe=>setTimeout(Qe,2e3)),$t=localStorage.getItem("gemini_api_key")||"";r($t);const Dt=localStorage.getItem("fasttype_lock_code");Dt&&(l(Dt),s(!0)),await Promise.all([Oe,we]),t("welcome")})()},[]);const M=w.useCallback($=>{localStorage.setItem("gemini_api_key",$),_f($),c("editor"),m("idle"),t("app")},[]),O=w.useCallback($=>{localStorage.setItem("gemini_api_key",$),_f($),r($)},[]),G=w.useCallback(()=>{i&&s(!0),t("welcome"),z(!1),P(!1),Q(!1),D(!1),W(!1),c("editor")},[i]),V=w.useCallback($=>{localStorage.setItem("fasttype_lock_code",$),l($),s(!1)},[]),ae=w.useCallback(()=>{localStorage.removeItem("fasttype_lock_code"),l(""),s(!1)},[]),ie=w.useCallback($=>$===i,[i]),oe=w.useCallback(()=>(localStorage.removeItem("fasttype_lock_code"),l(""),s(!1),localStorage.removeItem("fasttype_clipboard"),Y([]),y({corrections:0}),s(!1),localStorage.removeItem("fasttype_editor_state_v2"),E(Ks),localStorage.removeItem(Gs),R([]),!0),[]),q=w.useCallback($=>$===i?(s(!1),!0):!1,[i]),B=w.useCallback(()=>{localStorage.removeItem("gemini_api_key"),r(""),z(!1),t("welcome")},[]),X=w.useCallback(()=>{y($=>({corrections:$.corrections+1}))},[]),ce=w.useCallback(()=>{f($=>$==="ru"?"uz-latn":$==="uz-latn"?"uz-cyrl":$==="uz-cyrl"?"en":"ru")},[]),pe=w.useCallback(()=>{z($=>!$),P(!1),Q(!1),D(!1),W(!1)},[]),ke=w.useCallback(()=>{P($=>!$),z(!1),Q(!1),D(!1),W(!1)},[]),re=w.useCallback(()=>{D($=>!$),P(!1),z(!1),Q(!1),W(!1)},[]),ye=w.useCallback(()=>{Q($=>!$),z(!1),P(!1),D(!1),W(!1)},[]),ve=w.useCallback(()=>{W($=>!$),z(!1),P(!1),D(!1),Q(!1)},[]),J=w.useCallback(()=>{P(!1),z(!1),Q(!1),D(!1),W(!1)},[]),le=w.useCallback($=>{!N.clipboardEnabled||!$||Y(we=>[{id:Math.random().toString(36).substring(7),text:$,timestamp:Date.now()},...we].slice(0,50))},[N.clipboardEnabled]),ge=w.useCallback($=>{Y([])},[]),de=w.useCallback($=>{R(we=>[$,...we].slice(0,20))},[]),xe=w.useCallback($=>{R(we=>we.filter(Oe=>Oe.id!==$))},[]),me=w.useCallback(()=>{R([])},[]),U=w.useCallback(()=>{x($=>$+1),E($=>({...$,enabled:!0,miniScripts:!0,fixTypos:!0,fixPunctuation:!0,dictionaryCheck:!0})),m("idle")},[]),K=w.useCallback(()=>{E($=>$.enabled?(m("paused"),{...$,enabled:!1}):(m("idle"),{...$,enabled:!0,fixTypos:!0,fixPunctuation:!0,dictionaryCheck:!0}))},[]),ue=w.useCallback(()=>{const $=!A;j($),L&&L.send("window-toggle-always-on-top",$)},[A,L]),fe=w.useCallback($=>{L&&L.send(`window-${$}`)},[L]);return w.useEffect(()=>{const $=we=>{if(we.code==="F1"){we.preventDefault(),ye();return}if(we.code==="Home"){const Oe=we.target;if(!(Oe.tagName==="TEXTAREA"||Oe.tagName==="INPUT"||Oe.isContentEditable)){we.preventDefault(),G();return}}if(we.ctrlKey||we.metaKey)switch(we.code){case"Digit1":we.preventDefault(),c("editor");break;case"Digit2":we.preventDefault(),c("chat");break;case"Digit3":we.preventDefault(),c("translator");break;case"Digit4":we.preventDefault(),c("planner");break}if(we.altKey)switch(we.code){case"KeyS":we.preventDefault(),pe();break;case"KeyV":we.preventDefault(),ke();break;case"KeyH":we.preventDefault(),re();break}};return window.addEventListener("keydown",$),()=>window.removeEventListener("keydown",$)},[pe,ke,ye,re,G]),{state:{appState:e,storedKey:n,language:d,status:g,isGrammarChecking:C,stats:T,settings:N,showSettings:I,showClipboard:F,showHistory:_,showHelp:Z,showAudioArchive:se,clipboardHistory:H,audioArchive:k,resetSignal:v,isLocked:o,hasLock:!!i,currentTab:u,isPinned:A},actions:{setLanguage:f,setStatus:m,setIsGrammarChecking:S,setSettings:E,setAppState:t,handleStartApp:M,handleReturnToWelcome:G,handleResetKey:B,handleUpdateKey:O,incrementStats:X,toggleLanguage:ce,toggleSettings:pe,toggleClipboard:ke,toggleHistory:re,toggleHelp:ye,toggleAudioArchive:ve,closeOverlays:J,handleClipboardAction:le,handleClearClipboard:ge,handleAddToAudioArchive:de,handleRemoveFromAudioArchive:xe,handleClearAudioArchive:me,handleWindowControl:fe,handleResetProcessor:U,handleSetLock:V,handleRemoveLock:ae,handleUnlock:q,validatePin:ie,setCurrentTab:c,handleToggleProcessing:K,handleTogglePin:ue,handleWipeData:oe}}};function zT(){const{state:e,actions:t}=DT(),{addNotification:n}=dn(),r=tt(e.language),[i,l]=w.useState(!0),[o,s]=w.useState(!1),[u,c]=w.useState(!1);w.useEffect(()=>{e.appState!=="loading"&&(s(!0),setTimeout(()=>{c(!0)},500),setTimeout(()=>{l(!1)},1200))},[e.appState]);const[d,f]=w.useState(!1),[g,m]=w.useState(!1),[C,S]=w.useState(!1);w.useEffect(()=>{e.appState==="app"?requestAnimationFrame(()=>{requestAnimationFrame(()=>{S(!0)})}):S(!1)},[e.appState]);const[T,y]=w.useState(0),v=w.useRef(null),[x,A]=w.useState(null);w.useEffect(()=>{const k=R=>{var L,b,M,O,G;if(!(e.appState!=="app"||e.currentTab!=="editor")&&R.altKey&&!R.ctrlKey&&!R.shiftKey)switch(R.code){case"Digit1":R.preventDefault(),(L=v.current)==null||L.cut();break;case"Digit2":R.preventDefault(),(b=v.current)==null||b.copy();break;case"Digit3":R.preventDefault(),(M=v.current)==null||M.paste();break;case"Digit4":R.preventDefault(),(O=v.current)==null||O.clearAndPaste();break;case"Digit5":R.preventDefault(),(G=v.current)==null||G.clear();break}};return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[e.appState,e.currentTab]);const j=w.useCallback(()=>{y(k=>k+1)},[]),N=k=>{m(!0),setTimeout(()=>{t.handleStartApp(k),m(!1)},600)},E=()=>{f(!0),setTimeout(()=>{t.handleReturnToWelcome(),f(!1)},500)},I=w.useCallback(()=>{var k;(k=v.current)==null||k.clear()},[]),z=w.useCallback(()=>{var k;(k=v.current)==null||k.copy()},[]),F=w.useCallback(()=>{var k;(k=v.current)==null||k.paste()},[]),P=w.useCallback(()=>{var k;(k=v.current)==null||k.cut()},[]),_=w.useCallback(()=>{var k;(k=v.current)==null||k.clearAndPaste()},[]),D=w.useCallback(()=>{var R;const k=(R=v.current)==null?void 0:R.getText();k&&k.trim()&&(A({text:k,target:"chat",timestamp:Date.now()}),t.setCurrentTab("chat"))},[t]),Z=w.useCallback(()=>{var R;const k=(R=v.current)==null?void 0:R.getText();k&&k.trim()&&(A({text:k,target:"translator",timestamp:Date.now()}),t.setCurrentTab("translator"))},[t]),Q=w.useCallback(async()=>{var R;const k=(R=v.current)==null?void 0:R.getText();if(!(!k||!k.trim())){t.setStatus("speaking"),n(e.language==="ru"?"...":"Generating Speech...","info");try{const L=await n2(k,e.settings.ttsVoice);L&&t.handleAddToAudioArchive({id:Date.now().toString(),text:k.substring(0,100)+(k.length>100?"...":""),base64Audio:L,voice:e.settings.ttsVoice,timestamp:Date.now()})}catch(L){console.error("Failed to speak",L),n(e.language==="ru"?" ":"Speech generation failed","error")}finally{t.setStatus(e.settings.enabled?"idle":"paused")}}},[e.settings.ttsVoice,e.settings.enabled,t,n,e.language]),se=w.useCallback(()=>{t.handleWipeData(),v.current&&v.current.fullWipe()},[t]),H=["editor","chat","translator","planner"].indexOf(e.currentTab),Y=k=>{const R=k===H,L="absolute inset-0 w-full h-full flex flex-col transition-[opacity,transform,filter] duration-500 ease-[cubic-bezier(0.25,1,0.5,1)] will-change-transform backface-hidden";return R?`${L} opacity-100 scale-100 blur-0 z-10 pointer-events-auto`:`${L} opacity-0 scale-90 blur-sm z-0 pointer-events-none grayscale brightness-50`};return a.jsxs(a.Fragment,{children:[i&&a.jsx(wk,{isExiting:o}),e.appState==="welcome"&&a.jsxs("div",{className:`fixed inset-0 z-0 w-full h-full transition-all duration-1000 ease-out ${u?"opacity-100 blur-0 scale-100":"opacity-0 blur-lg scale-95"}`,children:[a.jsx(vk,{initialKey:e.storedKey,onStart:N,language:e.language,setLanguage:t.setLanguage,isLocked:e.isLocked,hasLock:e.hasLock,onUnlock:t.handleUnlock,onSetLock:t.handleSetLock,isExiting:g,onWindowControl:t.handleWindowControl,onWipeData:se}),a.jsx($f,{})]}),e.appState==="app"&&a.jsxs("div",{className:`fixed inset-0 w-full h-full flex flex-col bg-slate-950 text-slate-200 overflow-hidden transition-[opacity,transform,filter] duration-1000 ease-[cubic-bezier(0.16,1,0.3,1)] supports-[height:100dvh]:h-[100dvh] ${u?d?"opacity-0 scale-90 blur-xl brightness-50":C?"opacity-100 scale-100 blur-0 brightness-100":"opacity-0 scale-95 blur-md brightness-50":"opacity-0 scale-95 blur-md brightness-50"}`,children:[a.jsx(Sk,{language:e.language,status:e.status,isGrammarChecking:e.isGrammarChecking,stats:e.stats,settings:e.settings,showClipboard:e.showClipboard,showSettings:e.showSettings,showHistory:e.showHistory,currentTab:e.currentTab,setCurrentTab:t.setCurrentTab,isPinned:e.isPinned,onTogglePin:t.handleTogglePin,onSetLanguage:t.setLanguage,onTogglePause:t.handleToggleProcessing,onToggleClipboard:t.toggleClipboard,onToggleSettings:t.toggleSettings,onToggleHistory:t.toggleHistory,onToggleHelp:t.toggleHelp,onGoHome:E,onWindowControl:t.handleWindowControl,onResetProcessor:t.handleResetProcessor,historyUpdateCount:T,onClearText:I,onCopyText:z,onPasteText:F,onCutText:P,onClearAndPaste:_,onUpdateSettings:t.setSettings,onSendToChat:D,onSendToTranslator:Z,onSpeakText:Q,onToggleArchive:t.toggleAudioArchive,showArchive:e.showAudioArchive}),a.jsx($f,{}),a.jsx(Ak,{isOpen:e.showHelp,onClose:()=>t.toggleHelp(),language:e.language}),a.jsx("div",{className:"relative z-40 w-full h-0",children:a.jsx("div",{className:`absolute top-0 left-0 w-full transform transition-[transform,opacity] duration-500 ease-[cubic-bezier(0.32,0.72,0,1)] ${e.showSettings?"translate-y-0 opacity-100 shadow-2xl pointer-events-auto":"-translate-y-full opacity-0 pointer-events-none"}`,children:a.jsx(Ek,{settings:e.settings,language:e.language,onUpdateSettings:t.setSettings,onResetKey:t.handleResetKey,onUpdateApiKey:t.handleUpdateKey,hasLock:e.hasLock,onRemoveLock:t.handleRemoveLock,onSetLock:t.handleSetLock,onClose:t.toggleSettings,isVisible:e.showSettings,onVerifyPin:t.validatePin})})}),a.jsxs("main",{className:"flex-1 relative bg-slate-900 w-full h-full overflow-hidden z-0",children:[a.jsx(kk,{items:e.clipboardHistory,isOpen:e.showClipboard,isEnabled:e.settings.clipboardEnabled,onToggleEnabled:()=>t.setSettings(k=>({...k,clipboardEnabled:!k.clipboardEnabled})),onClose:t.closeOverlays,onClear:t.handleClearClipboard,language:e.language}),a.jsx(Ck,{items:e.audioArchive,isOpen:e.showAudioArchive,onClose:t.closeOverlays,onRemove:t.handleRemoveFromAudioArchive,onClear:t.handleClearAudioArchive,language:e.language}),a.jsx("div",{className:Y(0),children:a.jsx(gk,{ref:v,settings:e.settings,onStatsUpdate:t.incrementStats,language:e.language,status:e.status,onStatusChange:t.setStatus,setIsGrammarChecking:t.setIsGrammarChecking,onClipboardAction:t.handleClipboardAction,resetSignal:e.resetSignal,showHistory:e.showHistory,onToggleHistory:t.toggleHistory,onPauseProcessing:()=>t.setSettings(k=>({...k,enabled:!1})),onToggleProcessing:t.handleToggleProcessing,onInteraction:t.closeOverlays,onHistoryUpdate:j,showClipboard:e.showClipboard,onToggleClipboard:t.toggleClipboard})}),a.jsx("div",{className:Y(1),children:a.jsx(ET,{language:e.language,apiKey:e.storedKey,settings:e.settings,transferRequest:x,onToggleClipboard:t.toggleClipboard})}),a.jsx("div",{className:Y(2),children:a.jsx(jT,{language:e.language,apiKey:e.storedKey,transferRequest:x,onToggleClipboard:t.toggleClipboard})}),a.jsx("div",{className:Y(3),children:a.jsx(_T,{language:e.language,apiKey:e.storedKey,onToggleClipboard:t.toggleClipboard})})]}),a.jsxs("footer",{className:"shrink-0 py-1 text-center text-slate-700 text-[10px] bg-slate-900 border-t border-slate-800 select-none z-50 relative",children:[" ",r.footer,e.currentTab==="chat"&&"  Assistant Mode",e.currentTab==="translator"&&"  Translator",e.currentTab==="planner"&&"  Planner"]})]})]})}const cg=document.getElementById("root");if(!cg)throw new Error("Could not find root element to mount to");const LT=Ws.createRoot(cg);LT.render(a.jsx(Pi.StrictMode,{children:a.jsx(c2,{children:a.jsx(zT,{})})}));
