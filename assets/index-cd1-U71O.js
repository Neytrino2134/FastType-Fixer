(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Io=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function va(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Mf={exports:{}},nl={},Rf={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _i=Symbol.for("react.element"),og=Symbol.for("react.portal"),lg=Symbol.for("react.fragment"),sg=Symbol.for("react.strict_mode"),ag=Symbol.for("react.profiler"),ug=Symbol.for("react.provider"),cg=Symbol.for("react.context"),dg=Symbol.for("react.forward_ref"),fg=Symbol.for("react.suspense"),pg=Symbol.for("react.memo"),hg=Symbol.for("react.lazy"),Du=Symbol.iterator;function mg(e){return e===null||typeof e!="object"?null:(e=Du&&e[Du]||e["@@iterator"],typeof e=="function"?e:null)}var Lf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Df=Object.assign,zf={};function Er(e,t,n){this.props=e,this.context=t,this.refs=zf,this.updater=n||Lf}Er.prototype.isReactComponent={};Er.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Er.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ff(){}Ff.prototype=Er.prototype;function wa(e,t,n){this.props=e,this.context=t,this.refs=zf,this.updater=n||Lf}var ka=wa.prototype=new Ff;ka.constructor=wa;Df(ka,Er.prototype);ka.isPureReactComponent=!0;var zu=Array.isArray,Of=Object.prototype.hasOwnProperty,Ca={current:null},jf={key:!0,ref:!0,__self:!0,__source:!0};function Uf(e,t,n){var r,i={},o=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(o=""+t.key),t)Of.call(t,r)&&!jf.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),u=0;u<s;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:_i,type:e,key:o,ref:l,props:i,_owner:Ca.current}}function gg(e,t){return{$$typeof:_i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Sa(e){return typeof e=="object"&&e!==null&&e.$$typeof===_i}function yg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Fu=/\/+/g;function Nl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?yg(""+e.key):t.toString(36)}function ao(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case _i:case og:l=!0}}if(l)return l=e,i=i(l),e=r===""?"."+Nl(l,0):r,zu(i)?(n="",e!=null&&(n=e.replace(Fu,"$&/")+"/"),ao(i,t,n,"",function(u){return u})):i!=null&&(Sa(i)&&(i=gg(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(Fu,"$&/")+"/")+e)),t.push(i)),1;if(l=0,r=r===""?".":r+":",zu(e))for(var s=0;s<e.length;s++){o=e[s];var a=r+Nl(o,s);l+=ao(o,t,n,a,i)}else if(a=mg(e),typeof a=="function")for(e=a.call(e),s=0;!(o=e.next()).done;)o=o.value,a=r+Nl(o,s++),l+=ao(o,t,n,a,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function ji(e,t,n){if(e==null)return e;var r=[],i=0;return ao(e,r,"","",function(o){return t.call(n,o,i++)}),r}function xg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var qe={current:null},uo={transition:null},vg={ReactCurrentDispatcher:qe,ReactCurrentBatchConfig:uo,ReactCurrentOwner:Ca};function Vf(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:ji,forEach:function(e,t,n){ji(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ji(e,function(){t++}),t},toArray:function(e){return ji(e,function(t){return t})||[]},only:function(e){if(!Sa(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};oe.Component=Er;oe.Fragment=lg;oe.Profiler=ag;oe.PureComponent=wa;oe.StrictMode=sg;oe.Suspense=fg;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vg;oe.act=Vf;oe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Df({},e.props),i=e.key,o=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,l=Ca.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(a in t)Of.call(t,a)&&!jf.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&s!==void 0?s[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){s=Array(a);for(var u=0;u<a;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:_i,type:e.type,key:i,ref:o,props:r,_owner:l}};oe.createContext=function(e){return e={$$typeof:cg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ug,_context:e},e.Consumer=e};oe.createElement=Uf;oe.createFactory=function(e){var t=Uf.bind(null,e);return t.type=e,t};oe.createRef=function(){return{current:null}};oe.forwardRef=function(e){return{$$typeof:dg,render:e}};oe.isValidElement=Sa;oe.lazy=function(e){return{$$typeof:hg,_payload:{_status:-1,_result:e},_init:xg}};oe.memo=function(e,t){return{$$typeof:pg,type:e,compare:t===void 0?null:t}};oe.startTransition=function(e){var t=uo.transition;uo.transition={};try{e()}finally{uo.transition=t}};oe.unstable_act=Vf;oe.useCallback=function(e,t){return qe.current.useCallback(e,t)};oe.useContext=function(e){return qe.current.useContext(e)};oe.useDebugValue=function(){};oe.useDeferredValue=function(e){return qe.current.useDeferredValue(e)};oe.useEffect=function(e,t){return qe.current.useEffect(e,t)};oe.useId=function(){return qe.current.useId()};oe.useImperativeHandle=function(e,t,n){return qe.current.useImperativeHandle(e,t,n)};oe.useInsertionEffect=function(e,t){return qe.current.useInsertionEffect(e,t)};oe.useLayoutEffect=function(e,t){return qe.current.useLayoutEffect(e,t)};oe.useMemo=function(e,t){return qe.current.useMemo(e,t)};oe.useReducer=function(e,t,n){return qe.current.useReducer(e,t,n)};oe.useRef=function(e){return qe.current.useRef(e)};oe.useState=function(e){return qe.current.useState(e)};oe.useSyncExternalStore=function(e,t,n){return qe.current.useSyncExternalStore(e,t,n)};oe.useTransition=function(){return qe.current.useTransition()};oe.version="18.3.1";Rf.exports=oe;var b=Rf.exports;const Hf=va(b);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wg=b,kg=Symbol.for("react.element"),Cg=Symbol.for("react.fragment"),Sg=Object.prototype.hasOwnProperty,Eg=wg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tg={key:!0,ref:!0,__self:!0,__source:!0};function Bf(e,t,n){var r,i={},o=null,l=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Sg.call(t,r)&&!Tg.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:kg,type:e,key:o,ref:l,props:i,_owner:Eg.current}}nl.Fragment=Cg;nl.jsx=Bf;nl.jsxs=Bf;Mf.exports=nl;var h=Mf.exports,cs={},$f={exports:{}},pt={},qf={exports:{}},Gf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,U){var k=z.length;z.push(U);e:for(;0<k;){var G=k-1>>>1,J=z[G];if(0<i(J,U))z[G]=U,z[k]=J,k=G;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var U=z[0],k=z.pop();if(k!==U){z[0]=k;e:for(var G=0,J=z.length,S=J>>>1;G<S;){var re=2*(G+1)-1,ee=z[re],Z=re+1,ie=z[Z];if(0>i(ee,k))Z<J&&0>i(ie,ee)?(z[G]=ie,z[Z]=k,G=Z):(z[G]=ee,z[re]=k,G=re);else if(Z<J&&0>i(ie,k))z[G]=ie,z[Z]=k,G=Z;else break e}}return U}function i(z,U){var k=z.sortIndex-U.sortIndex;return k!==0?k:z.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,s=l.now();e.unstable_now=function(){return l.now()-s}}var a=[],u=[],c=1,p=null,g=3,m=!1,w=!1,C=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(z){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=z)r(u),U.sortIndex=U.expirationTime,t(a,U);else break;U=n(u)}}function T(z){if(C=!1,v(z),!w)if(n(a)!==null)w=!0,W(N);else{var U=n(u);U!==null&&Q(T,U.startTime-z)}}function N(z,U){w=!1,C&&(C=!1,y(P),P=-1),m=!0;var k=g;try{for(v(U),p=n(a);p!==null&&(!(p.expirationTime>U)||z&&!A());){var G=p.callback;if(typeof G=="function"){p.callback=null,g=p.priorityLevel;var J=G(p.expirationTime<=U);U=e.unstable_now(),typeof J=="function"?p.callback=J:p===n(a)&&r(a),v(U)}else r(a);p=n(a)}if(p!==null)var S=!0;else{var re=n(u);re!==null&&Q(T,re.startTime-U),S=!1}return S}finally{p=null,g=k,m=!1}}var E=!1,I=null,P=-1,M=5,R=-1;function A(){return!(e.unstable_now()-R<M)}function D(){if(I!==null){var z=e.unstable_now();R=z;var U=!0;try{U=I(!0,z)}finally{U?F():(E=!1,I=null)}}else E=!1}var F;if(typeof x=="function")F=function(){x(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,j=B.port2;B.port1.onmessage=D,F=function(){j.postMessage(null)}}else F=function(){_(D,0)};function W(z){I=z,E||(E=!0,F())}function Q(z,U){P=_(function(){z(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){w||m||(w=!0,W(N))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(z){switch(g){case 1:case 2:case 3:var U=3;break;default:U=g}var k=g;g=U;try{return z()}finally{g=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,U){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var k=g;g=z;try{return U()}finally{g=k}},e.unstable_scheduleCallback=function(z,U,k){var G=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?G+k:G):k=G,z){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=k+J,z={id:c++,callback:U,priorityLevel:z,startTime:k,expirationTime:J,sortIndex:-1},k>G?(z.sortIndex=k,t(u,z),n(a)===null&&z===n(u)&&(C?(y(P),P=-1):C=!0,Q(T,k-G))):(z.sortIndex=J,t(a,z),w||m||(w=!0,W(N))),z},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(z){var U=g;return function(){var k=g;g=U;try{return z.apply(this,arguments)}finally{g=k}}}})(Gf);qf.exports=Gf;var Ng=qf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ig=b,dt=Ng;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wf=new Set,ai={};function Hn(e,t){gr(e,t),gr(e+"Capture",t)}function gr(e,t){for(ai[e]=t,e=0;e<t.length;e++)Wf.add(t[e])}var Qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ds=Object.prototype.hasOwnProperty,_g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ou={},ju={};function bg(e){return ds.call(ju,e)?!0:ds.call(Ou,e)?!1:_g.test(e)?ju[e]=!0:(Ou[e]=!0,!1)}function Pg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ag(e,t,n,r){if(t===null||typeof t>"u"||Pg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ge(e,t,n,r,i,o,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}var ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ze[e]=new Ge(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ze[t]=new Ge(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ze[e]=new Ge(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ze[e]=new Ge(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ze[e]=new Ge(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ze[e]=new Ge(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ze[e]=new Ge(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ze[e]=new Ge(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ze[e]=new Ge(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ea=/[\-:]([a-z])/g;function Ta(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ea,Ta);ze[t]=new Ge(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ea,Ta);ze[t]=new Ge(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ea,Ta);ze[t]=new Ge(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ze[e]=new Ge(e,1,!1,e.toLowerCase(),null,!1,!1)});ze.xlinkHref=new Ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ze[e]=new Ge(e,1,!1,e.toLowerCase(),null,!0,!0)});function Na(e,t,n,r){var i=ze.hasOwnProperty(t)?ze[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ag(t,n,i,r)&&(n=null),r||i===null?bg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var en=Ig.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ui=Symbol.for("react.element"),Yn=Symbol.for("react.portal"),Qn=Symbol.for("react.fragment"),Ia=Symbol.for("react.strict_mode"),fs=Symbol.for("react.profiler"),Kf=Symbol.for("react.provider"),Yf=Symbol.for("react.context"),_a=Symbol.for("react.forward_ref"),ps=Symbol.for("react.suspense"),hs=Symbol.for("react.suspense_list"),ba=Symbol.for("react.memo"),ln=Symbol.for("react.lazy"),Qf=Symbol.for("react.offscreen"),Uu=Symbol.iterator;function Lr(e){return e===null||typeof e!="object"?null:(e=Uu&&e[Uu]||e["@@iterator"],typeof e=="function"?e:null)}var ke=Object.assign,Il;function qr(e){if(Il===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Il=t&&t[1]||""}return`
`+Il+e}var _l=!1;function bl(e,t){if(!e||_l)return"";_l=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),l=i.length-1,s=o.length-1;1<=l&&0<=s&&i[l]!==o[s];)s--;for(;1<=l&&0<=s;l--,s--)if(i[l]!==o[s]){if(l!==1||s!==1)do if(l--,s--,0>s||i[l]!==o[s]){var a=`
`+i[l].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=l&&0<=s);break}}}finally{_l=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?qr(e):""}function Mg(e){switch(e.tag){case 5:return qr(e.type);case 16:return qr("Lazy");case 13:return qr("Suspense");case 19:return qr("SuspenseList");case 0:case 2:case 15:return e=bl(e.type,!1),e;case 11:return e=bl(e.type.render,!1),e;case 1:return e=bl(e.type,!0),e;default:return""}}function ms(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qn:return"Fragment";case Yn:return"Portal";case fs:return"Profiler";case Ia:return"StrictMode";case ps:return"Suspense";case hs:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Yf:return(e.displayName||"Context")+".Consumer";case Kf:return(e._context.displayName||"Context")+".Provider";case _a:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ba:return t=e.displayName||null,t!==null?t:ms(e.type)||"Memo";case ln:t=e._payload,e=e._init;try{return ms(e(t))}catch{}}return null}function Rg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ms(t);case 8:return t===Ia?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function wn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Lg(e){var t=Jf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vi(e){e._valueTracker||(e._valueTracker=Lg(e))}function Xf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Jf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function _o(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function gs(e,t){var n=t.checked;return ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Vu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=wn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Zf(e,t){t=t.checked,t!=null&&Na(e,"checked",t,!1)}function ys(e,t){Zf(e,t);var n=wn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xs(e,t.type,n):t.hasOwnProperty("defaultValue")&&xs(e,t.type,wn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Hu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function xs(e,t,n){(t!=="number"||_o(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Gr=Array.isArray;function sr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+wn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function vs(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Bu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(V(92));if(Gr(n)){if(1<n.length)throw Error(V(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:wn(n)}}function ep(e,t){var n=wn(t.value),r=wn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function $u(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function tp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ws(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?tp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hi,np=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hi=Hi||document.createElement("div"),Hi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ui(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Qr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dg=["Webkit","ms","Moz","O"];Object.keys(Qr).forEach(function(e){Dg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qr[t]=Qr[e]})});function rp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Qr.hasOwnProperty(e)&&Qr[e]?(""+t).trim():t+"px"}function ip(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=rp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var zg=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ks(e,t){if(t){if(zg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function Cs(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ss=null;function Pa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Es=null,ar=null,ur=null;function qu(e){if(e=Ai(e)){if(typeof Es!="function")throw Error(V(280));var t=e.stateNode;t&&(t=sl(t),Es(e.stateNode,e.type,t))}}function op(e){ar?ur?ur.push(e):ur=[e]:ar=e}function lp(){if(ar){var e=ar,t=ur;if(ur=ar=null,qu(e),t)for(e=0;e<t.length;e++)qu(t[e])}}function sp(e,t){return e(t)}function ap(){}var Pl=!1;function up(e,t,n){if(Pl)return e(t,n);Pl=!0;try{return sp(e,t,n)}finally{Pl=!1,(ar!==null||ur!==null)&&(ap(),lp())}}function ci(e,t){var n=e.stateNode;if(n===null)return null;var r=sl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(V(231,t,typeof n));return n}var Ts=!1;if(Qt)try{var Dr={};Object.defineProperty(Dr,"passive",{get:function(){Ts=!0}}),window.addEventListener("test",Dr,Dr),window.removeEventListener("test",Dr,Dr)}catch{Ts=!1}function Fg(e,t,n,r,i,o,l,s,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Jr=!1,bo=null,Po=!1,Ns=null,Og={onError:function(e){Jr=!0,bo=e}};function jg(e,t,n,r,i,o,l,s,a){Jr=!1,bo=null,Fg.apply(Og,arguments)}function Ug(e,t,n,r,i,o,l,s,a){if(jg.apply(this,arguments),Jr){if(Jr){var u=bo;Jr=!1,bo=null}else throw Error(V(198));Po||(Po=!0,Ns=u)}}function Bn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function cp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Gu(e){if(Bn(e)!==e)throw Error(V(188))}function Vg(e){var t=e.alternate;if(!t){if(t=Bn(e),t===null)throw Error(V(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Gu(i),e;if(o===r)return Gu(i),t;o=o.sibling}throw Error(V(188))}if(n.return!==r.return)n=i,r=o;else{for(var l=!1,s=i.child;s;){if(s===n){l=!0,n=i,r=o;break}if(s===r){l=!0,r=i,n=o;break}s=s.sibling}if(!l){for(s=o.child;s;){if(s===n){l=!0,n=o,r=i;break}if(s===r){l=!0,r=o,n=i;break}s=s.sibling}if(!l)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?e:t}function dp(e){return e=Vg(e),e!==null?fp(e):null}function fp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fp(e);if(t!==null)return t;e=e.sibling}return null}var pp=dt.unstable_scheduleCallback,Wu=dt.unstable_cancelCallback,Hg=dt.unstable_shouldYield,Bg=dt.unstable_requestPaint,Ee=dt.unstable_now,$g=dt.unstable_getCurrentPriorityLevel,Aa=dt.unstable_ImmediatePriority,hp=dt.unstable_UserBlockingPriority,Ao=dt.unstable_NormalPriority,qg=dt.unstable_LowPriority,mp=dt.unstable_IdlePriority,rl=null,Ut=null;function Gg(e){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(rl,e,void 0,(e.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:Yg,Wg=Math.log,Kg=Math.LN2;function Yg(e){return e>>>=0,e===0?32:31-(Wg(e)/Kg|0)|0}var Bi=64,$i=4194304;function Wr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Mo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,l=n&268435455;if(l!==0){var s=l&~i;s!==0?r=Wr(s):(o&=l,o!==0&&(r=Wr(o)))}else l=n&~i,l!==0?r=Wr(l):o!==0&&(r=Wr(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Pt(t),i=1<<n,r|=e[n],t&=~i;return r}function Qg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jg(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-Pt(o),s=1<<l,a=i[l];a===-1?(!(s&n)||s&r)&&(i[l]=Qg(s,t)):a<=t&&(e.expiredLanes|=s),o&=~s}}function Is(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gp(){var e=Bi;return Bi<<=1,!(Bi&4194240)&&(Bi=64),e}function Al(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function bi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pt(t),e[t]=n}function Xg(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Pt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Ma(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Pt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var de=0;function yp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var xp,Ra,vp,wp,kp,_s=!1,qi=[],fn=null,pn=null,hn=null,di=new Map,fi=new Map,an=[],Zg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ku(e,t){switch(e){case"focusin":case"focusout":fn=null;break;case"dragenter":case"dragleave":pn=null;break;case"mouseover":case"mouseout":hn=null;break;case"pointerover":case"pointerout":di.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fi.delete(t.pointerId)}}function zr(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Ai(t),t!==null&&Ra(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function e0(e,t,n,r,i){switch(t){case"focusin":return fn=zr(fn,e,t,n,r,i),!0;case"dragenter":return pn=zr(pn,e,t,n,r,i),!0;case"mouseover":return hn=zr(hn,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return di.set(o,zr(di.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,fi.set(o,zr(fi.get(o)||null,e,t,n,r,i)),!0}return!1}function Cp(e){var t=Mn(e.target);if(t!==null){var n=Bn(t);if(n!==null){if(t=n.tag,t===13){if(t=cp(n),t!==null){e.blockedOn=t,kp(e.priority,function(){vp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function co(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=bs(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ss=r,n.target.dispatchEvent(r),Ss=null}else return t=Ai(n),t!==null&&Ra(t),e.blockedOn=n,!1;t.shift()}return!0}function Yu(e,t,n){co(e)&&n.delete(t)}function t0(){_s=!1,fn!==null&&co(fn)&&(fn=null),pn!==null&&co(pn)&&(pn=null),hn!==null&&co(hn)&&(hn=null),di.forEach(Yu),fi.forEach(Yu)}function Fr(e,t){e.blockedOn===t&&(e.blockedOn=null,_s||(_s=!0,dt.unstable_scheduleCallback(dt.unstable_NormalPriority,t0)))}function pi(e){function t(i){return Fr(i,e)}if(0<qi.length){Fr(qi[0],e);for(var n=1;n<qi.length;n++){var r=qi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(fn!==null&&Fr(fn,e),pn!==null&&Fr(pn,e),hn!==null&&Fr(hn,e),di.forEach(t),fi.forEach(t),n=0;n<an.length;n++)r=an[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<an.length&&(n=an[0],n.blockedOn===null);)Cp(n),n.blockedOn===null&&an.shift()}var cr=en.ReactCurrentBatchConfig,Ro=!0;function n0(e,t,n,r){var i=de,o=cr.transition;cr.transition=null;try{de=1,La(e,t,n,r)}finally{de=i,cr.transition=o}}function r0(e,t,n,r){var i=de,o=cr.transition;cr.transition=null;try{de=4,La(e,t,n,r)}finally{de=i,cr.transition=o}}function La(e,t,n,r){if(Ro){var i=bs(e,t,n,r);if(i===null)Vl(e,t,r,Lo,n),Ku(e,r);else if(e0(i,e,t,n,r))r.stopPropagation();else if(Ku(e,r),t&4&&-1<Zg.indexOf(e)){for(;i!==null;){var o=Ai(i);if(o!==null&&xp(o),o=bs(e,t,n,r),o===null&&Vl(e,t,r,Lo,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Vl(e,t,r,null,n)}}var Lo=null;function bs(e,t,n,r){if(Lo=null,e=Pa(r),e=Mn(e),e!==null)if(t=Bn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=cp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Lo=e,null}function Sp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($g()){case Aa:return 1;case hp:return 4;case Ao:case qg:return 16;case mp:return 536870912;default:return 16}default:return 16}}var cn=null,Da=null,fo=null;function Ep(){if(fo)return fo;var e,t=Da,n=t.length,r,i="value"in cn?cn.value:cn.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===i[o-r];r++);return fo=i.slice(e,1<r?1-r:void 0)}function po(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gi(){return!0}function Qu(){return!1}function ht(e){function t(n,r,i,o,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Gi:Qu,this.isPropagationStopped=Qu,this}return ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),t}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},za=ht(Tr),Pi=ke({},Tr,{view:0,detail:0}),i0=ht(Pi),Ml,Rl,Or,il=ke({},Pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Or&&(Or&&e.type==="mousemove"?(Ml=e.screenX-Or.screenX,Rl=e.screenY-Or.screenY):Rl=Ml=0,Or=e),Ml)},movementY:function(e){return"movementY"in e?e.movementY:Rl}}),Ju=ht(il),o0=ke({},il,{dataTransfer:0}),l0=ht(o0),s0=ke({},Pi,{relatedTarget:0}),Ll=ht(s0),a0=ke({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),u0=ht(a0),c0=ke({},Tr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),d0=ht(c0),f0=ke({},Tr,{data:0}),Xu=ht(f0),p0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},h0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},m0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function g0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=m0[e])?!!t[e]:!1}function Fa(){return g0}var y0=ke({},Pi,{key:function(e){if(e.key){var t=p0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=po(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?h0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fa,charCode:function(e){return e.type==="keypress"?po(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?po(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),x0=ht(y0),v0=ke({},il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zu=ht(v0),w0=ke({},Pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fa}),k0=ht(w0),C0=ke({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),S0=ht(C0),E0=ke({},il,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),T0=ht(E0),N0=[9,13,27,32],Oa=Qt&&"CompositionEvent"in window,Xr=null;Qt&&"documentMode"in document&&(Xr=document.documentMode);var I0=Qt&&"TextEvent"in window&&!Xr,Tp=Qt&&(!Oa||Xr&&8<Xr&&11>=Xr),ec=" ",tc=!1;function Np(e,t){switch(e){case"keyup":return N0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ip(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jn=!1;function _0(e,t){switch(e){case"compositionend":return Ip(t);case"keypress":return t.which!==32?null:(tc=!0,ec);case"textInput":return e=t.data,e===ec&&tc?null:e;default:return null}}function b0(e,t){if(Jn)return e==="compositionend"||!Oa&&Np(e,t)?(e=Ep(),fo=Da=cn=null,Jn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tp&&t.locale!=="ko"?null:t.data;default:return null}}var P0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!P0[e.type]:t==="textarea"}function _p(e,t,n,r){op(r),t=Do(t,"onChange"),0<t.length&&(n=new za("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Zr=null,hi=null;function A0(e){jp(e,0)}function ol(e){var t=er(e);if(Xf(t))return e}function M0(e,t){if(e==="change")return t}var bp=!1;if(Qt){var Dl;if(Qt){var zl="oninput"in document;if(!zl){var rc=document.createElement("div");rc.setAttribute("oninput","return;"),zl=typeof rc.oninput=="function"}Dl=zl}else Dl=!1;bp=Dl&&(!document.documentMode||9<document.documentMode)}function ic(){Zr&&(Zr.detachEvent("onpropertychange",Pp),hi=Zr=null)}function Pp(e){if(e.propertyName==="value"&&ol(hi)){var t=[];_p(t,hi,e,Pa(e)),up(A0,t)}}function R0(e,t,n){e==="focusin"?(ic(),Zr=t,hi=n,Zr.attachEvent("onpropertychange",Pp)):e==="focusout"&&ic()}function L0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ol(hi)}function D0(e,t){if(e==="click")return ol(t)}function z0(e,t){if(e==="input"||e==="change")return ol(t)}function F0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mt=typeof Object.is=="function"?Object.is:F0;function mi(e,t){if(Mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ds.call(t,i)||!Mt(e[i],t[i]))return!1}return!0}function oc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lc(e,t){var n=oc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=oc(n)}}function Ap(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ap(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Mp(){for(var e=window,t=_o();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=_o(e.document)}return t}function ja(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function O0(e){var t=Mp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ap(n.ownerDocument.documentElement,n)){if(r!==null&&ja(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=lc(n,o);var l=lc(n,r);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var j0=Qt&&"documentMode"in document&&11>=document.documentMode,Xn=null,Ps=null,ei=null,As=!1;function sc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;As||Xn==null||Xn!==_o(r)||(r=Xn,"selectionStart"in r&&ja(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ei&&mi(ei,r)||(ei=r,r=Do(Ps,"onSelect"),0<r.length&&(t=new za("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Xn)))}function Wi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Zn={animationend:Wi("Animation","AnimationEnd"),animationiteration:Wi("Animation","AnimationIteration"),animationstart:Wi("Animation","AnimationStart"),transitionend:Wi("Transition","TransitionEnd")},Fl={},Rp={};Qt&&(Rp=document.createElement("div").style,"AnimationEvent"in window||(delete Zn.animationend.animation,delete Zn.animationiteration.animation,delete Zn.animationstart.animation),"TransitionEvent"in window||delete Zn.transitionend.transition);function ll(e){if(Fl[e])return Fl[e];if(!Zn[e])return e;var t=Zn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Rp)return Fl[e]=t[n];return e}var Lp=ll("animationend"),Dp=ll("animationiteration"),zp=ll("animationstart"),Fp=ll("transitionend"),Op=new Map,ac="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cn(e,t){Op.set(e,t),Hn(t,[e])}for(var Ol=0;Ol<ac.length;Ol++){var jl=ac[Ol],U0=jl.toLowerCase(),V0=jl[0].toUpperCase()+jl.slice(1);Cn(U0,"on"+V0)}Cn(Lp,"onAnimationEnd");Cn(Dp,"onAnimationIteration");Cn(zp,"onAnimationStart");Cn("dblclick","onDoubleClick");Cn("focusin","onFocus");Cn("focusout","onBlur");Cn(Fp,"onTransitionEnd");gr("onMouseEnter",["mouseout","mouseover"]);gr("onMouseLeave",["mouseout","mouseover"]);gr("onPointerEnter",["pointerout","pointerover"]);gr("onPointerLeave",["pointerout","pointerover"]);Hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),H0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kr));function uc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ug(r,t,void 0,e),e.currentTarget=null}function jp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var l=r.length-1;0<=l;l--){var s=r[l],a=s.instance,u=s.currentTarget;if(s=s.listener,a!==o&&i.isPropagationStopped())break e;uc(i,s,u),o=a}else for(l=0;l<r.length;l++){if(s=r[l],a=s.instance,u=s.currentTarget,s=s.listener,a!==o&&i.isPropagationStopped())break e;uc(i,s,u),o=a}}}if(Po)throw e=Ns,Po=!1,Ns=null,e}function ge(e,t){var n=t[zs];n===void 0&&(n=t[zs]=new Set);var r=e+"__bubble";n.has(r)||(Up(t,e,2,!1),n.add(r))}function Ul(e,t,n){var r=0;t&&(r|=4),Up(n,e,r,t)}var Ki="_reactListening"+Math.random().toString(36).slice(2);function gi(e){if(!e[Ki]){e[Ki]=!0,Wf.forEach(function(n){n!=="selectionchange"&&(H0.has(n)||Ul(n,!1,e),Ul(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ki]||(t[Ki]=!0,Ul("selectionchange",!1,t))}}function Up(e,t,n,r){switch(Sp(t)){case 1:var i=n0;break;case 4:i=r0;break;default:i=La}n=i.bind(null,t,n,e),i=void 0,!Ts||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vl(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var a=l.tag;if((a===3||a===4)&&(a=l.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;l=l.return}for(;s!==null;){if(l=Mn(s),l===null)return;if(a=l.tag,a===5||a===6){r=o=l;continue e}s=s.parentNode}}r=r.return}up(function(){var u=o,c=Pa(n),p=[];e:{var g=Op.get(e);if(g!==void 0){var m=za,w=e;switch(e){case"keypress":if(po(n)===0)break e;case"keydown":case"keyup":m=x0;break;case"focusin":w="focus",m=Ll;break;case"focusout":w="blur",m=Ll;break;case"beforeblur":case"afterblur":m=Ll;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Ju;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=l0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=k0;break;case Lp:case Dp:case zp:m=u0;break;case Fp:m=S0;break;case"scroll":m=i0;break;case"wheel":m=T0;break;case"copy":case"cut":case"paste":m=d0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Zu}var C=(t&4)!==0,_=!C&&e==="scroll",y=C?g!==null?g+"Capture":null:g;C=[];for(var x=u,v;x!==null;){v=x;var T=v.stateNode;if(v.tag===5&&T!==null&&(v=T,y!==null&&(T=ci(x,y),T!=null&&C.push(yi(x,T,v)))),_)break;x=x.return}0<C.length&&(g=new m(g,w,null,n,c),p.push({event:g,listeners:C}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",g&&n!==Ss&&(w=n.relatedTarget||n.fromElement)&&(Mn(w)||w[Jt]))break e;if((m||g)&&(g=c.window===c?c:(g=c.ownerDocument)?g.defaultView||g.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=u,w=w?Mn(w):null,w!==null&&(_=Bn(w),w!==_||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=u),m!==w)){if(C=Ju,T="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(C=Zu,T="onPointerLeave",y="onPointerEnter",x="pointer"),_=m==null?g:er(m),v=w==null?g:er(w),g=new C(T,x+"leave",m,n,c),g.target=_,g.relatedTarget=v,T=null,Mn(c)===u&&(C=new C(y,x+"enter",w,n,c),C.target=v,C.relatedTarget=_,T=C),_=T,m&&w)t:{for(C=m,y=w,x=0,v=C;v;v=Wn(v))x++;for(v=0,T=y;T;T=Wn(T))v++;for(;0<x-v;)C=Wn(C),x--;for(;0<v-x;)y=Wn(y),v--;for(;x--;){if(C===y||y!==null&&C===y.alternate)break t;C=Wn(C),y=Wn(y)}C=null}else C=null;m!==null&&cc(p,g,m,C,!1),w!==null&&_!==null&&cc(p,_,w,C,!0)}}e:{if(g=u?er(u):window,m=g.nodeName&&g.nodeName.toLowerCase(),m==="select"||m==="input"&&g.type==="file")var N=M0;else if(nc(g))if(bp)N=z0;else{N=L0;var E=R0}else(m=g.nodeName)&&m.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(N=D0);if(N&&(N=N(e,u))){_p(p,N,n,c);break e}E&&E(e,g,u),e==="focusout"&&(E=g._wrapperState)&&E.controlled&&g.type==="number"&&xs(g,"number",g.value)}switch(E=u?er(u):window,e){case"focusin":(nc(E)||E.contentEditable==="true")&&(Xn=E,Ps=u,ei=null);break;case"focusout":ei=Ps=Xn=null;break;case"mousedown":As=!0;break;case"contextmenu":case"mouseup":case"dragend":As=!1,sc(p,n,c);break;case"selectionchange":if(j0)break;case"keydown":case"keyup":sc(p,n,c)}var I;if(Oa)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Jn?Np(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Tp&&n.locale!=="ko"&&(Jn||P!=="onCompositionStart"?P==="onCompositionEnd"&&Jn&&(I=Ep()):(cn=c,Da="value"in cn?cn.value:cn.textContent,Jn=!0)),E=Do(u,P),0<E.length&&(P=new Xu(P,e,null,n,c),p.push({event:P,listeners:E}),I?P.data=I:(I=Ip(n),I!==null&&(P.data=I)))),(I=I0?_0(e,n):b0(e,n))&&(u=Do(u,"onBeforeInput"),0<u.length&&(c=new Xu("onBeforeInput","beforeinput",null,n,c),p.push({event:c,listeners:u}),c.data=I))}jp(p,t)})}function yi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Do(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ci(e,n),o!=null&&r.unshift(yi(e,o,i)),o=ci(e,t),o!=null&&r.push(yi(e,o,i))),e=e.return}return r}function Wn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cc(e,t,n,r,i){for(var o=t._reactName,l=[];n!==null&&n!==r;){var s=n,a=s.alternate,u=s.stateNode;if(a!==null&&a===r)break;s.tag===5&&u!==null&&(s=u,i?(a=ci(n,o),a!=null&&l.unshift(yi(n,a,s))):i||(a=ci(n,o),a!=null&&l.push(yi(n,a,s)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var B0=/\r\n?/g,$0=/\u0000|\uFFFD/g;function dc(e){return(typeof e=="string"?e:""+e).replace(B0,`
`).replace($0,"")}function Yi(e,t,n){if(t=dc(t),dc(e)!==t&&n)throw Error(V(425))}function zo(){}var Ms=null,Rs=null;function Ls(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ds=typeof setTimeout=="function"?setTimeout:void 0,q0=typeof clearTimeout=="function"?clearTimeout:void 0,fc=typeof Promise=="function"?Promise:void 0,G0=typeof queueMicrotask=="function"?queueMicrotask:typeof fc<"u"?function(e){return fc.resolve(null).then(e).catch(W0)}:Ds;function W0(e){setTimeout(function(){throw e})}function Hl(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),pi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);pi(t)}function mn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function pc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Nr=Math.random().toString(36).slice(2),Ot="__reactFiber$"+Nr,xi="__reactProps$"+Nr,Jt="__reactContainer$"+Nr,zs="__reactEvents$"+Nr,K0="__reactListeners$"+Nr,Y0="__reactHandles$"+Nr;function Mn(e){var t=e[Ot];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jt]||n[Ot]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=pc(e);e!==null;){if(n=e[Ot])return n;e=pc(e)}return t}e=n,n=e.parentNode}return null}function Ai(e){return e=e[Ot]||e[Jt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function er(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function sl(e){return e[xi]||null}var Fs=[],tr=-1;function Sn(e){return{current:e}}function ye(e){0>tr||(e.current=Fs[tr],Fs[tr]=null,tr--)}function he(e,t){tr++,Fs[tr]=e.current,e.current=t}var kn={},Ve=Sn(kn),et=Sn(!1),Fn=kn;function yr(e,t){var n=e.type.contextTypes;if(!n)return kn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function tt(e){return e=e.childContextTypes,e!=null}function Fo(){ye(et),ye(Ve)}function hc(e,t,n){if(Ve.current!==kn)throw Error(V(168));he(Ve,t),he(et,n)}function Vp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(V(108,Rg(e)||"Unknown",i));return ke({},n,r)}function Oo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kn,Fn=Ve.current,he(Ve,e),he(et,et.current),!0}function mc(e,t,n){var r=e.stateNode;if(!r)throw Error(V(169));n?(e=Vp(e,t,Fn),r.__reactInternalMemoizedMergedChildContext=e,ye(et),ye(Ve),he(Ve,e)):ye(et),he(et,n)}var Gt=null,al=!1,Bl=!1;function Hp(e){Gt===null?Gt=[e]:Gt.push(e)}function Q0(e){al=!0,Hp(e)}function En(){if(!Bl&&Gt!==null){Bl=!0;var e=0,t=de;try{var n=Gt;for(de=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Gt=null,al=!1}catch(i){throw Gt!==null&&(Gt=Gt.slice(e+1)),pp(Aa,En),i}finally{de=t,Bl=!1}}return null}var nr=[],rr=0,jo=null,Uo=0,mt=[],gt=0,On=null,Wt=1,Kt="";function bn(e,t){nr[rr++]=Uo,nr[rr++]=jo,jo=e,Uo=t}function Bp(e,t,n){mt[gt++]=Wt,mt[gt++]=Kt,mt[gt++]=On,On=e;var r=Wt;e=Kt;var i=32-Pt(r)-1;r&=~(1<<i),n+=1;var o=32-Pt(t)+i;if(30<o){var l=i-i%5;o=(r&(1<<l)-1).toString(32),r>>=l,i-=l,Wt=1<<32-Pt(t)+i|n<<i|r,Kt=o+e}else Wt=1<<o|n<<i|r,Kt=e}function Ua(e){e.return!==null&&(bn(e,1),Bp(e,1,0))}function Va(e){for(;e===jo;)jo=nr[--rr],nr[rr]=null,Uo=nr[--rr],nr[rr]=null;for(;e===On;)On=mt[--gt],mt[gt]=null,Kt=mt[--gt],mt[gt]=null,Wt=mt[--gt],mt[gt]=null}var ct=null,at=null,xe=!1,bt=null;function $p(e,t){var n=xt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function gc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ct=e,at=mn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ct=e,at=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=On!==null?{id:Wt,overflow:Kt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=xt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ct=e,at=null,!0):!1;default:return!1}}function Os(e){return(e.mode&1)!==0&&(e.flags&128)===0}function js(e){if(xe){var t=at;if(t){var n=t;if(!gc(e,t)){if(Os(e))throw Error(V(418));t=mn(n.nextSibling);var r=ct;t&&gc(e,t)?$p(r,n):(e.flags=e.flags&-4097|2,xe=!1,ct=e)}}else{if(Os(e))throw Error(V(418));e.flags=e.flags&-4097|2,xe=!1,ct=e}}}function yc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ct=e}function Qi(e){if(e!==ct)return!1;if(!xe)return yc(e),xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ls(e.type,e.memoizedProps)),t&&(t=at)){if(Os(e))throw qp(),Error(V(418));for(;t;)$p(e,t),t=mn(t.nextSibling)}if(yc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){at=mn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}at=null}}else at=ct?mn(e.stateNode.nextSibling):null;return!0}function qp(){for(var e=at;e;)e=mn(e.nextSibling)}function xr(){at=ct=null,xe=!1}function Ha(e){bt===null?bt=[e]:bt.push(e)}var J0=en.ReactCurrentBatchConfig;function jr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(l){var s=i.refs;l===null?delete s[o]:s[o]=l},t._stringRef=o,t)}if(typeof e!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,e))}return e}function Ji(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xc(e){var t=e._init;return t(e._payload)}function Gp(e){function t(y,x){if(e){var v=y.deletions;v===null?(y.deletions=[x],y.flags|=16):v.push(x)}}function n(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function r(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=vn(y,x),y.index=0,y.sibling=null,y}function o(y,x,v){return y.index=v,e?(v=y.alternate,v!==null?(v=v.index,v<x?(y.flags|=2,x):v):(y.flags|=2,x)):(y.flags|=1048576,x)}function l(y){return e&&y.alternate===null&&(y.flags|=2),y}function s(y,x,v,T){return x===null||x.tag!==6?(x=Ql(v,y.mode,T),x.return=y,x):(x=i(x,v),x.return=y,x)}function a(y,x,v,T){var N=v.type;return N===Qn?c(y,x,v.props.children,T,v.key):x!==null&&(x.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ln&&xc(N)===x.type)?(T=i(x,v.props),T.ref=jr(y,x,v),T.return=y,T):(T=wo(v.type,v.key,v.props,null,y.mode,T),T.ref=jr(y,x,v),T.return=y,T)}function u(y,x,v,T){return x===null||x.tag!==4||x.stateNode.containerInfo!==v.containerInfo||x.stateNode.implementation!==v.implementation?(x=Jl(v,y.mode,T),x.return=y,x):(x=i(x,v.children||[]),x.return=y,x)}function c(y,x,v,T,N){return x===null||x.tag!==7?(x=zn(v,y.mode,T,N),x.return=y,x):(x=i(x,v),x.return=y,x)}function p(y,x,v){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Ql(""+x,y.mode,v),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ui:return v=wo(x.type,x.key,x.props,null,y.mode,v),v.ref=jr(y,null,x),v.return=y,v;case Yn:return x=Jl(x,y.mode,v),x.return=y,x;case ln:var T=x._init;return p(y,T(x._payload),v)}if(Gr(x)||Lr(x))return x=zn(x,y.mode,v,null),x.return=y,x;Ji(y,x)}return null}function g(y,x,v,T){var N=x!==null?x.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return N!==null?null:s(y,x,""+v,T);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ui:return v.key===N?a(y,x,v,T):null;case Yn:return v.key===N?u(y,x,v,T):null;case ln:return N=v._init,g(y,x,N(v._payload),T)}if(Gr(v)||Lr(v))return N!==null?null:c(y,x,v,T,null);Ji(y,v)}return null}function m(y,x,v,T,N){if(typeof T=="string"&&T!==""||typeof T=="number")return y=y.get(v)||null,s(x,y,""+T,N);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ui:return y=y.get(T.key===null?v:T.key)||null,a(x,y,T,N);case Yn:return y=y.get(T.key===null?v:T.key)||null,u(x,y,T,N);case ln:var E=T._init;return m(y,x,v,E(T._payload),N)}if(Gr(T)||Lr(T))return y=y.get(v)||null,c(x,y,T,N,null);Ji(x,T)}return null}function w(y,x,v,T){for(var N=null,E=null,I=x,P=x=0,M=null;I!==null&&P<v.length;P++){I.index>P?(M=I,I=null):M=I.sibling;var R=g(y,I,v[P],T);if(R===null){I===null&&(I=M);break}e&&I&&R.alternate===null&&t(y,I),x=o(R,x,P),E===null?N=R:E.sibling=R,E=R,I=M}if(P===v.length)return n(y,I),xe&&bn(y,P),N;if(I===null){for(;P<v.length;P++)I=p(y,v[P],T),I!==null&&(x=o(I,x,P),E===null?N=I:E.sibling=I,E=I);return xe&&bn(y,P),N}for(I=r(y,I);P<v.length;P++)M=m(I,y,P,v[P],T),M!==null&&(e&&M.alternate!==null&&I.delete(M.key===null?P:M.key),x=o(M,x,P),E===null?N=M:E.sibling=M,E=M);return e&&I.forEach(function(A){return t(y,A)}),xe&&bn(y,P),N}function C(y,x,v,T){var N=Lr(v);if(typeof N!="function")throw Error(V(150));if(v=N.call(v),v==null)throw Error(V(151));for(var E=N=null,I=x,P=x=0,M=null,R=v.next();I!==null&&!R.done;P++,R=v.next()){I.index>P?(M=I,I=null):M=I.sibling;var A=g(y,I,R.value,T);if(A===null){I===null&&(I=M);break}e&&I&&A.alternate===null&&t(y,I),x=o(A,x,P),E===null?N=A:E.sibling=A,E=A,I=M}if(R.done)return n(y,I),xe&&bn(y,P),N;if(I===null){for(;!R.done;P++,R=v.next())R=p(y,R.value,T),R!==null&&(x=o(R,x,P),E===null?N=R:E.sibling=R,E=R);return xe&&bn(y,P),N}for(I=r(y,I);!R.done;P++,R=v.next())R=m(I,y,P,R.value,T),R!==null&&(e&&R.alternate!==null&&I.delete(R.key===null?P:R.key),x=o(R,x,P),E===null?N=R:E.sibling=R,E=R);return e&&I.forEach(function(D){return t(y,D)}),xe&&bn(y,P),N}function _(y,x,v,T){if(typeof v=="object"&&v!==null&&v.type===Qn&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ui:e:{for(var N=v.key,E=x;E!==null;){if(E.key===N){if(N=v.type,N===Qn){if(E.tag===7){n(y,E.sibling),x=i(E,v.props.children),x.return=y,y=x;break e}}else if(E.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ln&&xc(N)===E.type){n(y,E.sibling),x=i(E,v.props),x.ref=jr(y,E,v),x.return=y,y=x;break e}n(y,E);break}else t(y,E);E=E.sibling}v.type===Qn?(x=zn(v.props.children,y.mode,T,v.key),x.return=y,y=x):(T=wo(v.type,v.key,v.props,null,y.mode,T),T.ref=jr(y,x,v),T.return=y,y=T)}return l(y);case Yn:e:{for(E=v.key;x!==null;){if(x.key===E)if(x.tag===4&&x.stateNode.containerInfo===v.containerInfo&&x.stateNode.implementation===v.implementation){n(y,x.sibling),x=i(x,v.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else t(y,x);x=x.sibling}x=Jl(v,y.mode,T),x.return=y,y=x}return l(y);case ln:return E=v._init,_(y,x,E(v._payload),T)}if(Gr(v))return w(y,x,v,T);if(Lr(v))return C(y,x,v,T);Ji(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,x!==null&&x.tag===6?(n(y,x.sibling),x=i(x,v),x.return=y,y=x):(n(y,x),x=Ql(v,y.mode,T),x.return=y,y=x),l(y)):n(y,x)}return _}var vr=Gp(!0),Wp=Gp(!1),Vo=Sn(null),Ho=null,ir=null,Ba=null;function $a(){Ba=ir=Ho=null}function qa(e){var t=Vo.current;ye(Vo),e._currentValue=t}function Us(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function dr(e,t){Ho=e,Ba=ir=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ze=!0),e.firstContext=null)}function kt(e){var t=e._currentValue;if(Ba!==e)if(e={context:e,memoizedValue:t,next:null},ir===null){if(Ho===null)throw Error(V(308));ir=e,Ho.dependencies={lanes:0,firstContext:e}}else ir=ir.next=e;return t}var Rn=null;function Ga(e){Rn===null?Rn=[e]:Rn.push(e)}function Kp(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Ga(t)):(n.next=i.next,i.next=n),t.interleaved=n,Xt(e,r)}function Xt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var sn=!1;function Wa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,se&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Xt(e,n)}return i=r.interleaved,i===null?(t.next=t,Ga(r)):(t.next=i.next,i.next=t),r.interleaved=t,Xt(e,n)}function ho(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ma(e,n)}}function vc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bo(e,t,n,r){var i=e.updateQueue;sn=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var a=s,u=a.next;a.next=null,l===null?o=u:l.next=u,l=a;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==l&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=a))}if(o!==null){var p=i.baseState;l=0,c=u=a=null,s=o;do{var g=s.lane,m=s.eventTime;if((r&g)===g){c!==null&&(c=c.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var w=e,C=s;switch(g=t,m=n,C.tag){case 1:if(w=C.payload,typeof w=="function"){p=w.call(m,p,g);break e}p=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=C.payload,g=typeof w=="function"?w.call(m,p,g):w,g==null)break e;p=ke({},p,g);break e;case 2:sn=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,g=i.effects,g===null?i.effects=[s]:g.push(s))}else m={eventTime:m,lane:g,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=m,a=p):c=c.next=m,l|=g;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;g=s,s=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(c===null&&(a=p),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Un|=l,e.lanes=l,e.memoizedState=p}}function wc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(V(191,i));i.call(r)}}}var Mi={},Vt=Sn(Mi),vi=Sn(Mi),wi=Sn(Mi);function Ln(e){if(e===Mi)throw Error(V(174));return e}function Ka(e,t){switch(he(wi,t),he(vi,e),he(Vt,Mi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ws(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ws(t,e)}ye(Vt),he(Vt,t)}function wr(){ye(Vt),ye(vi),ye(wi)}function Qp(e){Ln(wi.current);var t=Ln(Vt.current),n=ws(t,e.type);t!==n&&(he(vi,e),he(Vt,n))}function Ya(e){vi.current===e&&(ye(Vt),ye(vi))}var ve=Sn(0);function $o(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $l=[];function Qa(){for(var e=0;e<$l.length;e++)$l[e]._workInProgressVersionPrimary=null;$l.length=0}var mo=en.ReactCurrentDispatcher,ql=en.ReactCurrentBatchConfig,jn=0,we=null,be=null,Me=null,qo=!1,ti=!1,ki=0,X0=0;function Oe(){throw Error(V(321))}function Ja(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Mt(e[n],t[n]))return!1;return!0}function Xa(e,t,n,r,i,o){if(jn=o,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,mo.current=e===null||e.memoizedState===null?ny:ry,e=n(r,i),ti){o=0;do{if(ti=!1,ki=0,25<=o)throw Error(V(301));o+=1,Me=be=null,t.updateQueue=null,mo.current=iy,e=n(r,i)}while(ti)}if(mo.current=Go,t=be!==null&&be.next!==null,jn=0,Me=be=we=null,qo=!1,t)throw Error(V(300));return e}function Za(){var e=ki!==0;return ki=0,e}function zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?we.memoizedState=Me=e:Me=Me.next=e,Me}function Ct(){if(be===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=be.next;var t=Me===null?we.memoizedState:Me.next;if(t!==null)Me=t,be=e;else{if(e===null)throw Error(V(310));be=e,e={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},Me===null?we.memoizedState=Me=e:Me=Me.next=e}return Me}function Ci(e,t){return typeof t=="function"?t(e):t}function Gl(e){var t=Ct(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=be,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var l=i.next;i.next=o.next,o.next=l}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=l=null,a=null,u=o;do{var c=u.lane;if((jn&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(s=a=p,l=r):a=a.next=p,we.lanes|=c,Un|=c}u=u.next}while(u!==null&&u!==o);a===null?l=r:a.next=s,Mt(r,t.memoizedState)||(Ze=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,we.lanes|=o,Un|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Wl(e){var t=Ct(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do o=e(o,l.action),l=l.next;while(l!==i);Mt(o,t.memoizedState)||(Ze=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Jp(){}function Xp(e,t){var n=we,r=Ct(),i=t(),o=!Mt(r.memoizedState,i);if(o&&(r.memoizedState=i,Ze=!0),r=r.queue,eu(th.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Me!==null&&Me.memoizedState.tag&1){if(n.flags|=2048,Si(9,eh.bind(null,n,r,i,t),void 0,null),Re===null)throw Error(V(349));jn&30||Zp(n,t,i)}return i}function Zp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function eh(e,t,n,r){t.value=n,t.getSnapshot=r,nh(t)&&rh(e)}function th(e,t,n){return n(function(){nh(t)&&rh(e)})}function nh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Mt(e,n)}catch{return!0}}function rh(e){var t=Xt(e,1);t!==null&&At(t,e,1,-1)}function kc(e){var t=zt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:e},t.queue=e,e=e.dispatch=ty.bind(null,we,e),[t.memoizedState,e]}function Si(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ih(){return Ct().memoizedState}function go(e,t,n,r){var i=zt();we.flags|=e,i.memoizedState=Si(1|t,n,void 0,r===void 0?null:r)}function ul(e,t,n,r){var i=Ct();r=r===void 0?null:r;var o=void 0;if(be!==null){var l=be.memoizedState;if(o=l.destroy,r!==null&&Ja(r,l.deps)){i.memoizedState=Si(t,n,o,r);return}}we.flags|=e,i.memoizedState=Si(1|t,n,o,r)}function Cc(e,t){return go(8390656,8,e,t)}function eu(e,t){return ul(2048,8,e,t)}function oh(e,t){return ul(4,2,e,t)}function lh(e,t){return ul(4,4,e,t)}function sh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ah(e,t,n){return n=n!=null?n.concat([e]):null,ul(4,4,sh.bind(null,t,e),n)}function tu(){}function uh(e,t){var n=Ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ja(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ch(e,t){var n=Ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ja(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function dh(e,t,n){return jn&21?(Mt(n,t)||(n=gp(),we.lanes|=n,Un|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ze=!0),e.memoizedState=n)}function Z0(e,t){var n=de;de=n!==0&&4>n?n:4,e(!0);var r=ql.transition;ql.transition={};try{e(!1),t()}finally{de=n,ql.transition=r}}function fh(){return Ct().memoizedState}function ey(e,t,n){var r=xn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ph(e))hh(t,n);else if(n=Kp(e,t,n,r),n!==null){var i=$e();At(n,e,r,i),mh(n,t,r)}}function ty(e,t,n){var r=xn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ph(e))hh(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var l=t.lastRenderedState,s=o(l,n);if(i.hasEagerState=!0,i.eagerState=s,Mt(s,l)){var a=t.interleaved;a===null?(i.next=i,Ga(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=Kp(e,t,i,r),n!==null&&(i=$e(),At(n,e,r,i),mh(n,t,r))}}function ph(e){var t=e.alternate;return e===we||t!==null&&t===we}function hh(e,t){ti=qo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function mh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ma(e,n)}}var Go={readContext:kt,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useInsertionEffect:Oe,useLayoutEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useMutableSource:Oe,useSyncExternalStore:Oe,useId:Oe,unstable_isNewReconciler:!1},ny={readContext:kt,useCallback:function(e,t){return zt().memoizedState=[e,t===void 0?null:t],e},useContext:kt,useEffect:Cc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,go(4194308,4,sh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return go(4194308,4,e,t)},useInsertionEffect:function(e,t){return go(4,2,e,t)},useMemo:function(e,t){var n=zt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=zt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ey.bind(null,we,e),[r.memoizedState,e]},useRef:function(e){var t=zt();return e={current:e},t.memoizedState=e},useState:kc,useDebugValue:tu,useDeferredValue:function(e){return zt().memoizedState=e},useTransition:function(){var e=kc(!1),t=e[0];return e=Z0.bind(null,e[1]),zt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=we,i=zt();if(xe){if(n===void 0)throw Error(V(407));n=n()}else{if(n=t(),Re===null)throw Error(V(349));jn&30||Zp(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Cc(th.bind(null,r,o,e),[e]),r.flags|=2048,Si(9,eh.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=zt(),t=Re.identifierPrefix;if(xe){var n=Kt,r=Wt;n=(r&~(1<<32-Pt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ki++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=X0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ry={readContext:kt,useCallback:uh,useContext:kt,useEffect:eu,useImperativeHandle:ah,useInsertionEffect:oh,useLayoutEffect:lh,useMemo:ch,useReducer:Gl,useRef:ih,useState:function(){return Gl(Ci)},useDebugValue:tu,useDeferredValue:function(e){var t=Ct();return dh(t,be.memoizedState,e)},useTransition:function(){var e=Gl(Ci)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:Jp,useSyncExternalStore:Xp,useId:fh,unstable_isNewReconciler:!1},iy={readContext:kt,useCallback:uh,useContext:kt,useEffect:eu,useImperativeHandle:ah,useInsertionEffect:oh,useLayoutEffect:lh,useMemo:ch,useReducer:Wl,useRef:ih,useState:function(){return Wl(Ci)},useDebugValue:tu,useDeferredValue:function(e){var t=Ct();return be===null?t.memoizedState=e:dh(t,be.memoizedState,e)},useTransition:function(){var e=Wl(Ci)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:Jp,useSyncExternalStore:Xp,useId:fh,unstable_isNewReconciler:!1};function It(e,t){if(e&&e.defaultProps){t=ke({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Vs(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ke({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var cl={isMounted:function(e){return(e=e._reactInternals)?Bn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$e(),i=xn(e),o=Yt(r,i);o.payload=t,n!=null&&(o.callback=n),t=gn(e,o,i),t!==null&&(At(t,e,i,r),ho(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$e(),i=xn(e),o=Yt(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=gn(e,o,i),t!==null&&(At(t,e,i,r),ho(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$e(),r=xn(e),i=Yt(n,r);i.tag=2,t!=null&&(i.callback=t),t=gn(e,i,r),t!==null&&(At(t,e,r,n),ho(t,e,r))}};function Sc(e,t,n,r,i,o,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,l):t.prototype&&t.prototype.isPureReactComponent?!mi(n,r)||!mi(i,o):!0}function gh(e,t,n){var r=!1,i=kn,o=t.contextType;return typeof o=="object"&&o!==null?o=kt(o):(i=tt(t)?Fn:Ve.current,r=t.contextTypes,o=(r=r!=null)?yr(e,i):kn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=cl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ec(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&cl.enqueueReplaceState(t,t.state,null)}function Hs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Wa(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=kt(o):(o=tt(t)?Fn:Ve.current,i.context=yr(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Vs(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&cl.enqueueReplaceState(i,i.state,null),Bo(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function kr(e,t){try{var n="",r=t;do n+=Mg(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Kl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Bs(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var oy=typeof WeakMap=="function"?WeakMap:Map;function yh(e,t,n){n=Yt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ko||(Ko=!0,Zs=r),Bs(e,t)},n}function xh(e,t,n){n=Yt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Bs(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Bs(e,t),typeof r!="function"&&(yn===null?yn=new Set([this]):yn.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Tc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new oy;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=vy.bind(null,e,t,n),t.then(e,e))}function Nc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ic(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Yt(-1,1),t.tag=2,gn(n,t,1))),n.lanes|=1),e)}var ly=en.ReactCurrentOwner,Ze=!1;function Be(e,t,n,r){t.child=e===null?Wp(t,null,n,r):vr(t,e.child,n,r)}function _c(e,t,n,r,i){n=n.render;var o=t.ref;return dr(t,i),r=Xa(e,t,n,r,o,i),n=Za(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zt(e,t,i)):(xe&&n&&Ua(t),t.flags|=1,Be(e,t,r,i),t.child)}function bc(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!uu(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,vh(e,t,o,r,i)):(e=wo(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:mi,n(l,r)&&e.ref===t.ref)return Zt(e,t,i)}return t.flags|=1,e=vn(o,r),e.ref=t.ref,e.return=t,t.child=e}function vh(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(mi(o,r)&&e.ref===t.ref)if(Ze=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Ze=!0);else return t.lanes=e.lanes,Zt(e,t,i)}return $s(e,t,n,r,i)}function wh(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(lr,st),st|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,he(lr,st),st|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,he(lr,st),st|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,he(lr,st),st|=r;return Be(e,t,i,n),t.child}function kh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function $s(e,t,n,r,i){var o=tt(n)?Fn:Ve.current;return o=yr(t,o),dr(t,i),n=Xa(e,t,n,r,o,i),r=Za(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zt(e,t,i)):(xe&&r&&Ua(t),t.flags|=1,Be(e,t,n,i),t.child)}function Pc(e,t,n,r,i){if(tt(n)){var o=!0;Oo(t)}else o=!1;if(dr(t,i),t.stateNode===null)yo(e,t),gh(t,n,r),Hs(t,n,r,i),r=!0;else if(e===null){var l=t.stateNode,s=t.memoizedProps;l.props=s;var a=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=kt(u):(u=tt(n)?Fn:Ve.current,u=yr(t,u));var c=n.getDerivedStateFromProps,p=typeof c=="function"||typeof l.getSnapshotBeforeUpdate=="function";p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==r||a!==u)&&Ec(t,l,r,u),sn=!1;var g=t.memoizedState;l.state=g,Bo(t,r,l,i),a=t.memoizedState,s!==r||g!==a||et.current||sn?(typeof c=="function"&&(Vs(t,n,c,r),a=t.memoizedState),(s=sn||Sc(t,n,s,r,g,a,u))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),l.props=r,l.state=a,l.context=u,r=s):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Yp(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:It(t.type,s),l.props=u,p=t.pendingProps,g=l.context,a=n.contextType,typeof a=="object"&&a!==null?a=kt(a):(a=tt(n)?Fn:Ve.current,a=yr(t,a));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==p||g!==a)&&Ec(t,l,r,a),sn=!1,g=t.memoizedState,l.state=g,Bo(t,r,l,i);var w=t.memoizedState;s!==p||g!==w||et.current||sn?(typeof m=="function"&&(Vs(t,n,m,r),w=t.memoizedState),(u=sn||Sc(t,n,u,r,g,w,a)||!1)?(c||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,w,a),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,w,a)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),l.props=r,l.state=w,l.context=a,r=u):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return qs(e,t,n,r,o,i)}function qs(e,t,n,r,i,o){kh(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return i&&mc(t,n,!1),Zt(e,t,o);r=t.stateNode,ly.current=t;var s=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=vr(t,e.child,null,o),t.child=vr(t,null,s,o)):Be(e,t,s,o),t.memoizedState=r.state,i&&mc(t,n,!0),t.child}function Ch(e){var t=e.stateNode;t.pendingContext?hc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&hc(e,t.context,!1),Ka(e,t.containerInfo)}function Ac(e,t,n,r,i){return xr(),Ha(i),t.flags|=256,Be(e,t,n,r),t.child}var Gs={dehydrated:null,treeContext:null,retryLane:0};function Ws(e){return{baseLanes:e,cachePool:null,transitions:null}}function Sh(e,t,n){var r=t.pendingProps,i=ve.current,o=!1,l=(t.flags&128)!==0,s;if((s=l)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),he(ve,i&1),e===null)return js(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=pl(l,r,0,null),e=zn(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ws(n),t.memoizedState=Gs,e):nu(t,l));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return sy(e,t,l,r,s,i,n);if(o){o=r.fallback,l=t.mode,i=e.child,s=i.sibling;var a={mode:"hidden",children:r.children};return!(l&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=vn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=vn(s,o):(o=zn(o,l,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=e.child.memoizedState,l=l===null?Ws(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Gs,r}return o=e.child,e=o.sibling,r=vn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function nu(e,t){return t=pl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xi(e,t,n,r){return r!==null&&Ha(r),vr(t,e.child,null,n),e=nu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sy(e,t,n,r,i,o,l){if(n)return t.flags&256?(t.flags&=-257,r=Kl(Error(V(422))),Xi(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=pl({mode:"visible",children:r.children},i,0,null),o=zn(o,i,l,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&vr(t,e.child,null,l),t.child.memoizedState=Ws(l),t.memoizedState=Gs,o);if(!(t.mode&1))return Xi(e,t,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(V(419)),r=Kl(o,r,void 0),Xi(e,t,l,r)}if(s=(l&e.childLanes)!==0,Ze||s){if(r=Re,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Xt(e,i),At(r,e,i,-1))}return au(),r=Kl(Error(V(421))),Xi(e,t,l,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=wy.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,at=mn(i.nextSibling),ct=t,xe=!0,bt=null,e!==null&&(mt[gt++]=Wt,mt[gt++]=Kt,mt[gt++]=On,Wt=e.id,Kt=e.overflow,On=t),t=nu(t,r.children),t.flags|=4096,t)}function Mc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Us(e.return,t,n)}function Yl(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Eh(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Be(e,t,r.children,n),r=ve.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mc(e,n,t);else if(e.tag===19)Mc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(he(ve,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&$o(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Yl(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&$o(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Yl(t,!0,n,null,o);break;case"together":Yl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function yo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Un|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,n=vn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=vn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ay(e,t,n){switch(t.tag){case 3:Ch(t),xr();break;case 5:Qp(t);break;case 1:tt(t.type)&&Oo(t);break;case 4:Ka(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;he(Vo,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(he(ve,ve.current&1),t.flags|=128,null):n&t.child.childLanes?Sh(e,t,n):(he(ve,ve.current&1),e=Zt(e,t,n),e!==null?e.sibling:null);he(ve,ve.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Eh(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),he(ve,ve.current),r)break;return null;case 22:case 23:return t.lanes=0,wh(e,t,n)}return Zt(e,t,n)}var Th,Ks,Nh,Ih;Th=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ks=function(){};Nh=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ln(Vt.current);var o=null;switch(n){case"input":i=gs(e,i),r=gs(e,r),o=[];break;case"select":i=ke({},i,{value:void 0}),r=ke({},r,{value:void 0}),o=[];break;case"textarea":i=vs(e,i),r=vs(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=zo)}ks(n,r);var l;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(l in s)s.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ai.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==s&&(a!=null||s!=null))if(u==="style")if(s){for(l in s)!s.hasOwnProperty(l)||a&&a.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in a)a.hasOwnProperty(l)&&s[l]!==a[l]&&(n||(n={}),n[l]=a[l])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,s=s?s.__html:void 0,a!=null&&s!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ai.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ge("scroll",e),o||s===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Ih=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ur(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function je(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function uy(e,t,n){var r=t.pendingProps;switch(Va(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(t),null;case 1:return tt(t.type)&&Fo(),je(t),null;case 3:return r=t.stateNode,wr(),ye(et),ye(Ve),Qa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Qi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,bt!==null&&(na(bt),bt=null))),Ks(e,t),je(t),null;case 5:Ya(t);var i=Ln(wi.current);if(n=t.type,e!==null&&t.stateNode!=null)Nh(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(V(166));return je(t),null}if(e=Ln(Vt.current),Qi(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Ot]=t,r[xi]=o,e=(t.mode&1)!==0,n){case"dialog":ge("cancel",r),ge("close",r);break;case"iframe":case"object":case"embed":ge("load",r);break;case"video":case"audio":for(i=0;i<Kr.length;i++)ge(Kr[i],r);break;case"source":ge("error",r);break;case"img":case"image":case"link":ge("error",r),ge("load",r);break;case"details":ge("toggle",r);break;case"input":Vu(r,o),ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ge("invalid",r);break;case"textarea":Bu(r,o),ge("invalid",r)}ks(n,o),i=null;for(var l in o)if(o.hasOwnProperty(l)){var s=o[l];l==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Yi(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Yi(r.textContent,s,e),i=["children",""+s]):ai.hasOwnProperty(l)&&s!=null&&l==="onScroll"&&ge("scroll",r)}switch(n){case"input":Vi(r),Hu(r,o,!0);break;case"textarea":Vi(r),$u(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=zo)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=tp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Ot]=t,e[xi]=r,Th(e,t,!1,!1),t.stateNode=e;e:{switch(l=Cs(n,r),n){case"dialog":ge("cancel",e),ge("close",e),i=r;break;case"iframe":case"object":case"embed":ge("load",e),i=r;break;case"video":case"audio":for(i=0;i<Kr.length;i++)ge(Kr[i],e);i=r;break;case"source":ge("error",e),i=r;break;case"img":case"image":case"link":ge("error",e),ge("load",e),i=r;break;case"details":ge("toggle",e),i=r;break;case"input":Vu(e,r),i=gs(e,r),ge("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ke({},r,{value:void 0}),ge("invalid",e);break;case"textarea":Bu(e,r),i=vs(e,r),ge("invalid",e);break;default:i=r}ks(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="style"?ip(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&np(e,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&ui(e,a):typeof a=="number"&&ui(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ai.hasOwnProperty(o)?a!=null&&o==="onScroll"&&ge("scroll",e):a!=null&&Na(e,o,a,l))}switch(n){case"input":Vi(e),Hu(e,r,!1);break;case"textarea":Vi(e),$u(e);break;case"option":r.value!=null&&e.setAttribute("value",""+wn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?sr(e,!!r.multiple,o,!1):r.defaultValue!=null&&sr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=zo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return je(t),null;case 6:if(e&&t.stateNode!=null)Ih(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(V(166));if(n=Ln(wi.current),Ln(Vt.current),Qi(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ot]=t,(o=r.nodeValue!==n)&&(e=ct,e!==null))switch(e.tag){case 3:Yi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Yi(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ot]=t,t.stateNode=r}return je(t),null;case 13:if(ye(ve),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&at!==null&&t.mode&1&&!(t.flags&128))qp(),xr(),t.flags|=98560,o=!1;else if(o=Qi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(V(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(V(317));o[Ot]=t}else xr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;je(t),o=!1}else bt!==null&&(na(bt),bt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ve.current&1?Pe===0&&(Pe=3):au())),t.updateQueue!==null&&(t.flags|=4),je(t),null);case 4:return wr(),Ks(e,t),e===null&&gi(t.stateNode.containerInfo),je(t),null;case 10:return qa(t.type._context),je(t),null;case 17:return tt(t.type)&&Fo(),je(t),null;case 19:if(ye(ve),o=t.memoizedState,o===null)return je(t),null;if(r=(t.flags&128)!==0,l=o.rendering,l===null)if(r)Ur(o,!1);else{if(Pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=$o(e),l!==null){for(t.flags|=128,Ur(o,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return he(ve,ve.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ee()>Cr&&(t.flags|=128,r=!0,Ur(o,!1),t.lanes=4194304)}else{if(!r)if(e=$o(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ur(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!xe)return je(t),null}else 2*Ee()-o.renderingStartTime>Cr&&n!==1073741824&&(t.flags|=128,r=!0,Ur(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(n=o.last,n!==null?n.sibling=l:t.child=l,o.last=l)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ee(),t.sibling=null,n=ve.current,he(ve,r?n&1|2:n&1),t):(je(t),null);case 22:case 23:return su(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?st&1073741824&&(je(t),t.subtreeFlags&6&&(t.flags|=8192)):je(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function cy(e,t){switch(Va(t),t.tag){case 1:return tt(t.type)&&Fo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wr(),ye(et),ye(Ve),Qa(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ya(t),null;case 13:if(ye(ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));xr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ye(ve),null;case 4:return wr(),null;case 10:return qa(t.type._context),null;case 22:case 23:return su(),null;case 24:return null;default:return null}}var Zi=!1,Ue=!1,dy=typeof WeakSet=="function"?WeakSet:Set,q=null;function or(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ce(e,t,r)}else n.current=null}function Ys(e,t,n){try{n()}catch(r){Ce(e,t,r)}}var Rc=!1;function fy(e,t){if(Ms=Ro,e=Mp(),ja(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,s=-1,a=-1,u=0,c=0,p=e,g=null;t:for(;;){for(var m;p!==n||i!==0&&p.nodeType!==3||(s=l+i),p!==o||r!==0&&p.nodeType!==3||(a=l+r),p.nodeType===3&&(l+=p.nodeValue.length),(m=p.firstChild)!==null;)g=p,p=m;for(;;){if(p===e)break t;if(g===n&&++u===i&&(s=l),g===o&&++c===r&&(a=l),(m=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=m}n=s===-1||a===-1?null:{start:s,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rs={focusedElem:e,selectionRange:n},Ro=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var C=w.memoizedProps,_=w.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?C:It(t.type,C),_);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(T){Ce(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return w=Rc,Rc=!1,w}function ni(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Ys(t,n,o)}i=i.next}while(i!==r)}}function dl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Qs(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function _h(e){var t=e.alternate;t!==null&&(e.alternate=null,_h(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ot],delete t[xi],delete t[zs],delete t[K0],delete t[Y0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bh(e){return e.tag===5||e.tag===3||e.tag===4}function Lc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Js(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=zo));else if(r!==4&&(e=e.child,e!==null))for(Js(e,t,n),e=e.sibling;e!==null;)Js(e,t,n),e=e.sibling}function Xs(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Xs(e,t,n),e=e.sibling;e!==null;)Xs(e,t,n),e=e.sibling}var Le=null,_t=!1;function rn(e,t,n){for(n=n.child;n!==null;)Ph(e,t,n),n=n.sibling}function Ph(e,t,n){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(rl,n)}catch{}switch(n.tag){case 5:Ue||or(n,t);case 6:var r=Le,i=_t;Le=null,rn(e,t,n),Le=r,_t=i,Le!==null&&(_t?(e=Le,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Le.removeChild(n.stateNode));break;case 18:Le!==null&&(_t?(e=Le,n=n.stateNode,e.nodeType===8?Hl(e.parentNode,n):e.nodeType===1&&Hl(e,n),pi(e)):Hl(Le,n.stateNode));break;case 4:r=Le,i=_t,Le=n.stateNode.containerInfo,_t=!0,rn(e,t,n),Le=r,_t=i;break;case 0:case 11:case 14:case 15:if(!Ue&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&Ys(n,t,l),i=i.next}while(i!==r)}rn(e,t,n);break;case 1:if(!Ue&&(or(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ce(n,t,s)}rn(e,t,n);break;case 21:rn(e,t,n);break;case 22:n.mode&1?(Ue=(r=Ue)||n.memoizedState!==null,rn(e,t,n),Ue=r):rn(e,t,n);break;default:rn(e,t,n)}}function Dc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new dy),t.forEach(function(r){var i=ky.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Nt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,l=t,s=l;e:for(;s!==null;){switch(s.tag){case 5:Le=s.stateNode,_t=!1;break e;case 3:Le=s.stateNode.containerInfo,_t=!0;break e;case 4:Le=s.stateNode.containerInfo,_t=!0;break e}s=s.return}if(Le===null)throw Error(V(160));Ph(o,l,i),Le=null,_t=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Ce(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ah(t,e),t=t.sibling}function Ah(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Nt(t,e),Dt(e),r&4){try{ni(3,e,e.return),dl(3,e)}catch(C){Ce(e,e.return,C)}try{ni(5,e,e.return)}catch(C){Ce(e,e.return,C)}}break;case 1:Nt(t,e),Dt(e),r&512&&n!==null&&or(n,n.return);break;case 5:if(Nt(t,e),Dt(e),r&512&&n!==null&&or(n,n.return),e.flags&32){var i=e.stateNode;try{ui(i,"")}catch(C){Ce(e,e.return,C)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,l=n!==null?n.memoizedProps:o,s=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&Zf(i,o),Cs(s,l);var u=Cs(s,o);for(l=0;l<a.length;l+=2){var c=a[l],p=a[l+1];c==="style"?ip(i,p):c==="dangerouslySetInnerHTML"?np(i,p):c==="children"?ui(i,p):Na(i,c,p,u)}switch(s){case"input":ys(i,o);break;case"textarea":ep(i,o);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?sr(i,!!o.multiple,m,!1):g!==!!o.multiple&&(o.defaultValue!=null?sr(i,!!o.multiple,o.defaultValue,!0):sr(i,!!o.multiple,o.multiple?[]:"",!1))}i[xi]=o}catch(C){Ce(e,e.return,C)}}break;case 6:if(Nt(t,e),Dt(e),r&4){if(e.stateNode===null)throw Error(V(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(C){Ce(e,e.return,C)}}break;case 3:if(Nt(t,e),Dt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{pi(t.containerInfo)}catch(C){Ce(e,e.return,C)}break;case 4:Nt(t,e),Dt(e);break;case 13:Nt(t,e),Dt(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(ou=Ee())),r&4&&Dc(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Ue=(u=Ue)||c,Nt(t,e),Ue=u):Nt(t,e),Dt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(q=e,c=e.child;c!==null;){for(p=q=c;q!==null;){switch(g=q,m=g.child,g.tag){case 0:case 11:case 14:case 15:ni(4,g,g.return);break;case 1:or(g,g.return);var w=g.stateNode;if(typeof w.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(C){Ce(r,n,C)}}break;case 5:or(g,g.return);break;case 22:if(g.memoizedState!==null){Fc(p);continue}}m!==null?(m.return=g,q=m):Fc(p)}c=c.sibling}e:for(c=null,p=e;;){if(p.tag===5){if(c===null){c=p;try{i=p.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=p.stateNode,a=p.memoizedProps.style,l=a!=null&&a.hasOwnProperty("display")?a.display:null,s.style.display=rp("display",l))}catch(C){Ce(e,e.return,C)}}}else if(p.tag===6){if(c===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(C){Ce(e,e.return,C)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;c===p&&(c=null),p=p.return}c===p&&(c=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Nt(t,e),Dt(e),r&4&&Dc(e);break;case 21:break;default:Nt(t,e),Dt(e)}}function Dt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(bh(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ui(i,""),r.flags&=-33);var o=Lc(e);Xs(e,o,i);break;case 3:case 4:var l=r.stateNode.containerInfo,s=Lc(e);Js(e,s,l);break;default:throw Error(V(161))}}catch(a){Ce(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function py(e,t,n){q=e,Mh(e)}function Mh(e,t,n){for(var r=(e.mode&1)!==0;q!==null;){var i=q,o=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||Zi;if(!l){var s=i.alternate,a=s!==null&&s.memoizedState!==null||Ue;s=Zi;var u=Ue;if(Zi=l,(Ue=a)&&!u)for(q=i;q!==null;)l=q,a=l.child,l.tag===22&&l.memoizedState!==null?Oc(i):a!==null?(a.return=l,q=a):Oc(i);for(;o!==null;)q=o,Mh(o),o=o.sibling;q=i,Zi=s,Ue=u}zc(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,q=o):zc(e)}}function zc(e){for(;q!==null;){var t=q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ue||dl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ue)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:It(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&wc(t,o,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}wc(t,l,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var p=c.dehydrated;p!==null&&pi(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}Ue||t.flags&512&&Qs(t)}catch(g){Ce(t,t.return,g)}}if(t===e){q=null;break}if(n=t.sibling,n!==null){n.return=t.return,q=n;break}q=t.return}}function Fc(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,q=n;break}q=t.return}}function Oc(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{dl(4,t)}catch(a){Ce(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){Ce(t,i,a)}}var o=t.return;try{Qs(t)}catch(a){Ce(t,o,a)}break;case 5:var l=t.return;try{Qs(t)}catch(a){Ce(t,l,a)}}}catch(a){Ce(t,t.return,a)}if(t===e){q=null;break}var s=t.sibling;if(s!==null){s.return=t.return,q=s;break}q=t.return}}var hy=Math.ceil,Wo=en.ReactCurrentDispatcher,ru=en.ReactCurrentOwner,wt=en.ReactCurrentBatchConfig,se=0,Re=null,Ne=null,De=0,st=0,lr=Sn(0),Pe=0,Ei=null,Un=0,fl=0,iu=0,ri=null,Je=null,ou=0,Cr=1/0,qt=null,Ko=!1,Zs=null,yn=null,eo=!1,dn=null,Yo=0,ii=0,ea=null,xo=-1,vo=0;function $e(){return se&6?Ee():xo!==-1?xo:xo=Ee()}function xn(e){return e.mode&1?se&2&&De!==0?De&-De:J0.transition!==null?(vo===0&&(vo=gp()),vo):(e=de,e!==0||(e=window.event,e=e===void 0?16:Sp(e.type)),e):1}function At(e,t,n,r){if(50<ii)throw ii=0,ea=null,Error(V(185));bi(e,n,r),(!(se&2)||e!==Re)&&(e===Re&&(!(se&2)&&(fl|=n),Pe===4&&un(e,De)),nt(e,r),n===1&&se===0&&!(t.mode&1)&&(Cr=Ee()+500,al&&En()))}function nt(e,t){var n=e.callbackNode;Jg(e,t);var r=Mo(e,e===Re?De:0);if(r===0)n!==null&&Wu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Wu(n),t===1)e.tag===0?Q0(jc.bind(null,e)):Hp(jc.bind(null,e)),G0(function(){!(se&6)&&En()}),n=null;else{switch(yp(r)){case 1:n=Aa;break;case 4:n=hp;break;case 16:n=Ao;break;case 536870912:n=mp;break;default:n=Ao}n=Uh(n,Rh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Rh(e,t){if(xo=-1,vo=0,se&6)throw Error(V(327));var n=e.callbackNode;if(fr()&&e.callbackNode!==n)return null;var r=Mo(e,e===Re?De:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Qo(e,r);else{t=r;var i=se;se|=2;var o=Dh();(Re!==e||De!==t)&&(qt=null,Cr=Ee()+500,Dn(e,t));do try{yy();break}catch(s){Lh(e,s)}while(!0);$a(),Wo.current=o,se=i,Ne!==null?t=0:(Re=null,De=0,t=Pe)}if(t!==0){if(t===2&&(i=Is(e),i!==0&&(r=i,t=ta(e,i))),t===1)throw n=Ei,Dn(e,0),un(e,r),nt(e,Ee()),n;if(t===6)un(e,r);else{if(i=e.current.alternate,!(r&30)&&!my(i)&&(t=Qo(e,r),t===2&&(o=Is(e),o!==0&&(r=o,t=ta(e,o))),t===1))throw n=Ei,Dn(e,0),un(e,r),nt(e,Ee()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(V(345));case 2:Pn(e,Je,qt);break;case 3:if(un(e,r),(r&130023424)===r&&(t=ou+500-Ee(),10<t)){if(Mo(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){$e(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ds(Pn.bind(null,e,Je,qt),t);break}Pn(e,Je,qt);break;case 4:if(un(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var l=31-Pt(r);o=1<<l,l=t[l],l>i&&(i=l),r&=~o}if(r=i,r=Ee()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hy(r/1960))-r,10<r){e.timeoutHandle=Ds(Pn.bind(null,e,Je,qt),r);break}Pn(e,Je,qt);break;case 5:Pn(e,Je,qt);break;default:throw Error(V(329))}}}return nt(e,Ee()),e.callbackNode===n?Rh.bind(null,e):null}function ta(e,t){var n=ri;return e.current.memoizedState.isDehydrated&&(Dn(e,t).flags|=256),e=Qo(e,t),e!==2&&(t=Je,Je=n,t!==null&&na(t)),e}function na(e){Je===null?Je=e:Je.push.apply(Je,e)}function my(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Mt(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function un(e,t){for(t&=~iu,t&=~fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Pt(t),r=1<<n;e[n]=-1,t&=~r}}function jc(e){if(se&6)throw Error(V(327));fr();var t=Mo(e,0);if(!(t&1))return nt(e,Ee()),null;var n=Qo(e,t);if(e.tag!==0&&n===2){var r=Is(e);r!==0&&(t=r,n=ta(e,r))}if(n===1)throw n=Ei,Dn(e,0),un(e,t),nt(e,Ee()),n;if(n===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pn(e,Je,qt),nt(e,Ee()),null}function lu(e,t){var n=se;se|=1;try{return e(t)}finally{se=n,se===0&&(Cr=Ee()+500,al&&En())}}function Vn(e){dn!==null&&dn.tag===0&&!(se&6)&&fr();var t=se;se|=1;var n=wt.transition,r=de;try{if(wt.transition=null,de=1,e)return e()}finally{de=r,wt.transition=n,se=t,!(se&6)&&En()}}function su(){st=lr.current,ye(lr)}function Dn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,q0(n)),Ne!==null)for(n=Ne.return;n!==null;){var r=n;switch(Va(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fo();break;case 3:wr(),ye(et),ye(Ve),Qa();break;case 5:Ya(r);break;case 4:wr();break;case 13:ye(ve);break;case 19:ye(ve);break;case 10:qa(r.type._context);break;case 22:case 23:su()}n=n.return}if(Re=e,Ne=e=vn(e.current,null),De=st=t,Pe=0,Ei=null,iu=fl=Un=0,Je=ri=null,Rn!==null){for(t=0;t<Rn.length;t++)if(n=Rn[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var l=o.next;o.next=i,r.next=l}n.pending=r}Rn=null}return e}function Lh(e,t){do{var n=Ne;try{if($a(),mo.current=Go,qo){for(var r=we.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}qo=!1}if(jn=0,Me=be=we=null,ti=!1,ki=0,ru.current=null,n===null||n.return===null){Pe=1,Ei=t,Ne=null;break}e:{var o=e,l=n.return,s=n,a=t;if(t=De,s.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=s,p=c.tag;if(!(c.mode&1)&&(p===0||p===11||p===15)){var g=c.alternate;g?(c.updateQueue=g.updateQueue,c.memoizedState=g.memoizedState,c.lanes=g.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=Nc(l);if(m!==null){m.flags&=-257,Ic(m,l,s,o,t),m.mode&1&&Tc(o,u,t),t=m,a=u;var w=t.updateQueue;if(w===null){var C=new Set;C.add(a),t.updateQueue=C}else w.add(a);break e}else{if(!(t&1)){Tc(o,u,t),au();break e}a=Error(V(426))}}else if(xe&&s.mode&1){var _=Nc(l);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Ic(_,l,s,o,t),Ha(kr(a,s));break e}}o=a=kr(a,s),Pe!==4&&(Pe=2),ri===null?ri=[o]:ri.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=yh(o,a,t);vc(o,y);break e;case 1:s=a;var x=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(yn===null||!yn.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t;var T=xh(o,s,t);vc(o,T);break e}}o=o.return}while(o!==null)}Fh(n)}catch(N){t=N,Ne===n&&n!==null&&(Ne=n=n.return);continue}break}while(!0)}function Dh(){var e=Wo.current;return Wo.current=Go,e===null?Go:e}function au(){(Pe===0||Pe===3||Pe===2)&&(Pe=4),Re===null||!(Un&268435455)&&!(fl&268435455)||un(Re,De)}function Qo(e,t){var n=se;se|=2;var r=Dh();(Re!==e||De!==t)&&(qt=null,Dn(e,t));do try{gy();break}catch(i){Lh(e,i)}while(!0);if($a(),se=n,Wo.current=r,Ne!==null)throw Error(V(261));return Re=null,De=0,Pe}function gy(){for(;Ne!==null;)zh(Ne)}function yy(){for(;Ne!==null&&!Hg();)zh(Ne)}function zh(e){var t=jh(e.alternate,e,st);e.memoizedProps=e.pendingProps,t===null?Fh(e):Ne=t,ru.current=null}function Fh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=cy(n,t),n!==null){n.flags&=32767,Ne=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pe=6,Ne=null;return}}else if(n=uy(n,t,st),n!==null){Ne=n;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);Pe===0&&(Pe=5)}function Pn(e,t,n){var r=de,i=wt.transition;try{wt.transition=null,de=1,xy(e,t,n,r)}finally{wt.transition=i,de=r}return null}function xy(e,t,n,r){do fr();while(dn!==null);if(se&6)throw Error(V(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Xg(e,o),e===Re&&(Ne=Re=null,De=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||eo||(eo=!0,Uh(Ao,function(){return fr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=wt.transition,wt.transition=null;var l=de;de=1;var s=se;se|=4,ru.current=null,fy(e,n),Ah(n,e),O0(Rs),Ro=!!Ms,Rs=Ms=null,e.current=n,py(n),Bg(),se=s,de=l,wt.transition=o}else e.current=n;if(eo&&(eo=!1,dn=e,Yo=i),o=e.pendingLanes,o===0&&(yn=null),Gg(n.stateNode),nt(e,Ee()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ko)throw Ko=!1,e=Zs,Zs=null,e;return Yo&1&&e.tag!==0&&fr(),o=e.pendingLanes,o&1?e===ea?ii++:(ii=0,ea=e):ii=0,En(),null}function fr(){if(dn!==null){var e=yp(Yo),t=wt.transition,n=de;try{if(wt.transition=null,de=16>e?16:e,dn===null)var r=!1;else{if(e=dn,dn=null,Yo=0,se&6)throw Error(V(331));var i=se;for(se|=4,q=e.current;q!==null;){var o=q,l=o.child;if(q.flags&16){var s=o.deletions;if(s!==null){for(var a=0;a<s.length;a++){var u=s[a];for(q=u;q!==null;){var c=q;switch(c.tag){case 0:case 11:case 15:ni(8,c,o)}var p=c.child;if(p!==null)p.return=c,q=p;else for(;q!==null;){c=q;var g=c.sibling,m=c.return;if(_h(c),c===u){q=null;break}if(g!==null){g.return=m,q=g;break}q=m}}}var w=o.alternate;if(w!==null){var C=w.child;if(C!==null){w.child=null;do{var _=C.sibling;C.sibling=null,C=_}while(C!==null)}}q=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,q=l;else e:for(;q!==null;){if(o=q,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ni(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,q=y;break e}q=o.return}}var x=e.current;for(q=x;q!==null;){l=q;var v=l.child;if(l.subtreeFlags&2064&&v!==null)v.return=l,q=v;else e:for(l=x;q!==null;){if(s=q,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:dl(9,s)}}catch(N){Ce(s,s.return,N)}if(s===l){q=null;break e}var T=s.sibling;if(T!==null){T.return=s.return,q=T;break e}q=s.return}}if(se=i,En(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(rl,e)}catch{}r=!0}return r}finally{de=n,wt.transition=t}}return!1}function Uc(e,t,n){t=kr(n,t),t=yh(e,t,1),e=gn(e,t,1),t=$e(),e!==null&&(bi(e,1,t),nt(e,t))}function Ce(e,t,n){if(e.tag===3)Uc(e,e,n);else for(;t!==null;){if(t.tag===3){Uc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yn===null||!yn.has(r))){e=kr(n,e),e=xh(t,e,1),t=gn(t,e,1),e=$e(),t!==null&&(bi(t,1,e),nt(t,e));break}}t=t.return}}function vy(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=$e(),e.pingedLanes|=e.suspendedLanes&n,Re===e&&(De&n)===n&&(Pe===4||Pe===3&&(De&130023424)===De&&500>Ee()-ou?Dn(e,0):iu|=n),nt(e,t)}function Oh(e,t){t===0&&(e.mode&1?(t=$i,$i<<=1,!($i&130023424)&&($i=4194304)):t=1);var n=$e();e=Xt(e,t),e!==null&&(bi(e,t,n),nt(e,n))}function wy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Oh(e,n)}function ky(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(t),Oh(e,n)}var jh;jh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||et.current)Ze=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ze=!1,ay(e,t,n);Ze=!!(e.flags&131072)}else Ze=!1,xe&&t.flags&1048576&&Bp(t,Uo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;yo(e,t),e=t.pendingProps;var i=yr(t,Ve.current);dr(t,n),i=Xa(null,t,r,e,i,n);var o=Za();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tt(r)?(o=!0,Oo(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Wa(t),i.updater=cl,t.stateNode=i,i._reactInternals=t,Hs(t,r,e,n),t=qs(null,t,r,!0,o,n)):(t.tag=0,xe&&o&&Ua(t),Be(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(yo(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Sy(r),e=It(r,e),i){case 0:t=$s(null,t,r,e,n);break e;case 1:t=Pc(null,t,r,e,n);break e;case 11:t=_c(null,t,r,e,n);break e;case 14:t=bc(null,t,r,It(r.type,e),n);break e}throw Error(V(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:It(r,i),$s(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:It(r,i),Pc(e,t,r,i,n);case 3:e:{if(Ch(t),e===null)throw Error(V(387));r=t.pendingProps,o=t.memoizedState,i=o.element,Yp(e,t),Bo(t,r,null,n);var l=t.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=kr(Error(V(423)),t),t=Ac(e,t,r,n,i);break e}else if(r!==i){i=kr(Error(V(424)),t),t=Ac(e,t,r,n,i);break e}else for(at=mn(t.stateNode.containerInfo.firstChild),ct=t,xe=!0,bt=null,n=Wp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xr(),r===i){t=Zt(e,t,n);break e}Be(e,t,r,n)}t=t.child}return t;case 5:return Qp(t),e===null&&js(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,l=i.children,Ls(r,i)?l=null:o!==null&&Ls(r,o)&&(t.flags|=32),kh(e,t),Be(e,t,l,n),t.child;case 6:return e===null&&js(t),null;case 13:return Sh(e,t,n);case 4:return Ka(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=vr(t,null,r,n):Be(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:It(r,i),_c(e,t,r,i,n);case 7:return Be(e,t,t.pendingProps,n),t.child;case 8:return Be(e,t,t.pendingProps.children,n),t.child;case 12:return Be(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,l=i.value,he(Vo,r._currentValue),r._currentValue=l,o!==null)if(Mt(o.value,l)){if(o.children===i.children&&!et.current){t=Zt(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){l=o.child;for(var a=s.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=Yt(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Us(o.return,n,t),s.lanes|=n;break}a=a.next}}else if(o.tag===10)l=o.type===t.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(V(341));l.lanes|=n,s=l.alternate,s!==null&&(s.lanes|=n),Us(l,n,t),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===t){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}Be(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,dr(t,n),i=kt(i),r=r(i),t.flags|=1,Be(e,t,r,n),t.child;case 14:return r=t.type,i=It(r,t.pendingProps),i=It(r.type,i),bc(e,t,r,i,n);case 15:return vh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:It(r,i),yo(e,t),t.tag=1,tt(r)?(e=!0,Oo(t)):e=!1,dr(t,n),gh(t,r,i),Hs(t,r,i,n),qs(null,t,r,!0,e,n);case 19:return Eh(e,t,n);case 22:return wh(e,t,n)}throw Error(V(156,t.tag))};function Uh(e,t){return pp(e,t)}function Cy(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xt(e,t,n,r){return new Cy(e,t,n,r)}function uu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sy(e){if(typeof e=="function")return uu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_a)return 11;if(e===ba)return 14}return 2}function vn(e,t){var n=e.alternate;return n===null?(n=xt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function wo(e,t,n,r,i,o){var l=2;if(r=e,typeof e=="function")uu(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Qn:return zn(n.children,i,o,t);case Ia:l=8,i|=8;break;case fs:return e=xt(12,n,t,i|2),e.elementType=fs,e.lanes=o,e;case ps:return e=xt(13,n,t,i),e.elementType=ps,e.lanes=o,e;case hs:return e=xt(19,n,t,i),e.elementType=hs,e.lanes=o,e;case Qf:return pl(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Kf:l=10;break e;case Yf:l=9;break e;case _a:l=11;break e;case ba:l=14;break e;case ln:l=16,r=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=xt(l,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function zn(e,t,n,r){return e=xt(7,e,r,t),e.lanes=n,e}function pl(e,t,n,r){return e=xt(22,e,r,t),e.elementType=Qf,e.lanes=n,e.stateNode={isHidden:!1},e}function Ql(e,t,n){return e=xt(6,e,null,t),e.lanes=n,e}function Jl(e,t,n){return t=xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ey(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Al(0),this.expirationTimes=Al(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Al(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function cu(e,t,n,r,i,o,l,s,a){return e=new Ey(e,t,n,s,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=xt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wa(o),e}function Ty(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Vh(e){if(!e)return kn;e=e._reactInternals;e:{if(Bn(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var n=e.type;if(tt(n))return Vp(e,n,t)}return t}function Hh(e,t,n,r,i,o,l,s,a){return e=cu(n,r,!0,e,i,o,l,s,a),e.context=Vh(null),n=e.current,r=$e(),i=xn(n),o=Yt(r,i),o.callback=t??null,gn(n,o,i),e.current.lanes=i,bi(e,i,r),nt(e,r),e}function hl(e,t,n,r){var i=t.current,o=$e(),l=xn(i);return n=Vh(n),t.context===null?t.context=n:t.pendingContext=n,t=Yt(o,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=gn(i,t,l),e!==null&&(At(e,i,l,o),ho(e,i,l)),l}function Jo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Vc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function du(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}function Ny(){return null}var Bh=typeof reportError=="function"?reportError:function(e){console.error(e)};function fu(e){this._internalRoot=e}ml.prototype.render=fu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));hl(e,t,null,null)};ml.prototype.unmount=fu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vn(function(){hl(null,e,null,null)}),t[Jt]=null}};function ml(e){this._internalRoot=e}ml.prototype.unstable_scheduleHydration=function(e){if(e){var t=wp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<an.length&&t!==0&&t<an[n].priority;n++);an.splice(n,0,e),n===0&&Cp(e)}};function pu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function gl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Hc(){}function Iy(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Jo(l);o.call(u)}}var l=Hh(t,r,e,0,null,!1,!1,"",Hc);return e._reactRootContainer=l,e[Jt]=l.current,gi(e.nodeType===8?e.parentNode:e),Vn(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Jo(a);s.call(u)}}var a=cu(e,0,!1,null,null,!1,!1,"",Hc);return e._reactRootContainer=a,e[Jt]=a.current,gi(e.nodeType===8?e.parentNode:e),Vn(function(){hl(t,a,n,r)}),a}function yl(e,t,n,r,i){var o=n._reactRootContainer;if(o){var l=o;if(typeof i=="function"){var s=i;i=function(){var a=Jo(l);s.call(a)}}hl(t,l,e,i)}else l=Iy(n,t,e,i,r);return Jo(l)}xp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Wr(t.pendingLanes);n!==0&&(Ma(t,n|1),nt(t,Ee()),!(se&6)&&(Cr=Ee()+500,En()))}break;case 13:Vn(function(){var r=Xt(e,1);if(r!==null){var i=$e();At(r,e,1,i)}}),du(e,1)}};Ra=function(e){if(e.tag===13){var t=Xt(e,134217728);if(t!==null){var n=$e();At(t,e,134217728,n)}du(e,134217728)}};vp=function(e){if(e.tag===13){var t=xn(e),n=Xt(e,t);if(n!==null){var r=$e();At(n,e,t,r)}du(e,t)}};wp=function(){return de};kp=function(e,t){var n=de;try{return de=e,t()}finally{de=n}};Es=function(e,t,n){switch(t){case"input":if(ys(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=sl(r);if(!i)throw Error(V(90));Xf(r),ys(r,i)}}}break;case"textarea":ep(e,n);break;case"select":t=n.value,t!=null&&sr(e,!!n.multiple,t,!1)}};sp=lu;ap=Vn;var _y={usingClientEntryPoint:!1,Events:[Ai,er,sl,op,lp,lu]},Vr={findFiberByHostInstance:Mn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},by={bundleType:Vr.bundleType,version:Vr.version,rendererPackageName:Vr.rendererPackageName,rendererConfig:Vr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:en.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dp(e),e===null?null:e.stateNode},findFiberByHostInstance:Vr.findFiberByHostInstance||Ny,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var to=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!to.isDisabled&&to.supportsFiber)try{rl=to.inject(by),Ut=to}catch{}}pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_y;pt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pu(t))throw Error(V(200));return Ty(e,t,null,n)};pt.createRoot=function(e,t){if(!pu(e))throw Error(V(299));var n=!1,r="",i=Bh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=cu(e,1,!1,null,null,n,!1,r,i),e[Jt]=t.current,gi(e.nodeType===8?e.parentNode:e),new fu(t)};pt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=dp(t),e=e===null?null:e.stateNode,e};pt.flushSync=function(e){return Vn(e)};pt.hydrate=function(e,t,n){if(!gl(t))throw Error(V(200));return yl(null,e,t,!0,n)};pt.hydrateRoot=function(e,t,n){if(!pu(e))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",l=Bh;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=Hh(t,null,e,1,n??null,i,!1,o,l),e[Jt]=t.current,gi(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ml(t)};pt.render=function(e,t,n){if(!gl(t))throw Error(V(200));return yl(null,e,t,!1,n)};pt.unmountComponentAtNode=function(e){if(!gl(e))throw Error(V(40));return e._reactRootContainer?(Vn(function(){yl(null,null,e,!1,function(){e._reactRootContainer=null,e[Jt]=null})}),!0):!1};pt.unstable_batchedUpdates=lu;pt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!gl(n))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return yl(e,t,n,!1,r)};pt.version="18.3.1-next-f1338f8080-20240426";function $h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($h)}catch(e){console.error(e)}}$h(),$f.exports=pt;var Py=$f.exports,Bc=Py;cs.createRoot=Bc.createRoot,cs.hydrateRoot=Bc.hydrateRoot;/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hu{}function ce(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const o=t[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function f(e,t,n){for(let o=0;o<t.length-1;o++){const l=t[o];if(l.endsWith("[]")){const s=l.slice(0,-2);if(!(s in e))if(Array.isArray(n))e[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(e[s])){const a=e[s];if(Array.isArray(n))for(let u=0;u<a.length;u++){const c=a[u];f(c,t.slice(o+1),n[u])}else for(const u of a)f(u,t.slice(o+1),n)}return}else if(l.endsWith("[0]")){const s=l.slice(0,-3);s in e||(e[s]=[{}]);const a=e[s];f(a[0],t.slice(o+1),n);return}(!e[l]||typeof e[l]!="object")&&(e[l]={}),e=e[l]}const r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else e[r]=n}function d(e,t){try{if(t.length===1&&t[0]==="_self")return e;for(let n=0;n<t.length;n++){if(typeof e!="object"||e===null)return;const r=t[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in e){const o=e[i];return Array.isArray(o)?o.map(l=>d(l,t.slice(n+1))):void 0}else return}else e=e[r]}return e}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ft(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function qh(e,t){const n=ft(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function $c(e,t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Ti(e,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(n=>$c(e,n)):[$c(e,t)]}function Gh(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function Ay(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function mu(e){return!(e==null||Ay(e))}function Wh(e){return e==null||Array.isArray(e)&&e.length===0?!1:e.every(mu)}function vt(e,t){if(t==null)throw new Error("ContentUnion is required");return Gh(t)?t:mu(t)?{role:"user",parts:Ti(e,t)}:{role:"model",parts:Ti(e,t)}}function Kh(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=vt(e,n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=vt(e,t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>vt(e,n)):[vt(e,t)]}function ko(e,t,n){n.length!==0&&(Wh(n)?t.push({role:"user",parts:Ti(e,n)}):t.push({role:"model",parts:Ti(e,n)}),n.length=0)}function My(e,t,n,r){mu(r)===Wh(n)||(ko(e,t,n),n.length=0),n.push(r)}function Se(e,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t))return[vt(e,t)];const n=[],r=[];for(const i of t)if(Gh(i))ko(e,n,r),n.push(i);else if(typeof i=="string"||typeof i=="object"&&!Array.isArray(i))My(e,n,r,i);else if(Array.isArray(i))ko(e,n,r),n.push({role:"user",parts:Ti(e,i)});else throw new Error(`Unsupported content type: ${typeof i}`);return ko(e,n,r),n}function Yh(e,t){if(!e.isVertexAI()&&("title"in t&&delete t.title,"default"in t))throw new Error("Default value is not supported in the response schema for the Gemini API.");if("anyOf"in t){if(!e.isVertexAI())throw new Error("AnyOf is not supported in the response schema for the Gemini API.");if(t.anyOf!==void 0)for(const n of t.anyOf)Yh(e,n)}}function Qh(e,t){return Yh(e,t),t}function Jh(e,t){if(typeof t=="object"&&"voiceConfig"in t)return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Xh(e,t){return t}function pr(e,t){if(!Array.isArray(t))throw new Error("tool is required and must be an array of Tools");return t}function Ry(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function Tn(e,t){if(typeof t!="string")throw new Error("name must be a string");return Ry(e,t,"cachedContents")}function Zh(e,t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function Ly(e,t){if(typeof t!="string")throw new Error("fromName must be a string");return t.startsWith("files/")?t.split("files/")[1]:t}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Xo;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Xo||(Xo={}));class em{constructor(t,n,r,i){this.pageInternal=[],this.requestInternal=n,this.init(t,r,i)}init(t,n,r){var i,o;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let l={config:{}};r?typeof r=="object"?l=Object.assign({},r):l=r:l={config:{}},l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(o=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var qc;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(qc||(qc={}));var Gc;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(Gc||(Gc={}));var Wc;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT"})(Wc||(Wc={}));var Kc;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Kc||(Kc={}));var Yc;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(Yc||(Yc={}));var Qc;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(Qc||(Qc={}));var Jc;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Jc||(Jc={}));var Xc;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL"})(Xc||(Xc={}));var Zc;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Zc||(Zc={}));var ed;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ed||(ed={}));var td;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(td||(td={}));var nd;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.ACTIVE="ACTIVE",e.ERROR="ERROR"})(nd||(nd={}));var rd;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(rd||(rd={}));var id;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(id||(id={}));var od;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(od||(od={}));var ld;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(ld||(ld={}));var sd;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(sd||(sd={}));var ad;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi"})(ad||(ad={}));var ud;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(ud||(ud={}));var cd;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(cd||(cd={}));var dd;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(dd||(dd={}));var fd;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(fd||(fd={}));var pd;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(pd||(pd={}));var hd;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(hd||(hd={}));class no{get text(){var t,n,r,i,o,l,s,a;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const p=[];for(const g of(a=(s=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)!==null&&a!==void 0?a:[]){for(const[m,w]of Object.entries(g))m!=="text"&&m!=="thought"&&(w!==null||w!==void 0)&&p.push(m);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;c=!0,u+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get functionCalls(){var t,n,r,i,o,l,s,a;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(a=(s=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var t,n,r,i,o,l,s,a,u;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(a=(s=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var t,n,r,i,o,l,s,a,u;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(a=(s=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class md{}class gd{}class yd{}class xd{}class vd{}class wd{}class kd{}class tm{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Cd{}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dy extends hu{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new em(Xo.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=nx(this.apiClient,t);return o=ce("cachedContents",s._url),l=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(a=>a.json()),i.then(a=>So(this.apiClient,a))}else{const s=tx(this.apiClient,t);return o=ce("cachedContents",s._url),l=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(a=>a.json()),i.then(a=>Co(this.apiClient,a))}}async get(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=ix(this.apiClient,t);return o=ce("{name}",s._url),l=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(a=>a.json()),i.then(a=>So(this.apiClient,a))}else{const s=rx(this.apiClient,t);return o=ce("{name}",s._url),l=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(a=>a.json()),i.then(a=>Co(this.apiClient,a))}}async delete(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=lx(this.apiClient,t);return o=ce("{name}",s._url),l=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(a=>a.json()),i.then(a=>{const u=gx(this.apiClient),c=new vd;return Object.assign(c,u),c})}else{const s=ox(this.apiClient,t);return o=ce("{name}",s._url),l=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(a=>a.json()),i.then(a=>{const u=mx(this.apiClient),c=new vd;return Object.assign(c,u),c})}}async update(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=cx(this.apiClient,t);return o=ce("{name}",s._url),l=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(a=>a.json()),i.then(a=>So(this.apiClient,a))}else{const s=ux(this.apiClient,t);return o=ce("{name}",s._url),l=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(a=>a.json()),i.then(a=>Co(this.apiClient,a))}}async listInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=hx(this.apiClient,t);return o=ce("cachedContents",s._url),l=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(a=>a.json()),i.then(a=>{const u=xx(this.apiClient,a),c=new wd;return Object.assign(c,u),c})}else{const s=px(this.apiClient,t);return o=ce("cachedContents",s._url),l=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(a=>a.json()),i.then(a=>{const u=yx(this.apiClient,a),c=new wd;return Object.assign(c,u),c})}}}function zy(e,t){const n={};if(d(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=d(t,["thought"]);r!=null&&f(n,["thought"],r);const i=d(t,["codeExecutionResult"]);i!=null&&f(n,["codeExecutionResult"],i);const o=d(t,["executableCode"]);o!=null&&f(n,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&f(n,["fileData"],l);const s=d(t,["functionCall"]);s!=null&&f(n,["functionCall"],s);const a=d(t,["functionResponse"]);a!=null&&f(n,["functionResponse"],a);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],u);const c=d(t,["text"]);return c!=null&&f(n,["text"],c),n}function Fy(e,t){const n={},r=d(t,["videoMetadata"]);r!=null&&f(n,["videoMetadata"],r);const i=d(t,["thought"]);i!=null&&f(n,["thought"],i);const o=d(t,["codeExecutionResult"]);o!=null&&f(n,["codeExecutionResult"],o);const l=d(t,["executableCode"]);l!=null&&f(n,["executableCode"],l);const s=d(t,["fileData"]);s!=null&&f(n,["fileData"],s);const a=d(t,["functionCall"]);a!=null&&f(n,["functionCall"],a);const u=d(t,["functionResponse"]);u!=null&&f(n,["functionResponse"],u);const c=d(t,["inlineData"]);c!=null&&f(n,["inlineData"],c);const p=d(t,["text"]);return p!=null&&f(n,["text"],p),n}function Sd(e,t){const n={},r=d(t,["parts"]);r!=null&&(Array.isArray(r)?f(n,["parts"],r.map(o=>zy(e,o))):f(n,["parts"],r));const i=d(t,["role"]);return i!=null&&f(n,["role"],i),n}function Ed(e,t){const n={},r=d(t,["parts"]);r!=null&&(Array.isArray(r)?f(n,["parts"],r.map(o=>Fy(e,o))):f(n,["parts"],r));const i=d(t,["role"]);return i!=null&&f(n,["role"],i),n}function Oy(e,t){const n={},r=d(t,["example"]);r!=null&&f(n,["example"],r);const i=d(t,["pattern"]);i!=null&&f(n,["pattern"],i);const o=d(t,["minimum"]);o!=null&&f(n,["minimum"],o);const l=d(t,["default"]);l!=null&&f(n,["default"],l);const s=d(t,["anyOf"]);s!=null&&f(n,["anyOf"],s);const a=d(t,["maxLength"]);a!=null&&f(n,["maxLength"],a);const u=d(t,["title"]);u!=null&&f(n,["title"],u);const c=d(t,["minLength"]);c!=null&&f(n,["minLength"],c);const p=d(t,["minProperties"]);p!=null&&f(n,["minProperties"],p);const g=d(t,["maximum"]);g!=null&&f(n,["maximum"],g);const m=d(t,["maxProperties"]);m!=null&&f(n,["maxProperties"],m);const w=d(t,["description"]);w!=null&&f(n,["description"],w);const C=d(t,["enum"]);C!=null&&f(n,["enum"],C);const _=d(t,["format"]);_!=null&&f(n,["format"],_);const y=d(t,["items"]);y!=null&&f(n,["items"],y);const x=d(t,["maxItems"]);x!=null&&f(n,["maxItems"],x);const v=d(t,["minItems"]);v!=null&&f(n,["minItems"],v);const T=d(t,["nullable"]);T!=null&&f(n,["nullable"],T);const N=d(t,["properties"]);N!=null&&f(n,["properties"],N);const E=d(t,["propertyOrdering"]);E!=null&&f(n,["propertyOrdering"],E);const I=d(t,["required"]);I!=null&&f(n,["required"],I);const P=d(t,["type"]);return P!=null&&f(n,["type"],P),n}function jy(e,t){const n={};if(d(t,["response"])!==void 0)throw new Error("response parameter is not supported in Gemini API.");const r=d(t,["description"]);r!=null&&f(n,["description"],r);const i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["parameters"]);return o!=null&&f(n,["parameters"],o),n}function Uy(e,t){const n={},r=d(t,["response"]);r!=null&&f(n,["response"],Oy(e,r));const i=d(t,["description"]);i!=null&&f(n,["description"],i);const o=d(t,["name"]);o!=null&&f(n,["name"],o);const l=d(t,["parameters"]);return l!=null&&f(n,["parameters"],l),n}function Vy(e,t){return{}}function Hy(e,t){return{}}function By(e,t){const n={},r=d(t,["mode"]);r!=null&&f(n,["mode"],r);const i=d(t,["dynamicThreshold"]);return i!=null&&f(n,["dynamicThreshold"],i),n}function $y(e,t){const n={},r=d(t,["mode"]);r!=null&&f(n,["mode"],r);const i=d(t,["dynamicThreshold"]);return i!=null&&f(n,["dynamicThreshold"],i),n}function qy(e,t){const n={},r=d(t,["dynamicRetrievalConfig"]);return r!=null&&f(n,["dynamicRetrievalConfig"],By(e,r)),n}function Gy(e,t){const n={},r=d(t,["dynamicRetrievalConfig"]);return r!=null&&f(n,["dynamicRetrievalConfig"],$y(e,r)),n}function Wy(e,t){const n={},r=d(t,["functionDeclarations"]);if(r!=null&&(Array.isArray(r)?f(n,["functionDeclarations"],r.map(s=>jy(e,s))):f(n,["functionDeclarations"],r)),d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");d(t,["googleSearch"])!=null&&f(n,["googleSearch"],Vy());const o=d(t,["googleSearchRetrieval"]);o!=null&&f(n,["googleSearchRetrieval"],qy(e,o));const l=d(t,["codeExecution"]);return l!=null&&f(n,["codeExecution"],l),n}function Ky(e,t){const n={},r=d(t,["functionDeclarations"]);r!=null&&(Array.isArray(r)?f(n,["functionDeclarations"],r.map(a=>Uy(e,a))):f(n,["functionDeclarations"],r));const i=d(t,["retrieval"]);i!=null&&f(n,["retrieval"],i),d(t,["googleSearch"])!=null&&f(n,["googleSearch"],Hy());const l=d(t,["googleSearchRetrieval"]);l!=null&&f(n,["googleSearchRetrieval"],Gy(e,l));const s=d(t,["codeExecution"]);return s!=null&&f(n,["codeExecution"],s),n}function Yy(e,t){const n={},r=d(t,["mode"]);r!=null&&f(n,["mode"],r);const i=d(t,["allowedFunctionNames"]);return i!=null&&f(n,["allowedFunctionNames"],i),n}function Qy(e,t){const n={},r=d(t,["mode"]);r!=null&&f(n,["mode"],r);const i=d(t,["allowedFunctionNames"]);return i!=null&&f(n,["allowedFunctionNames"],i),n}function Jy(e,t){const n={},r=d(t,["functionCallingConfig"]);return r!=null&&f(n,["functionCallingConfig"],Yy(e,r)),n}function Xy(e,t){const n={},r=d(t,["functionCallingConfig"]);return r!=null&&f(n,["functionCallingConfig"],Qy(e,r)),n}function Zy(e,t,n){const r={},i=d(t,["ttl"]);n!==void 0&&i!=null&&f(n,["ttl"],i);const o=d(t,["expireTime"]);n!==void 0&&o!=null&&f(n,["expireTime"],o);const l=d(t,["displayName"]);n!==void 0&&l!=null&&f(n,["displayName"],l);const s=d(t,["contents"]);n!==void 0&&s!=null&&(Array.isArray(s)?f(n,["contents"],Se(e,Se(e,s).map(p=>Sd(e,p)))):f(n,["contents"],Se(e,s)));const a=d(t,["systemInstruction"]);n!==void 0&&a!=null&&f(n,["systemInstruction"],Sd(e,vt(e,a)));const u=d(t,["tools"]);n!==void 0&&u!=null&&(Array.isArray(u)?f(n,["tools"],u.map(p=>Wy(e,p))):f(n,["tools"],u));const c=d(t,["toolConfig"]);return n!==void 0&&c!=null&&f(n,["toolConfig"],Jy(e,c)),r}function ex(e,t,n){const r={},i=d(t,["ttl"]);n!==void 0&&i!=null&&f(n,["ttl"],i);const o=d(t,["expireTime"]);n!==void 0&&o!=null&&f(n,["expireTime"],o);const l=d(t,["displayName"]);n!==void 0&&l!=null&&f(n,["displayName"],l);const s=d(t,["contents"]);n!==void 0&&s!=null&&(Array.isArray(s)?f(n,["contents"],Se(e,Se(e,s).map(p=>Ed(e,p)))):f(n,["contents"],Se(e,s)));const a=d(t,["systemInstruction"]);n!==void 0&&a!=null&&f(n,["systemInstruction"],Ed(e,vt(e,a)));const u=d(t,["tools"]);n!==void 0&&u!=null&&(Array.isArray(u)?f(n,["tools"],u.map(p=>Ky(e,p))):f(n,["tools"],u));const c=d(t,["toolConfig"]);return n!==void 0&&c!=null&&f(n,["toolConfig"],Xy(e,c)),r}function tx(e,t){const n={},r=d(t,["model"]);r!=null&&f(n,["model"],qh(e,r));const i=d(t,["config"]);return i!=null&&f(n,["config"],Zy(e,i,n)),n}function nx(e,t){const n={},r=d(t,["model"]);r!=null&&f(n,["model"],qh(e,r));const i=d(t,["config"]);return i!=null&&f(n,["config"],ex(e,i,n)),n}function rx(e,t){const n={},r=d(t,["name"]);r!=null&&f(n,["_url","name"],Tn(e,r));const i=d(t,["config"]);return i!=null&&f(n,["config"],i),n}function ix(e,t){const n={},r=d(t,["name"]);r!=null&&f(n,["_url","name"],Tn(e,r));const i=d(t,["config"]);return i!=null&&f(n,["config"],i),n}function ox(e,t){const n={},r=d(t,["name"]);r!=null&&f(n,["_url","name"],Tn(e,r));const i=d(t,["config"]);return i!=null&&f(n,["config"],i),n}function lx(e,t){const n={},r=d(t,["name"]);r!=null&&f(n,["_url","name"],Tn(e,r));const i=d(t,["config"]);return i!=null&&f(n,["config"],i),n}function sx(e,t,n){const r={},i=d(t,["ttl"]);n!==void 0&&i!=null&&f(n,["ttl"],i);const o=d(t,["expireTime"]);return n!==void 0&&o!=null&&f(n,["expireTime"],o),r}function ax(e,t,n){const r={},i=d(t,["ttl"]);n!==void 0&&i!=null&&f(n,["ttl"],i);const o=d(t,["expireTime"]);return n!==void 0&&o!=null&&f(n,["expireTime"],o),r}function ux(e,t){const n={},r=d(t,["name"]);r!=null&&f(n,["_url","name"],Tn(e,r));const i=d(t,["config"]);return i!=null&&f(n,["config"],sx(e,i,n)),n}function cx(e,t){const n={},r=d(t,["name"]);r!=null&&f(n,["_url","name"],Tn(e,r));const i=d(t,["config"]);return i!=null&&f(n,["config"],ax(e,i,n)),n}function dx(e,t,n){const r={},i=d(t,["pageSize"]);n!==void 0&&i!=null&&f(n,["_query","pageSize"],i);const o=d(t,["pageToken"]);return n!==void 0&&o!=null&&f(n,["_query","pageToken"],o),r}function fx(e,t,n){const r={},i=d(t,["pageSize"]);n!==void 0&&i!=null&&f(n,["_query","pageSize"],i);const o=d(t,["pageToken"]);return n!==void 0&&o!=null&&f(n,["_query","pageToken"],o),r}function px(e,t){const n={},r=d(t,["config"]);return r!=null&&f(n,["config"],dx(e,r,n)),n}function hx(e,t){const n={},r=d(t,["config"]);return r!=null&&f(n,["config"],fx(e,r,n)),n}function Co(e,t){const n={},r=d(t,["name"]);r!=null&&f(n,["name"],r);const i=d(t,["displayName"]);i!=null&&f(n,["displayName"],i);const o=d(t,["model"]);o!=null&&f(n,["model"],o);const l=d(t,["createTime"]);l!=null&&f(n,["createTime"],l);const s=d(t,["updateTime"]);s!=null&&f(n,["updateTime"],s);const a=d(t,["expireTime"]);a!=null&&f(n,["expireTime"],a);const u=d(t,["usageMetadata"]);return u!=null&&f(n,["usageMetadata"],u),n}function So(e,t){const n={},r=d(t,["name"]);r!=null&&f(n,["name"],r);const i=d(t,["displayName"]);i!=null&&f(n,["displayName"],i);const o=d(t,["model"]);o!=null&&f(n,["model"],o);const l=d(t,["createTime"]);l!=null&&f(n,["createTime"],l);const s=d(t,["updateTime"]);s!=null&&f(n,["updateTime"],s);const a=d(t,["expireTime"]);a!=null&&f(n,["expireTime"],a);const u=d(t,["usageMetadata"]);return u!=null&&f(n,["usageMetadata"],u),n}function mx(e,t){return{}}function gx(e,t){return{}}function yx(e,t){const n={},r=d(t,["nextPageToken"]);r!=null&&f(n,["nextPageToken"],r);const i=d(t,["cachedContents"]);return i!=null&&(Array.isArray(i)?f(n,["cachedContents"],i.map(o=>Co(e,o))):f(n,["cachedContents"],i)),n}function xx(e,t){const n={},r=d(t,["nextPageToken"]);r!=null&&f(n,["nextPageToken"],r);const i=d(t,["cachedContents"]);return i!=null&&(Array.isArray(i)?f(n,["cachedContents"],i.map(o=>So(e,o))):f(n,["cachedContents"],i)),n}function Td(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xe(e){return this instanceof Xe?(this.v=e,this):new Xe(e)}function Zo(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(m){return function(w){return Promise.resolve(w).then(m,p)}}function s(m,w){r[m]&&(i[m]=function(C){return new Promise(function(_,y){o.push([m,C,_,y])>1||a(m,C)})},w&&(i[m]=w(i[m])))}function a(m,w){try{u(r[m](w))}catch(C){g(o[0][3],C)}}function u(m){m.value instanceof Xe?Promise.resolve(m.value.v).then(c,p):g(o[0][2],m)}function c(m){a("next",m)}function p(m){a("throw",m)}function g(m,w){m(w),o.shift(),o.length&&a(o[0][0],o[0][1])}}function ra(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Td=="function"?Td(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(l){return new Promise(function(s,a){l=e[o](l),i(s,a,l.done,l.value)})}}function i(o,l,s,a){Promise.resolve(a).then(function(u){o({value:u,done:s})},l)}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vx(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:nm(n)}function nm(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0||t.text!==void 0&&t.text==="")return!1;return!0}function wx(e){if(e.length!==0){if(e[0].role!=="user")throw new Error("History must start with a user turn.");for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function kx(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0,i=e[0];for(;r<n;)if(e[r].role==="user")i=e[r],r++;else{const o=[];let l=!0;for(;r<n&&e[r].role==="model";)o.push(e[r]),l&&!nm(e[r])&&(l=!1),r++;l&&(t.push(i),t.push(...o))}return t}class Cx{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new Sx(this.apiClient,this.modelsModule,t.model,t.config,t.history)}}class Sx{constructor(t,n,r,i={},o=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),wx(o)}async sendMessage(t){var n;await this.sendPromise;const r=vt(this.apiClient,t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,l;const a=(l=(o=(await i).candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content,u=a?[a]:[];this.recordHistory(r,u)})(),await this.sendPromise,i}async sendMessageStream(t){var n;await this.sendPromise;const r=vt(this.apiClient,t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(t=!1){return t?kx(this.history):this.history}processStreamResponse(t,n){var r,i;return Zo(this,arguments,function*(){var l,s,a,u;const c=[];try{for(var p=!0,g=ra(t),m;m=yield Xe(g.next()),l=m.done,!l;p=!0){u=m.value,p=!1;const w=u;if(vx(w)){const C=(i=(r=w.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;C!==void 0&&c.push(C)}yield yield Xe(w)}}catch(w){s={error:w}}finally{try{!p&&!l&&(a=g.return)&&(yield Xe(a.call(g)))}finally{if(s)throw s.error}}this.recordHistory(n,c)})}recordHistory(t,n){let r=[];n.length>0&&n.every(i=>i.role==="model")?r=n:r.push({role:"model",parts:[]}),this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ex extends hu{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>await this.generateContentInternal(n),this.generateContentStream=async n=>await this.generateContentStreamInternal(n)}async generateContentInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=Id(this.apiClient,t);return o=ce("{model}:generateContent",s._url),l=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(a=>a.json()),i.then(a=>{const u=bd(this.apiClient,a),c=new no;return Object.assign(c,u),c})}else{const s=Nd(this.apiClient,t);return o=ce("{model}:generateContent",s._url),l=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(a=>a.json()),i.then(a=>{const u=_d(this.apiClient,a),c=new no;return Object.assign(c,u),c})}}async generateContentStreamInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=Id(this.apiClient,t);o=ce("{model}:streamGenerateContent?alt=sse",s._url),l=s._query,delete s.config,delete s._url,delete s._query;const a=this.apiClient;return i=a.requestStream({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}),i.then(function(u){return Zo(this,arguments,function*(){var c,p,g,m;try{for(var w=!0,C=ra(u),_;_=yield Xe(C.next()),c=_.done,!c;w=!0){m=_.value,w=!1;const x=bd(a,m),v=new no;Object.assign(v,x),yield yield Xe(v)}}catch(y){p={error:y}}finally{try{!w&&!c&&(g=C.return)&&(yield Xe(g.call(C)))}finally{if(p)throw p.error}}})})}else{const s=Nd(this.apiClient,t);o=ce("{model}:streamGenerateContent?alt=sse",s._url),l=s._query,delete s.config,delete s._url,delete s._query;const a=this.apiClient;return i=a.requestStream({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}),i.then(function(u){return Zo(this,arguments,function*(){var c,p,g,m;try{for(var w=!0,C=ra(u),_;_=yield Xe(C.next()),c=_.done,!c;w=!0){m=_.value,w=!1;const x=_d(a,m),v=new no;Object.assign(v,x),yield yield Xe(v)}}catch(y){p={error:y}}finally{try{!w&&!c&&(g=C.return)&&(yield Xe(g.call(C)))}finally{if(p)throw p.error}}})})}}async embedContent(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=t1(this.apiClient,t);return o=ce("{model}:predict",s._url),l=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(a=>a.json()),i.then(a=>{const u=E1(this.apiClient,a),c=new md;return Object.assign(c,u),c})}else{const s=e1(this.apiClient,t);return o=ce("{model}:batchEmbedContents",s._url),l=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(a=>a.json()),i.then(a=>{const u=S1(this.apiClient,a),c=new md;return Object.assign(c,u),c})}}async generateImages(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=o1(this.apiClient,t);return o=ce("{model}:predict",s._url),l=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(a=>a.json()),i.then(a=>{const u=P1(this.apiClient,a),c=new gd;return Object.assign(c,u),c})}else{const s=i1(this.apiClient,t);return o=ce("{model}:predict",s._url),l=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(a=>a.json()),i.then(a=>{const u=b1(this.apiClient,a),c=new gd;return Object.assign(c,u),c})}}async countTokens(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=u1(this.apiClient,t);return o=ce("{model}:countTokens",s._url),l=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(a=>a.json()),i.then(a=>{const u=M1(this.apiClient,a),c=new yd;return Object.assign(c,u),c})}else{const s=a1(this.apiClient,t);return o=ce("{model}:countTokens",s._url),l=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(a=>a.json()),i.then(a=>{const u=A1(this.apiClient,a),c=new yd;return Object.assign(c,u),c})}}async computeTokens(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=d1(this.apiClient,t);return o=ce("{model}:computeTokens",s._url),l=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(a=>a.json()),i.then(a=>{const u=L1(this.apiClient,a),c=new xd;return Object.assign(c,u),c})}else{const s=c1(this.apiClient,t);return o=ce("None",s._url),l=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(a=>a.json()),i.then(a=>{const u=R1(this.apiClient,a),c=new xd;return Object.assign(c,u),c})}}}function Tx(e,t){const n={};if(d(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=d(t,["thought"]);r!=null&&f(n,["thought"],r);const i=d(t,["codeExecutionResult"]);i!=null&&f(n,["codeExecutionResult"],i);const o=d(t,["executableCode"]);o!=null&&f(n,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&f(n,["fileData"],l);const s=d(t,["functionCall"]);s!=null&&f(n,["functionCall"],s);const a=d(t,["functionResponse"]);a!=null&&f(n,["functionResponse"],a);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],u);const c=d(t,["text"]);return c!=null&&f(n,["text"],c),n}function Nx(e,t){const n={},r=d(t,["videoMetadata"]);r!=null&&f(n,["videoMetadata"],r);const i=d(t,["thought"]);i!=null&&f(n,["thought"],i);const o=d(t,["codeExecutionResult"]);o!=null&&f(n,["codeExecutionResult"],o);const l=d(t,["executableCode"]);l!=null&&f(n,["executableCode"],l);const s=d(t,["fileData"]);s!=null&&f(n,["fileData"],s);const a=d(t,["functionCall"]);a!=null&&f(n,["functionCall"],a);const u=d(t,["functionResponse"]);u!=null&&f(n,["functionResponse"],u);const c=d(t,["inlineData"]);c!=null&&f(n,["inlineData"],c);const p=d(t,["text"]);return p!=null&&f(n,["text"],p),n}function Ri(e,t){const n={},r=d(t,["parts"]);r!=null&&(Array.isArray(r)?f(n,["parts"],r.map(o=>Tx(e,o))):f(n,["parts"],r));const i=d(t,["role"]);return i!=null&&f(n,["role"],i),n}function $n(e,t){const n={},r=d(t,["parts"]);r!=null&&(Array.isArray(r)?f(n,["parts"],r.map(o=>Nx(e,o))):f(n,["parts"],r));const i=d(t,["role"]);return i!=null&&f(n,["role"],i),n}function Ix(e,t){const n={};if(d(t,["example"])!==void 0)throw new Error("example parameter is not supported in Gemini API.");if(d(t,["pattern"])!==void 0)throw new Error("pattern parameter is not supported in Gemini API.");if(d(t,["minimum"])!==void 0)throw new Error("minimum parameter is not supported in Gemini API.");if(d(t,["default"])!==void 0)throw new Error("default parameter is not supported in Gemini API.");if(d(t,["anyOf"])!==void 0)throw new Error("anyOf parameter is not supported in Gemini API.");if(d(t,["maxLength"])!==void 0)throw new Error("maxLength parameter is not supported in Gemini API.");if(d(t,["title"])!==void 0)throw new Error("title parameter is not supported in Gemini API.");if(d(t,["minLength"])!==void 0)throw new Error("minLength parameter is not supported in Gemini API.");if(d(t,["minProperties"])!==void 0)throw new Error("minProperties parameter is not supported in Gemini API.");if(d(t,["maximum"])!==void 0)throw new Error("maximum parameter is not supported in Gemini API.");if(d(t,["maxProperties"])!==void 0)throw new Error("maxProperties parameter is not supported in Gemini API.");const r=d(t,["description"]);r!=null&&f(n,["description"],r);const i=d(t,["enum"]);i!=null&&f(n,["enum"],i);const o=d(t,["format"]);o!=null&&f(n,["format"],o);const l=d(t,["items"]);l!=null&&f(n,["items"],l);const s=d(t,["maxItems"]);s!=null&&f(n,["maxItems"],s);const a=d(t,["minItems"]);a!=null&&f(n,["minItems"],a);const u=d(t,["nullable"]);u!=null&&f(n,["nullable"],u);const c=d(t,["properties"]);c!=null&&f(n,["properties"],c);const p=d(t,["propertyOrdering"]);p!=null&&f(n,["propertyOrdering"],p);const g=d(t,["required"]);g!=null&&f(n,["required"],g);const m=d(t,["type"]);return m!=null&&f(n,["type"],m),n}function rm(e,t){const n={},r=d(t,["example"]);r!=null&&f(n,["example"],r);const i=d(t,["pattern"]);i!=null&&f(n,["pattern"],i);const o=d(t,["minimum"]);o!=null&&f(n,["minimum"],o);const l=d(t,["default"]);l!=null&&f(n,["default"],l);const s=d(t,["anyOf"]);s!=null&&f(n,["anyOf"],s);const a=d(t,["maxLength"]);a!=null&&f(n,["maxLength"],a);const u=d(t,["title"]);u!=null&&f(n,["title"],u);const c=d(t,["minLength"]);c!=null&&f(n,["minLength"],c);const p=d(t,["minProperties"]);p!=null&&f(n,["minProperties"],p);const g=d(t,["maximum"]);g!=null&&f(n,["maximum"],g);const m=d(t,["maxProperties"]);m!=null&&f(n,["maxProperties"],m);const w=d(t,["description"]);w!=null&&f(n,["description"],w);const C=d(t,["enum"]);C!=null&&f(n,["enum"],C);const _=d(t,["format"]);_!=null&&f(n,["format"],_);const y=d(t,["items"]);y!=null&&f(n,["items"],y);const x=d(t,["maxItems"]);x!=null&&f(n,["maxItems"],x);const v=d(t,["minItems"]);v!=null&&f(n,["minItems"],v);const T=d(t,["nullable"]);T!=null&&f(n,["nullable"],T);const N=d(t,["properties"]);N!=null&&f(n,["properties"],N);const E=d(t,["propertyOrdering"]);E!=null&&f(n,["propertyOrdering"],E);const I=d(t,["required"]);I!=null&&f(n,["required"],I);const P=d(t,["type"]);return P!=null&&f(n,["type"],P),n}function _x(e,t){const n={};if(d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(t,["category"]);r!=null&&f(n,["category"],r);const i=d(t,["threshold"]);return i!=null&&f(n,["threshold"],i),n}function bx(e,t){const n={},r=d(t,["method"]);r!=null&&f(n,["method"],r);const i=d(t,["category"]);i!=null&&f(n,["category"],i);const o=d(t,["threshold"]);return o!=null&&f(n,["threshold"],o),n}function Px(e,t){const n={};if(d(t,["response"])!==void 0)throw new Error("response parameter is not supported in Gemini API.");const r=d(t,["description"]);r!=null&&f(n,["description"],r);const i=d(t,["name"]);i!=null&&f(n,["name"],i);const o=d(t,["parameters"]);return o!=null&&f(n,["parameters"],o),n}function Ax(e,t){const n={},r=d(t,["response"]);r!=null&&f(n,["response"],rm(e,r));const i=d(t,["description"]);i!=null&&f(n,["description"],i);const o=d(t,["name"]);o!=null&&f(n,["name"],o);const l=d(t,["parameters"]);return l!=null&&f(n,["parameters"],l),n}function Mx(e,t){return{}}function Rx(e,t){return{}}function Lx(e,t){const n={},r=d(t,["mode"]);r!=null&&f(n,["mode"],r);const i=d(t,["dynamicThreshold"]);return i!=null&&f(n,["dynamicThreshold"],i),n}function Dx(e,t){const n={},r=d(t,["mode"]);r!=null&&f(n,["mode"],r);const i=d(t,["dynamicThreshold"]);return i!=null&&f(n,["dynamicThreshold"],i),n}function zx(e,t){const n={},r=d(t,["dynamicRetrievalConfig"]);return r!=null&&f(n,["dynamicRetrievalConfig"],Lx(e,r)),n}function Fx(e,t){const n={},r=d(t,["dynamicRetrievalConfig"]);return r!=null&&f(n,["dynamicRetrievalConfig"],Dx(e,r)),n}function im(e,t){const n={},r=d(t,["functionDeclarations"]);if(r!=null&&(Array.isArray(r)?f(n,["functionDeclarations"],r.map(s=>Px(e,s))):f(n,["functionDeclarations"],r)),d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");d(t,["googleSearch"])!=null&&f(n,["googleSearch"],Mx());const o=d(t,["googleSearchRetrieval"]);o!=null&&f(n,["googleSearchRetrieval"],zx(e,o));const l=d(t,["codeExecution"]);return l!=null&&f(n,["codeExecution"],l),n}function gu(e,t){const n={},r=d(t,["functionDeclarations"]);r!=null&&(Array.isArray(r)?f(n,["functionDeclarations"],r.map(a=>Ax(e,a))):f(n,["functionDeclarations"],r));const i=d(t,["retrieval"]);i!=null&&f(n,["retrieval"],i),d(t,["googleSearch"])!=null&&f(n,["googleSearch"],Rx());const l=d(t,["googleSearchRetrieval"]);l!=null&&f(n,["googleSearchRetrieval"],Fx(e,l));const s=d(t,["codeExecution"]);return s!=null&&f(n,["codeExecution"],s),n}function Ox(e,t){const n={},r=d(t,["mode"]);r!=null&&f(n,["mode"],r);const i=d(t,["allowedFunctionNames"]);return i!=null&&f(n,["allowedFunctionNames"],i),n}function jx(e,t){const n={},r=d(t,["mode"]);r!=null&&f(n,["mode"],r);const i=d(t,["allowedFunctionNames"]);return i!=null&&f(n,["allowedFunctionNames"],i),n}function Ux(e,t){const n={},r=d(t,["functionCallingConfig"]);return r!=null&&f(n,["functionCallingConfig"],Ox(e,r)),n}function Vx(e,t){const n={},r=d(t,["functionCallingConfig"]);return r!=null&&f(n,["functionCallingConfig"],jx(e,r)),n}function Hx(e,t){const n={},r=d(t,["voiceName"]);return r!=null&&f(n,["voiceName"],r),n}function Bx(e,t){const n={},r=d(t,["voiceName"]);return r!=null&&f(n,["voiceName"],r),n}function $x(e,t){const n={},r=d(t,["prebuiltVoiceConfig"]);return r!=null&&f(n,["prebuiltVoiceConfig"],Hx(e,r)),n}function qx(e,t){const n={},r=d(t,["prebuiltVoiceConfig"]);return r!=null&&f(n,["prebuiltVoiceConfig"],Bx(e,r)),n}function Gx(e,t){const n={},r=d(t,["voiceConfig"]);return r!=null&&f(n,["voiceConfig"],$x(e,r)),n}function Wx(e,t){const n={},r=d(t,["voiceConfig"]);return r!=null&&f(n,["voiceConfig"],qx(e,r)),n}function Kx(e,t){const n={},r=d(t,["includeThoughts"]);return r!=null&&f(n,["includeThoughts"],r),n}function Yx(e,t){const n={},r=d(t,["includeThoughts"]);return r!=null&&f(n,["includeThoughts"],r),n}function Qx(e,t,n){const r={},i=d(t,["systemInstruction"]);n!==void 0&&i!=null&&f(n,["systemInstruction"],Ri(e,vt(e,i)));const o=d(t,["temperature"]);o!=null&&f(r,["temperature"],o);const l=d(t,["topP"]);l!=null&&f(r,["topP"],l);const s=d(t,["topK"]);s!=null&&f(r,["topK"],s);const a=d(t,["candidateCount"]);a!=null&&f(r,["candidateCount"],a);const u=d(t,["maxOutputTokens"]);u!=null&&f(r,["maxOutputTokens"],u);const c=d(t,["stopSequences"]);c!=null&&f(r,["stopSequences"],c);const p=d(t,["responseLogprobs"]);p!=null&&f(r,["responseLogprobs"],p);const g=d(t,["logprobs"]);g!=null&&f(r,["logprobs"],g);const m=d(t,["presencePenalty"]);m!=null&&f(r,["presencePenalty"],m);const w=d(t,["frequencyPenalty"]);w!=null&&f(r,["frequencyPenalty"],w);const C=d(t,["seed"]);C!=null&&f(r,["seed"],C);const _=d(t,["responseMimeType"]);_!=null&&f(r,["responseMimeType"],_);const y=d(t,["responseSchema"]);if(y!=null&&f(r,["responseSchema"],Ix(e,Qh(e,y))),d(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");const x=d(t,["safetySettings"]);n!==void 0&&x!=null&&(Array.isArray(x)?f(n,["safetySettings"],x.map(R=>_x(e,R))):f(n,["safetySettings"],x));const v=d(t,["tools"]);n!==void 0&&v!=null&&(Array.isArray(v)?f(n,["tools"],pr(e,pr(e,v).map(R=>im(e,Xh(e,R))))):f(n,["tools"],pr(e,v)));const T=d(t,["toolConfig"]);if(n!==void 0&&T!=null&&f(n,["toolConfig"],Ux(e,T)),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=d(t,["cachedContent"]);n!==void 0&&N!=null&&f(n,["cachedContent"],Tn(e,N));const E=d(t,["responseModalities"]);E!=null&&f(r,["responseModalities"],E);const I=d(t,["mediaResolution"]);I!=null&&f(r,["mediaResolution"],I);const P=d(t,["speechConfig"]);if(P!=null&&f(r,["speechConfig"],Gx(e,Jh(e,P))),d(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=d(t,["thinkingConfig"]);return M!=null&&f(r,["thinkingConfig"],Kx(e,M)),r}function Jx(e,t,n){const r={},i=d(t,["systemInstruction"]);n!==void 0&&i!=null&&f(n,["systemInstruction"],$n(e,vt(e,i)));const o=d(t,["temperature"]);o!=null&&f(r,["temperature"],o);const l=d(t,["topP"]);l!=null&&f(r,["topP"],l);const s=d(t,["topK"]);s!=null&&f(r,["topK"],s);const a=d(t,["candidateCount"]);a!=null&&f(r,["candidateCount"],a);const u=d(t,["maxOutputTokens"]);u!=null&&f(r,["maxOutputTokens"],u);const c=d(t,["stopSequences"]);c!=null&&f(r,["stopSequences"],c);const p=d(t,["responseLogprobs"]);p!=null&&f(r,["responseLogprobs"],p);const g=d(t,["logprobs"]);g!=null&&f(r,["logprobs"],g);const m=d(t,["presencePenalty"]);m!=null&&f(r,["presencePenalty"],m);const w=d(t,["frequencyPenalty"]);w!=null&&f(r,["frequencyPenalty"],w);const C=d(t,["seed"]);C!=null&&f(r,["seed"],C);const _=d(t,["responseMimeType"]);_!=null&&f(r,["responseMimeType"],_);const y=d(t,["responseSchema"]);y!=null&&f(r,["responseSchema"],rm(e,Qh(e,y)));const x=d(t,["routingConfig"]);x!=null&&f(r,["routingConfig"],x);const v=d(t,["safetySettings"]);n!==void 0&&v!=null&&(Array.isArray(v)?f(n,["safetySettings"],v.map(F=>bx(e,F))):f(n,["safetySettings"],v));const T=d(t,["tools"]);n!==void 0&&T!=null&&(Array.isArray(T)?f(n,["tools"],pr(e,pr(e,T).map(F=>gu(e,Xh(e,F))))):f(n,["tools"],pr(e,T)));const N=d(t,["toolConfig"]);n!==void 0&&N!=null&&f(n,["toolConfig"],Vx(e,N));const E=d(t,["labels"]);n!==void 0&&E!=null&&f(n,["labels"],E);const I=d(t,["cachedContent"]);n!==void 0&&I!=null&&f(n,["cachedContent"],Tn(e,I));const P=d(t,["responseModalities"]);P!=null&&f(r,["responseModalities"],P);const M=d(t,["mediaResolution"]);M!=null&&f(r,["mediaResolution"],M);const R=d(t,["speechConfig"]);R!=null&&f(r,["speechConfig"],Wx(e,Jh(e,R)));const A=d(t,["audioTimestamp"]);A!=null&&f(r,["audioTimestamp"],A);const D=d(t,["thinkingConfig"]);return D!=null&&f(r,["thinkingConfig"],Yx(e,D)),r}function Nd(e,t){const n={},r=d(t,["model"]);r!=null&&f(n,["_url","model"],ft(e,r));const i=d(t,["contents"]);i!=null&&(Array.isArray(i)?f(n,["contents"],Se(e,Se(e,i).map(l=>Ri(e,l)))):f(n,["contents"],Se(e,i)));const o=d(t,["config"]);return o!=null&&f(n,["generationConfig"],Qx(e,o,n)),n}function Id(e,t){const n={},r=d(t,["model"]);r!=null&&f(n,["_url","model"],ft(e,r));const i=d(t,["contents"]);i!=null&&(Array.isArray(i)?f(n,["contents"],Se(e,Se(e,i).map(l=>$n(e,l)))):f(n,["contents"],Se(e,i)));const o=d(t,["config"]);return o!=null&&f(n,["generationConfig"],Jx(e,o,n)),n}function Xx(e,t,n){const r={},i=d(t,["taskType"]);n!==void 0&&i!=null&&f(n,["requests[]","taskType"],i);const o=d(t,["title"]);n!==void 0&&o!=null&&f(n,["requests[]","title"],o);const l=d(t,["outputDimensionality"]);if(n!==void 0&&l!=null&&f(n,["requests[]","outputDimensionality"],l),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function Zx(e,t,n){const r={},i=d(t,["taskType"]);n!==void 0&&i!=null&&f(n,["instances[]","task_type"],i);const o=d(t,["title"]);n!==void 0&&o!=null&&f(n,["instances[]","title"],o);const l=d(t,["outputDimensionality"]);n!==void 0&&l!=null&&f(n,["parameters","outputDimensionality"],l);const s=d(t,["mimeType"]);n!==void 0&&s!=null&&f(n,["instances[]","mimeType"],s);const a=d(t,["autoTruncate"]);return n!==void 0&&a!=null&&f(n,["parameters","autoTruncate"],a),r}function e1(e,t){const n={},r=d(t,["model"]);r!=null&&f(n,["_url","model"],ft(e,r));const i=d(t,["contents"]);i!=null&&f(n,["requests[]","content"],Kh(e,i));const o=d(t,["config"]);o!=null&&f(n,["config"],Xx(e,o,n));const l=d(t,["model"]);return l!==void 0&&f(n,["requests[]","model"],ft(e,l)),n}function t1(e,t){const n={},r=d(t,["model"]);r!=null&&f(n,["_url","model"],ft(e,r));const i=d(t,["contents"]);i!=null&&f(n,["instances[]","content"],Kh(e,i));const o=d(t,["config"]);return o!=null&&f(n,["config"],Zx(e,o,n)),n}function n1(e,t,n){const r={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=d(t,["numberOfImages"]);n!==void 0&&i!=null&&f(n,["parameters","sampleCount"],i);const o=d(t,["aspectRatio"]);n!==void 0&&o!=null&&f(n,["parameters","aspectRatio"],o);const l=d(t,["guidanceScale"]);if(n!==void 0&&l!=null&&f(n,["parameters","guidanceScale"],l),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=d(t,["safetyFilterLevel"]);n!==void 0&&s!=null&&f(n,["parameters","safetySetting"],s);const a=d(t,["personGeneration"]);n!==void 0&&a!=null&&f(n,["parameters","personGeneration"],a);const u=d(t,["includeSafetyAttributes"]);n!==void 0&&u!=null&&f(n,["parameters","includeSafetyAttributes"],u);const c=d(t,["includeRaiReason"]);n!==void 0&&c!=null&&f(n,["parameters","includeRaiReason"],c);const p=d(t,["language"]);n!==void 0&&p!=null&&f(n,["parameters","language"],p);const g=d(t,["outputMimeType"]);n!==void 0&&g!=null&&f(n,["parameters","outputOptions","mimeType"],g);const m=d(t,["outputCompressionQuality"]);if(n!==void 0&&m!=null&&f(n,["parameters","outputOptions","compressionQuality"],m),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function r1(e,t,n){const r={},i=d(t,["outputGcsUri"]);n!==void 0&&i!=null&&f(n,["parameters","storageUri"],i);const o=d(t,["negativePrompt"]);n!==void 0&&o!=null&&f(n,["parameters","negativePrompt"],o);const l=d(t,["numberOfImages"]);n!==void 0&&l!=null&&f(n,["parameters","sampleCount"],l);const s=d(t,["aspectRatio"]);n!==void 0&&s!=null&&f(n,["parameters","aspectRatio"],s);const a=d(t,["guidanceScale"]);n!==void 0&&a!=null&&f(n,["parameters","guidanceScale"],a);const u=d(t,["seed"]);n!==void 0&&u!=null&&f(n,["parameters","seed"],u);const c=d(t,["safetyFilterLevel"]);n!==void 0&&c!=null&&f(n,["parameters","safetySetting"],c);const p=d(t,["personGeneration"]);n!==void 0&&p!=null&&f(n,["parameters","personGeneration"],p);const g=d(t,["includeSafetyAttributes"]);n!==void 0&&g!=null&&f(n,["parameters","includeSafetyAttributes"],g);const m=d(t,["includeRaiReason"]);n!==void 0&&m!=null&&f(n,["parameters","includeRaiReason"],m);const w=d(t,["language"]);n!==void 0&&w!=null&&f(n,["parameters","language"],w);const C=d(t,["outputMimeType"]);n!==void 0&&C!=null&&f(n,["parameters","outputOptions","mimeType"],C);const _=d(t,["outputCompressionQuality"]);n!==void 0&&_!=null&&f(n,["parameters","outputOptions","compressionQuality"],_);const y=d(t,["addWatermark"]);n!==void 0&&y!=null&&f(n,["parameters","addWatermark"],y);const x=d(t,["enhancePrompt"]);return n!==void 0&&x!=null&&f(n,["parameters","enhancePrompt"],x),r}function i1(e,t){const n={},r=d(t,["model"]);r!=null&&f(n,["_url","model"],ft(e,r));const i=d(t,["prompt"]);i!=null&&f(n,["instances[0]","prompt"],i);const o=d(t,["config"]);return o!=null&&f(n,["config"],n1(e,o,n)),n}function o1(e,t){const n={},r=d(t,["model"]);r!=null&&f(n,["_url","model"],ft(e,r));const i=d(t,["prompt"]);i!=null&&f(n,["instances[0]","prompt"],i);const o=d(t,["config"]);return o!=null&&f(n,["config"],r1(e,o,n)),n}function l1(e,t){const n={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function s1(e,t,n){const r={},i=d(t,["systemInstruction"]);n!==void 0&&i!=null&&f(n,["systemInstruction"],$n(e,vt(e,i)));const o=d(t,["tools"]);n!==void 0&&o!=null&&(Array.isArray(o)?f(n,["tools"],o.map(s=>gu(e,s))):f(n,["tools"],o));const l=d(t,["generationConfig"]);return n!==void 0&&l!=null&&f(n,["generationConfig"],l),r}function a1(e,t){const n={},r=d(t,["model"]);r!=null&&f(n,["_url","model"],ft(e,r));const i=d(t,["contents"]);i!=null&&(Array.isArray(i)?f(n,["contents"],Se(e,Se(e,i).map(l=>Ri(e,l)))):f(n,["contents"],Se(e,i)));const o=d(t,["config"]);return o!=null&&f(n,["config"],l1(e,o)),n}function u1(e,t){const n={},r=d(t,["model"]);r!=null&&f(n,["_url","model"],ft(e,r));const i=d(t,["contents"]);i!=null&&(Array.isArray(i)?f(n,["contents"],Se(e,Se(e,i).map(l=>$n(e,l)))):f(n,["contents"],Se(e,i)));const o=d(t,["config"]);return o!=null&&f(n,["config"],s1(e,o,n)),n}function c1(e,t){const n={},r=d(t,["model"]);if(r!=null&&f(n,["_url","model"],ft(e,r)),d(t,["contents"])!==void 0)throw new Error("contents parameter is not supported in Gemini API.");const i=d(t,["config"]);return i!=null&&f(n,["config"],i),n}function d1(e,t){const n={},r=d(t,["model"]);r!=null&&f(n,["_url","model"],ft(e,r));const i=d(t,["contents"]);i!=null&&(Array.isArray(i)?f(n,["contents"],Se(e,Se(e,i).map(l=>$n(e,l)))):f(n,["contents"],Se(e,i)));const o=d(t,["config"]);return o!=null&&f(n,["config"],o),n}function f1(e,t){const n={},r=d(t,["thought"]);r!=null&&f(n,["thought"],r);const i=d(t,["codeExecutionResult"]);i!=null&&f(n,["codeExecutionResult"],i);const o=d(t,["executableCode"]);o!=null&&f(n,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&f(n,["fileData"],l);const s=d(t,["functionCall"]);s!=null&&f(n,["functionCall"],s);const a=d(t,["functionResponse"]);a!=null&&f(n,["functionResponse"],a);const u=d(t,["inlineData"]);u!=null&&f(n,["inlineData"],u);const c=d(t,["text"]);return c!=null&&f(n,["text"],c),n}function p1(e,t){const n={},r=d(t,["videoMetadata"]);r!=null&&f(n,["videoMetadata"],r);const i=d(t,["thought"]);i!=null&&f(n,["thought"],i);const o=d(t,["codeExecutionResult"]);o!=null&&f(n,["codeExecutionResult"],o);const l=d(t,["executableCode"]);l!=null&&f(n,["executableCode"],l);const s=d(t,["fileData"]);s!=null&&f(n,["fileData"],s);const a=d(t,["functionCall"]);a!=null&&f(n,["functionCall"],a);const u=d(t,["functionResponse"]);u!=null&&f(n,["functionResponse"],u);const c=d(t,["inlineData"]);c!=null&&f(n,["inlineData"],c);const p=d(t,["text"]);return p!=null&&f(n,["text"],p),n}function om(e,t){const n={},r=d(t,["parts"]);r!=null&&(Array.isArray(r)?f(n,["parts"],r.map(o=>f1(e,o))):f(n,["parts"],r));const i=d(t,["role"]);return i!=null&&f(n,["role"],i),n}function lm(e,t){const n={},r=d(t,["parts"]);r!=null&&(Array.isArray(r)?f(n,["parts"],r.map(o=>p1(e,o))):f(n,["parts"],r));const i=d(t,["role"]);return i!=null&&f(n,["role"],i),n}function h1(e,t){const n={},r=d(t,["citationSources"]);return r!=null&&f(n,["citations"],r),n}function m1(e,t){const n={},r=d(t,["citations"]);return r!=null&&f(n,["citations"],r),n}function g1(e,t){const n={},r=d(t,["content"]);r!=null&&f(n,["content"],om(e,r));const i=d(t,["citationMetadata"]);i!=null&&f(n,["citationMetadata"],h1(e,i));const o=d(t,["tokenCount"]);o!=null&&f(n,["tokenCount"],o);const l=d(t,["avgLogprobs"]);l!=null&&f(n,["avgLogprobs"],l);const s=d(t,["finishReason"]);s!=null&&f(n,["finishReason"],s);const a=d(t,["groundingMetadata"]);a!=null&&f(n,["groundingMetadata"],a);const u=d(t,["index"]);u!=null&&f(n,["index"],u);const c=d(t,["logprobsResult"]);c!=null&&f(n,["logprobsResult"],c);const p=d(t,["safetyRatings"]);return p!=null&&f(n,["safetyRatings"],p),n}function y1(e,t){const n={},r=d(t,["content"]);r!=null&&f(n,["content"],lm(e,r));const i=d(t,["citationMetadata"]);i!=null&&f(n,["citationMetadata"],m1(e,i));const o=d(t,["finishMessage"]);o!=null&&f(n,["finishMessage"],o);const l=d(t,["avgLogprobs"]);l!=null&&f(n,["avgLogprobs"],l);const s=d(t,["finishReason"]);s!=null&&f(n,["finishReason"],s);const a=d(t,["groundingMetadata"]);a!=null&&f(n,["groundingMetadata"],a);const u=d(t,["index"]);u!=null&&f(n,["index"],u);const c=d(t,["logprobsResult"]);c!=null&&f(n,["logprobsResult"],c);const p=d(t,["safetyRatings"]);return p!=null&&f(n,["safetyRatings"],p),n}function _d(e,t){const n={},r=d(t,["candidates"]);r!=null&&(Array.isArray(r)?f(n,["candidates"],r.map(s=>g1(e,s))):f(n,["candidates"],r));const i=d(t,["modelVersion"]);i!=null&&f(n,["modelVersion"],i);const o=d(t,["promptFeedback"]);o!=null&&f(n,["promptFeedback"],o);const l=d(t,["usageMetadata"]);return l!=null&&f(n,["usageMetadata"],l),n}function bd(e,t){const n={},r=d(t,["candidates"]);r!=null&&(Array.isArray(r)?f(n,["candidates"],r.map(u=>y1(e,u))):f(n,["candidates"],r));const i=d(t,["createTime"]);i!=null&&f(n,["createTime"],i);const o=d(t,["responseId"]);o!=null&&f(n,["responseId"],o);const l=d(t,["modelVersion"]);l!=null&&f(n,["modelVersion"],l);const s=d(t,["promptFeedback"]);s!=null&&f(n,["promptFeedback"],s);const a=d(t,["usageMetadata"]);return a!=null&&f(n,["usageMetadata"],a),n}function x1(e,t){const n={},r=d(t,["truncated"]);r!=null&&f(n,["truncated"],r);const i=d(t,["token_count"]);return i!=null&&f(n,["tokenCount"],i),n}function v1(e,t){const n={},r=d(t,["values"]);return r!=null&&f(n,["values"],r),n}function w1(e,t){const n={},r=d(t,["values"]);r!=null&&f(n,["values"],r);const i=d(t,["statistics"]);return i!=null&&f(n,["statistics"],x1(e,i)),n}function k1(e,t){return{}}function C1(e,t){const n={},r=d(t,["billableCharacterCount"]);return r!=null&&f(n,["billableCharacterCount"],r),n}function S1(e,t){const n={},r=d(t,["embeddings"]);return r!=null&&(Array.isArray(r)?f(n,["embeddings"],r.map(o=>v1(e,o))):f(n,["embeddings"],r)),d(t,["metadata"])!=null&&f(n,["metadata"],k1()),n}function E1(e,t){const n={},r=d(t,["predictions[]","embeddings"]);r!=null&&(Array.isArray(r)?f(n,["embeddings"],r.map(o=>w1(e,o))):f(n,["embeddings"],r));const i=d(t,["metadata"]);return i!=null&&f(n,["metadata"],C1(e,i)),n}function T1(e,t){const n={},r=d(t,["bytesBase64Encoded"]);r!=null&&f(n,["imageBytes"],Zh(e,r));const i=d(t,["mimeType"]);return i!=null&&f(n,["mimeType"],i),n}function N1(e,t){const n={},r=d(t,["gcsUri"]);r!=null&&f(n,["gcsUri"],r);const i=d(t,["bytesBase64Encoded"]);i!=null&&f(n,["imageBytes"],Zh(e,i));const o=d(t,["mimeType"]);return o!=null&&f(n,["mimeType"],o),n}function I1(e,t){const n={},r=d(t,["_self"]);r!=null&&f(n,["image"],T1(e,r));const i=d(t,["raiFilteredReason"]);return i!=null&&f(n,["raiFilteredReason"],i),n}function _1(e,t){const n={},r=d(t,["_self"]);r!=null&&f(n,["image"],N1(e,r));const i=d(t,["raiFilteredReason"]);i!=null&&f(n,["raiFilteredReason"],i);const o=d(t,["prompt"]);return o!=null&&f(n,["enhancedPrompt"],o),n}function b1(e,t){const n={},r=d(t,["predictions"]);return r!=null&&(Array.isArray(r)?f(n,["generatedImages"],r.map(i=>I1(e,i))):f(n,["generatedImages"],r)),n}function P1(e,t){const n={},r=d(t,["predictions"]);return r!=null&&(Array.isArray(r)?f(n,["generatedImages"],r.map(i=>_1(e,i))):f(n,["generatedImages"],r)),n}function A1(e,t){const n={},r=d(t,["totalTokens"]);r!=null&&f(n,["totalTokens"],r);const i=d(t,["cachedContentTokenCount"]);return i!=null&&f(n,["cachedContentTokenCount"],i),n}function M1(e,t){const n={},r=d(t,["totalTokens"]);return r!=null&&f(n,["totalTokens"],r),n}function R1(e,t){const n={},r=d(t,["tokensInfo"]);return r!=null&&f(n,["tokensInfo"],r),n}function L1(e,t){const n={},r=d(t,["tokensInfo"]);return r!=null&&f(n,["tokensInfo"],r),n}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const D1="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";function z1(e,t){const n={},r=d(t,["generationConfig"]);r!==void 0&&f(n,["generationConfig"],r);const i=d(t,["responseModalities"]);i!==void 0&&f(n,["generationConfig","responseModalities"],i);const o=d(t,["speechConfig"]);o!==void 0&&f(n,["generationConfig","speechConfig"],o);const l=d(t,["systemInstruction"]);l!=null&&f(n,["systemInstruction"],Ri(e,l));const s=d(t,["tools"]);return s!=null&&Array.isArray(s)&&f(n,["tools"],s.map(a=>im(e,a))),n}function F1(e,t){const n={},r=d(t,["generationConfig"]);r!==void 0&&f(n,["generationConfig"],r);const i=d(t,["responseModalities"]);i!==void 0?f(n,["generationConfig","responseModalities"],i):f(n,["generationConfig","responseModalities"],["AUDIO"]);const o=d(t,["speechConfig"]);o!==void 0&&f(n,["generationConfig","speechConfig"],o);const l=d(t,["systemInstruction"]);l!=null&&f(n,["systemInstruction"],$n(e,l));const s=d(t,["tools"]);return s!=null&&Array.isArray(s)&&f(n,["tools"],s.map(a=>gu(e,a))),n}function O1(e,t){const n={},r=d(t,["config"]);r!=null&&f(n,["setup"],z1(e,r));const i=d(t,["model"]);return i!==void 0&&f(n,["setup","model"],i),n}function j1(e,t){const n={},r=d(t,["config"]);r!=null&&f(n,["setup"],F1(e,r));const i=d(t,["model"]);return i!==void 0&&f(n,["setup","model"],i),n}function U1(e,t){const n={},r=d(t,["modelTurn"]);r!=null&&f(n,["modelTurn"],om(e,r));const i=d(t,["turnComplete"]);i!==void 0&&f(n,["turnComplete"],i);const o=d(t,["interrupted"]);return o!==void 0&&f(n,["interrupted"],o),n}function V1(e,t){const n={},r=d(t,["modelTurn"]);r!=null&&f(n,["modelTurn"],lm(e,r));const i=d(t,["turnComplete"]);i!==void 0&&f(n,["turnComplete"],i);const o=d(t,["interrupted"]);return o!==void 0&&f(n,["interrupted"],o),n}function H1(e,t){const n={},r=d(t,["id"]);r!==void 0&&f(n,["id"],r);const i=d(t,["args"]);i!==void 0&&f(n,["args"],i);const o=d(t,["name"]);return o!==void 0&&f(n,["name"],o),n}function B1(e,t){const n={},r=d(t,["args"]);r!==void 0&&f(n,["args"],r);const i=d(t,["name"]);return i!==void 0&&f(n,["name"],i),n}function $1(e,t){const n={},r=d(t,["functionCalls"]);return r!=null&&Array.isArray(r)&&f(n,["functionCalls"],r.map(i=>H1(e,i))),n}function q1(e,t){const n={},r=d(t,["functionCalls"]);return r!=null&&Array.isArray(r)&&f(n,["functionCalls"],r.map(i=>B1(e,i))),n}function G1(e,t){const n={},r=d(t,["ids"]);return r!==void 0&&f(n,["ids"],r),n}function W1(e,t){const n={},r=d(t,["ids"]);return r!==void 0&&f(n,["ids"],r),n}function K1(e,t){const n={},r=d(t,["setupComplete"]);r!==void 0&&f(n,["setupComplete"],r);const i=d(t,["serverContent"]);i!=null&&f(n,["serverContent"],U1(e,i));const o=d(t,["toolCall"]);o!=null&&f(n,["toolCall"],$1(e,o));const l=d(t,["toolCallCancellation"]);return l!=null&&f(n,["toolCallCancellation"],G1(e,l)),n}function Y1(e,t){const n={},r=d(t,["setupComplete"]);r!==void 0&&f(n,["setupComplete"],r);const i=d(t,["serverContent"]);i!=null&&f(n,["serverContent"],V1(e,i));const o=d(t,["toolCall"]);o!=null&&f(n,["toolCall"],q1(e,o));const l=d(t,["toolCallCancellation"]);return l!=null&&f(n,["toolCallCancellation"],W1(e,l)),n}async function Q1(e,t,n){let r,i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),e.isVertexAI()?r=Y1(e,i):r=K1(e,i),t(r)}class J1{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("This SDK does not yet support the live API for **Google Vertex AI**.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion();let l;const s=ev(this.apiClient.getDefaultHeaders());if(this.apiClient.isVertexAI())l=`${i}/ws/google.cloud.aiplatform.${o}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(s);else{const x=this.apiClient.getApiKey();l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateContent?key=${x}`}let a=()=>{};const u=new Promise(x=>{a=x}),c=t.callbacks,p=function(){var x;(x=c==null?void 0:c.onopen)===null||x===void 0||x.call(c),a({})},g=this.apiClient,m={onopen:p,onmessage:x=>{Q1(g,c.onmessage,x)},onerror:(n=c==null?void 0:c.onerror)!==null&&n!==void 0?n:function(x){},onclose:(r=c==null?void 0:c.onclose)!==null&&r!==void 0?r:function(x){}},w=this.webSocketFactory.create(l,Z1(s),m);w.connect(),await u;let C=ft(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const x=this.apiClient.getProject(),v=this.apiClient.getLocation();C=`projects/${x}/locations/${v}/`+C}let _={};const y={model:C,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?_=j1(this.apiClient,y):_=O1(this.apiClient,y),w.send(JSON.stringify(_)),new X1(w,this.apiClient)}}class X1{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Se(t,n.turns),t.isVertexAI()?r=r.map(i=>$n(t,i)):r=r.map(i=>Ri(t,i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClientRealtimeInput(t,n){let r={};if(!("media"in n)||!n.media)throw new Error(`Failed to convert realtime input "media", type: '${typeof n.media}'`);return r={realtimeInput:{mediaChunks:[n.media]}},r}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)||(r=[n.functionResponses]),r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!t.isVertexAI()&&!("id"in o))throw new Error(D1)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t.turns==null&&t.turnComplete==null&&(t={turnComplete:!0});const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){if(t.media==null)throw new Error("Media is required.");const n=this.tLiveClientRealtimeInput(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Z1(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function ev(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tv="Content-Type",nv="User-Agent",rv="x-goog-api-client",iv="0.2.0",ov=`google-genai-sdk/${iv}`,lv="v1beta1",sv="v1beta",Pd=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class av extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ClientError"}}class Ad extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ServerError"}}class uv{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:lv,i.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`,this.clientOptions.apiKey=void 0):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:sv,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol="wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n){const r=[this.getRequestUrlInternal(n)];return this.clientOptions.vertexai&&!t.startsWith("projects/")&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.constructUrl(t.path,n);if(t.queryParams)for(const[o,l]of Object.entries(t.queryParams))r.searchParams.append(o,String(l));let i={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=t.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n),this.unaryApiCall(r,i,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.constructUrl(t.path,n);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let i={};return i.body=t.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n),this.streamApiCall(r,i,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n){if(n&&n.timeout&&n.timeout>0){const r=new AbortController,i=r.signal;setTimeout(()=>r.abort(),n.timeout),t.signal=i}return t.headers=await this.getHeadersInternal(n),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Md(i,t.toString()),new tm(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Md(i,t.toString()),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){var n;return Zo(this,arguments,function*(){const i=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";for(;;){const{done:s,value:a}=yield Xe(i.read());if(s){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=o.decode(a);l+=u;let c=l.match(Pd);for(;c;){const p=c[1];try{const g=JSON.parse(p);yield yield Xe(g),l=l.slice(c[0].length),c=l.match(Pd)}catch(g){throw new Error(`exception parsing stream chunk ${p}. ${g}`)}}}}finally{i.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=ov+" "+this.clientOptions.userAgentExtra;return t[nv]=n,t[rv]=n,t[tv]="application/json",t}async getHeadersInternal(t){const n=new Headers;if(t&&t.headers)for(const[r,i]of Object.entries(t.headers))n.append(r,i);return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(t,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,l=await o.stat(t);i.sizeBytes=l.size;const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const a=await this.fetchUploadUrl(i,n);return o.upload(t,a,this)}async fetchUploadUrl(t,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${t.mimeType}`}};const o={file:t},l=await this.request({path:ce("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:i});if(!l||!(l!=null&&l.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const s=(r=l==null?void 0:l.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(s===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return s}}async function Md(e,t,n){var r;if(e===void 0)throw new Ad("response is undefined");if(!e.ok){const i=e.status,o=e.statusText;let l;!((r=e.headers.get("content-type"))===null||r===void 0)&&r.includes("application/json")?l=await e.json():l={error:{message:"exception parsing response",code:e.status,status:e.statusText}};const s=`got status: ${i} ${o}. ${JSON.stringify(l)}`;throw i>=400&&i<500?new av(s):i>=500&&i<600?new Ad(s):new Error(s)}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cv extends hu{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new em(Xo.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t,n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t,n).then(r=>ia(this.apiClient,r))}async listInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=pv(this.apiClient,t);return o=ce("None",s._url),l=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(a=>a.json()),i.then(a=>{const u=Sv(this.apiClient),c=new kd;return Object.assign(c,u),c})}else{const s=fv(this.apiClient,t);return o=ce("files",s._url),l=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(a=>a.json()),i.then(a=>{const u=Cv(this.apiClient,a),c=new kd;return Object.assign(c,u),c})}}async createInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=yv(this.apiClient,t);return o=ce("",s._url),l=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(a=>a.json()),i.then(a=>{const u=Tv(this.apiClient,a),c=new Cd;return Object.assign(c,u),c})}else{const s=gv(this.apiClient,t);return o=ce("upload/v1beta/files",s._url),l=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(a=>a.json()),i.then(a=>{const u=Ev(this.apiClient,a),c=new Cd;return Object.assign(c,u),c})}}async get(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const s=vv(this.apiClient,t);return o=ce("None",s._url),l=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(a=>a.json()),i.then(a=>kv(this.apiClient))}else{const s=xv(this.apiClient,t);return o=ce("files/{file}",s._url),l=s._query,delete s.config,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(a=>a.json()),i.then(a=>ia(this.apiClient,a))}}}function dv(e,t,n){const r={},i=d(t,["pageSize"]);n!==void 0&&i!=null&&f(n,["_query","pageSize"],i);const o=d(t,["pageToken"]);return n!==void 0&&o!=null&&f(n,["_query","pageToken"],o),r}function fv(e,t){const n={},r=d(t,["config"]);return r!=null&&f(n,["config"],dv(e,r,n)),n}function pv(e,t){const n={};if(d(t,["config"])!==void 0)throw new Error("config parameter is not supported in Vertex AI.");return n}function hv(e,t){const n={},r=d(t,["details"]);r!=null&&f(n,["details"],r);const i=d(t,["message"]);i!=null&&f(n,["message"],i);const o=d(t,["code"]);return o!=null&&f(n,["code"],o),n}function mv(e,t){const n={},r=d(t,["name"]);r!=null&&f(n,["name"],r);const i=d(t,["displayName"]);i!=null&&f(n,["displayName"],i);const o=d(t,["mimeType"]);o!=null&&f(n,["mimeType"],o);const l=d(t,["sizeBytes"]);l!=null&&f(n,["sizeBytes"],l);const s=d(t,["createTime"]);s!=null&&f(n,["createTime"],s);const a=d(t,["expirationTime"]);a!=null&&f(n,["expirationTime"],a);const u=d(t,["updateTime"]);u!=null&&f(n,["updateTime"],u);const c=d(t,["sha256Hash"]);c!=null&&f(n,["sha256Hash"],c);const p=d(t,["uri"]);p!=null&&f(n,["uri"],p);const g=d(t,["downloadUri"]);g!=null&&f(n,["downloadUri"],g);const m=d(t,["state"]);m!=null&&f(n,["state"],m);const w=d(t,["source"]);w!=null&&f(n,["source"],w);const C=d(t,["videoMetadata"]);C!=null&&f(n,["videoMetadata"],C);const _=d(t,["error"]);return _!=null&&f(n,["error"],hv(e,_)),n}function gv(e,t){const n={},r=d(t,["file"]);r!=null&&f(n,["file"],mv(e,r));const i=d(t,["config"]);return i!=null&&f(n,["config"],i),n}function yv(e,t){const n={};if(d(t,["file"])!==void 0)throw new Error("file parameter is not supported in Vertex AI.");if(d(t,["config"])!==void 0)throw new Error("config parameter is not supported in Vertex AI.");return n}function xv(e,t){const n={},r=d(t,["name"]);r!=null&&f(n,["_url","file"],Ly(e,r));const i=d(t,["config"]);return i!=null&&f(n,["config"],i),n}function vv(e,t){const n={};if(d(t,["name"])!==void 0)throw new Error("name parameter is not supported in Vertex AI.");if(d(t,["config"])!==void 0)throw new Error("config parameter is not supported in Vertex AI.");return n}function wv(e,t){const n={},r=d(t,["details"]);r!=null&&f(n,["details"],r);const i=d(t,["message"]);i!=null&&f(n,["message"],i);const o=d(t,["code"]);return o!=null&&f(n,["code"],o),n}function ia(e,t){const n={},r=d(t,["name"]);r!=null&&f(n,["name"],r);const i=d(t,["displayName"]);i!=null&&f(n,["displayName"],i);const o=d(t,["mimeType"]);o!=null&&f(n,["mimeType"],o);const l=d(t,["sizeBytes"]);l!=null&&f(n,["sizeBytes"],l);const s=d(t,["createTime"]);s!=null&&f(n,["createTime"],s);const a=d(t,["expirationTime"]);a!=null&&f(n,["expirationTime"],a);const u=d(t,["updateTime"]);u!=null&&f(n,["updateTime"],u);const c=d(t,["sha256Hash"]);c!=null&&f(n,["sha256Hash"],c);const p=d(t,["uri"]);p!=null&&f(n,["uri"],p);const g=d(t,["downloadUri"]);g!=null&&f(n,["downloadUri"],g);const m=d(t,["state"]);m!=null&&f(n,["state"],m);const w=d(t,["source"]);w!=null&&f(n,["source"],w);const C=d(t,["videoMetadata"]);C!=null&&f(n,["videoMetadata"],C);const _=d(t,["error"]);return _!=null&&f(n,["error"],wv(e,_)),n}function kv(e,t){return{}}function Cv(e,t){const n={},r=d(t,["nextPageToken"]);r!=null&&f(n,["nextPageToken"],r);const i=d(t,["files"]);return i!=null&&(Array.isArray(i)?f(n,["files"],i.map(o=>ia(e,o))):f(n,["files"],i)),n}function Sv(e,t){return{}}function Ev(e,t){const n={},r=d(t,["httpHeaders"]);return r!=null&&f(n,["httpHeaders"],r),n}function Tv(e,t){const n={},r=d(t,["httpHeaders"]);return r!=null&&f(n,["httpHeaders"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rd(){return new Error(`This feature requires the web or Node specific @google/genai implementation, you can fix this by either:

*Enabling conditional exports for your project [recommended]*

*Using a platform specific import* - Make sure your code imports either '@google/genai/web' or '@google/genai/node' instead of '@google/genai'.
`)}const Nv=1024*1024*8;class Iv{async upload(t,n,r){throw Rd()}async stat(t){throw Rd()}async uploadBlob(t,n,r){var i,o;let l=0,s=0,a=new tm(new Response),u="upload";for(l=t.size;s<l;){const p=Math.min(Nv,l-s),g=t.slice(s,s+p);if(s+p>=l&&(u+=", finalize"),a=await r.request({path:"",body:g,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:n,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(s),"Content-Length":String(p)}}}),s+=p,((i=a==null?void 0:a.headers)===null||i===void 0?void 0:i["x-goog-upload-status"])!=="active")break;if(l<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const c=await(a==null?void 0:a.json());if(((o=a==null?void 0:a.headers)===null||o===void 0?void 0:o["x-goog-upload-status"])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}}class _v{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await new Iv().uploadBlob(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return{size:t.size,type:t.type}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bv{create(t,n,r){return new Pv(t,n,r)}}class Pv{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ld="x-goog-api-key";class Av{constructor(t){this.apiKey=t}async addAuthHeaders(t){t.get(Ld)===null&&t.append(Ld,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mv="gl-node/";class yu{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey,this.apiVersion=t.apiVersion;const r=new Av(this.apiKey);this.apiClient=new uv({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:Mv+"web",uploader:new _v}),this.models=new Ex(this.apiClient),this.live=new J1(this.apiClient,r,new bv),this.chats=new Cx(this.models,this.apiClient),this.caches=new Dy(this.apiClient),this.files=new cv(this.apiClient)}}const Rv={ru:{fixTypos:`
         ().
     .
  ():
1.    .
2.   , ,   (: "", "* ").
3.     (*, -).
4.   debug- (: "(remove)", "word=word").
5.   .      .
6.            .
7.     ,    .
8.     ,      (),   - (: "  " -> "welcome to hell").
`,finalize:`
        .
     .
 :
1.    (, ).
2.     .
3.  - (, , ,  , ),     .
4.      .
5.      (  ),     .
`,combined:`
      .
 :
1.  , , .
2.    -.
3.    .  "  :"   .
4.     ,     (),   - (: " " -> "Hello World").
`,system:" .  .   .",enhance:`
      .
:
1.    .
2.  .
3.    ,   .
4.   .  ,  ,  .
`,transcribe:`
  . 
  ,   .
  (, , ).
  " "  "".
        .
`},en:{fixTypos:`
Your task is to fix spelling typos in the text.
STRICT RULES:
1. Return ONLY the corrected text.
2. NO explanations, NO comments, NO change logs (e.g., "(remove)", "fixed").
3. NO bullet points (*, -).
4. Fix obvious typos. Do not change correct words.
5. DO NOT change letter case or add punctuation yet.
`,finalize:`
Your task is to format the text into proper written speech.
STRICT RULES:
1. Add punctuation and capitalization.
2. REMOVE filler words (um, like, you know).
3. Return ONLY the formatted text. NO extra comments.
`,combined:`
Your task is to perform full text correction.
STRICT RULES:
1. Fix spelling, punctuation, capitalization.
2. Remove filler words.
3. Return ONLY the final text. NO conversational filler.
`,system:"You are a typo fixer. Fix spelling errors. Do not add filler.",enhance:`
You are a strict text correction tool.
RULES:
1. Fix grammar and style.
2. Remove filler words.
3. RETURN ONLY THE TEXT. No quotes, no intros, no explanations.
`,transcribe:`
You are a transcription tool.
Output ONLY what is spoken.
Ignore noises.
Do not write "Silence".
If silence, return empty string.
`}},Lv={ru:{welcomeTitle:"  ",welcomeSubtitle:"  .",welcomeDesc:"FastType AI          .  ,     .",feature1Title:" ",feature1Desc:"     .",feature2Title:" ",feature2Desc:"    .",feature3Title:" ",feature3Desc:"  Gemini 3 Flash   .",setupTitle:" ",setupDesc:"  API  Google Gemini   .",apiKeyLabel:"GEMINI API KEY",startBtn:" ",getKeyLink:"   Gemini",keyStorageInfo:"     .",placeholder:"     ...",chars:".",btnRecord:" (Alt+R)",btnStop:" (Alt+R)",btnEnhance:" ",btnUndo:"",btnRedo:"",statusTyping:"...",statusThinking:"...",statusGrammar:"  ...",statusCorrecting:"...",statusEnhancing:"...",statusRecording:"...",statusTranscribing:"...",statusDone:"",statusIdle:"  ",statusPaused:" ",btnPause:"",btnResume:"",settingsTitle:" ",settingsActive:" ",settingsDelay:" (ms)",settingsDelayDesc:"    ",howItWorksTitle:"  ",howItWorksDesc:`1.      ().
2.      .
3.        ().`,changeKey:" API ",footer:"FastType AI",clipboardTitle:"  (Alt+V)",clipboardEmpty:" ",clipboardCopy:"",clipboardClear:"",clipboardEnable:".  ",clipboardSearch:"...",tooltipLang:" ",tooltipStats:" ",tooltipSettings:" (Alt+S)",tooltipMin:"",tooltipMax:"",tooltipClose:"",waveProcessing:"...",waveProcessed:"",visGeminiLabel:"GEMINI",visListening:"",visEditing:" / .",visAnalyzingListening:" / ",visAnalyzing:"",visDone:"",testMic:" ",stopTest:"",noiseLevel:" ",silenceZone:" ()",speechZone:" ()",micAccessError:"   ",audioModelTitle:" ",modelFlash:"Gemini 2.5 Flash ()",modelPro:"Gemini 2.5 Pro ()",settingsEconomy:" ",settingsEconomyDesc:"   .      .",btnHelp:"",btnHome:"",tooltipHelp:"  (F1)",tooltipHome:"   (Home)",historyTitle:"  (Alt+H)",historyEmpty:" ",historyRestore:"  ",historyCurrent:" ",tagRaw:" ()",tagDictated:"",tagProcessed:"",tagFinalized:"",tagEnhanced:"",helpModalTitle:" FastType AI",helpSection1:" ",helpDesc1:" .    .         .",helpSection2:" ",helpDesc2:`Ctrl+Z (Cmd+Z) - 
Ctrl+Y (Cmd+Shift+Z) - 
Alt+R - 
Alt+V - 
Alt+H - 
Alt+S - 
F1 - 
Home -  `,helpSection3:"",helpDesc3:"  .         .",lockTitle:"  ",lockDesc:" .  PIN-.",lockPlaceholder:" PIN",lockBtn:"",lockCreateTitle:" ()",lockCreateDesc:" PIN   .",lockCreatePlaceholder:" PIN",lockSetBtn:" PIN",lockError:" PIN-",lockRemove:" PIN-",lockSaved:"PIN- "},en:{welcomeTitle:"Your Intelligent",welcomeSubtitle:"Typing Assistant.",welcomeDesc:"FastType AI runs in the background, helping you write faster and better. Just type, and we'll handle the rest.",feature1Title:"Instant Corrections",feature1Desc:"Automatically fixes typos and transposed letters during pauses.",feature2Title:"Style Enhancement",feature2Desc:"Turns drafts into professional text with one click.",feature3Title:"Context Aware",feature3Desc:"Powered by Gemini 3 Flash for deep understanding.",setupTitle:"Access Setup",setupDesc:"Enter your Google Gemini API key to get started.",apiKeyLabel:"GEMINI API KEY",startBtn:"Launch Editor",getKeyLink:"Get free Gemini API Key",keyStorageInfo:"Key is stored locally on your device.",placeholder:"Start typing here or use the microphone...",chars:"chars",btnRecord:"Dictate (Alt+R)",btnStop:"Stop (Alt+R)",btnEnhance:"Enhance Text",btnUndo:"Undo",btnRedo:"Redo",statusTyping:"Typing...",statusThinking:"Checking...",statusGrammar:"AI Error Check...",statusCorrecting:"Fixing...",statusEnhancing:"Finalizing...",statusRecording:"Recording...",statusTranscribing:"Transcribing...",statusDone:"Done",statusIdle:"Ready",statusPaused:"Paused",btnPause:"Pause",btnResume:"Resume",settingsTitle:"Analysis Settings",settingsActive:"Active Correction",settingsDelay:"Delay (ms)",settingsDelayDesc:"AI reaction speed for typos",howItWorksTitle:"HOW IT WORKS",howItWorksDesc:`1. Dictionary checks words instantly (Orange).
2. AI fixes unknown words.
3. AI adds punctuation at sentence end (Green).`,changeKey:"Change API Key",footer:"FastType AI",clipboardTitle:"Clipboard History (Alt+V)",clipboardEmpty:"History is empty",clipboardCopy:"Copy",clipboardClear:"Clear All",clipboardEnable:"Enable History",clipboardSearch:"Search...",tooltipLang:"Switch Language",tooltipStats:"Corrections made",tooltipSettings:"Settings (Alt+S)",tooltipMin:"Minimize",tooltipMax:"Maximize",tooltipClose:"Close",waveProcessing:"Processing...",waveProcessed:"Processed",visGeminiLabel:"GEMINI",visListening:"LISTENING",visEditing:"LISTENING / EDIT",visAnalyzingListening:"LISTENING / ANALYZE",visAnalyzing:"ANALYZING",visDone:"DONE",testMic:"Test Microphone",stopTest:"Stop",noiseLevel:"Noise Level",silenceZone:"Silence (Ignored)",speechZone:"Speech (Recorded)",micAccessError:"Microphone access denied",audioModelTitle:"Audio Model",modelFlash:"Gemini 2.5 Flash (Fast)",modelPro:"Gemini 2.5 Pro (Smart)",settingsEconomy:"Traffic Saver",settingsEconomyDesc:"Checks local dictionary first. Uses AI only for unknown words.",btnHelp:"Help",btnHome:"Home",tooltipHelp:"Quick Help (F1)",tooltipHome:"Return to Welcome (Home)",historyTitle:"Version History (Alt+H)",historyEmpty:"History is empty",historyRestore:"Restore this version",historyCurrent:"Current Version",tagRaw:"Raw Input",tagDictated:"Dictated",tagProcessed:"Edited",tagFinalized:"Final",tagEnhanced:"Enhanced",helpModalTitle:"FastType AI Help",helpSection1:"Core Features",helpDesc1:"Just type. The dictionary checks words instantly. AI helps with typos and punctuation automatically.",helpSection2:"Shortcuts",helpDesc2:`Ctrl+Z (Cmd+Z) - Undo
Ctrl+Y (Cmd+Shift+Z) - Redo
Alt+R - Record
Alt+V - Clipboard
Alt+H - History
Alt+S - Settings
F1 - Help
Home - Welcome Screen`,helpSection3:"Microphone",helpDesc3:"Click and speak. AI automatically filters silence and transcribes speech to text.",lockTitle:"System Login",lockDesc:"Application is locked. Enter PIN to continue.",lockPlaceholder:"Enter PIN",lockBtn:"Unlock",lockCreateTitle:"Protection (Optional)",lockCreateDesc:"Create a PIN to protect access.",lockCreatePlaceholder:"Create a PIN",lockSetBtn:"Set PIN",lockError:"Invalid PIN code",lockRemove:"Remove PIN",lockSaved:"PIN code set"}},Lt=e=>Lv[e],Li=e=>Rv[e],Dd={ru:["","","","","","","","","","","","","","","","","","-","-","-","","","",""," "," "," ","",""],en:["ding","beep","click","clack","thump","noise","silence","sound","music","applause","laughter","sigh","cough","squeak","knock","tap","m","m-m","uh","uh-uh","hm","hmm","subtitles","transcription","to be continued","end of recording","beep","boop"]},zd={ru:["","","-","",""," ","",""," "," ","","","","","","","",""],en:["um","umm","uh","er","ah","like","you know","sort of","kind of","basically","literally","actually","so","mean","right","okay","well","hmm","huh"]},sm=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),Dv=(e,t)=>{if(!e)return"";let n=e;const r=t==="ru"?Dd.ru:Dd.en,i=n.trim().toLowerCase().replace(/[.,!?;:]/g,"");if(r.includes(i))return"";r.forEach(l=>{const s=new RegExp(`(^|[^a-zA-Z--])${sm(l)}($|[^a-zA-Z--])`,"gi");n=n.replace(s,"$1$2").replace(/\s+/g," ")});const o=t==="ru"?/(^|\s)([^])(\s|$)/gi:/(^|\s)([^ai])(\s|$)/gi;return n=n.replace(o," "),n.trim()},xu=(e,t)=>{if(!e)return"";let n=e;return(t==="ru"?zd.ru:zd.en).forEach(i=>{const o=new RegExp(`(^|[^a-zA-Z--])${sm(i)}($|[^a-zA-Z--])`,"gi");n=n.replace(o,"$1$2")}),n.replace(/\s+/g," ").trim()},xl=e=>{if(!e)return"";let t=e.split(`
`);t=t.filter(r=>!/^\s*[\*\-]\s/.test(r)),t.length===0&&(t=e.split(`
`).map(r=>r.replace(/^\s*[\*\-]\s/,"")));let n=t.join(" ").trim();return n=n.replace(/\([a-zA-Z\s\d]+\)/g,""),n=n.replace(/\b\w+=\w+\b/g,""),n=n.replace(/^Wait,.*?:/i,""),n=n.replace(/\s+/g," ").trim(),n},ro=e=>{if(!e)return"";let t=e.replace(/([.,:;])([a-zA-Z--])/g,"$1 $2");return t=t.replace(/([?!])([a-zA-Z--0-9])/g,"$1 $2"),t},zv=e=>e?e.replace(/\s+([.,!?:;])/g,"$1"):"";let Rt=null;const Fv=e=>{e&&(Rt=new yu({apiKey:e}))},Ov=async(e,t)=>{var r;if(!e||e.trim().length===0||!Rt)return e;const n=Li(t);try{let o=((r=(await Rt.models.generateContent({model:"gemini-3-flash-preview",contents:e,config:{systemInstruction:n.fixTypos,temperature:.1,maxOutputTokens:2048,thinkingConfig:{thinkingBudget:0}}})).text)==null?void 0:r.trim())||e;return o=xl(o),o}catch(i){return console.error("Gemini Typo Fix Error:",i),e}},jv=async(e,t)=>{var r;if(!e||e.trim().length===0||!Rt)return e;const n=Li(t);try{let o=((r=(await Rt.models.generateContent({model:"gemini-3-flash-preview",contents:e,config:{systemInstruction:n.finalize,temperature:.3,maxOutputTokens:8192,thinkingConfig:{thinkingBudget:0}}})).text)==null?void 0:r.trim())||e;return o=xu(o,t),o=xl(o),o}catch(i){return console.error("Gemini Finalize Error:",i),e}},Uv=async(e,t)=>{var r;if(!e||e.trim().length===0||!Rt)return e;const n=Li(t);try{let o=((r=(await Rt.models.generateContent({model:"gemini-3-flash-preview",contents:e,config:{systemInstruction:n.combined,temperature:.3,maxOutputTokens:8192,thinkingConfig:{thinkingBudget:0}}})).text)==null?void 0:r.trim())||e;return o=xu(o,t),o=xl(o),o}catch(i){return console.error("Gemini Combined Fix Error:",i),e}},Vv=async(e,t)=>{if(!e||e.trim().length===0||!Rt)return e;const n=Li(t);try{let i=(await Rt.models.generateContent({model:"gemini-3-flash-preview",contents:e,config:{systemInstruction:n.enhance,temperature:.2,maxOutputTokens:8192,thinkingConfig:{thinkingBudget:0}}})).text||e;return i=xu(i,t),i=xl(i),i}catch(r){return console.error("Gemini Enhancement Error:",r),e}},Hv=e=>{if(!e||e.length<10)return!1;if(e.toLowerCase().split(",  ").length>3)return!0;const r=e.split(/[.!?]\s+/);return r.length>3&&new Set(r.map(o=>o.trim().toLowerCase())).size<r.length/2},Bv=async(e,t,n,r="gemini-2.5-flash")=>{if(!Rt)throw new Error("API Key not set");const i=Li(n);try{let l=(await Rt.models.generateContent({model:r,contents:{parts:[{inlineData:{mimeType:t,data:e}}]},config:{systemInstruction:i.transcribe,temperature:.1}})).text||"";if(l=Dv(l,n),!l)return"";const s=l.toLowerCase().trim();return s.includes("  ")||s.includes("expert transcriber")||s.startsWith(" , ")||Hv(l)?"":l}catch(o){throw console.error("Gemini Transcription Error:",o),o}},Fd="fasttype_editor_state_v1",$v=()=>{const t=(()=>{try{const v=localStorage.getItem(Fd);if(v){const T=JSON.parse(v);return{text:T.text||"",committedLength:T.committedLength||0,processedLength:T.processedLength||0,checkedLength:T.checkedLength||0,history:T.history||[],historyIndex:T.historyIndex||0}}}catch(v){console.error("Failed to load editor state",v)}return null})(),[n,r]=b.useState((t==null?void 0:t.text)||""),[i,o]=b.useState((t==null?void 0:t.committedLength)||0),[l,s]=b.useState((t==null?void 0:t.processedLength)||0),[a,u]=b.useState((t==null?void 0:t.checkedLength)||0),[c,p]=b.useState(t&&t.history&&t.history.length>0?t.history:[{id:"init",text:"",committedLength:0,processedLength:0,timestamp:Date.now(),tags:[]}]),[g,m]=b.useState((t==null?void 0:t.historyIndex)||0),w=b.useRef(!1);b.useEffect(()=>{const v={text:n,committedLength:i,processedLength:l,checkedLength:a,history:c,historyIndex:g};localStorage.setItem(Fd,JSON.stringify(v))},[n,i,l,a,c,g]),b.useEffect(()=>{m(v=>Math.min(v,c.length-1))},[c.length]);const C=b.useCallback((v,T,N,E=[])=>{w.current||(p(I=>{const P=I.slice(0,g+1),M=P[P.length-1];if(M&&M.text===v&&M.committedLength===T&&(!E.length||JSON.stringify(M.tags)===JSON.stringify(E)))return I;const R=[...P,{id:Math.random().toString(36).substring(2,9),text:v,committedLength:T,processedLength:N,timestamp:Date.now(),tags:E}];return R.length>50?R.slice(1):R}),m(I=>I+1))},[g]),_=b.useCallback(()=>{if(g>0){w.current=!0;const v=c[g-1];return r(v.text),o(v.committedLength),s(v.processedLength),u(v.checkedLength??v.processedLength),m(g-1),setTimeout(()=>{w.current=!1},50),!0}return!1},[c,g]),y=b.useCallback(()=>{if(g<c.length-1){w.current=!0;const v=c[g+1];return r(v.text),o(v.committedLength),s(v.processedLength),u(v.checkedLength??v.processedLength),m(g+1),setTimeout(()=>{w.current=!1},50),!0}return!1},[c,g]),x=b.useCallback(v=>{if(v>=0&&v<c.length){w.current=!0;const T=c[v];return r(T.text),o(T.committedLength),s(T.processedLength),u(T.checkedLength??T.processedLength),m(v),setTimeout(()=>{w.current=!1},50),!0}return!1},[c]);return{text:n,setText:r,committedLength:i,setCommittedLength:o,processedLength:l,setProcessedLength:s,checkedLength:a,setCheckedLength:u,saveCheckpoint:C,undo:_,redo:y,jumpTo:x,canUndo:g>0,canRedo:g<c.length-1,isUndoing:w.current,history:c,historyIndex:g}},qv=(e,t,n)=>{const r=new ArrayBuffer(44),i=new DataView(r);return io(i,0,"RIFF"),i.setUint32(4,36+n,!0),io(i,8,"WAVE"),io(i,12,"fmt "),i.setUint32(16,16,!0),i.setUint16(20,1,!0),i.setUint16(22,t,!0),i.setUint32(24,e,!0),i.setUint32(28,e*t*2,!0),i.setUint16(32,t*2,!0),i.setUint16(34,16,!0),io(i,36,"data"),i.setUint32(40,n,!0),r},io=(e,t,n)=>{for(let r=0;r<n.length;r++)e.setUint8(t+r,n.charCodeAt(r))},am=(e=25)=>{const[t,n]=b.useState(!1),[r,i]=b.useState(null),o=b.useRef(null),l=b.useRef(null),s=b.useRef(null),a=b.useRef(null),u=b.useRef(null),c=b.useRef([]),p=b.useRef(null),g=b.useRef(null),m=b.useRef(null),w=b.useRef(null),C=b.useRef(null),_=b.useRef(!1),y=b.useRef(0),x=1e3,v=5e3;b.useEffect(()=>()=>{T()},[]);const T=()=>{C.current&&clearInterval(C.current),u.current&&u.current.state!=="inactive"&&u.current.stop(),p.current&&p.current.getTracks().forEach(A=>A.stop()),o.current&&o.current.close(),i(null)},N=A=>{let D=0;for(let F=0;F<A.length;F++){const B=(A[F]-128)/128;D+=B*B}return Math.sqrt(D/A.length)},E=async A=>{try{const D=await A.arrayBuffer(),F=new(window.AudioContext||window.webkitAudioContext),B=await F.decodeAudioData(D),j=B.getChannelData(0),W=B.sampleRate,Q=Math.max(.01,e/1e3*.5);let z=0,U=j.length;for(let ie=0;ie<j.length;ie++)if(Math.abs(j[ie])>Q){z=ie;break}for(let ie=j.length-1;ie>=0;ie--)if(Math.abs(j[ie])>Q){U=ie;break}const k=Math.floor(.2*W);if(z=Math.max(0,z-k),U=Math.min(j.length,U+k),U<=z)return F.close(),null;const G=U-z,J=j.slice(z,U),S=new ArrayBuffer(G*2),re=new DataView(S);for(let ie=0;ie<G;ie++){let fe=Math.max(-1,Math.min(1,J[ie]));re.setInt16(ie*2,fe<0?fe*32768:fe*32767,!0)}const ee=qv(W,1,G*2),Z=new Blob([ee,S],{type:"audio/wav"});return F.close(),Z}catch(D){return console.error("Audio trimming failed",D),A}},I=async A=>{if(A.size!==0){m.current&&m.current("analyzing_listening"),console.log(`Processing raw chunk: Size=${A.size}, MaxRMS=${y.current.toFixed(4)}`);try{const D=await E(A);if(!D){console.log("Chunk discarded: Silence only."),m.current&&t&&m.current("listening");return}console.log(`Processed chunk: Original Size=${A.size}, Trimmed Size=${D.size}`);const F=new FileReader;F.onloadend=()=>{const B=F.result;if(B&&g.current){const j=B.split(",")[1];g.current(j,"audio/wav")}},F.readAsDataURL(D)}catch(D){console.error("Chunk processing failed",D)}}},P=A=>{let D;MediaRecorder.isTypeSupported("audio/webm;codecs=opus")&&(D={mimeType:"audio/webm;codecs=opus"});const F=new MediaRecorder(A,D);u.current=F,c.current=[],y.current=0,m.current&&m.current("listening"),F.ondataavailable=B=>{B.data.size>0&&c.current.push(B.data)},F.onstop=()=>{const B=F.mimeType||"audio/webm",j=new Blob(c.current,{type:B});c.current=[],I(j)},F.start()},M=b.useCallback(async(A,D)=>{try{T(),g.current=A,m.current=D||null;const F=await navigator.mediaDevices.getUserMedia({audio:!0});p.current=F;const B=new(window.AudioContext||window.webkitAudioContext);o.current=B;const j=B.createAnalyser();j.fftSize=256,j.smoothingTimeConstant=.8,j.minDecibels=-90,j.maxDecibels=-10,l.current=j;const W=B.createMediaStreamSource(F);s.current=W,W.connect(j);const Q=j.frequencyBinCount,z=new Uint8Array(Q);return a.current=z,P(F),n(!0),w.current=Date.now(),C.current=setInterval(()=>{if(!l.current||!u.current)return;l.current.getByteTimeDomainData(z);const U=N(z);U>y.current&&(y.current=U);const k=Math.max(.005,e/1e3);if(U>k)w.current=null,i(null);else if(w.current===null)w.current=Date.now();else{const J=Date.now()-w.current,S=Math.max(0,v-J),re=Math.ceil(S/1e3);if(re<=5&&re>0?i(ee=>ee!==re?re:ee):re<=0&&i(0),J>v){R();return}J>x&&!_.current&&(_.current=!0,m.current&&m.current("editing"),u.current.state==="recording"&&u.current.stop(),p.current&&p.current.active&&P(p.current),setTimeout(()=>{_.current=!1},200))}},100),!0}catch(F){return console.error("Error accessing microphone:",F),!1}},[e]),R=b.useCallback(async()=>{console.log("Stopping recording..."),C.current&&clearInterval(C.current),i(null),u.current&&u.current.state==="recording"&&u.current.stop(),setTimeout(()=>{p.current&&(p.current.getTracks().forEach(A=>A.stop()),p.current=null),o.current&&(o.current.close(),o.current=null),n(!1)},200)},[]);return{isRecording:t,startRecording:M,stopRecording:R,visualizerDataRef:a,autoStopCountdown:r}},um=b.createContext(void 0),Gv=({children:e})=>{const[t,n]=b.useState([]),r=b.useCallback(o=>{n(l=>l.filter(s=>s.id!==o))},[]),i=b.useCallback((o,l,s=2e3)=>{const a=Math.random().toString(36).substring(2,9),u={id:a,message:o,type:l,duration:s};n(c=>[...c,u]),s>0&&setTimeout(()=>{r(a)},s)},[r]);return h.jsx(um.Provider,{value:{notifications:t,addNotification:i,removeNotification:r},children:e})},vl=()=>{const e=b.useContext(um);if(!e)throw new Error("useNotification must be used within a NotificationProvider");return e},Wv=({undo:e,redo:t,toggleRecording:n,onStatusChange:r,onPauseProcessing:i})=>{const o=b.useCallback(()=>{e()&&(r("paused"),i())},[e,r,i]),l=b.useCallback(()=>{t()&&(r("paused"),i())},[t,r,i]),s=b.useCallback(a=>{(a.metaKey||a.ctrlKey)&&a.key==="z"?(a.preventDefault(),a.shiftKey?l():o()):(a.metaKey||a.ctrlKey)&&a.key==="y"&&(a.preventDefault(),l())},[o,l]);return b.useEffect(()=>{const a=u=>{u.altKey&&u.code==="KeyR"&&(u.preventDefault(),n())};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[n]),{handleUndo:o,handleRedo:l,handleKeyDown:s}},Kv=({textRef:e,committedLengthRef:t,processedLengthRef:n,settingsRef:r,statusRef:i,language:o,setText:l,setProcessedLength:s,setCommittedLength:a,saveCheckpoint:u,onStatsUpdate:c,onStatusChange:p,setIsGrammarChecking:g})=>{const m=b.useRef(null),w=b.useRef(null),C=b.useRef(!1),_=b.useRef(!1),y=b.useRef(0);b.useEffect(()=>()=>{m.current&&clearTimeout(m.current),w.current&&clearTimeout(w.current)},[]);const x=b.useCallback(()=>{m.current&&clearTimeout(m.current),w.current&&clearTimeout(w.current),C.current=!1,_.current=!1,y.current+=1,g(!1)},[g]),v=b.useCallback(async()=>{var z;if(!r.current.enabled||C.current||i.current==="recording"||i.current==="transcribing")return;const P=e.current,M=n.current;if(M>=P.length){g(!1),(i.current==="typing"||i.current==="thinking")&&p("idle");return}const R=P.slice(M),A=/[.!?](\s|$)/.test(R.trim().slice(-1)),D=R.match(/^(.+?[.!?])(\s|$)/s);let F=R,B=!1;if(A)F=R,B=!0;else if(D)F=D[1],B=!0;else if(R.length>200){const U=R.match(/[.!?\n]/);U&&U.index&&(F=R.slice(0,U.index+1))}const j=F.length>100,W=((z=F.match(/^\s+/))==null?void 0:z[0])||"";B||j?p("enhancing"):g(!0),C.current=!0;const Q=++y.current;u(P,t.current,M,["raw"]);try{let U;if(B||j?U=await Uv(F,o):U=await Ov(F,o),Q!==y.current)return;W&&!U.startsWith(W)&&(U=W+U),U=ro(U);const k=e.current,G=n.current;if(k.slice(G,G+F.length)!==F){console.log("Segment changed by user during API call, discarding fix."),C.current=!1,g(!1);return}let S=U;const re=k.slice(G+F.length);if(re.length>0&&!/^[\s.,;!?]/.test(re)&&!/[\s]$/.test(S)&&(S+=" "),S!==F){const ee=k.slice(0,G)+S+re;l(ee),c(1);const Z=G+S.length;s(Z),B||j?(a(Z),u(ee,Z,Z,["finalized"]),p("done")):(u(ee,t.current,Z,["processed"]),p("idle"))}else{const ee=G+F.length;s(ee),(B||j)&&a(ee),p("idle")}}catch(U){console.error(U);const k=n.current+F.length;k<=e.current.length&&s(k),p("idle")}finally{Q===y.current&&(C.current=!1,g(!1),(B||j)&&setTimeout(()=>{i.current!=="recording"&&i.current!=="paused"&&p("idle")},1500))}},[o,c,p,u,l,s,a,r,i,e,t,n,g]),T=b.useCallback(async()=>{var B;if(!r.current.enabled||_.current||i.current==="recording"||C.current)return;const P=e.current,M=t.current,R=n.current;if(R<=M)return;const A=P.slice(M,R);if(A.trim().length<2)return;const D=((B=A.match(/^\s+/))==null?void 0:B[0])||"";p("enhancing"),_.current=!0;const F=++y.current;try{let j=await jv(A,o);if(F!==y.current)return;D&&!j.startsWith(D)&&(j=D+j),j=ro(j);const W=e.current,Q=t.current;if(W.slice(Q,Q+A.length)!==A){_.current=!1;return}if(j!==A){if(/[.!?]$/.test(j)){const J=W.slice(Q+A.length);J.length>0&&!J.startsWith(" ")&&(j+=" ")}const U=W.slice(Q+A.length),k=W.slice(0,Q)+j+U;l(k);const G=Q+j.length;a(G),s(Math.max(n.current,G)),c(1),u(k,G,Math.max(n.current,G),["finalized"]),p("done")}else a(Q+A.length),p("idle");setTimeout(()=>{i.current!=="recording"&&i.current!=="paused"&&p("idle")},1e3)}catch(j){console.error(j),p("idle")}finally{F===y.current&&(_.current=!1)}},[o,c,p,u,l,a,s,r,i,e,t,n]),N=b.useCallback(async()=>{var A;if(C.current)return;const P=e.current,M=P.slice(t.current);if(!M.trim())return;const R=((A=M.match(/^\s+/))==null?void 0:A[0])||"";p("enhancing");try{let D=await Vv(M,o);if(R&&!D.startsWith(R)&&(D=R+D),D=ro(D),D!==M){const F=P.slice(0,t.current)+D;l(F),a(F.length),s(F.length),c(1),u(F,F.length,F.length,["enhanced"]),p("done")}else p("idle")}catch{p("idle")}},[o,c,p,l,a,s,e,t,u]),E=b.useCallback(P=>{m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{v()},P)},[v]),I=b.useCallback(P=>{w.current&&clearTimeout(w.current),w.current=setTimeout(()=>{T()},P)},[T]);return{processPendingTypos:v,finalizeCommittedText:T,handleEnhance:N,scheduleTyposCheck:E,scheduleFinalization:I,cancelPendingTasks:x,ensureProperSpacing:ro}},Yv=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Qv=["the","be","to","of","and","a","in","that","have","i","it","for","not","on","with","he","as","you","do","at","this","but","his","by","from","they","we","say","her","she","or","an","will","my","one","all","would","there","their","what","so","up","out","if","about","who","get","which","go","me","when","make","can","like","time","no","just","him","know","take","people","into","year","your","good","some","could","them","see","other","than","then","now","look","only","come","its","over","think","also","back","after","use","two","how","our","work","first","well","way","even","new","want","because","any","these","give","day","most","us","hello","hi","ok","yes","thanks"],Eo=new Set(Yv),Yr=new Set(Qv),Hr=e=>e.toLowerCase().replace(/[^a-zA-Z--0-9]/g,"").trim(),Jv=async()=>{console.log("Starting dictionary load...");try{try{const t=await fetch("./dictionaries/en/oxford-3000.json");if(t.ok){const n=await t.json();Array.isArray(n)?n.forEach(r=>{typeof r=="string"?Yr.add(Hr(r)):r.word&&typeof r.word=="string"&&Yr.add(Hr(r.word))}):typeof n=="object"&&Object.keys(n).forEach(r=>Yr.add(Hr(r))),console.log(`Loaded English Dictionary: ${Yr.size} words`)}}catch(t){console.warn("Error parsing EN dictionary:",t)}try{const t=await fetch("./dictionaries/ru/dictionary.json");if(t.ok){const n=await t.json();if(Array.isArray(n)){n.forEach(r=>Eo.add(Hr(r))),console.log(` Loaded Optimized RU Dictionary: ${n.length} words`);return}}}catch{console.log("Optimized dictionary.json not found, falling back to CSVs...")}const e=["nouns.csv","adjectives.csv","verbs.csv","others.csv"];for(const t of e)try{const n=await fetch(`./dictionaries/ru/${t}`);if(!n.ok)continue;const i=(await n.text()).split(`
`);let o=0;for(const l of i){if(!l.trim())continue;const a=l.split(/[\t,;]/)[0];if(a&&a.length>1){const u=Hr(a);u&&/[-]/i.test(u)&&(Eo.add(u),o++)}}console.log(`Loaded RU file ${t}: added ${o} words`)}catch(n){console.warn(`Error loading RU file ${t}:`,n)}console.log(`Total RU Dictionary: ${Eo.size} words`)}catch(e){console.error("Critical error loading dictionaries:",e)}},Xv=15e3,Zv=1500,ew=500,tw=({settings:e,onStatsUpdate:t,language:n,status:r,onStatusChange:i,setIsGrammarChecking:o,onClipboardAction:l,resetSignal:s,onPauseProcessing:a})=>{const{text:u,setText:c,committedLength:p,setCommittedLength:g,processedLength:m,setProcessedLength:w,checkedLength:C,setCheckedLength:_,saveCheckpoint:y,undo:x,redo:v,canUndo:T,canRedo:N,history:E,historyIndex:I,jumpTo:P}=$v(),M=b.useRef(u),R=b.useRef(p),A=b.useRef(m),D=b.useRef(C),F=b.useRef(e),B=b.useRef(r),j=b.useRef(null),W=b.useRef(null),Q=b.useRef(null);b.useEffect(()=>{M.current=u},[u]),b.useEffect(()=>{R.current=p},[p]),b.useEffect(()=>{A.current=m},[m]),b.useEffect(()=>{D.current=C},[C]),b.useEffect(()=>{F.current=e},[e]),b.useEffect(()=>{B.current=r,!e.enabled&&r!=="paused"?i("paused"):e.enabled&&r==="paused"&&i("idle")},[e.enabled,r,i]);const{isRecording:z,startRecording:U,stopRecording:k,visualizerDataRef:G,autoStopCountdown:J}=am(e.silenceThreshold),{addNotification:S}=vl(),[re,ee]=b.useState("idle"),Z=b.useRef(null),ie=b.useRef(null),fe=b.useRef(0),{processPendingTypos:Fe,finalizeCommittedText:We,handleEnhance:tn,scheduleTyposCheck:Bt,scheduleFinalization:$t,cancelPendingTasks:St,ensureProperSpacing:te}=Kv({textRef:M,committedLengthRef:R,processedLengthRef:A,settingsRef:F,statusRef:B,language:n,setText:c,setProcessedLength:w,setCommittedLength:g,saveCheckpoint:y,onStatsUpdate:t,onStatusChange:i,setIsGrammarChecking:o});b.useEffect(()=>(Q.current=new Worker(new URL(""+new URL("dictionary.worker-Dg2Gv-ym.js",import.meta.url).href,import.meta.url),{type:"module"}),Q.current.postMessage({type:"SET_DICTIONARY",language:"ru",words:Array.from(Eo)}),Q.current.postMessage({type:"SET_DICTIONARY",language:"en",words:Array.from(Yr)}),()=>{var O;(O=Q.current)==null||O.terminate()}),[]),b.useEffect(()=>{Q.current&&(Q.current.onmessage=O=>{const{type:$,validatedLength:K,checkedLength:le}=O.data;if($==="CHECK_RESULT"){const ue=Math.max(K,R.current);ue!==A.current&&w(ue);const ot=Math.max(le,ue);if(ot!==D.current&&_(ot),F.current.enabled&&ue===M.current.length&&M.current.length>0){const _e=M.current.slice(-1);_e!==" "&&_e!==`
`&&(W.current&&clearTimeout(W.current),W.current=setTimeout(()=>{if(M.current.length===ue){const Ae=M.current+" ";c(Ae),$t(200)}},ew))}}})},[$t,c,w,_,p]);const{handleUndo:Ie,handleRedo:Et,handleKeyDown:Ar}=Wv({undo:x,redo:v,toggleRecording:()=>Oi(),onStatusChange:i,onPauseProcessing:a});b.useEffect(()=>{if(e.enabled&&(r==="idle"||r==="done")&&u.length>m){const O=setTimeout(()=>{(B.current==="idle"||B.current==="done")&&M.current.length>A.current&&(i("grammar_check"),Bt(0))},1e3);return()=>clearTimeout(O)}},[r,u.length,m,e.enabled,Bt,i]),b.useEffect(()=>{let O=null;return["typing","thinking","correcting","grammar_check","enhancing","transcribing"].includes(r)&&(O=setTimeout(()=>{console.warn("Watchdog triggered: System hung for too long. Resetting."),St(),W.current&&clearTimeout(W.current),i("idle"),ee("idle"),o(!1)},Xv)),()=>{O&&clearTimeout(O)}},[r,u,i,St,o]);const Gn=O=>{ie.current&&(ie.current.scrollTop=O.currentTarget.scrollTop)},In=O=>{const $=O.currentTarget,K=$.value.substring($.selectionStart,$.selectionEnd);K&&l(K)},Mr=b.useCallback(O=>{P(O)&&(i("paused"),a())},[P,i,a]);b.useEffect(()=>{s>0&&(St(),W.current&&clearTimeout(W.current),i("idle"),ee("idle"),setTimeout(()=>{A.current<M.current.length?Fe():R.current<A.current&&We()},50))},[s,i,Fe,We,St]);const Tl=O=>{let $=O.target.value;$=zv($);const K=M.current,le=Math.abs($.length-K.length)>1;if(c($),W.current&&(clearTimeout(W.current),W.current=null),j.current&&clearTimeout(j.current),$.trim().length===0){g(0),w(0),_(0),St(),i(e.enabled?"idle":"paused");return}B.current!=="recording"&&i("typing"),j.current=setTimeout(()=>{B.current==="typing"&&i("idle")},Zv);let ue=0;for(;ue<K.length&&ue<$.length&&K[ue]===$[ue];)ue++;const _e=$.slice(0,ue+1).search(/[\s\n\t.,!?;:()""''][^\s\n\t.,!?;:()""'']*$/),Ae=_e===-1?0:_e+1;if(A.current>Ae&&w(Ae),D.current>Ae&&_(Ae),ue<R.current&&(g(Math.max(0,ue-1)),w(ue),_(ue)),Q.current&&Q.current.postMessage({type:"CHECK_TEXT",text:$,language:n,processedLength:Ae<A.current?Ae:A.current}),e.enabled&&B.current!=="recording"){const _n=$.slice(-1),nn=/[\s.,;!?]/.test(_n)?50:e.debounceMs,Tt=/[.!?](\s|$)/.test($.slice(-2));le?Bt(500):Tt?(Bt(200),$t(200)):Bt(nn)}},Rr=b.useCallback(async(O,$)=>{fe.current+=1,B.current!=="recording"&&i("transcribing"),B.current==="recording"&&ee("analyzing_listening");try{let K=await Bv(O,$,n,F.current.audioModel);if(K&&K.trim()){K=te(K);const le=M.current,ue=R.current,ot=le.trim().length>0&&!le.endsWith(" ")?" ":"",_e=le+ot+K,Ae=_e.length;c(_e),w(Ae),_(Ae),t(1),y(_e,ue,Ae,["dictated"]),$t(1e3)}}catch(K){console.error("Chunk transcription failed",K)}finally{fe.current-=1,fe.current===0&&(B.current==="recording"?ee("listening"):(i("done"),ee("done"),setTimeout(()=>{F.current.enabled?(i("idle"),ee("idle")):(i("paused"),ee("idle"))},1500)))}},[n,t,i,$t,c,w,_,te,y]);b.useEffect(()=>{B.current==="recording"&&!z&&fe.current===0?(i(e.enabled?"idle":"paused"),ee("done"),setTimeout(()=>ee("idle"),2e3),S(n==="ru"?" ":"Recording stopped","info")):B.current==="recording"&&!z&&fe.current>0&&(i("transcribing"),ee("analyzing"))},[z,r,e.enabled,n,S,i]);const Fi=b.useRef(Rr);b.useEffect(()=>{Fi.current=Rr},[Rr]);const Oi=b.useCallback(async()=>{z?await k():(St(),await U(async($,K)=>{await Fi.current($,K)},$=>ee($))?(i("recording"),ee("listening"),S(n==="ru"?"...":"Recording...","info",1500)):(i("idle"),ee("idle")))},[z,k,U,i,n,S,St]);return{text:u,committedLength:p,processedLength:m,checkedLength:C,textareaRef:Z,backdropRef:ie,isBusy:r!=="idle"&&r!=="done"&&r!=="typing"&&r!=="paused",canUndo:T,canRedo:N,handleScroll:Gn,handleChange:Tl,handleKeyDown:Ar,handleClipboardEvent:In,handleUndo:Ie,handleRedo:Et,handleEnhance:tn,toggleRecording:Oi,visualizerDataRef:G,autoStopCountdown:J,visualizerStatus:re,history:E,historyIndex:I,handleHistoryJump:Mr}},Xl=(e,t,n)=>e*(1-n)+t*n,Od=(e,t,n,r,i,o)=>{r<2*o&&(o=r/2),i<2*o&&(o=i/2),e.beginPath(),e.moveTo(t+o,n),e.arcTo(t+r,n,t+r,n+i,o),e.arcTo(t+r,n+i,t,n+i,o),e.arcTo(t,n+i,t,n,o),e.arcTo(t,n,t+r,n,o),e.closePath()},nw=({text:e,committedLength:t,processedLength:n,checkedLength:r=n,status:i,visualizerStatus:o,language:l,textareaRef:s,backdropRef:a,onChange:u,onScroll:c,onKeyDown:p,onClipboard:g,visualizerDataRef:m})=>{const w=Lt(l),C=b.useRef(null),_=b.useRef({rotation:0,pulse:0,waveAlpha:0,textAlpha:0,currentText:""});b.useLayoutEffect(()=>{const T=C.current;if(!T)return;const N=T.getContext("2d");if(!N)return;let E;const I=M=>{switch(M){case"listening":return w.visListening;case"editing":return w.visEditing;case"analyzing_listening":return w.visAnalyzingListening;case"analyzing":return w.visAnalyzing;case"done":return w.visDone;default:return""}},P=()=>{const M=T.parentElement;M&&(T.width!==M.offsetWidth&&(T.width=M.offsetWidth),T.height!==M.offsetHeight&&(T.height=M.offsetHeight)),N.clearRect(0,0,T.width,T.height);const R=T.width/2,A=T.height/2,D=I(o),F=o!=="idle"?1:0;if(_.current.waveAlpha=Xl(_.current.waveAlpha,F,.1),_.current.currentText!==D)_.current.textAlpha=Xl(_.current.textAlpha,0,.2),_.current.textAlpha<.05&&(_.current.currentText=D);else{const B=o!=="idle"?1:0;_.current.textAlpha=Xl(_.current.textAlpha,B,.1)}if(_.current.pulse+=.05,_.current.rotation+=.005,_.current.waveAlpha>.01){if(N.save(),N.globalAlpha=_.current.waveAlpha,m.current&&(o==="listening"||o==="editing"||o==="analyzing_listening")){const B=m.current,j=B.length,W=Math.min(R,A)*.4,Q=4;let z="rgba(99, 102, 241, 0.4)",U="rgba(99, 102, 241, 0.1)";o==="editing"?(z="rgba(251, 191, 36, 0.5)",U="rgba(251, 191, 36, 0.1)"):o==="analyzing_listening"&&(z="rgba(56, 189, 248, 0.5)",U="rgba(56, 189, 248, 0.1)"),[{color:z,width:2,offset:0},{color:U,width:8,offset:5}].forEach(G=>{N.beginPath();for(let J=0;J<j;J++){const re=(B[J]-128)/128,ee=Math.sin(J/20+_.current.pulse)*.05;let Z=re*Q+ee;o==="analyzing_listening"&&(Z*=.5);const ie=J/j*Math.PI*2+_.current.rotation,fe=W+Z*80+G.offset,Fe=R+fe*Math.cos(ie),We=A+fe*Math.sin(ie);J===0?N.moveTo(Fe,We):N.lineTo(Fe,We)}N.closePath(),N.lineWidth=G.width,N.strokeStyle=G.color,N.stroke()})}else if(o==="analyzing"||o==="done"){const B=Math.min(R,A)*.35,j=o==="done"?"rgba(16, 185, 129,":"rgba(56, 189, 248,";N.beginPath(),N.arc(R,A,B+Math.sin(_.current.pulse)*10,0,Math.PI*2),N.strokeStyle=`${j} 0.5)`,N.lineWidth=2,N.stroke(),N.beginPath(),N.arc(R,A,B+Math.sin(_.current.pulse+1)*15,0,Math.PI*2),N.strokeStyle=`${j} 0.2)`,N.lineWidth=1,N.stroke()}if(_.current.textAlpha>.01&&_.current.currentText){N.globalAlpha=_.current.waveAlpha*_.current.textAlpha;let B="rgba(99, 102, 241, 0.2)",j="#c7d2fe",W="rgba(99, 102, 241, 0.4)";o==="done"?(B="rgba(16, 185, 129, 0.2)",j="#a7f3d0",W="rgba(16, 185, 129, 0.4)"):o==="editing"?(B="rgba(251, 191, 36, 0.2)",j="#fde68a",W="rgba(251, 191, 36, 0.4)"):(o==="analyzing"||o==="analyzing_listening")&&(B="rgba(56, 189, 248, 0.2)",j="#bae6fd",W="rgba(56, 189, 248, 0.4)");const Q=w.visGeminiLabel||"GEMINI";N.font="bold 12px Inter, sans-serif";const U=N.measureText(Q).width+24,k=26,G=R-U/2,J=A-28;N.fillStyle=B,N.shadowBlur=0,N.strokeStyle=W,N.lineWidth=1,Od(N,G,J,U,k,13),N.fill(),N.stroke(),N.fillStyle=j,N.textAlign="center",N.textBaseline="middle",N.fillText(Q,R,J+k/2+1);const S=_.current.currentText;N.font="bold 14px Inter, sans-serif";const ee=N.measureText(S).width+32,Z=32,ie=R-ee/2,fe=A+8;N.fillStyle=B,N.strokeStyle=W,Od(N,ie,fe,ee,Z,16),N.fill(),N.stroke(),N.fillStyle=j,N.shadowColor=W,N.shadowBlur=10,N.fillText(S,R,fe+Z/2+1),N.shadowBlur=0}N.restore()}E=requestAnimationFrame(P)};return P(),()=>{cancelAnimationFrame(E)}},[i,o,m,l,w]);const y=Math.min(t,e.length),x=Math.min(Math.max(t,n),e.length),v=Math.min(Math.max(x,r),e.length);return h.jsxs("div",{className:"relative flex-1 w-full overflow-hidden",children:[h.jsx("canvas",{ref:C,className:"absolute inset-0 w-full h-full pointer-events-none z-0"}),h.jsxs("div",{ref:a,className:"custom-scrollbar absolute inset-0 w-full h-full p-8 pb-32 text-lg leading-relaxed font-medium whitespace-pre-wrap break-words overflow-y-scroll pointer-events-none select-none z-10","aria-hidden":"true",children:[h.jsx("span",{className:"text-emerald-500 transition-colors duration-500",children:e.slice(0,y)}),h.jsx("span",{className:"text-amber-400 transition-colors duration-300",children:e.slice(y,x)}),h.jsx("span",{className:"text-red-400 transition-colors duration-200",children:e.slice(x,v)}),h.jsx("span",{className:"text-slate-300 transition-colors duration-200",children:e.slice(v)}),e.endsWith(`
`)&&h.jsx("br",{})]}),h.jsx("textarea",{ref:s,value:e,onChange:u,onScroll:c,onKeyDown:p,onCopy:g,onCut:g,placeholder:w.placeholder,className:"custom-scrollbar absolute inset-0 w-full h-full p-8 pb-32 resize-none focus:outline-none text-lg leading-relaxed font-medium bg-transparent text-transparent caret-white placeholder:text-slate-700 z-20 overflow-y-scroll break-words",spellCheck:!1})]})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Y=(e,t)=>{const n=b.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:s="",children:a,...u},c)=>b.createElement("svg",{ref:c,...rw,width:i,height:i,stroke:r,strokeWidth:l?Number(o)*24/Number(i):o,className:["lucide",`lucide-${iw(e)}`,s].join(" "),...u},[...t.map(([p,g])=>b.createElement(p,g)),...Array.isArray(a)?a:[a]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=Y("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=Y("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=Y("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=Y("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=Y("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=Y("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=Y("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=Y("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=Y("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=Y("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=Y("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=Y("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=Y("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=Y("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=Y("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=Y("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=Y("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=Y("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=Y("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=Y("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=Y("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=Y("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=Y("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=Y("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=Y("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=Y("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=Y("PauseCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=Y("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=Y("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=Y("PencilLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}],["path",{d:"m15 5 3 3",key:"1w25hb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=Y("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=Y("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=Y("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5v0A5.5 5.5 0 0 0 9.5 20H13",key:"19mnr4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=Y("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=Y("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=Y("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=Y("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=Y("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=Y("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=Y("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=Y("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=Y("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=Y("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=Y("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=Y("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=Y("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=Y("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=Y("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=Y("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=Y("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=Y("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=Y("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=Y("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=Y("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Qe=({content:e,children:t,side:n="top"})=>{const r={top:"bottom-full left-1/2 -translate-x-1/2 mb-2",bottom:"top-full left-1/2 -translate-x-1/2 mt-2",left:"right-full top-1/2 -translate-y-1/2 mr-2",right:"left-full top-1/2 -translate-y-1/2 ml-2"};return h.jsxs("div",{className:"relative flex items-center group z-50",children:[t,h.jsxs("div",{className:`
          absolute pointer-events-none z-[100] px-2.5 py-1.5 
          bg-slate-800 border border-slate-700 rounded-lg shadow-xl 
          whitespace-nowrap text-[10px] font-medium text-slate-200 tracking-wide
          opacity-0 group-hover:opacity-100 
          select-none
          ${r[n]}
        `,children:[e,h.jsx("div",{className:`
                absolute w-2 h-2 bg-slate-800 border-slate-700 transform rotate-45
                ${n==="top"?"bottom-[-5px] left-1/2 -translate-x-1/2 border-b border-r":""}
                ${n==="bottom"?"top-[-5px] left-1/2 -translate-x-1/2 border-t border-l":""}
                ${n==="left"?"right-[-5px] top-1/2 -translate-y-1/2 border-t border-r":""}
                ${n==="right"?"left-[-5px] top-1/2 -translate-y-1/2 border-b border-l":""}
            `})]})]})},jw=({textLength:e,committedLength:t,processedLength:n,status:r,language:i,isBusy:o,canUndo:l,canRedo:s,onUndo:a,onRedo:u,onRecord:c,onEnhance:p,autoStopCountdown:g,onHistoryClick:m,isHistoryOpen:w})=>{const C=Lt(i),_=r==="enhancing";return h.jsxs("div",{className:"absolute bottom-6 right-6 flex items-center gap-4 z-20 pointer-events-auto select-none",children:[r==="recording"&&g!==null&&g!==void 0&&g<=5&&h.jsxs("div",{className:"animate-in fade-in zoom-in duration-200 flex items-center gap-2 px-3 py-2 bg-emerald-950/80 border border-emerald-500/50 rounded-lg shadow-xl shadow-emerald-900/20 backdrop-blur-md",children:[h.jsx(Mw,{className:"w-4 h-4 text-emerald-400 animate-pulse"}),h.jsxs("span",{className:"text-sm font-bold text-emerald-200 tabular-nums",children:[g,"s"]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("div",{className:"hidden sm:flex items-center gap-1.5 px-2 py-1 bg-emerald-950/30 rounded border border-emerald-900/50",children:[h.jsx(gm,{className:"w-3 h-3 text-emerald-500"}),h.jsxs("span",{className:"text-[10px] text-emerald-400 font-mono",children:[Math.round(t/(e||1)*100),"%"]})]}),n>t&&h.jsxs("div",{className:"hidden sm:flex items-center gap-1.5 px-2 py-1 bg-amber-950/30 rounded border border-amber-900/50 animate-in fade-in zoom-in duration-300",children:[h.jsx(dm,{className:"w-3 h-3 text-amber-400"}),h.jsx("span",{className:"text-[10px] text-amber-400 font-mono",children:n-t})]})]}),h.jsxs("span",{className:"text-xs text-slate-600 font-mono",children:[e," ",C.chars]}),h.jsxs("div",{className:"flex items-center bg-slate-800 rounded-lg p-1 border border-slate-700 shadow-lg",children:[h.jsx(Qe,{content:C.btnUndo,side:"top",children:h.jsx("button",{onClick:a,disabled:!l||o,className:"p-1.5 rounded hover:bg-slate-700 text-slate-400 hover:text-white disabled:opacity-30 disabled:hover:bg-transparent transition-colors",children:h.jsx(Rw,{className:"w-4 h-4"})})}),h.jsx("div",{className:"w-px h-4 bg-slate-700 mx-1"}),h.jsx(Qe,{content:C.btnRedo,side:"top",children:h.jsx("button",{onClick:u,disabled:!s||o,className:"p-1.5 rounded hover:bg-slate-700 text-slate-400 hover:text-white disabled:opacity-30 disabled:hover:bg-transparent transition-colors",children:h.jsx(Tw,{className:"w-4 h-4"})})}),h.jsx("div",{className:"w-px h-4 bg-slate-700 mx-1"}),h.jsx(Qe,{content:C.historyTitle,side:"top",children:h.jsx("button",{onClick:m,className:`p-1.5 rounded transition-colors ${w?"bg-indigo-600 text-white":"text-slate-400 hover:bg-slate-700 hover:text-white"}`,children:h.jsx(sa,{className:"w-4 h-4"})})})]}),h.jsx(Qe,{content:r==="recording"?C.btnStop:C.btnRecord,side:"top",children:h.jsx("button",{onClick:c,disabled:o&&r!=="recording",className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium shadow-lg transition-all active:scale-95 group border ${r==="recording"?"bg-red-500/20 text-red-400 border-red-500/50 hover:bg-red-500/30 animate-pulse":"bg-slate-800 text-slate-300 border-slate-700 hover:bg-slate-700"}`,children:r==="recording"?h.jsxs(h.Fragment,{children:[h.jsx(vu,{className:"w-4 h-4 fill-current"}),h.jsx("span",{children:C.btnStop})]}):h.jsxs(h.Fragment,{children:[h.jsx(Ir,{className:"w-4 h-4"}),h.jsx("span",{children:C.btnRecord})]})})}),h.jsx(Qe,{content:C.btnEnhance,side:"left",children:h.jsxs("button",{onClick:p,disabled:o,className:`flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 disabled:bg-slate-800 disabled:text-slate-500 disabled:cursor-not-allowed text-white text-sm font-medium rounded-lg shadow-lg shadow-indigo-900/30 transition-all active:scale-95 group ${_?"cursor-wait opacity-80":""}`,children:[_?h.jsx(mm,{className:"w-4 h-4 animate-spin"}):h.jsx(wm,{className:"w-4 h-4 group-hover:rotate-12 transition-transform"}),h.jsx("span",{children:C.btnEnhance})]})})]})},Uw=({history:e,currentIndex:t,isOpen:n,onClose:r,onRestore:i,language:o})=>{const l=Lt(o),s=c=>new Intl.DateTimeFormat(o==="ru"?"ru-RU":"en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date(c)),a=c=>{switch(c){case"raw":return h.jsxs("span",{className:"flex items-center gap-0.5 px-1.5 py-0.5 rounded-md bg-slate-700/50 text-slate-300 text-[9px] border border-slate-600/50",title:l.tagRaw,children:[h.jsx(wl,{className:"w-2.5 h-2.5"}),h.jsx("span",{className:"hidden sm:inline",children:l.tagRaw})]});case"dictated":return h.jsxs("span",{className:"flex items-center gap-0.5 px-1.5 py-0.5 rounded-md bg-red-900/30 text-red-300 text-[9px] border border-red-800/50",title:l.tagDictated,children:[h.jsx(Ir,{className:"w-2.5 h-2.5"}),h.jsx("span",{className:"hidden sm:inline",children:l.tagDictated})]});case"processed":return h.jsxs("span",{className:"flex items-center gap-0.5 px-1.5 py-0.5 rounded-md bg-amber-900/30 text-amber-300 text-[9px] border border-amber-800/50",title:l.tagProcessed,children:[h.jsx(Ni,{className:"w-2.5 h-2.5"}),h.jsx("span",{className:"hidden sm:inline",children:l.tagProcessed})]});case"finalized":return h.jsxs("span",{className:"flex items-center gap-0.5 px-1.5 py-0.5 rounded-md bg-emerald-900/30 text-emerald-300 text-[9px] border border-emerald-800/50",title:l.tagFinalized,children:[h.jsx(dm,{className:"w-2.5 h-2.5"}),h.jsx("span",{className:"hidden sm:inline",children:l.tagFinalized})]});case"enhanced":return h.jsxs("span",{className:"flex items-center gap-0.5 px-1.5 py-0.5 rounded-md bg-purple-900/30 text-purple-300 text-[9px] border border-purple-800/50",title:l.tagEnhanced,children:[h.jsx(Ni,{className:"w-2.5 h-2.5"}),h.jsx("span",{className:"hidden sm:inline",children:l.tagEnhanced})]});default:return null}};if(!n)return null;const u=[...e].map((c,p)=>({item:c,idx:p})).reverse();return h.jsxs("div",{className:"absolute top-0 right-0 w-80 h-full bg-slate-900 border-l border-slate-800 shadow-2xl z-40 transform transition-transform duration-300 flex flex-col no-drag animate-in slide-in-from-right",children:[h.jsxs("div",{className:"p-4 border-b border-slate-800 flex items-center justify-between shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(sa,{className:"w-4 h-4 text-indigo-400"}),h.jsx("h3",{className:"text-sm font-semibold text-slate-200",children:l.historyTitle})]}),h.jsx("button",{onClick:r,className:"p-1 hover:bg-slate-800 rounded text-slate-500 hover:text-white transition-colors",children:h.jsx(_r,{className:"w-4 h-4"})})]}),h.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2 space-y-2",children:e.length===0?h.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-slate-600 space-y-2",children:[h.jsx(sa,{className:"w-8 h-8 opacity-50"}),h.jsx("p",{className:"text-xs",children:l.historyEmpty})]}):u.map(({item:c,idx:p})=>{const g=p===t;return h.jsxs("div",{onClick:()=>!g&&i(p),className:`
                        group relative rounded-lg p-3 transition-all border
                        ${g?"bg-indigo-900/20 border-indigo-500/50 cursor-default":"bg-slate-800/50 border-slate-700/50 hover:bg-slate-800 hover:border-slate-600 cursor-pointer"}
                    `,children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-[10px] text-slate-500 font-mono",children:s(c.timestamp)}),c.tags&&c.tags.length>0&&h.jsx("div",{className:"flex gap-1 flex-wrap",children:c.tags.map(m=>h.jsx(Hf.Fragment,{children:a(m)},m))})]}),g&&h.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-bold text-indigo-400 bg-indigo-900/30 px-1.5 py-0.5 rounded",children:[h.jsx(sw,{className:"w-3 h-3"}),h.jsx("span",{className:"hidden sm:inline",children:l.historyCurrent})]})]}),h.jsx("p",{className:"text-xs text-slate-300 line-clamp-3 font-medium break-all opacity-80 group-hover:opacity-100",children:c.text||h.jsx("span",{className:"text-slate-600 italic",children:"Empty"})}),!g&&h.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:h.jsx("div",{className:"p-1.5 bg-indigo-600 text-white rounded-md shadow-lg",children:h.jsx(ym,{className:"w-3.5 h-3.5"})})})]},c.id)})})]})},Vw=e=>{const{text:t,committedLength:n,processedLength:r,checkedLength:i,textareaRef:o,backdropRef:l,isBusy:s,canUndo:a,canRedo:u,handleScroll:c,handleChange:p,handleKeyDown:g,handleClipboardEvent:m,handleUndo:w,handleRedo:C,handleEnhance:_,toggleRecording:y,visualizerDataRef:x,autoStopCountdown:v,visualizerStatus:T,history:N,historyIndex:E,handleHistoryJump:I}=tw(e);return h.jsxs("div",{className:"relative w-full h-full flex flex-col overflow-hidden",children:[h.jsx(nw,{text:t,committedLength:n,processedLength:r,checkedLength:i,status:e.status,visualizerStatus:T,language:e.language,textareaRef:o,backdropRef:l,onChange:p,onScroll:c,onKeyDown:g,onClipboard:m,visualizerDataRef:x}),h.jsx(jw,{textLength:t.length,committedLength:n,processedLength:r,status:e.status,language:e.language,isBusy:s,canUndo:a,canRedo:u,onUndo:w,onRedo:C,onRecord:y,onEnhance:_,autoStopCountdown:v,onHistoryClick:e.onToggleHistory,isHistoryOpen:e.showHistory}),h.jsx(Uw,{history:N,currentIndex:E,isOpen:e.showHistory,onClose:e.onToggleHistory,onRestore:I,language:e.language})]})},km="0.1.2",Hw=({initialKey:e,onStart:t,language:n,setLanguage:r,isLocked:i,hasLock:o,onUnlock:l,onSetLock:s})=>{const[a,u]=b.useState(e),[c,p]=b.useState(""),[g,m]=b.useState(!1),[w,C]=b.useState(""),[_,y]=b.useState(""),[x,v]=b.useState(""),{addNotification:T}=vl(),N=Lt(n);b.useEffect(()=>{m(!0),u(e)},[e]),b.useEffect(()=>{v("")},[w,_]);const E=M=>{if(M.preventDefault(),a.trim().length<10){p(n==="ru"?" API   .":"API Key looks too short.");return}_.trim().length>0&&(s(_.trim()),T(N.lockSaved||"PIN saved","success")),t(a.trim()),T(n==="ru"?"API  ":"API Key Saved","success")},I=M=>{M.preventDefault(),l(w)?C(""):v(N.lockError)},P=()=>{r(n==="ru"?"en":"ru")};return i?h.jsxs("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-slate-950 text-slate-200 h-screen w-screen overflow-hidden titlebar-drag-region",children:[h.jsx("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:h.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-indigo-900/20 blur-[80px] rounded-full"})}),h.jsxs("div",{className:`no-drag w-full max-w-sm bg-slate-900 border border-slate-800 rounded-2xl shadow-2xl overflow-hidden p-8 flex flex-col items-center text-center transition-all duration-500 transform ${g?"opacity-100 scale-100":"opacity-0 scale-95"}`,children:[h.jsx("div",{className:"bg-slate-800 p-4 rounded-full mb-6 ring-1 ring-indigo-500/30",children:h.jsx(gm,{className:"w-8 h-8 text-indigo-400"})}),h.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:N.lockTitle}),h.jsx("p",{className:"text-sm text-slate-500 mb-6",children:N.lockDesc}),h.jsxs("form",{onSubmit:I,className:"w-full space-y-4",children:[h.jsx("div",{className:"relative",children:h.jsx("input",{type:"password",value:w,onChange:M=>C(M.target.value),placeholder:N.lockPlaceholder,className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-4 py-3 text-center text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 placeholder:text-slate-700 font-mono tracking-widest text-lg",autoFocus:!0})}),x&&h.jsx("p",{className:"text-red-400 text-xs animate-pulse",children:x}),h.jsxs("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-semibold py-3 px-4 rounded-lg transition-all flex items-center justify-center gap-2 shadow-lg shadow-indigo-900/20",children:[h.jsx(Lw,{className:"w-4 h-4"}),h.jsx("span",{children:N.lockBtn})]})]})]})]}):h.jsxs("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-slate-950 text-slate-200 h-screen w-screen overflow-hidden titlebar-drag-region",children:[h.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[h.jsx("div",{className:"absolute top-[-10%] right-[-5%] w-96 h-96 bg-indigo-900/20 blur-[100px] rounded-full"}),h.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[500px] h-[500px] bg-blue-900/10 blur-[120px] rounded-full"})]}),h.jsx("div",{className:"absolute top-6 right-6 z-50 no-drag",children:h.jsxs("button",{onClick:P,className:"flex items-center gap-2 px-3 py-1.5 bg-slate-900/80 backdrop-blur border border-slate-700 rounded-full text-xs font-semibold hover:bg-slate-800 transition-colors",children:[h.jsx(dw,{className:"w-3 h-3 text-indigo-400"}),h.jsx("span",{className:n==="ru"?"text-white":"text-slate-500",children:"RU"}),h.jsx("span",{className:"text-slate-600",children:"/"}),h.jsx("span",{className:n==="en"?"text-white":"text-slate-500",children:"EN"})]})}),h.jsxs("div",{className:`no-drag w-full max-w-4xl grid grid-cols-1 md:grid-cols-2 gap-0 bg-slate-900 border border-slate-800 rounded-2xl shadow-2xl overflow-hidden transition-all duration-700 transform ${g?"opacity-100 scale-100":"opacity-0 scale-95"}`,children:[h.jsxs("div",{className:"p-8 md:p-10 bg-gradient-to-br from-slate-900 to-slate-900 border-b md:border-b-0 md:border-r border-slate-800 flex flex-col justify-between relative group",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[h.jsx("div",{className:"bg-indigo-600 p-2 rounded-lg shadow-lg shadow-indigo-900/40",children:h.jsx(Ni,{className:"w-5 h-5 text-white"})}),h.jsx("h1",{className:"text-xl font-bold tracking-tight text-white",children:"FastType AI"})]}),h.jsxs("h2",{className:"text-3xl font-bold text-white mb-4 leading-tight",children:[N.welcomeTitle," ",h.jsx("br",{}),h.jsx("span",{className:"text-indigo-400",children:N.welcomeSubtitle})]}),h.jsx("p",{className:"text-slate-400 leading-relaxed mb-8 text-sm",children:N.welcomeDesc}),h.jsxs("div",{className:"space-y-5",children:[h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"p-2 bg-slate-800 rounded-lg shrink-0",children:h.jsx(Sr,{className:"w-4 h-4 text-amber-400"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-semibold text-slate-200",children:N.feature1Title}),h.jsx("p",{className:"text-xs text-slate-500 mt-1",children:N.feature1Desc})]})]}),h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"p-2 bg-slate-800 rounded-lg shrink-0",children:h.jsx(wm,{className:"w-4 h-4 text-purple-400"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-semibold text-slate-200",children:N.feature2Title}),h.jsx("p",{className:"text-xs text-slate-500 mt-1",children:N.feature2Desc})]})]}),h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"p-2 bg-slate-800 rounded-lg shrink-0",children:h.jsx(wl,{className:"w-4 h-4 text-emerald-400"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-semibold text-slate-200",children:N.feature3Title}),h.jsx("p",{className:"text-xs text-slate-500 mt-1",children:N.feature3Desc})]})]})]})]}),h.jsx("div",{className:"mt-8 pt-6 border-t border-slate-800/50",children:h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("p",{className:"text-[10px] text-slate-600 uppercase tracking-widest font-semibold",children:["Version ",km,"  Powered by Google Gemini"]}),h.jsxs("div",{className:"flex flex-col gap-0.5",children:[h.jsx("span",{className:"text-[10px] text-slate-500 font-medium",children:"MeowMasterArt"}),h.jsx("a",{href:"mailto:MeowMasterArt@gmail.com",className:"text-[10px] text-slate-600 hover:text-indigo-400 transition-colors",children:"MeowMasterArt@gmail.com"})]})]})})]}),h.jsx("div",{className:"p-8 md:p-10 flex flex-col justify-center bg-slate-950/50",children:h.jsxs("div",{className:"max-w-xs mx-auto w-full",children:[h.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:N.setupTitle}),h.jsx("p",{className:"text-sm text-slate-400 mb-6",children:N.setupDesc}),h.jsxs("form",{onSubmit:E,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2",children:N.apiKeyLabel}),h.jsxs("div",{className:"relative group",children:[h.jsx("input",{type:"password",value:a,onChange:M=>{u(M.target.value),p("")},placeholder:"AIzaSy...",className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 placeholder:text-slate-700 transition-all font-mono text-sm"}),e&&a===e&&h.jsx("div",{className:"absolute right-3 top-3.5",children:h.jsx(Pw,{className:"w-4 h-4 text-emerald-500"})})]}),c&&h.jsx("p",{className:"text-red-400 text-xs mt-2 animate-pulse",children:c})]}),!o&&h.jsxs("div",{className:"pt-2 border-t border-slate-800/50",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx(Aw,{className:"w-3 h-3 text-slate-500"}),h.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase tracking-wider",children:N.lockCreateTitle})]}),h.jsx("input",{type:"password",value:_,onChange:M=>y(M.target.value),placeholder:N.lockCreatePlaceholder,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-2 text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500/30 focus:border-indigo-500/50 placeholder:text-slate-700 transition-all font-mono text-sm"}),h.jsx("p",{className:"text-[10px] text-slate-600 mt-1.5",children:N.lockCreateDesc})]}),h.jsxs("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-semibold py-3 px-4 rounded-lg transition-all duration-200 flex items-center justify-center gap-2 group shadow-lg shadow-indigo-900/20 hover:shadow-indigo-900/40 hover:-translate-y-0.5",children:[h.jsx("span",{children:N.startBtn}),h.jsx(lw,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]}),h.jsx("div",{className:"mt-8 text-center",children:h.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-indigo-400 hover:text-indigo-300 transition-colors border-b border-indigo-400/30 hover:border-indigo-300",children:N.getKeyLink})})]})})]})]})},Bw=()=>h.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-slate-950 text-slate-200 h-screen w-screen titlebar-drag-region",children:[h.jsxs("div",{className:"relative mb-8",children:[h.jsx("div",{className:"absolute inset-0 bg-indigo-500 blur-2xl opacity-20 animate-pulse rounded-full"}),h.jsx("div",{className:"relative bg-slate-900/80 p-6 rounded-2xl border border-slate-800 shadow-2xl shadow-indigo-900/20",children:h.jsx(Ni,{className:"w-12 h-12 text-indigo-400 animate-pulse"})})]}),h.jsxs("div",{className:"text-center space-y-3",children:[h.jsx("h1",{className:"text-2xl font-bold tracking-tight bg-gradient-to-br from-white to-slate-400 bg-clip-text text-transparent",children:"FastType AI"}),h.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[h.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-500 rounded-full animate-bounce [animation-delay:-0.3s]"}),h.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-500 rounded-full animate-bounce [animation-delay:-0.15s]"}),h.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-500 rounded-full animate-bounce"})]}),h.jsx("p",{className:"text-xs text-slate-500 font-medium uppercase tracking-widest pt-2",children:" ..."})]})]}),$w=({items:e,isOpen:t,isEnabled:n,onToggleEnabled:r,onClose:i,onClear:o,language:l})=>{const[s,a]=b.useState(""),[u,c]=b.useState(null),p=Lt(l),{addNotification:g}=vl(),m=e.filter(y=>y.text.toLowerCase().includes(s.toLowerCase())),w=async(y,x)=>{try{await navigator.clipboard.writeText(x),C(y)}catch{try{const T=document.createElement("textarea");T.value=x,T.style.position="fixed",T.style.left="-9999px",T.style.top="0",document.body.appendChild(T),T.focus(),T.select();const N=document.execCommand("copy");if(document.body.removeChild(T),N)C(y);else throw new Error("Fallback copy failed")}catch(T){console.error("Copy failed",T),g(l==="ru"?" ":"Copy failed","error")}}},C=y=>{c(y),g(l==="ru"?"":"Copied","success"),setTimeout(()=>{c(null)},2e3)},_=y=>new Intl.DateTimeFormat(l==="ru"?"ru-RU":"en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date(y));return t?h.jsxs("div",{className:"absolute top-0 right-0 w-80 h-full bg-slate-900 border-l border-slate-800 shadow-2xl z-40 transform transition-transform duration-300 flex flex-col no-drag animate-in slide-in-from-right",children:[h.jsxs("div",{className:"p-4 border-b border-slate-800 flex items-center justify-between shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(la,{className:"w-4 h-4 text-indigo-400"}),h.jsx("h3",{className:"text-sm font-semibold text-slate-200",children:p.clipboardTitle})]}),h.jsx("button",{onClick:i,className:"p-1 hover:bg-slate-800 rounded text-slate-500 hover:text-white transition-colors",children:h.jsx(_r,{className:"w-4 h-4"})})]}),h.jsxs("div",{className:"p-4 bg-slate-900 shrink-0 space-y-3 border-b border-slate-800",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-xs text-slate-400 font-medium",children:p.clipboardEnable}),h.jsx("button",{onClick:r,className:`relative w-10 h-5 rounded-full transition-colors ${n?"bg-indigo-600":"bg-slate-700"}`,children:h.jsx("span",{className:`absolute top-1 left-1 bg-white w-3 h-3 rounded-full shadow transition-transform ${n?"translate-x-5":"translate-x-0"}`})})]}),h.jsxs("div",{className:"relative",children:[h.jsx(Nw,{className:"absolute left-3 top-2.5 w-3.5 h-3.5 text-slate-500"}),h.jsx("input",{type:"text",placeholder:p.clipboardSearch,value:s,onChange:y=>a(y.target.value),className:"w-full bg-slate-800/50 border border-slate-700 rounded-lg pl-9 pr-3 py-2 text-xs text-slate-200 focus:outline-none focus:border-indigo-500/50 transition-colors"})]})]}),h.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2 space-y-2",children:n?m.length===0?h.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-slate-600 space-y-2",children:[h.jsx(la,{className:"w-8 h-8 opacity-50"}),h.jsx("p",{className:"text-xs",children:p.clipboardEmpty})]}):m.map(y=>{const x=u===y.id;return h.jsxs("div",{className:"group bg-slate-800/50 border border-slate-700/50 rounded-lg p-3 hover:border-indigo-500/30 hover:bg-slate-800 transition-all",children:[h.jsx("p",{className:"text-xs text-slate-300 line-clamp-3 mb-2 font-mono break-all",children:y.text}),h.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2 border-t border-slate-700/50",children:[h.jsx("span",{className:"text-[10px] text-slate-500",children:_(y.timestamp)}),h.jsxs("button",{onClick:()=>w(y.id,y.text),className:`flex items-center gap-1.5 px-2 py-1 rounded text-[10px] transition-all duration-200 ${x?"bg-emerald-600 text-white":"bg-slate-700 hover:bg-indigo-600 text-slate-300 hover:text-white"}`,children:[x?h.jsx(pm,{className:"w-3 h-3"}):h.jsx(aw,{className:"w-3 h-3"}),x?l==="ru"?"":"Copied":p.clipboardCopy]})]})]},y.id)}):h.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-slate-600 space-y-2",children:[h.jsx(Ew,{className:"w-8 h-8 opacity-50"}),h.jsx("p",{className:"text-xs",children:"History disabled"})]})}),m.length>0&&n&&h.jsx("div",{className:"p-3 border-t border-slate-800 bg-slate-900 shrink-0",children:h.jsxs("button",{onClick:o,className:"w-full flex items-center justify-center gap-2 py-2 rounded-lg border border-red-900/30 hover:bg-red-950/20 text-red-400 text-xs transition-colors",children:[h.jsx(xm,{className:"w-3.5 h-3.5"}),p.clipboardClear]})})]}):null},qw=({status:e,language:t})=>{const n=Lt(t),i=(()=>{switch(e){case"typing":return{icon:h.jsx(Cw,{className:"w-4 h-4 text-slate-400"}),text:n.statusTyping,color:"bg-slate-800 text-slate-300 border-slate-700"};case"thinking":return{icon:h.jsx(oa,{className:"w-4 h-4 text-amber-400 animate-pulse"}),text:n.statusThinking,color:"bg-amber-950/30 text-amber-200 border-amber-900/50"};case"grammar_check":return{icon:h.jsx(Sr,{className:"w-4 h-4 text-orange-400 animate-pulse"}),text:n.statusGrammar||"AI Error Check",color:"bg-orange-950/30 text-orange-200 border-orange-900/50"};case"correcting":return{icon:h.jsx(mm,{className:"w-4 h-4 text-blue-400 animate-spin"}),text:n.statusCorrecting,color:"bg-blue-950/30 text-blue-200 border-blue-900/50"};case"enhancing":return{icon:h.jsx(Ni,{className:"w-4 h-4 text-purple-400 animate-pulse"}),text:n.statusEnhancing,color:"bg-purple-950/30 text-purple-200 border-purple-900/50"};case"recording":return{icon:h.jsx(Ir,{className:"w-4 h-4 text-red-400 animate-pulse"}),text:n.statusRecording,color:"bg-red-950/30 text-red-200 border-red-900/50"};case"transcribing":return{icon:h.jsx(Fw,{className:"w-4 h-4 text-sky-400 animate-bounce"}),text:n.statusTranscribing,color:"bg-sky-950/30 text-sky-200 border-sky-900/50"};case"done":return{icon:h.jsx(fm,{className:"w-4 h-4 text-emerald-400"}),text:n.statusDone,color:"bg-emerald-950/30 text-emerald-200 border-emerald-900/50"};case"paused":return{icon:h.jsx(vw,{className:"w-4 h-4 text-amber-400"}),text:n.statusPaused,color:"bg-amber-950/20 text-amber-200 border-amber-900/50"};default:return{icon:h.jsx(Sr,{className:"w-4 h-4 text-slate-500"}),text:n.statusIdle,color:"bg-slate-900 text-slate-500 border-slate-800"}}})();return h.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full border text-sm font-medium transition-all duration-300 ${i.color}`,children:[i.icon,h.jsx("span",{children:i.text})]})},Gw=({language:e,status:t,isGrammarChecking:n,stats:r,settings:i,showClipboard:o,showSettings:l,currentTab:s,setCurrentTab:a,onToggleLanguage:u,onTogglePause:c,onToggleClipboard:p,onToggleSettings:g,onToggleHelp:m,onGoHome:w,onWindowControl:C,onResetProcessor:_})=>{const y=Lt(e);return h.jsxs("header",{className:"titlebar-drag-region bg-slate-900 border-b border-slate-800 px-4 py-3 flex items-center justify-between shrink-0 z-50 relative select-none",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"no-drag flex p-1 bg-slate-950 rounded-lg border border-slate-800",children:[h.jsxs("button",{onClick:()=>a("editor"),className:`flex items-center gap-2 px-3 py-1 rounded-md text-xs font-semibold transition-all ${s==="editor"?"bg-slate-800 text-white shadow":"text-slate-500 hover:text-slate-300"}`,children:[h.jsx(kw,{className:"w-3 h-3"}),h.jsx("span",{children:"Editor"})]}),h.jsxs("button",{onClick:()=>a("chat"),className:`flex items-center gap-2 px-3 py-1 rounded-md text-xs font-semibold transition-all ${s==="chat"?"bg-indigo-600 text-white shadow":"text-slate-500 hover:text-slate-300"}`,children:[h.jsx(gw,{className:"w-3 h-3"}),h.jsx("span",{children:"Chat"})]})]}),s==="editor"&&h.jsxs("div",{className:"hidden md:flex no-drag items-center gap-1 animate-in fade-in slide-in-from-left-4 ml-2",children:[h.jsx(Qe,{content:e==="ru"?" ":"Reset checks",side:"bottom",children:h.jsx("button",{onClick:_,className:"p-2 rounded-full text-slate-500 hover:text-white hover:bg-slate-800 transition-all cursor-pointer group",children:h.jsx(ym,{className:"w-4 h-4 group-hover:-rotate-90 transition-transform duration-300"})})}),h.jsx(Qe,{content:i.enabled?y.btnPause:y.btnResume,side:"bottom",children:h.jsx("button",{onClick:c,className:`p-2 rounded-full transition-all cursor-pointer hover:bg-slate-800 ${i.enabled?"text-slate-500 hover:text-white":"text-amber-400 hover:text-amber-300"}`,children:i.enabled?h.jsx(ww,{className:"w-4 h-4"}):h.jsx(Sw,{className:"w-4 h-4"})})}),h.jsx("div",{className:"w-px h-4 bg-slate-800 mx-2"}),h.jsx(Qe,{content:y.statusGrammar||"AI Error Check",side:"bottom",children:h.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full border transition-all duration-300 mr-2 ${n?"bg-orange-950/30 border-orange-500/50 text-orange-400 shadow-[0_0_10px_rgba(251,146,60,0.2)]":"bg-slate-800 border-slate-700 text-slate-600"}`,children:h.jsx(Sr,{className:`w-4 h-4 ${n?"animate-pulse":""}`})})}),h.jsx(qw,{status:t,language:e})]})]}),h.jsxs("div",{className:"flex items-center gap-3 no-drag z-50 relative",children:[h.jsxs("div",{className:"flex items-center gap-1 bg-slate-800/30 p-1 rounded-lg border border-slate-800/50",children:[h.jsx(Qe,{content:y.tooltipHome,side:"bottom",children:h.jsx("button",{onClick:w,className:"p-1.5 rounded-md hover:bg-slate-800 text-slate-400 hover:text-indigo-400 transition-colors cursor-pointer",children:h.jsx(fw,{className:"w-4 h-4"})})}),h.jsx(Qe,{content:y.tooltipHelp,side:"bottom",children:h.jsx("button",{onClick:m,className:"p-1.5 rounded-md hover:bg-slate-800 text-slate-400 hover:text-indigo-400 transition-colors cursor-pointer",children:h.jsx(hm,{className:"w-4 h-4"})})}),s==="editor"&&h.jsx(Qe,{content:y.clipboardTitle,side:"bottom",children:h.jsx("button",{onClick:p,className:`p-1.5 rounded-md transition-colors cursor-pointer ${o?"bg-indigo-900/30 text-indigo-400":"hover:bg-slate-800 text-slate-400"}`,children:h.jsx(la,{className:"w-4 h-4"})})}),h.jsx(Qe,{content:y.tooltipSettings,side:"bottom",children:h.jsx("button",{onClick:g,className:`p-1.5 rounded-md transition-colors cursor-pointer ${l?"bg-indigo-900/30 text-indigo-400":"hover:bg-slate-800 text-slate-400"}`,children:h.jsx(_w,{className:"w-4 h-4"})})})]}),h.jsx("div",{className:"h-5 w-px bg-slate-800 mx-1"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Qe,{content:y.tooltipLang,side:"bottom",children:h.jsx("button",{onClick:u,className:"px-2 py-1 rounded bg-slate-800 text-[10px] font-bold text-slate-400 hover:text-white border border-slate-700 transition-colors uppercase cursor-pointer min-w-[32px]",children:e})}),s==="editor"&&h.jsx(Qe,{content:y.tooltipStats,side:"bottom",children:h.jsxs("div",{className:"hidden md:flex items-center gap-2 px-3 py-1 bg-slate-800 rounded-md text-xs font-semibold text-slate-400 border border-slate-700 select-none",children:[h.jsx(uw,{className:"w-3 h-3"}),h.jsx("span",{children:r.corrections})]})})]}),h.jsx("div",{className:"h-5 w-px bg-slate-800 mx-1"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("span",{className:"hidden lg:block text-[10px] font-mono text-slate-700 select-none",children:["v",km]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("button",{onClick:()=>C("minimize"),className:"p-1.5 rounded hover:bg-slate-800 text-slate-400 hover:text-white transition-colors cursor-pointer",children:h.jsx(yw,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>C("maximize"),className:"p-1.5 rounded hover:bg-slate-800 text-slate-400 hover:text-white transition-colors cursor-pointer",children:h.jsx(vu,{className:"w-3.5 h-3.5"})}),h.jsx("button",{onClick:()=>C("close"),className:"p-1.5 rounded hover:bg-red-600 text-slate-400 hover:text-white transition-colors cursor-pointer",children:h.jsx(_r,{className:"w-4 h-4"})})]})]})]})]})},Ww=({threshold:e,language:t})=>{const[n,r]=b.useState(!1),[i,o]=b.useState(0),[l,s]=b.useState(""),a=b.useRef(null),u=b.useRef(null),c=b.useRef(null),p=Lt(t);b.useEffect(()=>()=>m(),[]);const g=async()=>{try{const C=await navigator.mediaDevices.getUserMedia({audio:!0});u.current=C;const _=new(window.AudioContext||window.webkitAudioContext);a.current=_;const y=_.createAnalyser();y.fftSize=256,y.smoothingTimeConstant=.5,_.createMediaStreamSource(C).connect(y);const v=new Uint8Array(y.frequencyBinCount),T=()=>{y.getByteTimeDomainData(v);let N=0;for(let P=0;P<v.length;P++){const M=(v[P]-128)/128;N+=M*M}const E=Math.sqrt(N/v.length),I=Math.min(100,E*1e3);o(I),c.current=requestAnimationFrame(T)};T(),r(!0),s("")}catch(C){console.error(C),s(p.micAccessError||"Mic Error"),r(!1)}},m=()=>{c.current&&cancelAnimationFrame(c.current),u.current&&u.current.getTracks().forEach(C=>C.stop()),a.current&&a.current.close(),r(!1),o(0)},w=i>e;return h.jsxs("div",{className:"mt-4 p-4 bg-slate-900 rounded-lg border border-slate-700",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(vm,{className:`w-4 h-4 ${n?"text-indigo-400":"text-slate-500"}`}),h.jsx("span",{className:"text-sm font-medium text-slate-300",children:n?p.noiseLevel||"Noise Level":p.testMic||"Test Microphone"})]}),h.jsx("button",{onClick:n?m:g,className:`px-3 py-1.5 rounded text-xs font-bold transition-colors border ${n?"bg-red-900/30 text-red-400 border-red-900/50 hover:bg-red-900/50":"bg-indigo-600 text-white border-transparent hover:bg-indigo-500"}`,children:n?p.stopTest||"Stop":p.testMic||"Start Test"})]}),l&&h.jsx("p",{className:"text-xs text-red-400 mb-2",children:l}),h.jsxs("div",{className:"relative h-8 bg-slate-950 rounded-md overflow-hidden border border-slate-700 shadow-inner",children:[h.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-indigo-500/80 z-20 transition-all duration-300 shadow-[0_0_8px_rgba(99,102,241,0.5)]",style:{left:`${e}%`}}),h.jsxs("div",{className:"absolute inset-0 flex text-[9px] font-bold text-slate-500 z-30 pointer-events-none select-none",children:[h.jsx("div",{style:{width:`${e}%`},className:"h-full flex items-center justify-center border-r border-slate-700/30 bg-red-500/5",children:h.jsx("span",{className:"opacity-50 truncate px-1",children:p.silenceZone||"Silence"})}),h.jsx("div",{className:"flex-1 h-full flex items-center justify-center bg-emerald-500/5",children:h.jsx("span",{className:"opacity-50 truncate px-1",children:p.speechZone||"Speech"})})]}),h.jsx("div",{className:`absolute top-0 bottom-0 left-0 transition-all duration-75 ease-out z-10 ${w?"bg-emerald-500":"bg-slate-500"}`,style:{width:`${i}%`,opacity:n?1:.3}})]}),h.jsxs("p",{className:"text-[10px] text-slate-500 mt-2 text-right",children:["Current: ",Math.round(i)," | Cutoff: ",e]})]})},Kw=({settings:e,language:t,onUpdateSettings:n,onResetKey:r,hasLock:i,onRemoveLock:o,onClose:l})=>{const s=Lt(t);return h.jsxs("div",{className:"bg-slate-900 border-b border-slate-800 shadow-xl z-40 w-full shrink-0 animate-in slide-in-from-top-2 duration-200",children:[h.jsxs("div",{className:"w-full max-w-[1400px] mx-auto px-6 py-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:[h.jsxs("div",{className:"space-y-6",children:[h.jsxs("h3",{className:"text-sm font-semibold text-slate-200 flex items-center gap-2 border-b border-slate-800 pb-2",children:[h.jsx(wl,{className:"w-4 h-4 text-indigo-400"}),s.settingsTitle]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("label",{className:"text-sm text-slate-400",children:s.settingsActive}),h.jsx("button",{onClick:()=>n({...e,enabled:!e.enabled}),className:`w-11 h-6 flex items-center rounded-full transition-colors duration-200 ${e.enabled?"bg-indigo-600":"bg-slate-700"}`,children:h.jsx("span",{className:`w-4 h-4 bg-white rounded-full shadow-md transform transition-transform duration-200 ${e.enabled?"translate-x-6":"translate-x-1"}`})})]}),h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"mr-2",children:[h.jsxs("label",{className:"text-sm text-slate-400 flex items-center gap-2",children:[h.jsx(mw,{className:"w-3.5 h-3.5 text-emerald-500"}),s.settingsEconomy]}),h.jsx("p",{className:"text-[10px] text-slate-600 leading-tight mt-1",children:s.settingsEconomyDesc})]}),h.jsx("button",{onClick:()=>n({...e,economyMode:!e.economyMode}),className:`w-11 h-6 flex items-center rounded-full transition-colors duration-200 shrink-0 ${e.economyMode?"bg-emerald-600":"bg-slate-700"}`,children:h.jsx("span",{className:`w-4 h-4 bg-white rounded-full shadow-md transform transition-transform duration-200 ${e.economyMode?"translate-x-6":"translate-x-1"}`})})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between mb-2",children:[h.jsx("label",{className:"text-sm text-slate-400",children:s.settingsDelay}),h.jsxs("span",{className:"text-xs font-mono bg-slate-800 px-2 py-0.5 rounded text-slate-400 border border-slate-700",children:[e.debounceMs,"ms"]})]}),h.jsx("input",{type:"range",min:"300",max:"2000",step:"100",value:e.debounceMs,onChange:a=>n({...e,debounceMs:parseInt(a.target.value)}),className:"w-full h-2 bg-slate-800 rounded-lg appearance-none cursor-pointer accent-indigo-500"})]})]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("h3",{className:"text-sm font-semibold text-slate-200 flex items-center gap-2 border-b border-slate-800 pb-2",children:[h.jsx(Ir,{className:"w-4 h-4 text-emerald-400"}),t==="ru"?"  ":"Audio & Microphone"]}),h.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-xl border border-slate-700/50",children:[h.jsxs("div",{className:"flex justify-between mb-2",children:[h.jsx("label",{className:"text-sm text-slate-400 flex items-center gap-2",children:t==="ru"?" ":"Silence Threshold"}),h.jsxs("span",{className:"text-xs font-mono bg-slate-800 px-2 py-0.5 rounded text-slate-400 border border-slate-700",children:[e.silenceThreshold,"%"]})]}),h.jsx("input",{type:"range",min:"1",max:"100",step:"1",value:e.silenceThreshold,onChange:a=>n({...e,silenceThreshold:parseInt(a.target.value)}),className:"w-full h-2 bg-slate-900 rounded-lg appearance-none cursor-pointer accent-indigo-500"}),h.jsx("div",{className:"mt-2",children:h.jsx(Ww,{threshold:e.silenceThreshold,language:t})})]}),h.jsx("div",{className:"bg-indigo-950/20 p-3 rounded-xl border border-indigo-900/50",children:h.jsx("p",{className:"text-[10px] text-indigo-300/80 leading-relaxed",children:s.howItWorksDesc})})]}),h.jsxs("div",{className:"flex flex-col h-full space-y-6",children:[h.jsxs("h3",{className:"text-sm font-semibold text-slate-200 flex items-center gap-2 border-b border-slate-800 pb-2",children:[h.jsx(oa,{className:"w-4 h-4 text-purple-400"}),s.audioModelTitle," & System"]}),h.jsx("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700/50",children:h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:()=>n({...e,audioModel:"gemini-2.5-flash"}),className:`flex-1 flex flex-col items-center justify-center p-3 rounded-lg border transition-all ${e.audioModel==="gemini-2.5-flash"?"bg-indigo-600/20 border-indigo-500 text-indigo-300":"bg-slate-800 border-slate-700 text-slate-500 hover:bg-slate-700"}`,children:[h.jsx(Sr,{className:"w-4 h-4 mb-1"}),h.jsx("span",{className:"text-xs font-semibold",children:s.modelFlash})]}),h.jsxs("button",{onClick:()=>n({...e,audioModel:"gemini-2.5-pro"}),className:`flex-1 flex flex-col items-center justify-center p-3 rounded-lg border transition-all ${e.audioModel==="gemini-2.5-pro"?"bg-purple-600/20 border-purple-500 text-purple-300":"bg-slate-800 border-slate-700 text-slate-500 hover:bg-slate-700"}`,children:[h.jsx(oa,{className:"w-4 h-4 mb-1"}),h.jsx("span",{className:"text-xs font-semibold",children:s.modelPro})]})]})}),h.jsx("div",{className:"flex-1"}),h.jsxs("div",{className:"space-y-2 mt-auto",children:[h.jsxs("button",{onClick:r,className:"flex items-center justify-center gap-2 p-2 w-full rounded-lg bg-slate-800 border border-slate-700 hover:bg-red-950/30 hover:border-red-900/50 hover:text-red-400 text-slate-400 text-xs transition-colors",children:[h.jsx(hw,{className:"w-3 h-3"}),s.changeKey]}),i&&o&&h.jsxs("button",{onClick:o,className:"flex items-center justify-center gap-2 p-2 w-full rounded-lg bg-slate-800 border border-slate-700 hover:bg-red-950/30 hover:border-red-900/50 hover:text-red-400 text-slate-400 text-xs transition-colors",children:[h.jsx(bw,{className:"w-3 h-3"}),s.lockRemove||"Remove PIN"]})]})]})]}),h.jsx("div",{className:"border-t border-slate-800 p-4 bg-slate-950 flex justify-end",children:h.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-6 py-2 bg-indigo-600 hover:bg-indigo-500 text-white font-semibold rounded-lg shadow-lg shadow-indigo-900/20 transition-all active:scale-95",children:[h.jsx(pm,{className:"w-4 h-4"}),t==="ru"?"":"Apply"]})})]})},jd=()=>{const{notifications:e,removeNotification:t}=vl();return e.length===0?null:h.jsx("div",{className:"fixed top-2 left-1/2 -translate-x-1/2 z-[100] flex flex-col items-center gap-2 pointer-events-none w-full max-w-md",children:e.map(n=>h.jsxs("div",{className:`
            pointer-events-auto flex items-center gap-2 px-4 py-2 rounded-full shadow-2xl border backdrop-blur-md min-w-[240px] max-w-sm
            animate-in slide-in-from-top-2 fade-in duration-300
            ${n.type==="success"?"bg-slate-900/95 border-emerald-500/30 text-emerald-100 shadow-emerald-900/10":""}
            ${n.type==="error"?"bg-slate-900/95 border-red-500/30 text-red-100 shadow-red-900/10":""}
            ${n.type==="info"?"bg-slate-900/95 border-indigo-500/30 text-indigo-100 shadow-indigo-900/10":""}
            ${n.type==="warning"?"bg-slate-900/95 border-amber-500/30 text-amber-100 shadow-amber-900/10":""}
          `,children:[h.jsxs("div",{className:"shrink-0",children:[n.type==="success"&&h.jsx(fm,{className:"w-4 h-4 text-emerald-400"}),n.type==="error"&&h.jsx(Ow,{className:"w-4 h-4 text-red-400"}),n.type==="info"&&h.jsx(pw,{className:"w-4 h-4 text-indigo-400"}),n.type==="warning"&&h.jsx(ow,{className:"w-4 h-4 text-amber-400"})]}),h.jsx("p",{className:"text-xs font-medium flex-1 text-center",children:n.message}),h.jsx("button",{onClick:()=>t(n.id),className:"shrink-0 p-0.5 hover:bg-white/10 rounded-full transition-colors",children:h.jsx(_r,{className:"w-3 h-3 opacity-70"})})]},n.id))})},Yw=({isOpen:e,onClose:t,language:n})=>{const r=Lt(n);return e?h.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[h.jsx("div",{className:"absolute inset-0 bg-slate-950/80 backdrop-blur-sm animate-in fade-in duration-200",onClick:t}),h.jsxs("div",{className:"relative bg-slate-900 border border-slate-800 rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden animate-in zoom-in-95 fade-in duration-300",children:[h.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-slate-800 bg-slate-800/50",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(hm,{className:"w-5 h-5 text-indigo-400"}),h.jsx("h2",{className:"text-lg font-bold text-slate-100",children:r.helpModalTitle})]}),h.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-slate-700/50 text-slate-500 hover:text-white transition-colors",children:h.jsx(_r,{className:"w-5 h-5"})})]}),h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsxs("div",{className:"flex gap-4",children:[h.jsx("div",{className:"shrink-0 p-3 bg-indigo-500/10 rounded-lg h-fit",children:h.jsx(Sr,{className:"w-5 h-5 text-indigo-400"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-slate-200 mb-1",children:r.helpSection1}),h.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:r.helpDesc1})]})]}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx("div",{className:"shrink-0 p-3 bg-emerald-500/10 rounded-lg h-fit",children:h.jsx(wl,{className:"w-5 h-5 text-emerald-400"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-slate-200 mb-1",children:r.helpSection2}),h.jsx("p",{className:"text-sm text-slate-400 leading-relaxed whitespace-pre-line",children:r.helpDesc2})]})]}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx("div",{className:"shrink-0 p-3 bg-amber-500/10 rounded-lg h-fit",children:h.jsx(Ir,{className:"w-5 h-5 text-amber-400"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-slate-200 mb-1",children:r.helpSection3}),h.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:r.helpDesc3})]})]})]}),h.jsx("div",{className:"p-4 bg-slate-950/50 border-t border-slate-800 text-center",children:h.jsx("button",{onClick:t,className:"px-6 py-2 bg-slate-800 hover:bg-slate-700 text-slate-200 rounded-lg text-sm font-medium transition-colors",children:r.tooltipClose})})]})]}):null},Qw=e=>e==="ru"?"    -.  ,  ,  .  Markdown  .":"You are a helpful and friendly AI assistant. Answer concisely and politely. Use Markdown for formatting.",Jw=async function*(e,t,n,r,i,o){if(!e)throw new Error("API Key Missing");const l=new yu({apiKey:e}),s=[];for(const u of r){if(u.isTyping||(!u.text||!u.text.trim())&&!u.attachment)continue;const c=u.role,p=u.text?u.text.trim():"",g=[];if(u.attachment&&g.push({inlineData:{mimeType:u.attachment.mimeType,data:u.attachment.data}}),p&&g.push({text:p}),s.length>0&&s[s.length-1].role===c){const m=s[s.length-1];m.parts&&m.parts.push(...g)}else s.push({role:c,parts:g})}s.length>0&&s[0].role==="model"&&s.shift();const a=[];if(o&&a.push({inlineData:{mimeType:o.mimeType,data:o.data}}),i&&a.push({text:i}),s.length>0&&s[s.length-1].role==="user"){const u=s.pop();u&&u.parts&&a.unshift(...u.parts)}try{const c=await l.chats.create({model:t,history:s,config:{systemInstruction:Qw(n),temperature:.7}}).sendMessageStream({message:a});for await(const p of c)p.text&&(yield p.text)}catch(u){throw console.error("Chat Stream Error Details:",u),u}},Xw=async(e,t,n,r)=>{var o;if(!e)throw new Error("API Key Missing");const i=new yu({apiKey:e});try{return((o=(await i.models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[{inlineData:{mimeType:n,data:t}}]},config:{systemInstruction:r==="ru"?" .   ,  .":"Transcribe the audio. Only the spoken text.",temperature:.1}})).text)==null?void 0:o.trim())||""}catch(l){return console.error("Chat Transcription Error:",l),""}},Ud="fasttype_chat_history_v1",Zw=(e,t)=>{const[n,r]=b.useState(()=>{try{const E=localStorage.getItem(Ud);return E?JSON.parse(E):[]}catch{return[]}}),[i,o]=b.useState(!1),[l,s]=b.useState(!1),a="gemini-3-flash-preview",{isRecording:u,startRecording:c,stopRecording:p,autoStopCountdown:g}=am(15);b.useEffect(()=>{localStorage.setItem(Ud,JSON.stringify(n))},[n]);const m=b.useRef(null),w=()=>{var E;(E=m.current)==null||E.scrollIntoView({behavior:"smooth"})};b.useEffect(()=>{w()},[n,i]);const C=async(E,I,P,M)=>{const R=(Date.now()+1).toString();r(F=>[...F,{id:R,role:"model",text:"",timestamp:Date.now(),isTyping:!0}]);let A="";const D=Jw(t,P,e,M,E,I);for await(const F of D)A+=F,r(B=>B.map(j=>j.id===R?{...j,text:A}:j));r(F=>F.map(B=>B.id===R?{...B,isTyping:!1}:B)),l&&A&&T(A)},_=async(E,I)=>{if(!E.trim()&&!I||!t)return;const P={id:Date.now().toString(),role:"user",text:E,timestamp:Date.now(),attachment:I},M=n;r(R=>[...R,P]),o(!0);try{await C(E,I,a,M)}catch(R){console.warn("Model failed:",R),y(R)}finally{o(!1)}},y=E=>{let I=e==="ru"?"...":"Error...";if(E.message){const P=E.message.replace(/\[.*?\]/g,"").trim();I+=` (${P.substring(0,50)}...)`}r(P=>P.map(M=>M.isTyping?{...M,text:I,isTyping:!1}:M))},x=async(E,I)=>{u&&await p();try{const P=await Xw(t,E,I,e);P&&await _(P)}catch(P){console.error("Transcription failed",P)}},v=async()=>{u?await p():await c(x)||console.warn("Failed to start recording")},T=b.useCallback(E=>{if(!window.speechSynthesis)return;window.speechSynthesis.cancel();const I=new SpeechSynthesisUtterance(E);I.lang=e==="ru"?"ru-RU":"en-US",window.speechSynthesis.speak(I)},[e]);return{messages:n,isLoading:i,activeModel:a,messagesEndRef:m,handleSendMessage:_,toggleVoice:v,isRecording:u,soundEnabled:l,setSoundEnabled:s,clearChat:()=>{r([]),window.speechSynthesis.cancel()},autoStopCountdown:g}};function ek(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const tk=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,nk=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,rk={};function Vd(e,t){return(rk.jsx?nk:tk).test(e)}const ik=/[ \t\n\f\r]/g;function ok(e){return typeof e=="object"?e.type==="text"?Hd(e.value):!1:Hd(e)}function Hd(e){return e.replace(ik,"")===""}class Di{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Di.prototype.normal={};Di.prototype.property={};Di.prototype.space=void 0;function Cm(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Di(n,r,t)}function aa(e){return e.toLowerCase()}class it{constructor(t,n){this.attribute=n,this.property=t}}it.prototype.attribute="";it.prototype.booleanish=!1;it.prototype.boolean=!1;it.prototype.commaOrSpaceSeparated=!1;it.prototype.commaSeparated=!1;it.prototype.defined=!1;it.prototype.mustUseProperty=!1;it.prototype.number=!1;it.prototype.overloadedBoolean=!1;it.prototype.property="";it.prototype.spaceSeparated=!1;it.prototype.space=void 0;let lk=0;const ne=qn(),Te=qn(),ua=qn(),H=qn(),pe=qn(),hr=qn(),lt=qn();function qn(){return 2**++lk}const ca=Object.freeze(Object.defineProperty({__proto__:null,boolean:ne,booleanish:Te,commaOrSpaceSeparated:lt,commaSeparated:hr,number:H,overloadedBoolean:ua,spaceSeparated:pe},Symbol.toStringTag,{value:"Module"})),Zl=Object.keys(ca);class wu extends it{constructor(t,n,r,i){let o=-1;if(super(t,n),Bd(this,"space",i),typeof r=="number")for(;++o<Zl.length;){const l=Zl[o];Bd(this,Zl[o],(r&ca[l])===ca[l])}}}wu.prototype.defined=!0;function Bd(e,t,n){n&&(e[t]=n)}function br(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const o=new wu(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[aa(r)]=r,n[aa(o.attribute)]=r}return new Di(t,n,e.space)}const Sm=br({properties:{ariaActiveDescendant:null,ariaAtomic:Te,ariaAutoComplete:null,ariaBusy:Te,ariaChecked:Te,ariaColCount:H,ariaColIndex:H,ariaColSpan:H,ariaControls:pe,ariaCurrent:null,ariaDescribedBy:pe,ariaDetails:null,ariaDisabled:Te,ariaDropEffect:pe,ariaErrorMessage:null,ariaExpanded:Te,ariaFlowTo:pe,ariaGrabbed:Te,ariaHasPopup:null,ariaHidden:Te,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:pe,ariaLevel:H,ariaLive:null,ariaModal:Te,ariaMultiLine:Te,ariaMultiSelectable:Te,ariaOrientation:null,ariaOwns:pe,ariaPlaceholder:null,ariaPosInSet:H,ariaPressed:Te,ariaReadOnly:Te,ariaRelevant:null,ariaRequired:Te,ariaRoleDescription:pe,ariaRowCount:H,ariaRowIndex:H,ariaRowSpan:H,ariaSelected:Te,ariaSetSize:H,ariaSort:null,ariaValueMax:H,ariaValueMin:H,ariaValueNow:H,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Em(e,t){return t in e?e[t]:t}function Tm(e,t){return Em(e,t.toLowerCase())}const sk=br({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:hr,acceptCharset:pe,accessKey:pe,action:null,allow:null,allowFullScreen:ne,allowPaymentRequest:ne,allowUserMedia:ne,alt:null,as:null,async:ne,autoCapitalize:null,autoComplete:pe,autoFocus:ne,autoPlay:ne,blocking:pe,capture:null,charSet:null,checked:ne,cite:null,className:pe,cols:H,colSpan:null,content:null,contentEditable:Te,controls:ne,controlsList:pe,coords:H|hr,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ne,defer:ne,dir:null,dirName:null,disabled:ne,download:ua,draggable:Te,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ne,formTarget:null,headers:pe,height:H,hidden:ua,high:H,href:null,hrefLang:null,htmlFor:pe,httpEquiv:pe,id:null,imageSizes:null,imageSrcSet:null,inert:ne,inputMode:null,integrity:null,is:null,isMap:ne,itemId:null,itemProp:pe,itemRef:pe,itemScope:ne,itemType:pe,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ne,low:H,manifest:null,max:null,maxLength:H,media:null,method:null,min:null,minLength:H,multiple:ne,muted:ne,name:null,nonce:null,noModule:ne,noValidate:ne,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ne,optimum:H,pattern:null,ping:pe,placeholder:null,playsInline:ne,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ne,referrerPolicy:null,rel:pe,required:ne,reversed:ne,rows:H,rowSpan:H,sandbox:pe,scope:null,scoped:ne,seamless:ne,selected:ne,shadowRootClonable:ne,shadowRootDelegatesFocus:ne,shadowRootMode:null,shape:null,size:H,sizes:null,slot:null,span:H,spellCheck:Te,src:null,srcDoc:null,srcLang:null,srcSet:null,start:H,step:null,style:null,tabIndex:H,target:null,title:null,translate:null,type:null,typeMustMatch:ne,useMap:null,value:Te,width:H,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:pe,axis:null,background:null,bgColor:null,border:H,borderColor:null,bottomMargin:H,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ne,declare:ne,event:null,face:null,frame:null,frameBorder:null,hSpace:H,leftMargin:H,link:null,longDesc:null,lowSrc:null,marginHeight:H,marginWidth:H,noResize:ne,noHref:ne,noShade:ne,noWrap:ne,object:null,profile:null,prompt:null,rev:null,rightMargin:H,rules:null,scheme:null,scrolling:Te,standby:null,summary:null,text:null,topMargin:H,valueType:null,version:null,vAlign:null,vLink:null,vSpace:H,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ne,disableRemotePlayback:ne,prefix:null,property:null,results:H,security:null,unselectable:null},space:"html",transform:Tm}),ak=br({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:lt,accentHeight:H,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:H,amplitude:H,arabicForm:null,ascent:H,attributeName:null,attributeType:null,azimuth:H,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:H,by:null,calcMode:null,capHeight:H,className:pe,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:H,diffuseConstant:H,direction:null,display:null,dur:null,divisor:H,dominantBaseline:null,download:ne,dx:null,dy:null,edgeMode:null,editable:null,elevation:H,enableBackground:null,end:null,event:null,exponent:H,externalResourcesRequired:null,fill:null,fillOpacity:H,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:hr,g2:hr,glyphName:hr,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:H,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:H,horizOriginX:H,horizOriginY:H,id:null,ideographic:H,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:H,k:H,k1:H,k2:H,k3:H,k4:H,kernelMatrix:lt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:H,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:H,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:H,overlineThickness:H,paintOrder:null,panose1:null,path:null,pathLength:H,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:pe,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:H,pointsAtY:H,pointsAtZ:H,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:lt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:lt,rev:lt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:lt,requiredFeatures:lt,requiredFonts:lt,requiredFormats:lt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:H,specularExponent:H,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:H,strikethroughThickness:H,string:null,stroke:null,strokeDashArray:lt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:H,strokeOpacity:H,strokeWidth:null,style:null,surfaceScale:H,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:lt,tabIndex:H,tableValues:null,target:null,targetX:H,targetY:H,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:lt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:H,underlineThickness:H,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:H,values:null,vAlphabetic:H,vMathematical:H,vectorEffect:null,vHanging:H,vIdeographic:H,version:null,vertAdvY:H,vertOriginX:H,vertOriginY:H,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:H,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Em}),Nm=br({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Im=br({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Tm}),_m=br({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),uk={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},ck=/[A-Z]/g,$d=/-[a-z]/g,dk=/^data[-\w.:]+$/i;function fk(e,t){const n=aa(t);let r=t,i=it;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&dk.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace($d,hk);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!$d.test(o)){let l=o.replace(ck,pk);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}i=wu}return new i(r,t)}function pk(e){return"-"+e.toLowerCase()}function hk(e){return e.charAt(1).toUpperCase()}const mk=Cm([Sm,sk,Nm,Im,_m],"html"),ku=Cm([Sm,ak,Nm,Im,_m],"svg");function gk(e){return e.join(" ").trim()}var Cu={},qd=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,yk=/\n/g,xk=/^\s*/,vk=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,wk=/^:\s*/,kk=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Ck=/^[;\s]*/,Sk=/^\s+|\s+$/g,Ek=`
`,Gd="/",Wd="*",An="",Tk="comment",Nk="declaration";function Ik(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(w){var C=w.match(yk);C&&(n+=C.length);var _=w.lastIndexOf(Ek);r=~_?w.length-_:r+w.length}function o(){var w={line:n,column:r};return function(C){return C.position=new l(w),u(),C}}function l(w){this.start=w,this.end={line:n,column:r},this.source=t.source}l.prototype.content=e;function s(w){var C=new Error(t.source+":"+n+":"+r+": "+w);if(C.reason=w,C.filename=t.source,C.line=n,C.column=r,C.source=e,!t.silent)throw C}function a(w){var C=w.exec(e);if(C){var _=C[0];return i(_),e=e.slice(_.length),C}}function u(){a(xk)}function c(w){var C;for(w=w||[];C=p();)C!==!1&&w.push(C);return w}function p(){var w=o();if(!(Gd!=e.charAt(0)||Wd!=e.charAt(1))){for(var C=2;An!=e.charAt(C)&&(Wd!=e.charAt(C)||Gd!=e.charAt(C+1));)++C;if(C+=2,An===e.charAt(C-1))return s("End of comment missing");var _=e.slice(2,C-2);return r+=2,i(_),e=e.slice(C),r+=2,w({type:Tk,comment:_})}}function g(){var w=o(),C=a(vk);if(C){if(p(),!a(wk))return s("property missing ':'");var _=a(kk),y=w({type:Nk,property:Kd(C[0].replace(qd,An)),value:_?Kd(_[0].replace(qd,An)):An});return a(Ck),y}}function m(){var w=[];c(w);for(var C;C=g();)C!==!1&&(w.push(C),c(w));return w}return u(),m()}function Kd(e){return e?e.replace(Sk,An):An}var _k=Ik,bk=Io&&Io.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cu,"__esModule",{value:!0});Cu.default=Ak;const Pk=bk(_k);function Ak(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,Pk.default)(e),i=typeof t=="function";return r.forEach(o=>{if(o.type!=="declaration")return;const{property:l,value:s}=o;i?t(l,s,o):s&&(n=n||{},n[l]=s)}),n}var kl={};Object.defineProperty(kl,"__esModule",{value:!0});kl.camelCase=void 0;var Mk=/^--[a-zA-Z0-9_-]+$/,Rk=/-([a-z])/g,Lk=/^[^-]+$/,Dk=/^-(webkit|moz|ms|o|khtml)-/,zk=/^-(ms)-/,Fk=function(e){return!e||Lk.test(e)||Mk.test(e)},Ok=function(e,t){return t.toUpperCase()},Yd=function(e,t){return"".concat(t,"-")},jk=function(e,t){return t===void 0&&(t={}),Fk(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(zk,Yd):e=e.replace(Dk,Yd),e.replace(Rk,Ok))};kl.camelCase=jk;var Uk=Io&&Io.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Vk=Uk(Cu),Hk=kl;function da(e,t){var n={};return!e||typeof e!="string"||(0,Vk.default)(e,function(r,i){r&&i&&(n[(0,Hk.camelCase)(r,t)]=i)}),n}da.default=da;var Bk=da;const $k=va(Bk),bm=Pm("end"),Su=Pm("start");function Pm(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function qk(e){const t=Su(e),n=bm(e);if(t&&n)return{start:t,end:n}}function oi(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Qd(e.position):"start"in e||"end"in e?Qd(e):"line"in e||"column"in e?fa(e):""}function fa(e){return Jd(e&&e.line)+":"+Jd(e&&e.column)}function Qd(e){return fa(e&&e.start)+"-"+fa(e&&e.end)}function Jd(e){return e&&typeof e=="number"?e:1}class He extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},l=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?i=t:!o.cause&&t&&(l=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const a=r.indexOf(":");a===-1?o.ruleId=r:(o.source=r.slice(0,a),o.ruleId=r.slice(a+1))}if(!o.place&&o.ancestors&&o.ancestors){const a=o.ancestors[o.ancestors.length-1];a&&(o.place=a.position)}const s=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=oi(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}He.prototype.file="";He.prototype.name="";He.prototype.reason="";He.prototype.message="";He.prototype.stack="";He.prototype.column=void 0;He.prototype.line=void 0;He.prototype.ancestors=void 0;He.prototype.cause=void 0;He.prototype.fatal=void 0;He.prototype.place=void 0;He.prototype.ruleId=void 0;He.prototype.source=void 0;const Eu={}.hasOwnProperty,Gk=new Map,Wk=/[A-Z]/g,Kk=new Set(["table","tbody","thead","tfoot","tr"]),Yk=new Set(["td","th"]),Am="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Qk(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=iC(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=rC(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?ku:mk,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=Mm(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function Mm(e,t,n){if(t.type==="element")return Jk(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Xk(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return eC(e,t,n);if(t.type==="mdxjsEsm")return Zk(e,t);if(t.type==="root")return tC(e,t,n);if(t.type==="text")return nC(e,t)}function Jk(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=ku,e.schema=i),e.ancestors.push(t);const o=Lm(e,t.tagName,!1),l=oC(e,t);let s=Nu(e,t);return Kk.has(t.tagName)&&(s=s.filter(function(a){return typeof a=="string"?!ok(a):!0})),Rm(e,l,o,t),Tu(l,s),e.ancestors.pop(),e.schema=r,e.create(t,o,l,n)}function Xk(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Ii(e,t.position)}function Zk(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Ii(e,t.position)}function eC(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=ku,e.schema=i),e.ancestors.push(t);const o=t.name===null?e.Fragment:Lm(e,t.name,!0),l=lC(e,t),s=Nu(e,t);return Rm(e,l,o,t),Tu(l,s),e.ancestors.pop(),e.schema=r,e.create(t,o,l,n)}function tC(e,t,n){const r={};return Tu(r,Nu(e,t)),e.create(t,e.Fragment,r,n)}function nC(e,t){return t.value}function Rm(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Tu(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function rC(e,t,n){return r;function r(i,o,l,s){const u=Array.isArray(l.children)?n:t;return s?u(o,l,s):u(o,l)}}function iC(e,t){return n;function n(r,i,o,l){const s=Array.isArray(o.children),a=Su(r);return t(i,o,l,s,{columnNumber:a?a.column-1:void 0,fileName:e,lineNumber:a?a.line:void 0},void 0)}}function oC(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&Eu.call(t.properties,i)){const o=sC(e,i,t.properties[i]);if(o){const[l,s]=o;e.tableCellAlignToStyle&&l==="align"&&typeof s=="string"&&Yk.has(t.tagName)?r=s:n[l]=s}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function lC(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const l=o.expression;l.type;const s=l.properties[0];s.type,Object.assign(n,e.evaluater.evaluateExpression(s.argument))}else Ii(e,t.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const s=r.value.data.estree.body[0];s.type,o=e.evaluater.evaluateExpression(s.expression)}else Ii(e,t.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function Nu(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Gk;for(;++r<t.children.length;){const o=t.children[r];let l;if(e.passKeys){const a=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(a){const u=i.get(a)||0;l=a+"-"+u,i.set(a,u+1)}}const s=Mm(e,o,l);s!==void 0&&n.push(s)}return n}function sC(e,t,n){const r=fk(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?ek(n):gk(n)),r.property==="style"){let i=typeof n=="object"?n:aC(e,String(n));return e.stylePropertyNameCase==="css"&&(i=uC(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?uk[r.property]||r.property:r.attribute,n]}}function aC(e,t){try{return $k(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new He("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=Am+"#cannot-parse-style-attribute",i}}function Lm(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let o=-1,l;for(;++o<i.length;){const s=Vd(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};l=l?{type:"MemberExpression",object:l,property:s,computed:!!(o&&s.type==="Literal"),optional:!1}:s}r=l}else r=Vd(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return Eu.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Ii(e)}function Ii(e,t){const n=new He("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Am+"#cannot-handle-mdx-estrees-without-createevaluater",n}function uC(e){const t={};let n;for(n in e)Eu.call(e,n)&&(t[cC(n)]=e[n]);return t}function cC(e){let t=e.replace(Wk,dC);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function dC(e){return"-"+e.toLowerCase()}const es={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},fC={};function pC(e,t){const n=fC,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Dm(e,r,i)}function Dm(e,t,n){if(hC(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Xd(e.children,t,n)}return Array.isArray(e)?Xd(e,t,n):""}function Xd(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Dm(e[i],t,n);return r.join("")}function hC(e){return!!(e&&typeof e=="object")}const Zd=document.createElement("i");function Iu(e){const t="&"+e+";";Zd.innerHTML=t;const n=Zd.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Ht(e,t,n,r){const i=e.length;let o=0,l;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(t,n),e.splice(...l);else for(n&&e.splice(t,n);o<r.length;)l=r.slice(o,o+1e4),l.unshift(t,0),e.splice(...l),o+=1e4,t+=1e4}function yt(e,t){return e.length>0?(Ht(e,e.length,0,t),e):t}const ef={}.hasOwnProperty;function mC(e){const t={};let n=-1;for(;++n<e.length;)gC(t,e[n]);return t}function gC(e,t){let n;for(n in t){const i=(ef.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let l;if(o)for(l in o){ef.call(i,l)||(i[l]=[]);const s=o[l];yC(i[l],Array.isArray(s)?s:s?[s]:[])}}}function yC(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Ht(e,0,0,r)}function zm(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function mr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const jt=Nn(/[A-Za-z]/),ut=Nn(/[\dA-Za-z]/),xC=Nn(/[#-'*+\--9=?A-Z^-~]/);function pa(e){return e!==null&&(e<32||e===127)}const ha=Nn(/\d/),vC=Nn(/[\dA-Fa-f]/),wC=Nn(/[!-/:-@[-`{-~]/);function X(e){return e!==null&&e<-2}function rt(e){return e!==null&&(e<0||e===32)}function ae(e){return e===-2||e===-1||e===32}const kC=Nn(new RegExp("\\p{P}|\\p{S}","u")),CC=Nn(/\s/);function Nn(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Pr(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let l="";if(o===37&&ut(e.charCodeAt(n+1))&&ut(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(l=String.fromCharCode(o));else if(o>55295&&o<57344){const s=e.charCodeAt(n+1);o<56320&&s>56319&&s<57344?(l=String.fromCharCode(o,s),i=1):l=""}else l=String.fromCharCode(o);l&&(t.push(e.slice(r,n),encodeURIComponent(l)),r=n+i+1,l=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function me(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return l;function l(a){return ae(a)?(e.enter(n),s(a)):t(a)}function s(a){return ae(a)&&o++<i?(e.consume(a),s):(e.exit(n),t(a))}}const SC={tokenize:EC};function EC(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),me(e,t,"linePrefix")}function i(s){return e.enter("paragraph"),o(s)}function o(s){const a=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=a),n=a,l(s)}function l(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return X(s)?(e.consume(s),e.exit("chunkText"),o):(e.consume(s),l)}}const TC={tokenize:NC},tf={tokenize:IC};function NC(e){const t=this,n=[];let r=0,i,o,l;return s;function s(v){if(r<n.length){const T=n[r];return t.containerState=T[1],e.attempt(T[0].continuation,a,u)(v)}return u(v)}function a(v){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&x();const T=t.events.length;let N=T,E;for(;N--;)if(t.events[N][0]==="exit"&&t.events[N][1].type==="chunkFlow"){E=t.events[N][1].end;break}y(r);let I=T;for(;I<t.events.length;)t.events[I][1].end={...E},I++;return Ht(t.events,N+1,0,t.events.slice(T)),t.events.length=I,u(v)}return s(v)}function u(v){if(r===n.length){if(!i)return g(v);if(i.currentConstruct&&i.currentConstruct.concrete)return w(v);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(tf,c,p)(v)}function c(v){return i&&x(),y(r),g(v)}function p(v){return t.parser.lazy[t.now().line]=r!==n.length,l=t.now().offset,w(v)}function g(v){return t.containerState={},e.attempt(tf,m,w)(v)}function m(v){return r++,n.push([t.currentConstruct,t.containerState]),g(v)}function w(v){if(v===null){i&&x(),y(0),e.consume(v);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),C(v)}function C(v){if(v===null){_(e.exit("chunkFlow"),!0),y(0),e.consume(v);return}return X(v)?(e.consume(v),_(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(v),C)}function _(v,T){const N=t.sliceStream(v);if(T&&N.push(null),v.previous=o,o&&(o.next=v),o=v,i.defineSkip(v.start),i.write(N),t.parser.lazy[v.start.line]){let E=i.events.length;for(;E--;)if(i.events[E][1].start.offset<l&&(!i.events[E][1].end||i.events[E][1].end.offset>l))return;const I=t.events.length;let P=I,M,R;for(;P--;)if(t.events[P][0]==="exit"&&t.events[P][1].type==="chunkFlow"){if(M){R=t.events[P][1].end;break}M=!0}for(y(r),E=I;E<t.events.length;)t.events[E][1].end={...R},E++;Ht(t.events,P+1,0,t.events.slice(I)),t.events.length=E}}function y(v){let T=n.length;for(;T-- >v;){const N=n[T];t.containerState=N[1],N[0].exit.call(t,e)}n.length=v}function x(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function IC(e,t,n){return me(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function nf(e){if(e===null||rt(e)||CC(e))return 1;if(kC(e))return 2}function _u(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const ma={name:"attention",resolveAll:_C,tokenize:bC};function _C(e,t){let n=-1,r,i,o,l,s,a,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;a=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const p={...e[r][1].end},g={...e[n][1].start};rf(p,-a),rf(g,a),l={type:a>1?"strongSequence":"emphasisSequence",start:p,end:{...e[r][1].end}},s={type:a>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:g},o={type:a>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:a>1?"strong":"emphasis",start:{...l.start},end:{...s.end}},e[r][1].end={...l.start},e[n][1].start={...s.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=yt(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=yt(u,[["enter",i,t],["enter",l,t],["exit",l,t],["enter",o,t]]),u=yt(u,_u(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=yt(u,[["exit",o,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=yt(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,Ht(e,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function bC(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=nf(r);let o;return l;function l(a){return o=a,e.enter("attentionSequence"),s(a)}function s(a){if(a===o)return e.consume(a),s;const u=e.exit("attentionSequence"),c=nf(a),p=!c||c===2&&i||n.includes(a),g=!i||i===2&&c||n.includes(r);return u._open=!!(o===42?p:p&&(i||!g)),u._close=!!(o===42?g:g&&(c||!p)),t(a)}}function rf(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const PC={name:"autolink",tokenize:AC};function AC(e,t,n){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(m){return jt(m)?(e.consume(m),l):m===64?n(m):u(m)}function l(m){return m===43||m===45||m===46||ut(m)?(r=1,s(m)):u(m)}function s(m){return m===58?(e.consume(m),r=0,a):(m===43||m===45||m===46||ut(m))&&r++<32?(e.consume(m),s):(r=0,u(m))}function a(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||pa(m)?n(m):(e.consume(m),a)}function u(m){return m===64?(e.consume(m),c):xC(m)?(e.consume(m),u):n(m)}function c(m){return ut(m)?p(m):n(m)}function p(m){return m===46?(e.consume(m),r=0,c):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):g(m)}function g(m){if((m===45||ut(m))&&r++<63){const w=m===45?g:p;return e.consume(m),w}return n(m)}}const Cl={partial:!0,tokenize:MC};function MC(e,t,n){return r;function r(o){return ae(o)?me(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||X(o)?t(o):n(o)}}const Fm={continuation:{tokenize:LC},exit:DC,name:"blockQuote",tokenize:RC};function RC(e,t,n){const r=this;return i;function i(l){if(l===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),o}return n(l)}function o(l){return ae(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function LC(e,t,n){const r=this;return i;function i(l){return ae(l)?me(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return e.attempt(Fm,t,n)(l)}}function DC(e){e.exit("blockQuote")}const Om={name:"characterEscape",tokenize:zC};function zC(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return wC(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const jm={name:"characterReference",tokenize:FC};function FC(e,t,n){const r=this;let i=0,o,l;return s;function s(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),a}function a(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),o=31,l=ut,c(p))}function u(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,l=vC,c):(e.enter("characterReferenceValue"),o=7,l=ha,c(p))}function c(p){if(p===59&&i){const g=e.exit("characterReferenceValue");return l===ut&&!Iu(r.sliceSerialize(g))?n(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(p)&&i++<o?(e.consume(p),c):n(p)}}const of={partial:!0,tokenize:jC},lf={concrete:!0,name:"codeFenced",tokenize:OC};function OC(e,t,n){const r=this,i={partial:!0,tokenize:N};let o=0,l=0,s;return a;function a(E){return u(E)}function u(E){const I=r.events[r.events.length-1];return o=I&&I[1].type==="linePrefix"?I[2].sliceSerialize(I[1],!0).length:0,s=E,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(E)}function c(E){return E===s?(l++,e.consume(E),c):l<3?n(E):(e.exit("codeFencedFenceSequence"),ae(E)?me(e,p,"whitespace")(E):p(E))}function p(E){return E===null||X(E)?(e.exit("codeFencedFence"),r.interrupt?t(E):e.check(of,C,T)(E)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(E))}function g(E){return E===null||X(E)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(E)):ae(E)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),me(e,m,"whitespace")(E)):E===96&&E===s?n(E):(e.consume(E),g)}function m(E){return E===null||X(E)?p(E):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),w(E))}function w(E){return E===null||X(E)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(E)):E===96&&E===s?n(E):(e.consume(E),w)}function C(E){return e.attempt(i,T,_)(E)}function _(E){return e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),y}function y(E){return o>0&&ae(E)?me(e,x,"linePrefix",o+1)(E):x(E)}function x(E){return E===null||X(E)?e.check(of,C,T)(E):(e.enter("codeFlowValue"),v(E))}function v(E){return E===null||X(E)?(e.exit("codeFlowValue"),x(E)):(e.consume(E),v)}function T(E){return e.exit("codeFenced"),t(E)}function N(E,I,P){let M=0;return R;function R(j){return E.enter("lineEnding"),E.consume(j),E.exit("lineEnding"),A}function A(j){return E.enter("codeFencedFence"),ae(j)?me(E,D,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j):D(j)}function D(j){return j===s?(E.enter("codeFencedFenceSequence"),F(j)):P(j)}function F(j){return j===s?(M++,E.consume(j),F):M>=l?(E.exit("codeFencedFenceSequence"),ae(j)?me(E,B,"whitespace")(j):B(j)):P(j)}function B(j){return j===null||X(j)?(E.exit("codeFencedFence"),I(j)):P(j)}}}function jC(e,t,n){const r=this;return i;function i(l){return l===null?n(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o)}function o(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}const ts={name:"codeIndented",tokenize:VC},UC={partial:!0,tokenize:HC};function VC(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),me(e,o,"linePrefix",5)(u)}function o(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?l(u):n(u)}function l(u){return u===null?a(u):X(u)?e.attempt(UC,l,a)(u):(e.enter("codeFlowValue"),s(u))}function s(u){return u===null||X(u)?(e.exit("codeFlowValue"),l(u)):(e.consume(u),s)}function a(u){return e.exit("codeIndented"),t(u)}}function HC(e,t,n){const r=this;return i;function i(l){return r.parser.lazy[r.now().line]?n(l):X(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i):me(e,o,"linePrefix",5)(l)}function o(l){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(l):X(l)?i(l):n(l)}}const BC={name:"codeText",previous:qC,resolve:$C,tokenize:GC};function $C(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function qC(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function GC(e,t,n){let r=0,i,o;return l;function l(p){return e.enter("codeText"),e.enter("codeTextSequence"),s(p)}function s(p){return p===96?(e.consume(p),r++,s):(e.exit("codeTextSequence"),a(p))}function a(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),a):p===96?(o=e.enter("codeTextSequence"),i=0,c(p)):X(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),a):(e.enter("codeTextData"),u(p))}function u(p){return p===null||p===32||p===96||X(p)?(e.exit("codeTextData"),a(p)):(e.consume(p),u)}function c(p){return p===96?(e.consume(p),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(o.type="codeTextData",u(p))}}class WC{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Br(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Br(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Br(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Br(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Br(this.left,n.reverse())}}}function Br(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Um(e){const t={};let n=-1,r,i,o,l,s,a,u;const c=new WC(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(a=r[1]._tokenizer.events,o=0,o<a.length&&a[o][1].type==="lineEndingBlank"&&(o+=2),o<a.length&&a[o][1].type==="content"))for(;++o<a.length&&a[o][1].type!=="content";)a[o][1].type==="chunkText"&&(a[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,KC(c,n)),n=t[n],u=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(l=c.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),l[1].type="lineEnding",i=o);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},s=c.slice(i,n),s.unshift(r),c.splice(i,n-i+1,s))}}return Ht(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function KC(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[];let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const s=l.events,a=[],u={};let c,p,g=-1,m=n,w=0,C=0;const _=[C];for(;m;){for(;e.get(++i)[1]!==m;);o.push(i),m._tokenizer||(c=r.sliceStream(m),m.next||c.push(null),p&&l.defineSkip(m.start),m._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(c),m._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),p=m,m=m.next}for(m=n;++g<s.length;)s[g][0]==="exit"&&s[g-1][0]==="enter"&&s[g][1].type===s[g-1][1].type&&s[g][1].start.line!==s[g][1].end.line&&(C=g+1,_.push(C),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(l.events=[],m?(m._tokenizer=void 0,m.previous=void 0):_.pop(),g=_.length;g--;){const y=s.slice(_[g],_[g+1]),x=o.pop();a.push([x,x+y.length-1]),e.splice(x,2,y)}for(a.reverse(),g=-1;++g<a.length;)u[w+a[g][0]]=w+a[g][1],w+=a[g][1]-a[g][0]-1;return u}const YC={resolve:JC,tokenize:XC},QC={partial:!0,tokenize:ZC};function JC(e){return Um(e),e}function XC(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?o(s):X(s)?e.check(QC,l,o)(s):(e.consume(s),i)}function o(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function l(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function ZC(e,t,n){const r=this;return i;function i(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),me(e,o,"linePrefix")}function o(l){if(l===null||X(l))return n(l);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(l):e.interrupt(r.parser.constructs.flow,n,t)(l)}}function Vm(e,t,n,r,i,o,l,s,a){const u=a||Number.POSITIVE_INFINITY;let c=0;return p;function p(y){return y===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(y),e.exit(o),g):y===null||y===32||y===41||pa(y)?n(y):(e.enter(r),e.enter(l),e.enter(s),e.enter("chunkString",{contentType:"string"}),C(y))}function g(y){return y===62?(e.enter(o),e.consume(y),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),m(y))}function m(y){return y===62?(e.exit("chunkString"),e.exit(s),g(y)):y===null||y===60||X(y)?n(y):(e.consume(y),y===92?w:m)}function w(y){return y===60||y===62||y===92?(e.consume(y),m):m(y)}function C(y){return!c&&(y===null||y===41||rt(y))?(e.exit("chunkString"),e.exit(s),e.exit(l),e.exit(r),t(y)):c<u&&y===40?(e.consume(y),c++,C):y===41?(e.consume(y),c--,C):y===null||y===32||y===40||pa(y)?n(y):(e.consume(y),y===92?_:C)}function _(y){return y===40||y===41||y===92?(e.consume(y),C):C(y)}}function Hm(e,t,n,r,i,o){const l=this;let s=0,a;return u;function u(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(o),c}function c(m){return s>999||m===null||m===91||m===93&&!a||m===94&&!s&&"_hiddenFootnoteSupport"in l.parser.constructs?n(m):m===93?(e.exit(o),e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):X(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),p(m))}function p(m){return m===null||m===91||m===93||X(m)||s++>999?(e.exit("chunkString"),c(m)):(e.consume(m),a||(a=!ae(m)),m===92?g:p)}function g(m){return m===91||m===92||m===93?(e.consume(m),s++,p):p(m)}}function Bm(e,t,n,r,i,o){let l;return s;function s(g){return g===34||g===39||g===40?(e.enter(r),e.enter(i),e.consume(g),e.exit(i),l=g===40?41:g,a):n(g)}function a(g){return g===l?(e.enter(i),e.consume(g),e.exit(i),e.exit(r),t):(e.enter(o),u(g))}function u(g){return g===l?(e.exit(o),a(l)):g===null?n(g):X(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),me(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(g))}function c(g){return g===l||g===null||X(g)?(e.exit("chunkString"),u(g)):(e.consume(g),g===92?p:c)}function p(g){return g===l||g===92?(e.consume(g),c):c(g)}}function li(e,t){let n;return r;function r(i){return X(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):ae(i)?me(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const e2={name:"definition",tokenize:n2},t2={partial:!0,tokenize:r2};function n2(e,t,n){const r=this;let i;return o;function o(m){return e.enter("definition"),l(m)}function l(m){return Hm.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function s(m){return i=mr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),a):n(m)}function a(m){return rt(m)?li(e,u)(m):u(m)}function u(m){return Vm(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function c(m){return e.attempt(t2,p,p)(m)}function p(m){return ae(m)?me(e,g,"whitespace")(m):g(m)}function g(m){return m===null||X(m)?(e.exit("definition"),r.parser.defined.push(i),t(m)):n(m)}}function r2(e,t,n){return r;function r(s){return rt(s)?li(e,i)(s):n(s)}function i(s){return Bm(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function o(s){return ae(s)?me(e,l,"whitespace")(s):l(s)}function l(s){return s===null||X(s)?t(s):n(s)}}const i2={name:"hardBreakEscape",tokenize:o2};function o2(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return X(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const l2={name:"headingAtx",resolve:s2,tokenize:a2};function s2(e,t){let n=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Ht(e,r,n-r+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function a2(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),o(c)}function o(c){return e.enter("atxHeadingSequence"),l(c)}function l(c){return c===35&&r++<6?(e.consume(c),l):c===null||rt(c)?(e.exit("atxHeadingSequence"),s(c)):n(c)}function s(c){return c===35?(e.enter("atxHeadingSequence"),a(c)):c===null||X(c)?(e.exit("atxHeading"),t(c)):ae(c)?me(e,s,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function a(c){return c===35?(e.consume(c),a):(e.exit("atxHeadingSequence"),s(c))}function u(c){return c===null||c===35||rt(c)?(e.exit("atxHeadingText"),s(c)):(e.consume(c),u)}}const u2=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],sf=["pre","script","style","textarea"],c2={concrete:!0,name:"htmlFlow",resolveTo:p2,tokenize:h2},d2={partial:!0,tokenize:g2},f2={partial:!0,tokenize:m2};function p2(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function h2(e,t,n){const r=this;let i,o,l,s,a;return u;function u(S){return c(S)}function c(S){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(S),p}function p(S){return S===33?(e.consume(S),g):S===47?(e.consume(S),o=!0,C):S===63?(e.consume(S),i=3,r.interrupt?t:k):jt(S)?(e.consume(S),l=String.fromCharCode(S),_):n(S)}function g(S){return S===45?(e.consume(S),i=2,m):S===91?(e.consume(S),i=5,s=0,w):jt(S)?(e.consume(S),i=4,r.interrupt?t:k):n(S)}function m(S){return S===45?(e.consume(S),r.interrupt?t:k):n(S)}function w(S){const re="CDATA[";return S===re.charCodeAt(s++)?(e.consume(S),s===re.length?r.interrupt?t:D:w):n(S)}function C(S){return jt(S)?(e.consume(S),l=String.fromCharCode(S),_):n(S)}function _(S){if(S===null||S===47||S===62||rt(S)){const re=S===47,ee=l.toLowerCase();return!re&&!o&&sf.includes(ee)?(i=1,r.interrupt?t(S):D(S)):u2.includes(l.toLowerCase())?(i=6,re?(e.consume(S),y):r.interrupt?t(S):D(S)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(S):o?x(S):v(S))}return S===45||ut(S)?(e.consume(S),l+=String.fromCharCode(S),_):n(S)}function y(S){return S===62?(e.consume(S),r.interrupt?t:D):n(S)}function x(S){return ae(S)?(e.consume(S),x):R(S)}function v(S){return S===47?(e.consume(S),R):S===58||S===95||jt(S)?(e.consume(S),T):ae(S)?(e.consume(S),v):R(S)}function T(S){return S===45||S===46||S===58||S===95||ut(S)?(e.consume(S),T):N(S)}function N(S){return S===61?(e.consume(S),E):ae(S)?(e.consume(S),N):v(S)}function E(S){return S===null||S===60||S===61||S===62||S===96?n(S):S===34||S===39?(e.consume(S),a=S,I):ae(S)?(e.consume(S),E):P(S)}function I(S){return S===a?(e.consume(S),a=null,M):S===null||X(S)?n(S):(e.consume(S),I)}function P(S){return S===null||S===34||S===39||S===47||S===60||S===61||S===62||S===96||rt(S)?N(S):(e.consume(S),P)}function M(S){return S===47||S===62||ae(S)?v(S):n(S)}function R(S){return S===62?(e.consume(S),A):n(S)}function A(S){return S===null||X(S)?D(S):ae(S)?(e.consume(S),A):n(S)}function D(S){return S===45&&i===2?(e.consume(S),W):S===60&&i===1?(e.consume(S),Q):S===62&&i===4?(e.consume(S),G):S===63&&i===3?(e.consume(S),k):S===93&&i===5?(e.consume(S),U):X(S)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(d2,J,F)(S)):S===null||X(S)?(e.exit("htmlFlowData"),F(S)):(e.consume(S),D)}function F(S){return e.check(f2,B,J)(S)}function B(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),j}function j(S){return S===null||X(S)?F(S):(e.enter("htmlFlowData"),D(S))}function W(S){return S===45?(e.consume(S),k):D(S)}function Q(S){return S===47?(e.consume(S),l="",z):D(S)}function z(S){if(S===62){const re=l.toLowerCase();return sf.includes(re)?(e.consume(S),G):D(S)}return jt(S)&&l.length<8?(e.consume(S),l+=String.fromCharCode(S),z):D(S)}function U(S){return S===93?(e.consume(S),k):D(S)}function k(S){return S===62?(e.consume(S),G):S===45&&i===2?(e.consume(S),k):D(S)}function G(S){return S===null||X(S)?(e.exit("htmlFlowData"),J(S)):(e.consume(S),G)}function J(S){return e.exit("htmlFlow"),t(S)}}function m2(e,t,n){const r=this;return i;function i(l){return X(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o):n(l)}function o(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}function g2(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Cl,t,n)}}const y2={name:"htmlText",tokenize:x2};function x2(e,t,n){const r=this;let i,o,l;return s;function s(k){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(k),a}function a(k){return k===33?(e.consume(k),u):k===47?(e.consume(k),N):k===63?(e.consume(k),v):jt(k)?(e.consume(k),P):n(k)}function u(k){return k===45?(e.consume(k),c):k===91?(e.consume(k),o=0,w):jt(k)?(e.consume(k),x):n(k)}function c(k){return k===45?(e.consume(k),m):n(k)}function p(k){return k===null?n(k):k===45?(e.consume(k),g):X(k)?(l=p,Q(k)):(e.consume(k),p)}function g(k){return k===45?(e.consume(k),m):p(k)}function m(k){return k===62?W(k):k===45?g(k):p(k)}function w(k){const G="CDATA[";return k===G.charCodeAt(o++)?(e.consume(k),o===G.length?C:w):n(k)}function C(k){return k===null?n(k):k===93?(e.consume(k),_):X(k)?(l=C,Q(k)):(e.consume(k),C)}function _(k){return k===93?(e.consume(k),y):C(k)}function y(k){return k===62?W(k):k===93?(e.consume(k),y):C(k)}function x(k){return k===null||k===62?W(k):X(k)?(l=x,Q(k)):(e.consume(k),x)}function v(k){return k===null?n(k):k===63?(e.consume(k),T):X(k)?(l=v,Q(k)):(e.consume(k),v)}function T(k){return k===62?W(k):v(k)}function N(k){return jt(k)?(e.consume(k),E):n(k)}function E(k){return k===45||ut(k)?(e.consume(k),E):I(k)}function I(k){return X(k)?(l=I,Q(k)):ae(k)?(e.consume(k),I):W(k)}function P(k){return k===45||ut(k)?(e.consume(k),P):k===47||k===62||rt(k)?M(k):n(k)}function M(k){return k===47?(e.consume(k),W):k===58||k===95||jt(k)?(e.consume(k),R):X(k)?(l=M,Q(k)):ae(k)?(e.consume(k),M):W(k)}function R(k){return k===45||k===46||k===58||k===95||ut(k)?(e.consume(k),R):A(k)}function A(k){return k===61?(e.consume(k),D):X(k)?(l=A,Q(k)):ae(k)?(e.consume(k),A):M(k)}function D(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),i=k,F):X(k)?(l=D,Q(k)):ae(k)?(e.consume(k),D):(e.consume(k),B)}function F(k){return k===i?(e.consume(k),i=void 0,j):k===null?n(k):X(k)?(l=F,Q(k)):(e.consume(k),F)}function B(k){return k===null||k===34||k===39||k===60||k===61||k===96?n(k):k===47||k===62||rt(k)?M(k):(e.consume(k),B)}function j(k){return k===47||k===62||rt(k)?M(k):n(k)}function W(k){return k===62?(e.consume(k),e.exit("htmlTextData"),e.exit("htmlText"),t):n(k)}function Q(k){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),z}function z(k){return ae(k)?me(e,U,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):U(k)}function U(k){return e.enter("htmlTextData"),l(k)}}const bu={name:"labelEnd",resolveAll:C2,resolveTo:S2,tokenize:E2},v2={tokenize:T2},w2={tokenize:N2},k2={tokenize:I2};function C2(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Ht(e,0,e.length,n),e}function S2(e,t){let n=e.length,r=0,i,o,l,s;for(;n--;)if(i=e[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(l){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(l=n);const a={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[o][1].start},end:{...e[l][1].end}},c={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[l-2][1].start}};return s=[["enter",a,t],["enter",u,t]],s=yt(s,e.slice(o+1,o+r+3)),s=yt(s,[["enter",c,t]]),s=yt(s,_u(t.parser.constructs.insideSpan.null,e.slice(o+r+4,l-3),t)),s=yt(s,[["exit",c,t],e[l-2],e[l-1],["exit",u,t]]),s=yt(s,e.slice(l+1)),s=yt(s,[["exit",a,t]]),Ht(e,o,e.length,s),e}function E2(e,t,n){const r=this;let i=r.events.length,o,l;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return s;function s(g){return o?o._inactive?p(g):(l=r.parser.defined.includes(mr(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),a):n(g)}function a(g){return g===40?e.attempt(v2,c,l?c:p)(g):g===91?e.attempt(w2,c,l?u:p)(g):l?c(g):p(g)}function u(g){return e.attempt(k2,c,p)(g)}function c(g){return t(g)}function p(g){return o._balanced=!0,n(g)}}function T2(e,t,n){return r;function r(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),i}function i(p){return rt(p)?li(e,o)(p):o(p)}function o(p){return p===41?c(p):Vm(e,l,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function l(p){return rt(p)?li(e,a)(p):c(p)}function s(p){return n(p)}function a(p){return p===34||p===39||p===40?Bm(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):c(p)}function u(p){return rt(p)?li(e,c)(p):c(p)}function c(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):n(p)}}function N2(e,t,n){const r=this;return i;function i(s){return Hm.call(r,e,o,l,"reference","referenceMarker","referenceString")(s)}function o(s){return r.parser.defined.includes(mr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function l(s){return n(s)}}function I2(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const _2={name:"labelStartImage",resolveAll:bu.resolveAll,tokenize:b2};function b2(e,t,n){const r=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),o}function o(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),l):n(s)}function l(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const P2={name:"labelStartLink",resolveAll:bu.resolveAll,tokenize:A2};function A2(e,t,n){const r=this;return i;function i(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const ns={name:"lineEnding",tokenize:M2};function M2(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),me(e,t,"linePrefix")}}const To={name:"thematicBreak",tokenize:R2};function R2(e,t,n){let r=0,i;return o;function o(u){return e.enter("thematicBreak"),l(u)}function l(u){return i=u,s(u)}function s(u){return u===i?(e.enter("thematicBreakSequence"),a(u)):r>=3&&(u===null||X(u))?(e.exit("thematicBreak"),t(u)):n(u)}function a(u){return u===i?(e.consume(u),r++,a):(e.exit("thematicBreakSequence"),ae(u)?me(e,s,"whitespace")(u):s(u))}}const Ye={continuation:{tokenize:F2},exit:j2,name:"list",tokenize:z2},L2={partial:!0,tokenize:U2},D2={partial:!0,tokenize:O2};function z2(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,l=0;return s;function s(m){const w=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:ha(m)){if(r.containerState.type||(r.containerState.type=w,e.enter(w,{_container:!0})),w==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(To,n,u)(m):u(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),a(m)}return n(m)}function a(m){return ha(m)&&++l<10?(e.consume(m),a):(!r.interrupt||l<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),u(m)):n(m)}function u(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(Cl,r.interrupt?n:c,e.attempt(L2,g,p))}function c(m){return r.containerState.initialBlankLine=!0,o++,g(m)}function p(m){return ae(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),g):n(m)}function g(m){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function F2(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Cl,i,o);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,me(e,t,"listItemIndent",r.containerState.size+1)(s)}function o(s){return r.containerState.furtherBlankLines||!ae(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(D2,t,l)(s))}function l(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,me(e,e.attempt(Ye,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function O2(e,t,n){const r=this;return me(e,i,"listItemIndent",r.containerState.size+1);function i(o){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?t(o):n(o)}}function j2(e){e.exit(this.containerState.type)}function U2(e,t,n){const r=this;return me(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const l=r.events[r.events.length-1];return!ae(o)&&l&&l[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const af={name:"setextUnderline",resolveTo:V2,tokenize:H2};function V2(e,t){let n=e.length,r,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const l={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",l,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=l,e.push(["exit",l,t]),e}function H2(e,t,n){const r=this;let i;return o;function o(u){let c=r.events.length,p;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){p=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(e.enter("setextHeadingLine"),i=u,l(u)):n(u)}function l(u){return e.enter("setextHeadingLineSequence"),s(u)}function s(u){return u===i?(e.consume(u),s):(e.exit("setextHeadingLineSequence"),ae(u)?me(e,a,"lineSuffix")(u):a(u))}function a(u){return u===null||X(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const B2={tokenize:$2};function $2(e){const t=this,n=e.attempt(Cl,r,e.attempt(this.parser.constructs.flowInitial,i,me(e,e.attempt(this.parser.constructs.flow,i,e.attempt(YC,i)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const q2={resolveAll:qm()},G2=$m("string"),W2=$m("text");function $m(e){return{resolveAll:qm(e==="text"?K2:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],o=n.attempt(i,l,s);return l;function l(c){return u(c)?o(c):s(c)}function s(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),a}function a(c){return u(c)?(n.exit("data"),o(c)):(n.consume(c),a)}function u(c){if(c===null)return!0;const p=i[c];let g=-1;if(p)for(;++g<p.length;){const m=p[g];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function qm(e){return t;function t(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,r):n}}function K2(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let o=i.length,l=-1,s=0,a;for(;o--;){const u=i[o];if(typeof u=="string"){for(l=u.length;u.charCodeAt(l-1)===32;)s++,l--;if(l)break;l=-1}else if(u===-2)a=!0,s++;else if(u!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const u={type:n===e.length||a||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?l:r.start._bufferIndex+l,_index:r.start._index+o,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const Y2={42:Ye,43:Ye,45:Ye,48:Ye,49:Ye,50:Ye,51:Ye,52:Ye,53:Ye,54:Ye,55:Ye,56:Ye,57:Ye,62:Fm},Q2={91:e2},J2={[-2]:ts,[-1]:ts,32:ts},X2={35:l2,42:To,45:[af,To],60:c2,61:af,95:To,96:lf,126:lf},Z2={38:jm,92:Om},eS={[-5]:ns,[-4]:ns,[-3]:ns,33:_2,38:jm,42:ma,60:[PC,y2],91:P2,92:[i2,Om],93:bu,95:ma,96:BC},tS={null:[ma,q2]},nS={null:[42,95]},rS={null:[]},iS=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:nS,contentInitial:Q2,disable:rS,document:Y2,flow:X2,flowInitial:J2,insideSpan:tS,string:Z2,text:eS},Symbol.toStringTag,{value:"Module"}));function oS(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let l=[],s=[];const a={attempt:I(N),check:I(E),consume:x,enter:v,exit:T,interrupt:I(E,{interrupt:!0})},u={code:null,containerState:{},defineSkip:C,events:[],now:w,parser:e,previous:null,sliceSerialize:g,sliceStream:m,write:p};let c=t.tokenize.call(u,a);return t.resolveAll&&o.push(t),u;function p(A){return l=yt(l,A),_(),l[l.length-1]!==null?[]:(P(t,0),u.events=_u(o,u.events,u),u.events)}function g(A,D){return sS(m(A),D)}function m(A){return lS(l,A)}function w(){const{_bufferIndex:A,_index:D,line:F,column:B,offset:j}=r;return{_bufferIndex:A,_index:D,line:F,column:B,offset:j}}function C(A){i[A.line]=A.column,R()}function _(){let A;for(;r._index<l.length;){const D=l[r._index];if(typeof D=="string")for(A=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===A&&r._bufferIndex<D.length;)y(D.charCodeAt(r._bufferIndex));else y(D)}}function y(A){c=c(A)}function x(A){X(A)?(r.line++,r.column=1,r.offset+=A===-3?2:1,R()):A!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=A}function v(A,D){const F=D||{};return F.type=A,F.start=w(),u.events.push(["enter",F,u]),s.push(F),F}function T(A){const D=s.pop();return D.end=w(),u.events.push(["exit",D,u]),D}function N(A,D){P(A,D.from)}function E(A,D){D.restore()}function I(A,D){return F;function F(B,j,W){let Q,z,U,k;return Array.isArray(B)?J(B):"tokenize"in B?J([B]):G(B);function G(Z){return ie;function ie(fe){const Fe=fe!==null&&Z[fe],We=fe!==null&&Z.null,tn=[...Array.isArray(Fe)?Fe:Fe?[Fe]:[],...Array.isArray(We)?We:We?[We]:[]];return J(tn)(fe)}}function J(Z){return Q=Z,z=0,Z.length===0?W:S(Z[z])}function S(Z){return ie;function ie(fe){return k=M(),U=Z,Z.partial||(u.currentConstruct=Z),Z.name&&u.parser.constructs.disable.null.includes(Z.name)?ee():Z.tokenize.call(D?Object.assign(Object.create(u),D):u,a,re,ee)(fe)}}function re(Z){return A(U,k),j}function ee(Z){return k.restore(),++z<Q.length?S(Q[z]):W}}}function P(A,D){A.resolveAll&&!o.includes(A)&&o.push(A),A.resolve&&Ht(u.events,D,u.events.length-D,A.resolve(u.events.slice(D),u)),A.resolveTo&&(u.events=A.resolveTo(u.events,u))}function M(){const A=w(),D=u.previous,F=u.currentConstruct,B=u.events.length,j=Array.from(s);return{from:B,restore:W};function W(){r=A,u.previous=D,u.currentConstruct=F,u.events.length=B,s=j,R()}}function R(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function lS(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let l;if(n===i)l=[e[n].slice(r,o)];else{if(l=e.slice(n,i),r>-1){const s=l[0];typeof s=="string"?l[0]=s.slice(r):l.shift()}o>0&&l.push(e[i].slice(0,o))}return l}function sS(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&i)continue;l=" ";break}default:l=String.fromCharCode(o)}i=o===-2,r.push(l)}return r.join("")}function aS(e){const r={constructs:mC([iS,...(e||{}).extensions||[]]),content:i(SC),defined:[],document:i(TC),flow:i(B2),lazy:{},string:i(G2),text:i(W2)};return r;function i(o){return l;function l(s){return oS(r,o,s)}}}function uS(e){for(;!Um(e););return e}const uf=/[\0\t\n\r]/g;function cS(){let e=1,t="",n=!0,r;return i;function i(o,l,s){const a=[];let u,c,p,g,m;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),p=0,t="",n&&(o.charCodeAt(0)===65279&&p++,n=void 0);p<o.length;){if(uf.lastIndex=p,u=uf.exec(o),g=u&&u.index!==void 0?u.index:o.length,m=o.charCodeAt(g),!u){t=o.slice(p);break}if(m===10&&p===g&&r)a.push(-3),r=void 0;else switch(r&&(a.push(-5),r=void 0),p<g&&(a.push(o.slice(p,g)),e+=g-p),m){case 0:{a.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,a.push(-2);e++<c;)a.push(-1);break}case 10:{a.push(-4),e=1;break}default:r=!0,e=1}p=g+1}return s&&(r&&a.push(-5),t&&a.push(t),a.push(null)),a}}const dS=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function fS(e){return e.replace(dS,pS)}function pS(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return zm(n.slice(o?2:1),o?16:10)}return Iu(n)||e}const Gm={}.hasOwnProperty;function hS(e,t,n){return typeof t!="string"&&(n=t,t=void 0),mS(n)(uS(aS(n).document().write(cS()(e,t,!0))))}function mS(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Gn),autolinkProtocol:M,autolinkEmail:M,atxHeading:o(te),blockQuote:o(We),characterEscape:M,characterReference:M,codeFenced:o(tn),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(tn,l),codeText:o(Bt,l),codeTextData:M,data:M,codeFlowValue:M,definition:o($t),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(St),hardBreakEscape:o(Ie),hardBreakTrailing:o(Ie),htmlFlow:o(Et,l),htmlFlowData:M,htmlText:o(Et,l),htmlTextData:M,image:o(Ar),label:l,link:o(Gn),listItem:o(Mr),listItemValue:g,listOrdered:o(In,p),listUnordered:o(In),paragraph:o(Tl),reference:S,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(te),strong:o(Rr),thematicBreak:o(Oi)},exit:{atxHeading:a(),atxHeadingSequence:N,autolink:a(),autolinkEmail:Fe,autolinkProtocol:fe,blockQuote:a(),characterEscapeValue:R,characterReferenceMarkerHexadecimal:ee,characterReferenceMarkerNumeric:ee,characterReferenceValue:Z,characterReference:ie,codeFenced:a(_),codeFencedFence:C,codeFencedFenceInfo:m,codeFencedFenceMeta:w,codeFlowValue:R,codeIndented:a(y),codeText:a(j),codeTextData:R,data:R,definition:a(),definitionDestinationString:T,definitionLabelString:x,definitionTitleString:v,emphasis:a(),hardBreakEscape:a(D),hardBreakTrailing:a(D),htmlFlow:a(F),htmlFlowData:R,htmlText:a(B),htmlTextData:R,image:a(Q),label:U,labelText:z,lineEnding:A,link:a(W),listItem:a(),listOrdered:a(),listUnordered:a(),paragraph:a(),referenceString:re,resourceDestinationString:k,resourceTitleString:G,resource:J,setextHeading:a(P),setextHeadingLineSequence:I,setextHeadingText:E,strong:a(),thematicBreak:a()}};Wm(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(L){let O={type:"root",children:[]};const $={stack:[O],tokenStack:[],config:t,enter:s,exit:u,buffer:l,resume:c,data:n},K=[];let le=-1;for(;++le<L.length;)if(L[le][1].type==="listOrdered"||L[le][1].type==="listUnordered")if(L[le][0]==="enter")K.push(le);else{const ue=K.pop();le=i(L,ue,le)}for(le=-1;++le<L.length;){const ue=t[L[le][0]];Gm.call(ue,L[le][1].type)&&ue[L[le][1].type].call(Object.assign({sliceSerialize:L[le][2].sliceSerialize},$),L[le][1])}if($.tokenStack.length>0){const ue=$.tokenStack[$.tokenStack.length-1];(ue[1]||cf).call($,void 0,ue[0])}for(O.position={start:on(L.length>0?L[0][1].start:{line:1,column:1,offset:0}),end:on(L.length>0?L[L.length-2][1].end:{line:1,column:1,offset:0})},le=-1;++le<t.transforms.length;)O=t.transforms[le](O)||O;return O}function i(L,O,$){let K=O-1,le=-1,ue=!1,ot,_e,Ae,_n;for(;++K<=$;){const Ke=L[K];switch(Ke[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ke[0]==="enter"?le++:le--,_n=void 0;break}case"lineEndingBlank":{Ke[0]==="enter"&&(ot&&!_n&&!le&&!Ae&&(Ae=K),_n=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:_n=void 0}if(!le&&Ke[0]==="enter"&&Ke[1].type==="listItemPrefix"||le===-1&&Ke[0]==="exit"&&(Ke[1].type==="listUnordered"||Ke[1].type==="listOrdered")){if(ot){let nn=K;for(_e=void 0;nn--;){const Tt=L[nn];if(Tt[1].type==="lineEnding"||Tt[1].type==="lineEndingBlank"){if(Tt[0]==="exit")continue;_e&&(L[_e][1].type="lineEndingBlank",ue=!0),Tt[1].type="lineEnding",_e=nn}else if(!(Tt[1].type==="linePrefix"||Tt[1].type==="blockQuotePrefix"||Tt[1].type==="blockQuotePrefixWhitespace"||Tt[1].type==="blockQuoteMarker"||Tt[1].type==="listItemIndent"))break}Ae&&(!_e||Ae<_e)&&(ot._spread=!0),ot.end=Object.assign({},_e?L[_e][1].start:Ke[1].end),L.splice(_e||K,0,["exit",ot,Ke[2]]),K++,$++}if(Ke[1].type==="listItemPrefix"){const nn={type:"listItem",_spread:!1,start:Object.assign({},Ke[1].start),end:void 0};ot=nn,L.splice(K,0,["enter",nn,Ke[2]]),K++,$++,Ae=void 0,_n=!0}}}return L[O][1]._spread=ue,$}function o(L,O){return $;function $(K){s.call(this,L(K),K),O&&O.call(this,K)}}function l(){this.stack.push({type:"fragment",children:[]})}function s(L,O,$){this.stack[this.stack.length-1].children.push(L),this.stack.push(L),this.tokenStack.push([O,$||void 0]),L.position={start:on(O.start),end:void 0}}function a(L){return O;function O($){L&&L.call(this,$),u.call(this,$)}}function u(L,O){const $=this.stack.pop(),K=this.tokenStack.pop();if(K)K[0].type!==L.type&&(O?O.call(this,L,K[0]):(K[1]||cf).call(this,L,K[0]));else throw new Error("Cannot close `"+L.type+"` ("+oi({start:L.start,end:L.end})+"): its not open");$.position.end=on(L.end)}function c(){return pC(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function g(L){if(this.data.expectingFirstListItemValue){const O=this.stack[this.stack.length-2];O.start=Number.parseInt(this.sliceSerialize(L),10),this.data.expectingFirstListItemValue=void 0}}function m(){const L=this.resume(),O=this.stack[this.stack.length-1];O.lang=L}function w(){const L=this.resume(),O=this.stack[this.stack.length-1];O.meta=L}function C(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function _(){const L=this.resume(),O=this.stack[this.stack.length-1];O.value=L.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const L=this.resume(),O=this.stack[this.stack.length-1];O.value=L.replace(/(\r?\n|\r)$/g,"")}function x(L){const O=this.resume(),$=this.stack[this.stack.length-1];$.label=O,$.identifier=mr(this.sliceSerialize(L)).toLowerCase()}function v(){const L=this.resume(),O=this.stack[this.stack.length-1];O.title=L}function T(){const L=this.resume(),O=this.stack[this.stack.length-1];O.url=L}function N(L){const O=this.stack[this.stack.length-1];if(!O.depth){const $=this.sliceSerialize(L).length;O.depth=$}}function E(){this.data.setextHeadingSlurpLineEnding=!0}function I(L){const O=this.stack[this.stack.length-1];O.depth=this.sliceSerialize(L).codePointAt(0)===61?1:2}function P(){this.data.setextHeadingSlurpLineEnding=void 0}function M(L){const $=this.stack[this.stack.length-1].children;let K=$[$.length-1];(!K||K.type!=="text")&&(K=Fi(),K.position={start:on(L.start),end:void 0},$.push(K)),this.stack.push(K)}function R(L){const O=this.stack.pop();O.value+=this.sliceSerialize(L),O.position.end=on(L.end)}function A(L){const O=this.stack[this.stack.length-1];if(this.data.atHardBreak){const $=O.children[O.children.length-1];$.position.end=on(L.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(O.type)&&(M.call(this,L),R.call(this,L))}function D(){this.data.atHardBreak=!0}function F(){const L=this.resume(),O=this.stack[this.stack.length-1];O.value=L}function B(){const L=this.resume(),O=this.stack[this.stack.length-1];O.value=L}function j(){const L=this.resume(),O=this.stack[this.stack.length-1];O.value=L}function W(){const L=this.stack[this.stack.length-1];if(this.data.inReference){const O=this.data.referenceType||"shortcut";L.type+="Reference",L.referenceType=O,delete L.url,delete L.title}else delete L.identifier,delete L.label;this.data.referenceType=void 0}function Q(){const L=this.stack[this.stack.length-1];if(this.data.inReference){const O=this.data.referenceType||"shortcut";L.type+="Reference",L.referenceType=O,delete L.url,delete L.title}else delete L.identifier,delete L.label;this.data.referenceType=void 0}function z(L){const O=this.sliceSerialize(L),$=this.stack[this.stack.length-2];$.label=fS(O),$.identifier=mr(O).toLowerCase()}function U(){const L=this.stack[this.stack.length-1],O=this.resume(),$=this.stack[this.stack.length-1];if(this.data.inReference=!0,$.type==="link"){const K=L.children;$.children=K}else $.alt=O}function k(){const L=this.resume(),O=this.stack[this.stack.length-1];O.url=L}function G(){const L=this.resume(),O=this.stack[this.stack.length-1];O.title=L}function J(){this.data.inReference=void 0}function S(){this.data.referenceType="collapsed"}function re(L){const O=this.resume(),$=this.stack[this.stack.length-1];$.label=O,$.identifier=mr(this.sliceSerialize(L)).toLowerCase(),this.data.referenceType="full"}function ee(L){this.data.characterReferenceType=L.type}function Z(L){const O=this.sliceSerialize(L),$=this.data.characterReferenceType;let K;$?(K=zm(O,$==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):K=Iu(O);const le=this.stack[this.stack.length-1];le.value+=K}function ie(L){const O=this.stack.pop();O.position.end=on(L.end)}function fe(L){R.call(this,L);const O=this.stack[this.stack.length-1];O.url=this.sliceSerialize(L)}function Fe(L){R.call(this,L);const O=this.stack[this.stack.length-1];O.url="mailto:"+this.sliceSerialize(L)}function We(){return{type:"blockquote",children:[]}}function tn(){return{type:"code",lang:null,meta:null,value:""}}function Bt(){return{type:"inlineCode",value:""}}function $t(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function St(){return{type:"emphasis",children:[]}}function te(){return{type:"heading",depth:0,children:[]}}function Ie(){return{type:"break"}}function Et(){return{type:"html",value:""}}function Ar(){return{type:"image",title:null,url:"",alt:null}}function Gn(){return{type:"link",title:null,url:"",children:[]}}function In(L){return{type:"list",ordered:L.type==="listOrdered",start:null,spread:L._spread,children:[]}}function Mr(L){return{type:"listItem",spread:L._spread,checked:null,children:[]}}function Tl(){return{type:"paragraph",children:[]}}function Rr(){return{type:"strong",children:[]}}function Fi(){return{type:"text",value:""}}function Oi(){return{type:"thematicBreak"}}}function on(e){return{line:e.line,column:e.column,offset:e.offset}}function Wm(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Wm(e,r):gS(e,r)}}function gS(e,t){let n;for(n in t)if(Gm.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function cf(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+oi({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+oi({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+oi({start:t.start,end:t.end})+") is still open")}function yS(e){const t=this;t.parser=n;function n(r){return hS(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function xS(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function vS(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function wS(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o}function kS(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function CS(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function SS(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Pr(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let l,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),l=e.footnoteOrder.length):l=o+1,s+=1,e.footnoteCounts.set(r,s);const a={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,a);const u={type:"element",tagName:"sup",properties:{},children:[a]};return e.patch(t,u),e.applyData(t,u)}function ES(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function TS(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Km(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const l=i[i.length-1];return l&&l.type==="text"?l.value+=r:i.push({type:"text",value:r}),i}function NS(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Km(e,t);const i={src:Pr(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)}function IS(e,t){const n={src:Pr(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function _S(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function bS(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Km(e,t);const i={href:Pr(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function PS(e,t){const n={href:Pr(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function AS(e,t,n){const r=e.all(t),i=n?MS(n):Ym(t),o={},l=[];if(typeof t.checked=="boolean"){const c=r[0];let p;c&&c.type==="element"&&c.tagName==="p"?p=c:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const c=r[s];(i||s!==0||c.type!=="element"||c.tagName!=="p")&&l.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?l.push(...c.children):l.push(c)}const a=r[r.length-1];a&&(i||a.type!=="element"||a.tagName!=="p")&&l.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:o,children:l};return e.patch(t,u),e.applyData(t,u)}function MS(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Ym(n[r])}return t}function Ym(e){const t=e.spread;return t??e.children.length>1}function RS(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const l=r[i];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function LS(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function DS(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function zS(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function FS(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],l),i.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=Su(t.children[1]),a=bm(t.children[t.children.length-1]);s&&a&&(l.position={start:s,end:a}),i.push(l)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function OS(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,s=l?l.length:t.children.length;let a=-1;const u=[];for(;++a<s;){const p=t.children[a],g={},m=l?l[a]:void 0;m&&(g.align=m);let w={type:"element",tagName:o,properties:g,children:[]};p&&(w.children=e.all(p),e.patch(p,w),w=e.applyData(p,w)),u.push(w)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function jS(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const df=9,ff=32;function US(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(pf(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(pf(t.slice(i),i>0,!1)),o.join("")}function pf(e,t,n){let r=0,i=e.length;if(t){let o=e.codePointAt(r);for(;o===df||o===ff;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(i-1);for(;o===df||o===ff;)i--,o=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function VS(e,t){const n={type:"text",value:US(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function HS(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const BS={blockquote:xS,break:vS,code:wS,delete:kS,emphasis:CS,footnoteReference:SS,heading:ES,html:TS,imageReference:NS,image:IS,inlineCode:_S,linkReference:bS,link:PS,listItem:AS,list:RS,paragraph:LS,root:DS,strong:zS,table:FS,tableCell:jS,tableRow:OS,text:VS,thematicBreak:HS,toml:oo,yaml:oo,definition:oo,footnoteDefinition:oo};function oo(){}const Qm=-1,Sl=0,si=1,el=2,Pu=3,Au=4,Mu=5,Ru=6,Jm=7,Xm=8,hf=typeof self=="object"?self:globalThis,$S=(e,t)=>{const n=(i,o)=>(e.set(o,i),i),r=i=>{if(e.has(i))return e.get(i);const[o,l]=t[i];switch(o){case Sl:case Qm:return n(l,i);case si:{const s=n([],i);for(const a of l)s.push(r(a));return s}case el:{const s=n({},i);for(const[a,u]of l)s[r(a)]=r(u);return s}case Pu:return n(new Date(l),i);case Au:{const{source:s,flags:a}=l;return n(new RegExp(s,a),i)}case Mu:{const s=n(new Map,i);for(const[a,u]of l)s.set(r(a),r(u));return s}case Ru:{const s=n(new Set,i);for(const a of l)s.add(r(a));return s}case Jm:{const{name:s,message:a}=l;return n(new hf[s](a),i)}case Xm:return n(BigInt(l),i);case"BigInt":return n(Object(BigInt(l)),i);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:s}=new Uint8Array(l);return n(new DataView(s),l)}}return n(new hf[o](l),i)};return r},mf=e=>$S(new Map,e)(0),Kn="",{toString:qS}={},{keys:GS}=Object,$r=e=>{const t=typeof e;if(t!=="object"||!e)return[Sl,t];const n=qS.call(e).slice(8,-1);switch(n){case"Array":return[si,Kn];case"Object":return[el,Kn];case"Date":return[Pu,Kn];case"RegExp":return[Au,Kn];case"Map":return[Mu,Kn];case"Set":return[Ru,Kn];case"DataView":return[si,n]}return n.includes("Array")?[si,n]:n.includes("Error")?[Jm,n]:[el,n]},lo=([e,t])=>e===Sl&&(t==="function"||t==="symbol"),WS=(e,t,n,r)=>{const i=(l,s)=>{const a=r.push(l)-1;return n.set(s,a),a},o=l=>{if(n.has(l))return n.get(l);let[s,a]=$r(l);switch(s){case Sl:{let c=l;switch(a){case"bigint":s=Xm,c=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+a);c=null;break;case"undefined":return i([Qm],l)}return i([s,c],l)}case si:{if(a){let g=l;return a==="DataView"?g=new Uint8Array(l.buffer):a==="ArrayBuffer"&&(g=new Uint8Array(l)),i([a,[...g]],l)}const c=[],p=i([s,c],l);for(const g of l)c.push(o(g));return p}case el:{if(a)switch(a){case"BigInt":return i([a,l.toString()],l);case"Boolean":case"Number":case"String":return i([a,l.valueOf()],l)}if(t&&"toJSON"in l)return o(l.toJSON());const c=[],p=i([s,c],l);for(const g of GS(l))(e||!lo($r(l[g])))&&c.push([o(g),o(l[g])]);return p}case Pu:return i([s,l.toISOString()],l);case Au:{const{source:c,flags:p}=l;return i([s,{source:c,flags:p}],l)}case Mu:{const c=[],p=i([s,c],l);for(const[g,m]of l)(e||!(lo($r(g))||lo($r(m))))&&c.push([o(g),o(m)]);return p}case Ru:{const c=[],p=i([s,c],l);for(const g of l)(e||!lo($r(g)))&&c.push(o(g));return p}}const{message:u}=l;return i([s,{name:a,message:u}],l)};return o},gf=(e,{json:t,lossy:n}={})=>{const r=[];return WS(!(t||n),!!t,new Map,r)(e),r},tl=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?mf(gf(e,t)):structuredClone(e):(e,t)=>mf(gf(e,t));function KS(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function YS(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function QS(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||KS,r=e.options.footnoteBackLabel||YS,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let a=-1;for(;++a<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[a]);if(!u)continue;const c=e.all(u),p=String(u.identifier).toUpperCase(),g=Pr(p.toLowerCase());let m=0;const w=[],C=e.footnoteCounts.get(p);for(;C!==void 0&&++m<=C;){w.length>0&&w.push({type:"text",value:" "});let x=typeof n=="string"?n:n(a,m);typeof x=="string"&&(x={type:"text",value:x}),w.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(a,m),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const _=c[c.length-1];if(_&&_.type==="element"&&_.tagName==="p"){const x=_.children[_.children.length-1];x&&x.type==="text"?x.value+=" ":_.children.push({type:"text",value:" "}),_.children.push(...w)}else c.push(...w);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(c,!0)};e.patch(u,y),s.push(y)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...tl(l),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const Zm=function(e){if(e==null)return eE;if(typeof e=="function")return El(e);if(typeof e=="object")return Array.isArray(e)?JS(e):XS(e);if(typeof e=="string")return ZS(e);throw new Error("Expected function, string, or object as test")};function JS(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Zm(e[n]);return El(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function XS(e){const t=e;return El(n);function n(r){const i=r;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function ZS(e){return El(t);function t(n){return n&&n.type===e}}function El(e){return t;function t(n,r,i){return!!(tE(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function eE(){return!0}function tE(e){return e!==null&&typeof e=="object"&&"type"in e}const eg=[],nE=!0,yf=!1,rE="skip";function iE(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const o=Zm(i),l=r?-1:1;s(e,void 0,[])();function s(a,u,c){const p=a&&typeof a=="object"?a:{};if(typeof p.type=="string"){const m=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(a.type+(m?"<"+m+">":""))+")"})}return g;function g(){let m=eg,w,C,_;if((!t||o(a,u,c[c.length-1]||void 0))&&(m=oE(n(a,c)),m[0]===yf))return m;if("children"in a&&a.children){const y=a;if(y.children&&m[0]!==rE)for(C=(r?y.children.length:-1)+l,_=c.concat(y);C>-1&&C<y.children.length;){const x=y.children[C];if(w=s(x,C,_)(),w[0]===yf)return w;C=typeof w[1]=="number"?w[1]:C+l}}return m}}}function oE(e){return Array.isArray(e)?e:typeof e=="number"?[nE,e]:e==null?eg:[e]}function tg(e,t,n,r){let i,o,l;typeof t=="function"&&typeof n!="function"?(o=void 0,l=t,i=n):(o=t,l=n,i=r),iE(e,o,s,i);function s(a,u){const c=u[u.length-1],p=c?c.children.indexOf(a):void 0;return l(a,p,c)}}const ga={}.hasOwnProperty,lE={};function sE(e,t){const n=t||lE,r=new Map,i=new Map,o=new Map,l={...BS,...n.handlers},s={all:u,applyData:uE,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:l,one:a,options:n,patch:aE,wrap:dE};return tg(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const p=c.type==="definition"?r:i,g=String(c.identifier).toUpperCase();p.has(g)||p.set(g,c)}}),s;function a(c,p){const g=c.type,m=s.handlers[g];if(ga.call(s.handlers,g)&&m)return m(s,c,p);if(s.options.passThrough&&s.options.passThrough.includes(g)){if("children"in c){const{children:C,..._}=c,y=tl(_);return y.children=s.all(c),y}return tl(c)}return(s.options.unknownHandler||cE)(s,c,p)}function u(c){const p=[];if("children"in c){const g=c.children;let m=-1;for(;++m<g.length;){const w=s.one(g[m],c);if(w){if(m&&g[m-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=xf(w.value)),!Array.isArray(w)&&w.type==="element")){const C=w.children[0];C&&C.type==="text"&&(C.value=xf(C.value))}Array.isArray(w)?p.push(...w):p.push(w)}}}return p}}function aE(e,t){e.position&&(t.position=qk(e))}function uE(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&o&&Object.assign(n.properties,tl(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function cE(e,t){const n=t.data||{},r="value"in t&&!(ga.call(n,"hProperties")||ga.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function dE(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function xf(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function vf(e,t){const n=sE(e,t),r=n.one(e,void 0),i=QS(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function fE(e,t){return e&&"run"in e?async function(n,r){const i=vf(n,{file:r,...t});await e.run(i,r)}:function(n,r){return vf(n,{file:r,...e||t})}}function wf(e){if(e)throw e}var No=Object.prototype.hasOwnProperty,ng=Object.prototype.toString,kf=Object.defineProperty,Cf=Object.getOwnPropertyDescriptor,Sf=function(t){return typeof Array.isArray=="function"?Array.isArray(t):ng.call(t)==="[object Array]"},Ef=function(t){if(!t||ng.call(t)!=="[object Object]")return!1;var n=No.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&No.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||No.call(t,i)},Tf=function(t,n){kf&&n.name==="__proto__"?kf(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},Nf=function(t,n){if(n==="__proto__")if(No.call(t,n)){if(Cf)return Cf(t,n).value}else return;return t[n]},pE=function e(){var t,n,r,i,o,l,s=arguments[0],a=1,u=arguments.length,c=!1;for(typeof s=="boolean"&&(c=s,s=arguments[1]||{},a=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});a<u;++a)if(t=arguments[a],t!=null)for(n in t)r=Nf(s,n),i=Nf(t,n),s!==i&&(c&&i&&(Ef(i)||(o=Sf(i)))?(o?(o=!1,l=r&&Sf(r)?r:[]):l=r&&Ef(r)?r:{},Tf(s,{name:n,newValue:e(c,l,i)})):typeof i<"u"&&Tf(s,{name:n,newValue:i}));return s};const rs=va(pE);function ya(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function hE(){const e=[],t={run:n,use:r};return t;function n(...i){let o=-1;const l=i.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);s(null,...i);function s(a,...u){const c=e[++o];let p=-1;if(a){l(a);return}for(;++p<i.length;)(u[p]===null||u[p]===void 0)&&(u[p]=i[p]);i=u,c?mE(c,s)(...u):l(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function mE(e,t){let n;return r;function r(...l){const s=e.length>l.length;let a;s&&l.push(i);try{a=e.apply(this,l)}catch(u){const c=u;if(s&&n)throw c;return i(c)}s||(a&&a.then&&typeof a.then=="function"?a.then(o,i):a instanceof Error?i(a):o(a))}function i(l,...s){n||(n=!0,t(l,...s))}function o(l){i(null,l)}}const Ft={basename:gE,dirname:yE,extname:xE,join:vE,sep:"/"};function gE(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');zi(e);let n=0,r=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let l=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else l<0&&(o=!0,l=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(r=i):(s=-1,r=l));return n===r?r=l:r<0&&(r=e.length),e.slice(n,r)}function yE(e){if(zi(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function xE(e){zi(e);let t=e.length,n=-1,r=0,i=-1,o=0,l;for(;t--;){const s=e.codePointAt(t);if(s===47){if(l){r=t+1;break}continue}n<0&&(l=!0,n=t+1),s===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function vE(...e){let t=-1,n;for(;++t<e.length;)zi(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":wE(n)}function wE(e){zi(e);const t=e.codePointAt(0)===47;let n=kE(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function kE(e,t){let n="",r=0,i=-1,o=0,l=-1,s,a;for(;++l<=e.length;){if(l<e.length)s=e.codePointAt(l);else{if(s===47)break;s=47}if(s===47){if(!(i===l-1||o===1))if(i!==l-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(a=n.lastIndexOf("/"),a!==n.length-1){a<0?(n="",r=0):(n=n.slice(0,a),r=n.length-1-n.lastIndexOf("/")),i=l,o=0;continue}}else if(n.length>0){n="",r=0,i=l,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,l):n=e.slice(i+1,l),r=l-i-1;i=l,o=0}else s===46&&o>-1?o++:o=-1}return n}function zi(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const CE={cwd:SE};function SE(){return"/"}function xa(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function EE(e){if(typeof e=="string")e=new URL(e);else if(!xa(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return TE(e)}function TE(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const is=["history","path","basename","stem","extname","dirname"];class rg{constructor(t){let n;t?xa(t)?n={path:t}:typeof t=="string"||NE(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":CE.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<is.length;){const o=is[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)is.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Ft.basename(this.path):void 0}set basename(t){ls(t,"basename"),os(t,"basename"),this.path=Ft.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Ft.dirname(this.path):void 0}set dirname(t){If(this.basename,"dirname"),this.path=Ft.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Ft.extname(this.path):void 0}set extname(t){if(os(t,"extname"),If(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ft.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){xa(t)&&(t=EE(t)),ls(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Ft.basename(this.path,this.extname):void 0}set stem(t){ls(t,"stem"),os(t,"stem"),this.path=Ft.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new He(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function os(e,t){if(e&&e.includes(Ft.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Ft.sep+"`")}function ls(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function If(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function NE(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const IE=function(e){const r=this.constructor.prototype,i=r[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},_E={}.hasOwnProperty;class Lu extends IE{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=hE()}copy(){const t=new Lu;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(rs(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(us("data",this.frozen),this.namespace[t]=n,this):_E.call(this.namespace,t)&&this.namespace[t]||void 0:t?(us("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=so(t),r=this.parser||this.Parser;return ss("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),ss("process",this.parser||this.Parser),as("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,l){const s=so(t),a=r.parse(s);r.run(a,s,function(c,p,g){if(c||!p||!g)return u(c);const m=p,w=r.stringify(m,g);AE(w)?g.value=w:g.result=w,u(c,g)});function u(c,p){c||!p?l(c):o?o(p):n(void 0,p)}}}processSync(t){let n=!1,r;return this.freeze(),ss("processSync",this.parser||this.Parser),as("processSync",this.compiler||this.Compiler),this.process(t,i),bf("processSync","process",n),r;function i(o,l){n=!0,wf(o),r=l}}run(t,n,r){_f(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(l,s){const a=so(n);i.run(t,a,u);function u(c,p,g){const m=p||t;c?s(c):l?l(m):r(void 0,m,g)}}}runSync(t,n){let r=!1,i;return this.run(t,n,o),bf("runSync","run",r),i;function o(l,s){wf(l),i=s,r=!0}}stringify(t,n){this.freeze();const r=so(n),i=this.compiler||this.Compiler;return as("stringify",i),_f(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(us("use",this.frozen),t!=null)if(typeof t=="function")a(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(u){if(typeof u=="function")a(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...p]=u;a(c,p)}else l(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function l(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(u.plugins),u.settings&&(i.settings=rs(!0,i.settings,u.settings))}function s(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const p=u[c];o(p)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function a(u,c){let p=-1,g=-1;for(;++p<r.length;)if(r[p][0]===u){g=p;break}if(g===-1)r.push([u,...c]);else if(c.length>0){let[m,...w]=c;const C=r[g][1];ya(C)&&ya(m)&&(m=rs(!0,C,m)),r[g]=[u,m,...w]}}}}const bE=new Lu().freeze();function ss(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function as(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function us(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function _f(e){if(!ya(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function bf(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function so(e){return PE(e)?e:new rg(e)}function PE(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function AE(e){return typeof e=="string"||ME(e)}function ME(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const RE="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Pf=[],Af={allowDangerousHtml:!0},LE=/^(https?|ircs?|mailto|xmpp)$/i,DE=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function zE(e){const t=FE(e),n=OE(e);return jE(t.runSync(t.parse(n),n),e)}function FE(e){const t=e.rehypePlugins||Pf,n=e.remarkPlugins||Pf,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Af}:Af;return bE().use(yS).use(n).use(fE,r).use(t)}function OE(e){const t=e.children||"",n=new rg;return typeof t=="string"&&(n.value=t),n}function jE(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,o=t.disallowedElements,l=t.skipHtml,s=t.unwrapDisallowed,a=t.urlTransform||UE;for(const c of DE)Object.hasOwn(t,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+RE+c.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),tg(e,u),Qk(e,{Fragment:h.Fragment,components:i,ignoreInvalidStyle:!0,jsx:h.jsx,jsxs:h.jsxs,passKeys:!0,passNode:!0});function u(c,p,g){if(c.type==="raw"&&g&&typeof p=="number")return l?g.children.splice(p,1):g.children[p]={type:"text",value:c.value},p;if(c.type==="element"){let m;for(m in es)if(Object.hasOwn(es,m)&&Object.hasOwn(c.properties,m)){const w=c.properties[m],C=es[m];(C===null||C.includes(c.tagName))&&(c.properties[m]=a(String(w||""),m,c))}}if(c.type==="element"){let m=n?!n.includes(c.tagName):o?o.includes(c.tagName):!1;if(!m&&r&&typeof p=="number"&&(m=!r(c,p,g)),m&&g&&typeof p=="number")return s&&c.children?g.children.splice(p,1,...c.children):g.children.splice(p,1),p}}}function UE(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||LE.test(e.slice(0,t))?e:""}const VE=({message:e})=>{const t=e.role==="user";return h.jsx("div",{className:`flex w-full ${t?"justify-end":"justify-start"} mb-6`,children:h.jsxs("div",{className:`flex max-w-[85%] md:max-w-[75%] ${t?"flex-row-reverse":"flex-row"} gap-4`,children:[h.jsx("div",{className:`shrink-0 w-8 h-8 rounded-full flex items-center justify-center mt-1 shadow-lg ${t?"bg-indigo-600":"bg-slate-700"}`,children:t?h.jsx(Dw,{className:"w-5 h-5 text-indigo-100"}):h.jsx(cm,{className:"w-5 h-5 text-slate-300"})}),h.jsxs("div",{className:`flex flex-col gap-2 ${t?"items-end":"items-start"}`,children:[e.attachment&&e.attachment.type==="image"&&h.jsx("div",{className:"rounded-xl overflow-hidden border border-slate-700/50 shadow-md max-w-full",children:h.jsx("img",{src:`data:${e.attachment.mimeType};base64,${e.attachment.data}`,alt:"attachment",className:"max-h-[200px] object-cover"})}),(e.text||e.isTyping)&&h.jsx("div",{className:`relative px-5 py-4 rounded-2xl text-sm leading-relaxed shadow-md ${t?"bg-indigo-600/20 border border-indigo-500/30 text-indigo-100 rounded-tr-none":"bg-slate-800/80 border border-slate-700/50 text-slate-200 rounded-tl-none"}`,children:e.isTyping&&!e.text?h.jsxs("div",{className:"flex gap-1.5 items-center h-5 px-2",children:[h.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce [animation-delay:-0.3s]"}),h.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce [animation-delay:-0.15s]"}),h.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce"})]}):h.jsx("div",{className:"markdown-content",children:t?h.jsx("p",{className:"whitespace-pre-wrap",children:e.text}):h.jsx(zE,{components:{h1:({node:n,...r})=>h.jsx("h1",{className:"text-xl font-bold text-white mb-3 mt-4 border-b border-slate-700 pb-2",...r}),h2:({node:n,...r})=>h.jsx("h2",{className:"text-lg font-bold text-indigo-300 mb-2 mt-4",...r}),h3:({node:n,...r})=>h.jsx("h3",{className:"text-base font-bold text-emerald-400 mb-2 mt-3",...r}),strong:({node:n,...r})=>h.jsx("strong",{className:"font-bold text-amber-200",...r}),em:({node:n,...r})=>h.jsx("em",{className:"italic text-slate-300",...r}),ul:({node:n,...r})=>h.jsx("ul",{className:"list-disc pl-5 mb-3 space-y-1.5 marker:text-indigo-500",...r}),ol:({node:n,...r})=>h.jsx("ol",{className:"list-decimal pl-5 mb-3 space-y-1.5 marker:text-indigo-500",...r}),li:({node:n,...r})=>h.jsx("li",{className:"pl-1",...r}),p:({node:n,...r})=>h.jsx("p",{className:"mb-3 last:mb-0",...r}),code:({node:n,inline:r,className:i,children:o,...l})=>r?h.jsx("code",{className:"bg-slate-900/50 text-indigo-200 px-1.5 py-0.5 rounded font-mono text-xs border border-slate-700/50",...l,children:o}):h.jsx("div",{className:"bg-slate-950 rounded-lg border border-slate-800 p-3 my-3 overflow-x-auto",children:h.jsx("code",{className:"font-mono text-xs text-slate-300 block",...l,children:o})}),blockquote:({node:n,...r})=>h.jsx("blockquote",{className:"border-l-4 border-indigo-500/50 pl-4 py-1 my-3 bg-indigo-500/5 rounded-r text-slate-300 italic",...r}),a:({node:n,...r})=>h.jsx("a",{className:"text-indigo-400 hover:text-indigo-300 hover:underline",target:"_blank",rel:"noopener noreferrer",...r})},children:e.text})})})]})]})})},HE=({onSend:e,onRecordToggle:t,isRecording:n,isLoading:r,placeholder:i})=>{const[o,l]=b.useState(""),[s,a]=b.useState(void 0),[u,c]=b.useState(!1),p=b.useRef(null),g=b.useRef(null),m=()=>{!o.trim()&&!s||r||(e(o,s),l(""),a(void 0),p.current&&(p.current.style.height="auto"))},w=I=>{I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),m())},C=I=>{l(I.target.value),I.target.style.height="auto",I.target.style.height=Math.min(I.target.scrollHeight,120)+"px"},_=b.useCallback(I=>{if(I.type.startsWith("text/")||I.name.endsWith(".txt")||I.name.endsWith(".md")||I.name.endsWith(".json")||I.name.endsWith(".js")||I.name.endsWith(".ts")){const P=new FileReader;P.onload=M=>{var A;const R=(A=M.target)==null?void 0:A.result;l(D=>D+(D?`
`:"")+R),p.current&&setTimeout(()=>{p.current&&(p.current.style.height="auto",p.current.style.height=Math.min(p.current.scrollHeight,120)+"px")},10)},P.readAsText(I);return}if(I.type.startsWith("image/")){const P=new FileReader;P.onload=M=>{var D;const A=((D=M.target)==null?void 0:D.result).split(",")[1];a({type:"image",mimeType:I.type,data:A,name:I.name})},P.readAsDataURL(I);return}},[]),y=I=>{I.target.files&&I.target.files[0]&&_(I.target.files[0]),g.current&&(g.current.value="")},x=I=>{I.clipboardData.files&&I.clipboardData.files.length>0&&(I.preventDefault(),_(I.clipboardData.files[0]))},v=I=>{I.preventDefault(),c(!0)},T=I=>{I.preventDefault(),c(!1)},N=I=>{I.preventDefault(),c(!1),I.dataTransfer.files&&I.dataTransfer.files.length>0&&_(I.dataTransfer.files[0])},E=()=>{a(void 0)};return h.jsxs("div",{className:"p-4 bg-slate-900 border-t border-slate-800 shrink-0 relative",children:[u&&h.jsxs("div",{className:"absolute inset-0 z-50 bg-indigo-900/90 border-2 border-dashed border-indigo-400 m-2 rounded-xl flex flex-col items-center justify-center text-indigo-200 animate-in fade-in duration-200 pointer-events-none",children:[h.jsx(cw,{className:"w-10 h-10 mb-2"}),h.jsx("p",{className:"font-semibold",children:"Drop file to attach"})]}),h.jsx("input",{type:"file",ref:g,onChange:y,accept:"image/*,.txt,.md,.json,.js,.ts",className:"hidden"}),h.jsxs("div",{className:`relative bg-slate-950 p-2 rounded-xl border transition-all ${u?"border-indigo-500":"border-slate-800 focus-within:border-indigo-500/50"}`,onDragOver:v,onDragLeave:T,onDrop:N,children:[s&&h.jsxs("div",{className:"flex items-center gap-3 p-2 mb-2 bg-slate-900 rounded-lg border border-slate-800 animate-in slide-in-from-bottom-2",children:[h.jsx("div",{className:"w-10 h-10 rounded overflow-hidden bg-slate-800 shrink-0 border border-slate-700",children:h.jsx("img",{src:`data:${s.mimeType};base64,${s.data}`,alt:"preview",className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-xs font-medium text-slate-200 truncate",children:s.name||"Image"}),h.jsx("p",{className:"text-[10px] text-slate-500 uppercase",children:s.mimeType.split("/")[1]})]}),h.jsx("button",{onClick:E,className:"p-1 hover:bg-slate-800 rounded-full text-slate-500 hover:text-red-400 transition-colors",children:h.jsx(_r,{className:"w-4 h-4"})})]}),h.jsxs("div",{className:"flex items-end gap-2",children:[h.jsx("button",{onClick:()=>{var I;return(I=g.current)==null?void 0:I.click()},disabled:n,className:"shrink-0 p-2 rounded-lg text-slate-500 hover:text-indigo-400 hover:bg-slate-900 transition-colors",title:"Attach image or text file",children:h.jsx(xw,{className:"w-5 h-5"})}),h.jsx("textarea",{ref:p,value:o,onChange:C,onKeyDown:w,onPaste:x,placeholder:i,rows:1,disabled:n,className:"w-full bg-transparent border-none focus:ring-0 resize-none text-slate-200 placeholder:text-slate-600 max-h-[120px] py-2 px-0 custom-scrollbar disabled:opacity-50"}),h.jsx("button",{onClick:t,className:`shrink-0 p-2 rounded-lg transition-all ${n?"bg-red-500/20 text-red-400 animate-pulse":"text-slate-500 hover:text-indigo-400 hover:bg-slate-900"}`,children:n?h.jsx(vu,{className:"w-5 h-5 fill-current"}):h.jsx(Ir,{className:"w-5 h-5"})}),h.jsx("button",{onClick:m,disabled:!o.trim()&&!s||r,className:`shrink-0 p-2 rounded-lg transition-all ${(o.trim()||s)&&!r?"bg-indigo-600 text-white shadow-lg":"bg-slate-900 text-slate-600 cursor-not-allowed"}`,children:h.jsx(Iw,{className:"w-4 h-4"})})]})]}),n&&h.jsx("p",{className:"text-xs text-center text-red-400 mt-2 animate-pulse",children:"Recording... Speak now"})]})},BE=({language:e,apiKey:t})=>{const{messages:n,isLoading:r,messagesEndRef:i,handleSendMessage:o,toggleVoice:l,isRecording:s,soundEnabled:a,setSoundEnabled:u,clearChat:c}=Zw(e,t),p={placeholder:e==="ru"?"... (Drop file or Paste image)":"Message... (Drop file or Paste image)",emptyTitle:e==="ru"?"  Gemini":"Gemini Chat",emptyDesc:e==="ru"?"    ,    .":"I am ready to help with text, ideas, or image analysis."};return h.jsxs("div",{className:"flex flex-col h-full w-full bg-slate-900 overflow-hidden",children:[h.jsxs("div",{className:"shrink-0 h-10 flex items-center justify-between px-4 border-b border-slate-800 bg-slate-900/50",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:`w-2 h-2 rounded-full ${r?"bg-amber-400 animate-pulse":"bg-emerald-500"}`}),h.jsx("span",{className:"text-xs font-medium text-slate-400",children:"Gemini 3 Flash"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>u(!a),className:`p-1.5 rounded transition-colors ${a?"text-indigo-400 bg-indigo-900/20":"text-slate-600 hover:text-slate-400"}`,title:"Toggle Sound",children:a?h.jsx(vm,{className:"w-4 h-4"}):h.jsx(zw,{className:"w-4 h-4"})}),h.jsx("button",{onClick:c,className:"p-1.5 rounded hover:bg-slate-800 text-slate-600 hover:text-red-400 transition-colors",title:"Clear Chat",children:h.jsx(xm,{className:"w-4 h-4"})})]})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 md:p-6",children:[n.length===0?h.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center opacity-50 space-y-4",children:[h.jsx("div",{className:"w-16 h-16 bg-slate-800 rounded-2xl flex items-center justify-center",children:h.jsx(cm,{className:"w-8 h-8 text-indigo-400"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-slate-300",children:p.emptyTitle}),h.jsx("p",{className:"text-sm text-slate-500 max-w-xs mx-auto mt-2",children:p.emptyDesc})]})]}):n.map(m=>h.jsx(VE,{message:m},m.id)),h.jsx("div",{ref:i})]}),h.jsx(HE,{onSend:o,onRecordToggle:l,isRecording:s,isLoading:r,placeholder:p.placeholder})]})},$E=()=>{const[e,t]=b.useState("loading"),[n,r]=b.useState(""),[i,o]=b.useState(""),[l,s]=b.useState(!1),[a,u]=b.useState("editor"),[c,p]=b.useState("ru"),[g,m]=b.useState("idle"),[w,C]=b.useState(!1),[_,y]=b.useState({corrections:0}),[x,v]=b.useState(0),[T,N]=b.useState({enabled:!0,debounceMs:700,fixTypos:!0,fixPunctuation:!0,clipboardEnabled:!0,silenceThreshold:15,audioModel:"gemini-2.5-flash",economyMode:!0}),[E,I]=b.useState(!1),[P,M]=b.useState(!1),[R,A]=b.useState(!1),[D,F]=b.useState(!1),[B,j]=b.useState(()=>{try{const te=localStorage.getItem("fasttype_clipboard");return te?JSON.parse(te):[]}catch{return[]}});b.useEffect(()=>{localStorage.setItem("fasttype_clipboard",JSON.stringify(B))},[B]);const[W,Q]=b.useState(null);b.useEffect(()=>{if(window.require)try{const te=window.require("electron");Q(te.ipcRenderer)}catch{console.log("Electron not found (likely in browser mode)")}},[]),b.useEffect(()=>{(async()=>{const Ie=Jv(),Et=new Promise(Mr=>setTimeout(Mr,2e3)),Gn=localStorage.getItem("gemini_api_key")||"";r(Gn);const In=localStorage.getItem("fasttype_lock_code");In&&(o(In),s(!0)),await Promise.all([Et,Ie]),t("welcome")})()},[]);const z=b.useCallback(te=>{localStorage.setItem("gemini_api_key",te),Fv(te),t("app")},[]),U=b.useCallback(()=>{i&&s(!0),t("welcome"),I(!1),M(!1),F(!1),A(!1),u("editor")},[i]),k=b.useCallback(te=>{localStorage.setItem("fasttype_lock_code",te),o(te),s(!1)},[]),G=b.useCallback(()=>{localStorage.removeItem("fasttype_lock_code"),o(""),s(!1)},[]),J=b.useCallback(te=>te===i?(s(!1),!0):!1,[i]),S=b.useCallback(()=>{localStorage.removeItem("gemini_api_key"),r(""),I(!1),t("welcome")},[]),re=b.useCallback(()=>{y(te=>({corrections:te.corrections+1}))},[]),ee=b.useCallback(()=>{p(te=>te==="ru"?"en":"ru")},[]),Z=b.useCallback(()=>{I(te=>!te),M(!1),F(!1),A(!1)},[]),ie=b.useCallback(()=>{M(te=>!te),I(!1),F(!1),A(!1)},[]),fe=b.useCallback(()=>{A(te=>!te),M(!1),I(!1),F(!1)},[]),Fe=b.useCallback(()=>{F(te=>!te),I(!1),M(!1),A(!1)},[]),We=b.useCallback(()=>{M(!1),I(!1),F(!1),A(!1)},[]),tn=b.useCallback(te=>{!T.clipboardEnabled||!te||j(Ie=>[{id:Math.random().toString(36).substring(7),text:te,timestamp:Date.now()},...Ie].slice(0,50))},[T.clipboardEnabled]),Bt=b.useCallback(()=>{j([])},[]),$t=b.useCallback(()=>{v(te=>te+1)},[]),St=b.useCallback(te=>{W&&W.send(`window-${te}`)},[W]);return b.useEffect(()=>{const te=Ie=>{if(Ie.code==="F1"){Ie.preventDefault(),Fe();return}if(Ie.code==="Home"){const Et=Ie.target;if(!(Et.tagName==="TEXTAREA"||Et.tagName==="INPUT"||Et.isContentEditable)){Ie.preventDefault(),U();return}}if(Ie.altKey)switch(Ie.code){case"KeyS":Ie.preventDefault(),Z();break;case"KeyV":Ie.preventDefault(),ie();break;case"KeyH":Ie.preventDefault(),fe();break}};return window.addEventListener("keydown",te),()=>window.removeEventListener("keydown",te)},[Z,ie,Fe,fe,U]),{state:{appState:e,storedKey:n,language:c,status:g,isGrammarChecking:w,stats:_,settings:T,showSettings:E,showClipboard:P,showHistory:R,showHelp:D,clipboardHistory:B,resetSignal:x,isLocked:l,hasLock:!!i,currentTab:a},actions:{setLanguage:p,setStatus:m,setIsGrammarChecking:C,setSettings:N,setAppState:t,handleStartApp:z,handleReturnToWelcome:U,handleResetKey:S,incrementStats:re,toggleLanguage:ee,toggleSettings:Z,toggleClipboard:ie,toggleHistory:fe,toggleHelp:Fe,closeOverlays:We,handleClipboardAction:tn,handleClearClipboard:Bt,handleWindowControl:St,handleResetProcessor:$t,handleSetLock:k,handleRemoveLock:G,handleUnlock:J,setCurrentTab:u}}};function qE(){const{state:e,actions:t}=$E(),n=Lt(e.language),[r,i]=b.useState(!1),o=()=>{i(!0),setTimeout(()=>{t.handleReturnToWelcome(),i(!1)},400)};return e.appState==="loading"?h.jsx(Bw,{}):e.appState==="welcome"?h.jsxs(h.Fragment,{children:[h.jsx(Hw,{initialKey:e.storedKey,onStart:t.handleStartApp,language:e.language,setLanguage:t.setLanguage,isLocked:e.isLocked,hasLock:e.hasLock,onUnlock:t.handleUnlock,onSetLock:t.handleSetLock}),h.jsx(jd,{})]}):h.jsxs("div",{className:`flex flex-col h-screen bg-slate-950 text-slate-200 overflow-hidden relative transition-all duration-500 ease-in-out ${r?"opacity-0 translate-y-8 scale-95":"opacity-100 translate-y-0 scale-100 animate-in fade-in slide-in-from-bottom-4 duration-500"}`,children:[h.jsx(Gw,{language:e.language,status:e.status,isGrammarChecking:e.isGrammarChecking,stats:e.stats,settings:e.settings,showClipboard:e.showClipboard,showSettings:e.showSettings,showHistory:e.showHistory,currentTab:e.currentTab,setCurrentTab:t.setCurrentTab,onToggleLanguage:t.toggleLanguage,onTogglePause:()=>t.setSettings(l=>({...l,enabled:!l.enabled})),onToggleClipboard:t.toggleClipboard,onToggleSettings:t.toggleSettings,onToggleHistory:t.toggleHistory,onToggleHelp:t.toggleHelp,onGoHome:o,onWindowControl:t.handleWindowControl,onResetProcessor:t.handleResetProcessor}),h.jsx(jd,{}),h.jsx(Yw,{isOpen:e.showHelp,onClose:()=>t.toggleHelp(),language:e.language}),e.showSettings&&h.jsx(Kw,{settings:e.settings,language:e.language,onUpdateSettings:t.setSettings,onResetKey:t.handleResetKey,hasLock:e.hasLock,onRemoveLock:t.handleRemoveLock,onClose:t.toggleSettings}),h.jsxs("main",{className:"flex-1 relative flex flex-col bg-slate-900 w-full h-full overflow-hidden",children:[h.jsxs("div",{className:`absolute inset-0 w-full h-full flex flex-col transition-all duration-300 ${e.currentTab==="editor"?"translate-x-0 opacity-100":"-translate-x-full opacity-0 pointer-events-none"}`,children:[h.jsx(Vw,{settings:e.settings,onStatsUpdate:t.incrementStats,language:e.language,status:e.status,onStatusChange:t.setStatus,setIsGrammarChecking:t.setIsGrammarChecking,onClipboardAction:t.handleClipboardAction,resetSignal:e.resetSignal,showHistory:e.showHistory,onToggleHistory:t.toggleHistory,onPauseProcessing:()=>t.setSettings(l=>({...l,enabled:!1}))}),h.jsx($w,{items:e.clipboardHistory,isOpen:e.showClipboard,isEnabled:e.settings.clipboardEnabled,onToggleEnabled:()=>t.setSettings(l=>({...l,clipboardEnabled:!l.clipboardEnabled})),onClose:t.closeOverlays,onClear:t.handleClearClipboard,language:e.language})]}),h.jsx("div",{className:`absolute inset-0 w-full h-full flex flex-col transition-all duration-300 ${e.currentTab==="chat"?"translate-x-0 opacity-100":"translate-x-full opacity-0 pointer-events-none"}`,children:e.currentTab==="chat"&&h.jsx(BE,{language:e.language,apiKey:e.storedKey})})]}),h.jsxs("footer",{className:"shrink-0 py-1 text-center text-slate-700 text-[10px] bg-slate-900 border-t border-slate-800 select-none",children:[" ",n.footer," ",e.currentTab==="chat"&&" Chat Mode"]})]})}const ig=document.getElementById("root");if(!ig)throw new Error("Could not find root element to mount to");const GE=cs.createRoot(ig);GE.render(h.jsx(Hf.StrictMode,{children:h.jsx(Gv,{children:h.jsx(qE,{})})}));
