var _g=Object.defineProperty;var Dg=(e,t,n)=>t in e?_g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var gl=(e,t,n)=>Dg(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ao=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Wp={exports:{}},Ho={},Yp={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fs=Symbol.for("react.element"),zg=Symbol.for("react.portal"),Lg=Symbol.for("react.fragment"),Fg=Symbol.for("react.strict_mode"),Og=Symbol.for("react.profiler"),Ug=Symbol.for("react.provider"),Hg=Symbol.for("react.context"),Vg=Symbol.for("react.forward_ref"),Bg=Symbol.for("react.suspense"),$g=Symbol.for("react.memo"),qg=Symbol.for("react.lazy"),Uc=Symbol.iterator;function Gg(e){return e===null||typeof e!="object"?null:(e=Uc&&e[Uc]||e["@@iterator"],typeof e=="function"?e:null)}var Qp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jp=Object.assign,Xp={};function ti(e,t,n){this.props=e,this.context=t,this.refs=Xp,this.updater=n||Qp}ti.prototype.isReactComponent={};ti.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ti.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Zp(){}Zp.prototype=ti.prototype;function vu(e,t,n){this.props=e,this.context=t,this.refs=Xp,this.updater=n||Qp}var wu=vu.prototype=new Zp;wu.constructor=vu;Jp(wu,ti.prototype);wu.isPureReactComponent=!0;var Hc=Array.isArray,eh=Object.prototype.hasOwnProperty,bu={current:null},th={key:!0,ref:!0,__self:!0,__source:!0};function nh(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)eh.call(t,r)&&!th.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:fs,type:e,key:s,ref:o,props:i,_owner:bu.current}}function Kg(e,t){return{$$typeof:fs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ku(e){return typeof e=="object"&&e!==null&&e.$$typeof===fs}function Wg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Vc=/\/+/g;function xl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Wg(""+e.key):t.toString(36)}function qs(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case fs:case zg:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+xl(o,0):r,Hc(i)?(n="",e!=null&&(n=e.replace(Vc,"$&/")+"/"),qs(i,t,n,"",function(c){return c})):i!=null&&(ku(i)&&(i=Kg(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Vc,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Hc(e))for(var a=0;a<e.length;a++){s=e[a];var u=r+xl(s,a);o+=qs(s,t,n,u,i)}else if(u=Gg(e),typeof u=="function")for(e=u.call(e),a=0;!(s=e.next()).done;)s=s.value,u=r+xl(s,a++),o+=qs(s,t,n,u,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Cs(e,t,n){if(e==null)return e;var r=[],i=0;return qs(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Yg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var yt={current:null},Gs={transition:null},Qg={ReactCurrentDispatcher:yt,ReactCurrentBatchConfig:Gs,ReactCurrentOwner:bu};function rh(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:Cs,forEach:function(e,t,n){Cs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Cs(e,function(){t++}),t},toArray:function(e){return Cs(e,function(t){return t})||[]},only:function(e){if(!ku(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};je.Component=ti;je.Fragment=Lg;je.Profiler=Og;je.PureComponent=vu;je.StrictMode=Fg;je.Suspense=Bg;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qg;je.act=rh;je.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Jp({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=bu.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)eh.call(t,u)&&!th.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:fs,type:e.type,key:i,ref:s,props:r,_owner:o}};je.createContext=function(e){return e={$$typeof:Hg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ug,_context:e},e.Consumer=e};je.createElement=nh;je.createFactory=function(e){var t=nh.bind(null,e);return t.type=e,t};je.createRef=function(){return{current:null}};je.forwardRef=function(e){return{$$typeof:Vg,render:e}};je.isValidElement=ku;je.lazy=function(e){return{$$typeof:qg,_payload:{_status:-1,_result:e},_init:Yg}};je.memo=function(e,t){return{$$typeof:$g,type:e,compare:t===void 0?null:t}};je.startTransition=function(e){var t=Gs.transition;Gs.transition={};try{e()}finally{Gs.transition=t}};je.unstable_act=rh;je.useCallback=function(e,t){return yt.current.useCallback(e,t)};je.useContext=function(e){return yt.current.useContext(e)};je.useDebugValue=function(){};je.useDeferredValue=function(e){return yt.current.useDeferredValue(e)};je.useEffect=function(e,t){return yt.current.useEffect(e,t)};je.useId=function(){return yt.current.useId()};je.useImperativeHandle=function(e,t,n){return yt.current.useImperativeHandle(e,t,n)};je.useInsertionEffect=function(e,t){return yt.current.useInsertionEffect(e,t)};je.useLayoutEffect=function(e,t){return yt.current.useLayoutEffect(e,t)};je.useMemo=function(e,t){return yt.current.useMemo(e,t)};je.useReducer=function(e,t,n){return yt.current.useReducer(e,t,n)};je.useRef=function(e){return yt.current.useRef(e)};je.useState=function(e){return yt.current.useState(e)};je.useSyncExternalStore=function(e,t,n){return yt.current.useSyncExternalStore(e,t,n)};je.useTransition=function(){return yt.current.useTransition()};je.version="18.3.1";Yp.exports=je;var w=Yp.exports;const Ui=yu(w);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jg=w,Xg=Symbol.for("react.element"),Zg=Symbol.for("react.fragment"),ex=Object.prototype.hasOwnProperty,tx=Jg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nx={key:!0,ref:!0,__self:!0,__source:!0};function ih(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)ex.call(t,r)&&!nx.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Xg,type:e,key:s,ref:o,props:i,_owner:tx.current}}Ho.Fragment=Zg;Ho.jsx=ih;Ho.jsxs=ih;Wp.exports=Ho;var l=Wp.exports,sa={},sh={exports:{}},Ot={},oh={exports:{}},lh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,q){var T=P.length;P.push(q);e:for(;0<T;){var F=T-1>>>1,O=P[F];if(0<i(O,q))P[F]=q,P[T]=O,T=F;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var q=P[0],T=P.pop();if(T!==q){P[0]=T;e:for(var F=0,O=P.length,b=O>>>1;F<b;){var H=2*(F+1)-1,J=P[H],M=H+1,K=P[M];if(0>i(J,T))M<O&&0>i(K,J)?(P[F]=K,P[M]=T,F=M):(P[F]=J,P[H]=T,F=H);else if(M<O&&0>i(K,T))P[F]=K,P[M]=T,F=M;else break e}}return q}function i(P,q){var T=P.sortIndex-q.sortIndex;return T!==0?T:P.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,f=null,m=3,p=!1,k=!1,C=!1,A=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(P){for(var q=n(c);q!==null;){if(q.callback===null)r(c);else if(q.startTime<=P)r(c),q.sortIndex=q.expirationTime,t(u,q);else break;q=n(c)}}function S(P){if(C=!1,x(P),!k)if(n(u)!==null)k=!0,Z(I);else{var q=n(c);q!==null&&W(S,q.startTime-P)}}function I(P,q){k=!1,C&&(C=!1,v(E),E=-1),p=!0;var T=m;try{for(x(q),f=n(u);f!==null&&(!(f.expirationTime>q)||P&&!D());){var F=f.callback;if(typeof F=="function"){f.callback=null,m=f.priorityLevel;var O=F(f.expirationTime<=q);q=e.unstable_now(),typeof O=="function"?f.callback=O:f===n(u)&&r(u),x(q)}else r(u);f=n(u)}if(f!==null)var b=!0;else{var H=n(c);H!==null&&W(S,H.startTime-q),b=!1}return b}finally{f=null,m=T,p=!1}}var N=!1,j=null,E=-1,z=5,L=-1;function D(){return!(e.unstable_now()-L<z)}function R(){if(j!==null){var P=e.unstable_now();L=P;var q=!0;try{q=j(!0,P)}finally{q?_():(N=!1,j=null)}}else N=!1}var _;if(typeof y=="function")_=function(){y(R)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,U=B.port2;B.port1.onmessage=R,_=function(){U.postMessage(null)}}else _=function(){A(R,0)};function Z(P){j=P,N||(N=!0,_())}function W(P,q){E=A(function(){P(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){k||p||(k=!0,Z(I))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(P){switch(m){case 1:case 2:case 3:var q=3;break;default:q=m}var T=m;m=q;try{return P()}finally{m=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,q){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var T=m;m=P;try{return q()}finally{m=T}},e.unstable_scheduleCallback=function(P,q,T){var F=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?F+T:F):T=F,P){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=T+O,P={id:d++,callback:q,priorityLevel:P,startTime:T,expirationTime:O,sortIndex:-1},T>F?(P.sortIndex=T,t(c,P),n(u)===null&&P===n(c)&&(C?(v(E),E=-1):C=!0,W(S,T-F))):(P.sortIndex=O,t(u,P),k||p||(k=!0,Z(I))),P},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(P){var q=m;return function(){var T=m;m=q;try{return P.apply(this,arguments)}finally{m=T}}}})(lh);oh.exports=lh;var rx=oh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ix=w,Lt=rx;function ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ah=new Set,Hi={};function yr(e,t){Gr(e,t),Gr(e+"Capture",t)}function Gr(e,t){for(Hi[e]=t,e=0;e<t.length;e++)ah.add(t[e])}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oa=Object.prototype.hasOwnProperty,sx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bc={},$c={};function ox(e){return oa.call($c,e)?!0:oa.call(Bc,e)?!1:sx.test(e)?$c[e]=!0:(Bc[e]=!0,!1)}function lx(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ax(e,t,n,r){if(t===null||typeof t>"u"||lx(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function vt(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var at={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){at[e]=new vt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];at[t]=new vt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){at[e]=new vt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){at[e]=new vt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){at[e]=new vt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){at[e]=new vt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){at[e]=new vt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){at[e]=new vt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){at[e]=new vt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Cu=/[\-:]([a-z])/g;function Nu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Cu,Nu);at[t]=new vt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Cu,Nu);at[t]=new vt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Cu,Nu);at[t]=new vt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){at[e]=new vt(e,1,!1,e.toLowerCase(),null,!1,!1)});at.xlinkHref=new vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){at[e]=new vt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Su(e,t,n,r){var i=at.hasOwnProperty(t)?at[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ax(t,n,i,r)&&(n=null),r||i===null?ox(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Tn=ix.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ns=Symbol.for("react.element"),Sr=Symbol.for("react.portal"),Tr=Symbol.for("react.fragment"),Tu=Symbol.for("react.strict_mode"),la=Symbol.for("react.profiler"),uh=Symbol.for("react.provider"),ch=Symbol.for("react.context"),Eu=Symbol.for("react.forward_ref"),aa=Symbol.for("react.suspense"),ua=Symbol.for("react.suspense_list"),Au=Symbol.for("react.memo"),jn=Symbol.for("react.lazy"),dh=Symbol.for("react.offscreen"),qc=Symbol.iterator;function fi(e){return e===null||typeof e!="object"?null:(e=qc&&e[qc]||e["@@iterator"],typeof e=="function"?e:null)}var Ge=Object.assign,yl;function Ci(e){if(yl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);yl=t&&t[1]||""}return`
`+yl+e}var vl=!1;function wl(e,t){if(!e||vl)return"";vl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{vl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ci(e):""}function ux(e){switch(e.tag){case 5:return Ci(e.type);case 16:return Ci("Lazy");case 13:return Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 2:case 15:return e=wl(e.type,!1),e;case 11:return e=wl(e.type.render,!1),e;case 1:return e=wl(e.type,!0),e;default:return""}}function ca(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Tr:return"Fragment";case Sr:return"Portal";case la:return"Profiler";case Tu:return"StrictMode";case aa:return"Suspense";case ua:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ch:return(e.displayName||"Context")+".Consumer";case uh:return(e._context.displayName||"Context")+".Provider";case Eu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Au:return t=e.displayName||null,t!==null?t:ca(e.type)||"Memo";case jn:t=e._payload,e=e._init;try{return ca(e(t))}catch{}}return null}function cx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ca(t);case 8:return t===Tu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Gn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dx(e){var t=fh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ss(e){e._valueTracker||(e._valueTracker=dx(e))}function ph(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=fh(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function uo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function da(e,t){var n=t.checked;return Ge({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Gc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Gn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hh(e,t){t=t.checked,t!=null&&Su(e,"checked",t,!1)}function fa(e,t){hh(e,t);var n=Gn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?pa(e,t.type,n):t.hasOwnProperty("defaultValue")&&pa(e,t.type,Gn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Kc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function pa(e,t,n){(t!=="number"||uo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ni=Array.isArray;function Lr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Gn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ha(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ne(91));return Ge({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Wc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ne(92));if(Ni(n)){if(1<n.length)throw Error(ne(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Gn(n)}}function mh(e,t){var n=Gn(t.value),r=Gn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Yc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ma(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ts,xh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ts=Ts||document.createElement("div"),Ts.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ts.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ai={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fx=["Webkit","ms","Moz","O"];Object.keys(Ai).forEach(function(e){fx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ai[t]=Ai[e]})});function yh(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ai.hasOwnProperty(e)&&Ai[e]?(""+t).trim():t+"px"}function vh(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=yh(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var px=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ga(e,t){if(t){if(px[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ne(62))}}function xa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ya=null;function Iu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var va=null,Fr=null,Or=null;function Qc(e){if(e=ms(e)){if(typeof va!="function")throw Error(ne(280));var t=e.stateNode;t&&(t=Go(t),va(e.stateNode,e.type,t))}}function wh(e){Fr?Or?Or.push(e):Or=[e]:Fr=e}function bh(){if(Fr){var e=Fr,t=Or;if(Or=Fr=null,Qc(e),t)for(e=0;e<t.length;e++)Qc(t[e])}}function kh(e,t){return e(t)}function Ch(){}var bl=!1;function Nh(e,t,n){if(bl)return e(t,n);bl=!0;try{return kh(e,t,n)}finally{bl=!1,(Fr!==null||Or!==null)&&(Ch(),bh())}}function Bi(e,t){var n=e.stateNode;if(n===null)return null;var r=Go(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ne(231,t,typeof n));return n}var wa=!1;if(bn)try{var pi={};Object.defineProperty(pi,"passive",{get:function(){wa=!0}}),window.addEventListener("test",pi,pi),window.removeEventListener("test",pi,pi)}catch{wa=!1}function hx(e,t,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Ii=!1,co=null,fo=!1,ba=null,mx={onError:function(e){Ii=!0,co=e}};function gx(e,t,n,r,i,s,o,a,u){Ii=!1,co=null,hx.apply(mx,arguments)}function xx(e,t,n,r,i,s,o,a,u){if(gx.apply(this,arguments),Ii){if(Ii){var c=co;Ii=!1,co=null}else throw Error(ne(198));fo||(fo=!0,ba=c)}}function vr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Sh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Jc(e){if(vr(e)!==e)throw Error(ne(188))}function yx(e){var t=e.alternate;if(!t){if(t=vr(e),t===null)throw Error(ne(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Jc(i),e;if(s===r)return Jc(i),t;s=s.sibling}throw Error(ne(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ne(189))}}if(n.alternate!==r)throw Error(ne(190))}if(n.tag!==3)throw Error(ne(188));return n.stateNode.current===n?e:t}function Th(e){return e=yx(e),e!==null?Eh(e):null}function Eh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Eh(e);if(t!==null)return t;e=e.sibling}return null}var Ah=Lt.unstable_scheduleCallback,Xc=Lt.unstable_cancelCallback,vx=Lt.unstable_shouldYield,wx=Lt.unstable_requestPaint,Ye=Lt.unstable_now,bx=Lt.unstable_getCurrentPriorityLevel,ju=Lt.unstable_ImmediatePriority,Ih=Lt.unstable_UserBlockingPriority,po=Lt.unstable_NormalPriority,kx=Lt.unstable_LowPriority,jh=Lt.unstable_IdlePriority,Vo=null,fn=null;function Cx(e){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(Vo,e,void 0,(e.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:Tx,Nx=Math.log,Sx=Math.LN2;function Tx(e){return e>>>=0,e===0?32:31-(Nx(e)/Sx|0)|0}var Es=64,As=4194304;function Si(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ho(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Si(a):(s&=o,s!==0&&(r=Si(s)))}else o=n&~i,o!==0?r=Si(o):s!==0&&(r=Si(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-tn(t),i=1<<n,r|=e[n],t&=~i;return r}function Ex(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ax(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-tn(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=Ex(a,t)):u<=t&&(e.expiredLanes|=a),s&=~a}}function ka(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ph(){var e=Es;return Es<<=1,!(Es&4194240)&&(Es=64),e}function kl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ps(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tn(t),e[t]=n}function Ix(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-tn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Pu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-tn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var De=0;function Rh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Mh,Ru,_h,Dh,zh,Ca=!1,Is=[],Fn=null,On=null,Un=null,$i=new Map,qi=new Map,Rn=[],jx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zc(e,t){switch(e){case"focusin":case"focusout":Fn=null;break;case"dragenter":case"dragleave":On=null;break;case"mouseover":case"mouseout":Un=null;break;case"pointerover":case"pointerout":$i.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qi.delete(t.pointerId)}}function hi(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=ms(t),t!==null&&Ru(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Px(e,t,n,r,i){switch(t){case"focusin":return Fn=hi(Fn,e,t,n,r,i),!0;case"dragenter":return On=hi(On,e,t,n,r,i),!0;case"mouseover":return Un=hi(Un,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return $i.set(s,hi($i.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,qi.set(s,hi(qi.get(s)||null,e,t,n,r,i)),!0}return!1}function Lh(e){var t=sr(e.target);if(t!==null){var n=vr(t);if(n!==null){if(t=n.tag,t===13){if(t=Sh(n),t!==null){e.blockedOn=t,zh(e.priority,function(){_h(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ks(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Na(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ya=r,n.target.dispatchEvent(r),ya=null}else return t=ms(n),t!==null&&Ru(t),e.blockedOn=n,!1;t.shift()}return!0}function ed(e,t,n){Ks(e)&&n.delete(t)}function Rx(){Ca=!1,Fn!==null&&Ks(Fn)&&(Fn=null),On!==null&&Ks(On)&&(On=null),Un!==null&&Ks(Un)&&(Un=null),$i.forEach(ed),qi.forEach(ed)}function mi(e,t){e.blockedOn===t&&(e.blockedOn=null,Ca||(Ca=!0,Lt.unstable_scheduleCallback(Lt.unstable_NormalPriority,Rx)))}function Gi(e){function t(i){return mi(i,e)}if(0<Is.length){mi(Is[0],e);for(var n=1;n<Is.length;n++){var r=Is[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Fn!==null&&mi(Fn,e),On!==null&&mi(On,e),Un!==null&&mi(Un,e),$i.forEach(t),qi.forEach(t),n=0;n<Rn.length;n++)r=Rn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Rn.length&&(n=Rn[0],n.blockedOn===null);)Lh(n),n.blockedOn===null&&Rn.shift()}var Ur=Tn.ReactCurrentBatchConfig,mo=!0;function Mx(e,t,n,r){var i=De,s=Ur.transition;Ur.transition=null;try{De=1,Mu(e,t,n,r)}finally{De=i,Ur.transition=s}}function _x(e,t,n,r){var i=De,s=Ur.transition;Ur.transition=null;try{De=4,Mu(e,t,n,r)}finally{De=i,Ur.transition=s}}function Mu(e,t,n,r){if(mo){var i=Na(e,t,n,r);if(i===null)Rl(e,t,r,go,n),Zc(e,r);else if(Px(i,e,t,n,r))r.stopPropagation();else if(Zc(e,r),t&4&&-1<jx.indexOf(e)){for(;i!==null;){var s=ms(i);if(s!==null&&Mh(s),s=Na(e,t,n,r),s===null&&Rl(e,t,r,go,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Rl(e,t,r,null,n)}}var go=null;function Na(e,t,n,r){if(go=null,e=Iu(r),e=sr(e),e!==null)if(t=vr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Sh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return go=e,null}function Fh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bx()){case ju:return 1;case Ih:return 4;case po:case kx:return 16;case jh:return 536870912;default:return 16}default:return 16}}var Dn=null,_u=null,Ws=null;function Oh(){if(Ws)return Ws;var e,t=_u,n=t.length,r,i="value"in Dn?Dn.value:Dn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Ws=i.slice(e,1<r?1-r:void 0)}function Ys(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function js(){return!0}function td(){return!1}function Ut(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?js:td,this.isPropagationStopped=td,this}return Ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=js)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=js)},persist:function(){},isPersistent:js}),t}var ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Du=Ut(ni),hs=Ge({},ni,{view:0,detail:0}),Dx=Ut(hs),Cl,Nl,gi,Bo=Ge({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gi&&(gi&&e.type==="mousemove"?(Cl=e.screenX-gi.screenX,Nl=e.screenY-gi.screenY):Nl=Cl=0,gi=e),Cl)},movementY:function(e){return"movementY"in e?e.movementY:Nl}}),nd=Ut(Bo),zx=Ge({},Bo,{dataTransfer:0}),Lx=Ut(zx),Fx=Ge({},hs,{relatedTarget:0}),Sl=Ut(Fx),Ox=Ge({},ni,{animationName:0,elapsedTime:0,pseudoElement:0}),Ux=Ut(Ox),Hx=Ge({},ni,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Vx=Ut(Hx),Bx=Ge({},ni,{data:0}),rd=Ut(Bx),$x={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Gx[e])?!!t[e]:!1}function zu(){return Kx}var Wx=Ge({},hs,{key:function(e){if(e.key){var t=$x[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ys(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zu,charCode:function(e){return e.type==="keypress"?Ys(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ys(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Yx=Ut(Wx),Qx=Ge({},Bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),id=Ut(Qx),Jx=Ge({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zu}),Xx=Ut(Jx),Zx=Ge({},ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),ey=Ut(Zx),ty=Ge({},Bo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ny=Ut(ty),ry=[9,13,27,32],Lu=bn&&"CompositionEvent"in window,ji=null;bn&&"documentMode"in document&&(ji=document.documentMode);var iy=bn&&"TextEvent"in window&&!ji,Uh=bn&&(!Lu||ji&&8<ji&&11>=ji),sd=" ",od=!1;function Hh(e,t){switch(e){case"keyup":return ry.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Er=!1;function sy(e,t){switch(e){case"compositionend":return Vh(t);case"keypress":return t.which!==32?null:(od=!0,sd);case"textInput":return e=t.data,e===sd&&od?null:e;default:return null}}function oy(e,t){if(Er)return e==="compositionend"||!Lu&&Hh(e,t)?(e=Oh(),Ws=_u=Dn=null,Er=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Uh&&t.locale!=="ko"?null:t.data;default:return null}}var ly={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ld(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ly[e.type]:t==="textarea"}function Bh(e,t,n,r){wh(r),t=xo(t,"onChange"),0<t.length&&(n=new Du("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Pi=null,Ki=null;function ay(e){em(e,0)}function $o(e){var t=jr(e);if(ph(t))return e}function uy(e,t){if(e==="change")return t}var $h=!1;if(bn){var Tl;if(bn){var El="oninput"in document;if(!El){var ad=document.createElement("div");ad.setAttribute("oninput","return;"),El=typeof ad.oninput=="function"}Tl=El}else Tl=!1;$h=Tl&&(!document.documentMode||9<document.documentMode)}function ud(){Pi&&(Pi.detachEvent("onpropertychange",qh),Ki=Pi=null)}function qh(e){if(e.propertyName==="value"&&$o(Ki)){var t=[];Bh(t,Ki,e,Iu(e)),Nh(ay,t)}}function cy(e,t,n){e==="focusin"?(ud(),Pi=t,Ki=n,Pi.attachEvent("onpropertychange",qh)):e==="focusout"&&ud()}function dy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $o(Ki)}function fy(e,t){if(e==="click")return $o(t)}function py(e,t){if(e==="input"||e==="change")return $o(t)}function hy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sn=typeof Object.is=="function"?Object.is:hy;function Wi(e,t){if(sn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!oa.call(t,i)||!sn(e[i],t[i]))return!1}return!0}function cd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dd(e,t){var n=cd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cd(n)}}function Gh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Kh(){for(var e=window,t=uo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=uo(e.document)}return t}function Fu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function my(e){var t=Kh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Gh(n.ownerDocument.documentElement,n)){if(r!==null&&Fu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=dd(n,s);var o=dd(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gy=bn&&"documentMode"in document&&11>=document.documentMode,Ar=null,Sa=null,Ri=null,Ta=!1;function fd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ta||Ar==null||Ar!==uo(r)||(r=Ar,"selectionStart"in r&&Fu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ri&&Wi(Ri,r)||(Ri=r,r=xo(Sa,"onSelect"),0<r.length&&(t=new Du("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ar)))}function Ps(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ir={animationend:Ps("Animation","AnimationEnd"),animationiteration:Ps("Animation","AnimationIteration"),animationstart:Ps("Animation","AnimationStart"),transitionend:Ps("Transition","TransitionEnd")},Al={},Wh={};bn&&(Wh=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);function qo(e){if(Al[e])return Al[e];if(!Ir[e])return e;var t=Ir[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Wh)return Al[e]=t[n];return e}var Yh=qo("animationend"),Qh=qo("animationiteration"),Jh=qo("animationstart"),Xh=qo("transitionend"),Zh=new Map,pd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qn(e,t){Zh.set(e,t),yr(t,[e])}for(var Il=0;Il<pd.length;Il++){var jl=pd[Il],xy=jl.toLowerCase(),yy=jl[0].toUpperCase()+jl.slice(1);Qn(xy,"on"+yy)}Qn(Yh,"onAnimationEnd");Qn(Qh,"onAnimationIteration");Qn(Jh,"onAnimationStart");Qn("dblclick","onDoubleClick");Qn("focusin","onFocus");Qn("focusout","onBlur");Qn(Xh,"onTransitionEnd");Gr("onMouseEnter",["mouseout","mouseover"]);Gr("onMouseLeave",["mouseout","mouseover"]);Gr("onPointerEnter",["pointerout","pointerover"]);Gr("onPointerLeave",["pointerout","pointerover"]);yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yr("onBeforeInput",["compositionend","keypress","textInput","paste"]);yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ti="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ti));function hd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,xx(r,t,void 0,e),e.currentTarget=null}function em(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;hd(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;hd(i,a,c),s=u}}}if(fo)throw e=ba,fo=!1,ba=null,e}function He(e,t){var n=t[Pa];n===void 0&&(n=t[Pa]=new Set);var r=e+"__bubble";n.has(r)||(tm(t,e,2,!1),n.add(r))}function Pl(e,t,n){var r=0;t&&(r|=4),tm(n,e,r,t)}var Rs="_reactListening"+Math.random().toString(36).slice(2);function Yi(e){if(!e[Rs]){e[Rs]=!0,ah.forEach(function(n){n!=="selectionchange"&&(vy.has(n)||Pl(n,!1,e),Pl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Rs]||(t[Rs]=!0,Pl("selectionchange",!1,t))}}function tm(e,t,n,r){switch(Fh(t)){case 1:var i=Mx;break;case 4:i=_x;break;default:i=Mu}n=i.bind(null,t,n,e),i=void 0,!wa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Rl(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=sr(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Nh(function(){var c=s,d=Iu(n),f=[];e:{var m=Zh.get(e);if(m!==void 0){var p=Du,k=e;switch(e){case"keypress":if(Ys(n)===0)break e;case"keydown":case"keyup":p=Yx;break;case"focusin":k="focus",p=Sl;break;case"focusout":k="blur",p=Sl;break;case"beforeblur":case"afterblur":p=Sl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=nd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Lx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Xx;break;case Yh:case Qh:case Jh:p=Ux;break;case Xh:p=ey;break;case"scroll":p=Dx;break;case"wheel":p=ny;break;case"copy":case"cut":case"paste":p=Vx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=id}var C=(t&4)!==0,A=!C&&e==="scroll",v=C?m!==null?m+"Capture":null:m;C=[];for(var y=c,x;y!==null;){x=y;var S=x.stateNode;if(x.tag===5&&S!==null&&(x=S,v!==null&&(S=Bi(y,v),S!=null&&C.push(Qi(y,S,x)))),A)break;y=y.return}0<C.length&&(m=new p(m,k,null,n,d),f.push({event:m,listeners:C}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&n!==ya&&(k=n.relatedTarget||n.fromElement)&&(sr(k)||k[kn]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(k=n.relatedTarget||n.toElement,p=c,k=k?sr(k):null,k!==null&&(A=vr(k),k!==A||k.tag!==5&&k.tag!==6)&&(k=null)):(p=null,k=c),p!==k)){if(C=nd,S="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(C=id,S="onPointerLeave",v="onPointerEnter",y="pointer"),A=p==null?m:jr(p),x=k==null?m:jr(k),m=new C(S,y+"leave",p,n,d),m.target=A,m.relatedTarget=x,S=null,sr(d)===c&&(C=new C(v,y+"enter",k,n,d),C.target=x,C.relatedTarget=A,S=C),A=S,p&&k)t:{for(C=p,v=k,y=0,x=C;x;x=kr(x))y++;for(x=0,S=v;S;S=kr(S))x++;for(;0<y-x;)C=kr(C),y--;for(;0<x-y;)v=kr(v),x--;for(;y--;){if(C===v||v!==null&&C===v.alternate)break t;C=kr(C),v=kr(v)}C=null}else C=null;p!==null&&md(f,m,p,C,!1),k!==null&&A!==null&&md(f,A,k,C,!0)}}e:{if(m=c?jr(c):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var I=uy;else if(ld(m))if($h)I=py;else{I=dy;var N=cy}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(I=fy);if(I&&(I=I(e,c))){Bh(f,I,n,d);break e}N&&N(e,m,c),e==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&pa(m,"number",m.value)}switch(N=c?jr(c):window,e){case"focusin":(ld(N)||N.contentEditable==="true")&&(Ar=N,Sa=c,Ri=null);break;case"focusout":Ri=Sa=Ar=null;break;case"mousedown":Ta=!0;break;case"contextmenu":case"mouseup":case"dragend":Ta=!1,fd(f,n,d);break;case"selectionchange":if(gy)break;case"keydown":case"keyup":fd(f,n,d)}var j;if(Lu)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Er?Hh(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Uh&&n.locale!=="ko"&&(Er||E!=="onCompositionStart"?E==="onCompositionEnd"&&Er&&(j=Oh()):(Dn=d,_u="value"in Dn?Dn.value:Dn.textContent,Er=!0)),N=xo(c,E),0<N.length&&(E=new rd(E,e,null,n,d),f.push({event:E,listeners:N}),j?E.data=j:(j=Vh(n),j!==null&&(E.data=j)))),(j=iy?sy(e,n):oy(e,n))&&(c=xo(c,"onBeforeInput"),0<c.length&&(d=new rd("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=j))}em(f,t)})}function Qi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function xo(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Bi(e,n),s!=null&&r.unshift(Qi(e,s,i)),s=Bi(e,t),s!=null&&r.push(Qi(e,s,i))),e=e.return}return r}function kr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function md(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=Bi(n,s),u!=null&&o.unshift(Qi(n,u,a))):i||(u=Bi(n,s),u!=null&&o.push(Qi(n,u,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var wy=/\r\n?/g,by=/\u0000|\uFFFD/g;function gd(e){return(typeof e=="string"?e:""+e).replace(wy,`
`).replace(by,"")}function Ms(e,t,n){if(t=gd(t),gd(e)!==t&&n)throw Error(ne(425))}function yo(){}var Ea=null,Aa=null;function Ia(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ja=typeof setTimeout=="function"?setTimeout:void 0,ky=typeof clearTimeout=="function"?clearTimeout:void 0,xd=typeof Promise=="function"?Promise:void 0,Cy=typeof queueMicrotask=="function"?queueMicrotask:typeof xd<"u"?function(e){return xd.resolve(null).then(e).catch(Ny)}:ja;function Ny(e){setTimeout(function(){throw e})}function Ml(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Gi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Gi(t)}function Hn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function yd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ri=Math.random().toString(36).slice(2),cn="__reactFiber$"+ri,Ji="__reactProps$"+ri,kn="__reactContainer$"+ri,Pa="__reactEvents$"+ri,Sy="__reactListeners$"+ri,Ty="__reactHandles$"+ri;function sr(e){var t=e[cn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[kn]||n[cn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=yd(e);e!==null;){if(n=e[cn])return n;e=yd(e)}return t}e=n,n=e.parentNode}return null}function ms(e){return e=e[cn]||e[kn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function jr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ne(33))}function Go(e){return e[Ji]||null}var Ra=[],Pr=-1;function Jn(e){return{current:e}}function Ve(e){0>Pr||(e.current=Ra[Pr],Ra[Pr]=null,Pr--)}function Fe(e,t){Pr++,Ra[Pr]=e.current,e.current=t}var Kn={},ft=Jn(Kn),Et=Jn(!1),dr=Kn;function Kr(e,t){var n=e.type.contextTypes;if(!n)return Kn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function At(e){return e=e.childContextTypes,e!=null}function vo(){Ve(Et),Ve(ft)}function vd(e,t,n){if(ft.current!==Kn)throw Error(ne(168));Fe(ft,t),Fe(Et,n)}function nm(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ne(108,cx(e)||"Unknown",i));return Ge({},n,r)}function wo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kn,dr=ft.current,Fe(ft,e),Fe(Et,Et.current),!0}function wd(e,t,n){var r=e.stateNode;if(!r)throw Error(ne(169));n?(e=nm(e,t,dr),r.__reactInternalMemoizedMergedChildContext=e,Ve(Et),Ve(ft),Fe(ft,e)):Ve(Et),Fe(Et,n)}var xn=null,Ko=!1,_l=!1;function rm(e){xn===null?xn=[e]:xn.push(e)}function Ey(e){Ko=!0,rm(e)}function Xn(){if(!_l&&xn!==null){_l=!0;var e=0,t=De;try{var n=xn;for(De=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}xn=null,Ko=!1}catch(i){throw xn!==null&&(xn=xn.slice(e+1)),Ah(ju,Xn),i}finally{De=t,_l=!1}}return null}var Rr=[],Mr=0,bo=null,ko=0,Vt=[],Bt=0,fr=null,yn=1,vn="";function nr(e,t){Rr[Mr++]=ko,Rr[Mr++]=bo,bo=e,ko=t}function im(e,t,n){Vt[Bt++]=yn,Vt[Bt++]=vn,Vt[Bt++]=fr,fr=e;var r=yn;e=vn;var i=32-tn(r)-1;r&=~(1<<i),n+=1;var s=32-tn(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,yn=1<<32-tn(t)+i|n<<i|r,vn=s+e}else yn=1<<s|n<<i|r,vn=e}function Ou(e){e.return!==null&&(nr(e,1),im(e,1,0))}function Uu(e){for(;e===bo;)bo=Rr[--Mr],Rr[Mr]=null,ko=Rr[--Mr],Rr[Mr]=null;for(;e===fr;)fr=Vt[--Bt],Vt[Bt]=null,vn=Vt[--Bt],Vt[Bt]=null,yn=Vt[--Bt],Vt[Bt]=null}var zt=null,_t=null,Be=!1,en=null;function sm(e,t){var n=qt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function bd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,zt=e,_t=Hn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,zt=e,_t=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=fr!==null?{id:yn,overflow:vn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=qt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,zt=e,_t=null,!0):!1;default:return!1}}function Ma(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _a(e){if(Be){var t=_t;if(t){var n=t;if(!bd(e,t)){if(Ma(e))throw Error(ne(418));t=Hn(n.nextSibling);var r=zt;t&&bd(e,t)?sm(r,n):(e.flags=e.flags&-4097|2,Be=!1,zt=e)}}else{if(Ma(e))throw Error(ne(418));e.flags=e.flags&-4097|2,Be=!1,zt=e}}}function kd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;zt=e}function _s(e){if(e!==zt)return!1;if(!Be)return kd(e),Be=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ia(e.type,e.memoizedProps)),t&&(t=_t)){if(Ma(e))throw om(),Error(ne(418));for(;t;)sm(e,t),t=Hn(t.nextSibling)}if(kd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){_t=Hn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}_t=null}}else _t=zt?Hn(e.stateNode.nextSibling):null;return!0}function om(){for(var e=_t;e;)e=Hn(e.nextSibling)}function Wr(){_t=zt=null,Be=!1}function Hu(e){en===null?en=[e]:en.push(e)}var Ay=Tn.ReactCurrentBatchConfig;function xi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ne(309));var r=n.stateNode}if(!r)throw Error(ne(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(ne(284));if(!n._owner)throw Error(ne(290,e))}return e}function Ds(e,t){throw e=Object.prototype.toString.call(t),Error(ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Cd(e){var t=e._init;return t(e._payload)}function lm(e){function t(v,y){if(e){var x=v.deletions;x===null?(v.deletions=[y],v.flags|=16):x.push(y)}}function n(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=qn(v,y),v.index=0,v.sibling=null,v}function s(v,y,x){return v.index=x,e?(x=v.alternate,x!==null?(x=x.index,x<y?(v.flags|=2,y):x):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,y,x,S){return y===null||y.tag!==6?(y=Hl(x,v.mode,S),y.return=v,y):(y=i(y,x),y.return=v,y)}function u(v,y,x,S){var I=x.type;return I===Tr?d(v,y,x.props.children,S,x.key):y!==null&&(y.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===jn&&Cd(I)===y.type)?(S=i(y,x.props),S.ref=xi(v,y,x),S.return=v,S):(S=no(x.type,x.key,x.props,null,v.mode,S),S.ref=xi(v,y,x),S.return=v,S)}function c(v,y,x,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Vl(x,v.mode,S),y.return=v,y):(y=i(y,x.children||[]),y.return=v,y)}function d(v,y,x,S,I){return y===null||y.tag!==7?(y=ur(x,v.mode,S,I),y.return=v,y):(y=i(y,x),y.return=v,y)}function f(v,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Hl(""+y,v.mode,x),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ns:return x=no(y.type,y.key,y.props,null,v.mode,x),x.ref=xi(v,null,y),x.return=v,x;case Sr:return y=Vl(y,v.mode,x),y.return=v,y;case jn:var S=y._init;return f(v,S(y._payload),x)}if(Ni(y)||fi(y))return y=ur(y,v.mode,x,null),y.return=v,y;Ds(v,y)}return null}function m(v,y,x,S){var I=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return I!==null?null:a(v,y,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ns:return x.key===I?u(v,y,x,S):null;case Sr:return x.key===I?c(v,y,x,S):null;case jn:return I=x._init,m(v,y,I(x._payload),S)}if(Ni(x)||fi(x))return I!==null?null:d(v,y,x,S,null);Ds(v,x)}return null}function p(v,y,x,S,I){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(x)||null,a(y,v,""+S,I);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ns:return v=v.get(S.key===null?x:S.key)||null,u(y,v,S,I);case Sr:return v=v.get(S.key===null?x:S.key)||null,c(y,v,S,I);case jn:var N=S._init;return p(v,y,x,N(S._payload),I)}if(Ni(S)||fi(S))return v=v.get(x)||null,d(y,v,S,I,null);Ds(y,S)}return null}function k(v,y,x,S){for(var I=null,N=null,j=y,E=y=0,z=null;j!==null&&E<x.length;E++){j.index>E?(z=j,j=null):z=j.sibling;var L=m(v,j,x[E],S);if(L===null){j===null&&(j=z);break}e&&j&&L.alternate===null&&t(v,j),y=s(L,y,E),N===null?I=L:N.sibling=L,N=L,j=z}if(E===x.length)return n(v,j),Be&&nr(v,E),I;if(j===null){for(;E<x.length;E++)j=f(v,x[E],S),j!==null&&(y=s(j,y,E),N===null?I=j:N.sibling=j,N=j);return Be&&nr(v,E),I}for(j=r(v,j);E<x.length;E++)z=p(j,v,E,x[E],S),z!==null&&(e&&z.alternate!==null&&j.delete(z.key===null?E:z.key),y=s(z,y,E),N===null?I=z:N.sibling=z,N=z);return e&&j.forEach(function(D){return t(v,D)}),Be&&nr(v,E),I}function C(v,y,x,S){var I=fi(x);if(typeof I!="function")throw Error(ne(150));if(x=I.call(x),x==null)throw Error(ne(151));for(var N=I=null,j=y,E=y=0,z=null,L=x.next();j!==null&&!L.done;E++,L=x.next()){j.index>E?(z=j,j=null):z=j.sibling;var D=m(v,j,L.value,S);if(D===null){j===null&&(j=z);break}e&&j&&D.alternate===null&&t(v,j),y=s(D,y,E),N===null?I=D:N.sibling=D,N=D,j=z}if(L.done)return n(v,j),Be&&nr(v,E),I;if(j===null){for(;!L.done;E++,L=x.next())L=f(v,L.value,S),L!==null&&(y=s(L,y,E),N===null?I=L:N.sibling=L,N=L);return Be&&nr(v,E),I}for(j=r(v,j);!L.done;E++,L=x.next())L=p(j,v,E,L.value,S),L!==null&&(e&&L.alternate!==null&&j.delete(L.key===null?E:L.key),y=s(L,y,E),N===null?I=L:N.sibling=L,N=L);return e&&j.forEach(function(R){return t(v,R)}),Be&&nr(v,E),I}function A(v,y,x,S){if(typeof x=="object"&&x!==null&&x.type===Tr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ns:e:{for(var I=x.key,N=y;N!==null;){if(N.key===I){if(I=x.type,I===Tr){if(N.tag===7){n(v,N.sibling),y=i(N,x.props.children),y.return=v,v=y;break e}}else if(N.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===jn&&Cd(I)===N.type){n(v,N.sibling),y=i(N,x.props),y.ref=xi(v,N,x),y.return=v,v=y;break e}n(v,N);break}else t(v,N);N=N.sibling}x.type===Tr?(y=ur(x.props.children,v.mode,S,x.key),y.return=v,v=y):(S=no(x.type,x.key,x.props,null,v.mode,S),S.ref=xi(v,y,x),S.return=v,v=S)}return o(v);case Sr:e:{for(N=x.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(v,y.sibling),y=i(y,x.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else t(v,y);y=y.sibling}y=Vl(x,v.mode,S),y.return=v,v=y}return o(v);case jn:return N=x._init,A(v,y,N(x._payload),S)}if(Ni(x))return k(v,y,x,S);if(fi(x))return C(v,y,x,S);Ds(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(v,y.sibling),y=i(y,x),y.return=v,v=y):(n(v,y),y=Hl(x,v.mode,S),y.return=v,v=y),o(v)):n(v,y)}return A}var Yr=lm(!0),am=lm(!1),Co=Jn(null),No=null,_r=null,Vu=null;function Bu(){Vu=_r=No=null}function $u(e){var t=Co.current;Ve(Co),e._currentValue=t}function Da(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Hr(e,t){No=e,Vu=_r=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Tt=!0),e.firstContext=null)}function Wt(e){var t=e._currentValue;if(Vu!==e)if(e={context:e,memoizedValue:t,next:null},_r===null){if(No===null)throw Error(ne(308));_r=e,No.dependencies={lanes:0,firstContext:e}}else _r=_r.next=e;return t}var or=null;function qu(e){or===null?or=[e]:or.push(e)}function um(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,qu(t)):(n.next=i.next,i.next=n),t.interleaved=n,Cn(e,r)}function Cn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Pn=!1;function Gu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Cn(e,n)}return i=r.interleaved,i===null?(t.next=t,qu(r)):(t.next=i.next,i.next=t),r.interleaved=t,Cn(e,n)}function Qs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pu(e,n)}}function Nd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function So(e,t,n,r){var i=e.updateQueue;Pn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,d=c=u=null,a=s;do{var m=a.lane,p=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var k=e,C=a;switch(m=t,p=n,C.tag){case 1:if(k=C.payload,typeof k=="function"){f=k.call(p,f,m);break e}f=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=C.payload,m=typeof k=="function"?k.call(p,f,m):k,m==null)break e;f=Ge({},f,m);break e;case 2:Pn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else p={eventTime:p,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=p,u=f):d=d.next=p,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);hr|=o,e.lanes=o,e.memoizedState=f}}function Sd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ne(191,i));i.call(r)}}}var gs={},pn=Jn(gs),Xi=Jn(gs),Zi=Jn(gs);function lr(e){if(e===gs)throw Error(ne(174));return e}function Ku(e,t){switch(Fe(Zi,t),Fe(Xi,e),Fe(pn,gs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ma(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ma(t,e)}Ve(pn),Fe(pn,t)}function Qr(){Ve(pn),Ve(Xi),Ve(Zi)}function dm(e){lr(Zi.current);var t=lr(pn.current),n=ma(t,e.type);t!==n&&(Fe(Xi,e),Fe(pn,n))}function Wu(e){Xi.current===e&&(Ve(pn),Ve(Xi))}var $e=Jn(0);function To(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Dl=[];function Yu(){for(var e=0;e<Dl.length;e++)Dl[e]._workInProgressVersionPrimary=null;Dl.length=0}var Js=Tn.ReactCurrentDispatcher,zl=Tn.ReactCurrentBatchConfig,pr=0,qe=null,tt=null,rt=null,Eo=!1,Mi=!1,es=0,Iy=0;function ut(){throw Error(ne(321))}function Qu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sn(e[n],t[n]))return!1;return!0}function Ju(e,t,n,r,i,s){if(pr=s,qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Js.current=e===null||e.memoizedState===null?My:_y,e=n(r,i),Mi){s=0;do{if(Mi=!1,es=0,25<=s)throw Error(ne(301));s+=1,rt=tt=null,t.updateQueue=null,Js.current=Dy,e=n(r,i)}while(Mi)}if(Js.current=Ao,t=tt!==null&&tt.next!==null,pr=0,rt=tt=qe=null,Eo=!1,t)throw Error(ne(300));return e}function Xu(){var e=es!==0;return es=0,e}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?qe.memoizedState=rt=e:rt=rt.next=e,rt}function Yt(){if(tt===null){var e=qe.alternate;e=e!==null?e.memoizedState:null}else e=tt.next;var t=rt===null?qe.memoizedState:rt.next;if(t!==null)rt=t,tt=e;else{if(e===null)throw Error(ne(310));tt=e,e={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},rt===null?qe.memoizedState=rt=e:rt=rt.next=e}return rt}function ts(e,t){return typeof t=="function"?t(e):t}function Ll(e){var t=Yt(),n=t.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=e;var r=tt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var d=c.lane;if((pr&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,qe.lanes|=d,hr|=d}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,sn(r,t.memoizedState)||(Tt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,qe.lanes|=s,hr|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Fl(e){var t=Yt(),n=t.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);sn(s,t.memoizedState)||(Tt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function fm(){}function pm(e,t){var n=qe,r=Yt(),i=t(),s=!sn(r.memoizedState,i);if(s&&(r.memoizedState=i,Tt=!0),r=r.queue,Zu(gm.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||rt!==null&&rt.memoizedState.tag&1){if(n.flags|=2048,ns(9,mm.bind(null,n,r,i,t),void 0,null),it===null)throw Error(ne(349));pr&30||hm(n,t,i)}return i}function hm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function mm(e,t,n,r){t.value=n,t.getSnapshot=r,xm(t)&&ym(e)}function gm(e,t,n){return n(function(){xm(t)&&ym(e)})}function xm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sn(e,n)}catch{return!0}}function ym(e){var t=Cn(e,1);t!==null&&nn(t,e,1,-1)}function Td(e){var t=an();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:e},t.queue=e,e=e.dispatch=Ry.bind(null,qe,e),[t.memoizedState,e]}function ns(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function vm(){return Yt().memoizedState}function Xs(e,t,n,r){var i=an();qe.flags|=e,i.memoizedState=ns(1|t,n,void 0,r===void 0?null:r)}function Wo(e,t,n,r){var i=Yt();r=r===void 0?null:r;var s=void 0;if(tt!==null){var o=tt.memoizedState;if(s=o.destroy,r!==null&&Qu(r,o.deps)){i.memoizedState=ns(t,n,s,r);return}}qe.flags|=e,i.memoizedState=ns(1|t,n,s,r)}function Ed(e,t){return Xs(8390656,8,e,t)}function Zu(e,t){return Wo(2048,8,e,t)}function wm(e,t){return Wo(4,2,e,t)}function bm(e,t){return Wo(4,4,e,t)}function km(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Cm(e,t,n){return n=n!=null?n.concat([e]):null,Wo(4,4,km.bind(null,t,e),n)}function ec(){}function Nm(e,t){var n=Yt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Qu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Sm(e,t){var n=Yt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Qu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Tm(e,t,n){return pr&21?(sn(n,t)||(n=Ph(),qe.lanes|=n,hr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Tt=!0),e.memoizedState=n)}function jy(e,t){var n=De;De=n!==0&&4>n?n:4,e(!0);var r=zl.transition;zl.transition={};try{e(!1),t()}finally{De=n,zl.transition=r}}function Em(){return Yt().memoizedState}function Py(e,t,n){var r=$n(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Am(e))Im(t,n);else if(n=um(e,t,n,r),n!==null){var i=gt();nn(n,e,r,i),jm(n,t,r)}}function Ry(e,t,n){var r=$n(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Am(e))Im(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,sn(a,o)){var u=t.interleaved;u===null?(i.next=i,qu(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=um(e,t,i,r),n!==null&&(i=gt(),nn(n,e,r,i),jm(n,t,r))}}function Am(e){var t=e.alternate;return e===qe||t!==null&&t===qe}function Im(e,t){Mi=Eo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function jm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pu(e,n)}}var Ao={readContext:Wt,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useInsertionEffect:ut,useLayoutEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useMutableSource:ut,useSyncExternalStore:ut,useId:ut,unstable_isNewReconciler:!1},My={readContext:Wt,useCallback:function(e,t){return an().memoizedState=[e,t===void 0?null:t],e},useContext:Wt,useEffect:Ed,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Xs(4194308,4,km.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xs(4,2,e,t)},useMemo:function(e,t){var n=an();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=an();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Py.bind(null,qe,e),[r.memoizedState,e]},useRef:function(e){var t=an();return e={current:e},t.memoizedState=e},useState:Td,useDebugValue:ec,useDeferredValue:function(e){return an().memoizedState=e},useTransition:function(){var e=Td(!1),t=e[0];return e=jy.bind(null,e[1]),an().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=qe,i=an();if(Be){if(n===void 0)throw Error(ne(407));n=n()}else{if(n=t(),it===null)throw Error(ne(349));pr&30||hm(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Ed(gm.bind(null,r,s,e),[e]),r.flags|=2048,ns(9,mm.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=an(),t=it.identifierPrefix;if(Be){var n=vn,r=yn;n=(r&~(1<<32-tn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=es++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Iy++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_y={readContext:Wt,useCallback:Nm,useContext:Wt,useEffect:Zu,useImperativeHandle:Cm,useInsertionEffect:wm,useLayoutEffect:bm,useMemo:Sm,useReducer:Ll,useRef:vm,useState:function(){return Ll(ts)},useDebugValue:ec,useDeferredValue:function(e){var t=Yt();return Tm(t,tt.memoizedState,e)},useTransition:function(){var e=Ll(ts)[0],t=Yt().memoizedState;return[e,t]},useMutableSource:fm,useSyncExternalStore:pm,useId:Em,unstable_isNewReconciler:!1},Dy={readContext:Wt,useCallback:Nm,useContext:Wt,useEffect:Zu,useImperativeHandle:Cm,useInsertionEffect:wm,useLayoutEffect:bm,useMemo:Sm,useReducer:Fl,useRef:vm,useState:function(){return Fl(ts)},useDebugValue:ec,useDeferredValue:function(e){var t=Yt();return tt===null?t.memoizedState=e:Tm(t,tt.memoizedState,e)},useTransition:function(){var e=Fl(ts)[0],t=Yt().memoizedState;return[e,t]},useMutableSource:fm,useSyncExternalStore:pm,useId:Em,unstable_isNewReconciler:!1};function Xt(e,t){if(e&&e.defaultProps){t=Ge({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function za(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ge({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Yo={isMounted:function(e){return(e=e._reactInternals)?vr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=gt(),i=$n(e),s=wn(r,i);s.payload=t,n!=null&&(s.callback=n),t=Vn(e,s,i),t!==null&&(nn(t,e,i,r),Qs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=gt(),i=$n(e),s=wn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Vn(e,s,i),t!==null&&(nn(t,e,i,r),Qs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=gt(),r=$n(e),i=wn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Vn(e,i,r),t!==null&&(nn(t,e,r,n),Qs(t,e,r))}};function Ad(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Wi(n,r)||!Wi(i,s):!0}function Pm(e,t,n){var r=!1,i=Kn,s=t.contextType;return typeof s=="object"&&s!==null?s=Wt(s):(i=At(t)?dr:ft.current,r=t.contextTypes,s=(r=r!=null)?Kr(e,i):Kn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Yo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Id(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Yo.enqueueReplaceState(t,t.state,null)}function La(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Gu(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Wt(s):(s=At(t)?dr:ft.current,i.context=Kr(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(za(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Yo.enqueueReplaceState(i,i.state,null),So(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Jr(e,t){try{var n="",r=t;do n+=ux(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Ol(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Fa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var zy=typeof WeakMap=="function"?WeakMap:Map;function Rm(e,t,n){n=wn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){jo||(jo=!0,Wa=r),Fa(e,t)},n}function Mm(e,t,n){n=wn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Fa(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Fa(e,t),typeof r!="function"&&(Bn===null?Bn=new Set([this]):Bn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function jd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new zy;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Qy.bind(null,e,t,n),t.then(e,e))}function Pd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Rd(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=wn(-1,1),t.tag=2,Vn(n,t,1))),n.lanes|=1),e)}var Ly=Tn.ReactCurrentOwner,Tt=!1;function mt(e,t,n,r){t.child=e===null?am(t,null,n,r):Yr(t,e.child,n,r)}function Md(e,t,n,r,i){n=n.render;var s=t.ref;return Hr(t,i),r=Ju(e,t,n,r,s,i),n=Xu(),e!==null&&!Tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Nn(e,t,i)):(Be&&n&&Ou(t),t.flags|=1,mt(e,t,r,i),t.child)}function _d(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!ac(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,_m(e,t,s,r,i)):(e=no(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Wi,n(o,r)&&e.ref===t.ref)return Nn(e,t,i)}return t.flags|=1,e=qn(s,r),e.ref=t.ref,e.return=t,t.child=e}function _m(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Wi(s,r)&&e.ref===t.ref)if(Tt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Tt=!0);else return t.lanes=e.lanes,Nn(e,t,i)}return Oa(e,t,n,r,i)}function Dm(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(zr,Mt),Mt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fe(zr,Mt),Mt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Fe(zr,Mt),Mt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Fe(zr,Mt),Mt|=r;return mt(e,t,i,n),t.child}function zm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Oa(e,t,n,r,i){var s=At(n)?dr:ft.current;return s=Kr(t,s),Hr(t,i),n=Ju(e,t,n,r,s,i),r=Xu(),e!==null&&!Tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Nn(e,t,i)):(Be&&r&&Ou(t),t.flags|=1,mt(e,t,n,i),t.child)}function Dd(e,t,n,r,i){if(At(n)){var s=!0;wo(t)}else s=!1;if(Hr(t,i),t.stateNode===null)Zs(e,t),Pm(t,n,r),La(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Wt(c):(c=At(n)?dr:ft.current,c=Kr(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Id(t,o,r,c),Pn=!1;var m=t.memoizedState;o.state=m,So(t,r,o,i),u=t.memoizedState,a!==r||m!==u||Et.current||Pn?(typeof d=="function"&&(za(t,n,d,r),u=t.memoizedState),(a=Pn||Ad(t,n,a,r,m,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,cm(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Xt(t.type,a),o.props=c,f=t.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Wt(u):(u=At(n)?dr:ft.current,u=Kr(t,u));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==u)&&Id(t,o,r,u),Pn=!1,m=t.memoizedState,o.state=m,So(t,r,o,i);var k=t.memoizedState;a!==f||m!==k||Et.current||Pn?(typeof p=="function"&&(za(t,n,p,r),k=t.memoizedState),(c=Pn||Ad(t,n,c,r,m,k,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,k,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,k,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=k),o.props=r,o.state=k,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Ua(e,t,n,r,s,i)}function Ua(e,t,n,r,i,s){zm(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&wd(t,n,!1),Nn(e,t,s);r=t.stateNode,Ly.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Yr(t,e.child,null,s),t.child=Yr(t,null,a,s)):mt(e,t,a,s),t.memoizedState=r.state,i&&wd(t,n,!0),t.child}function Lm(e){var t=e.stateNode;t.pendingContext?vd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vd(e,t.context,!1),Ku(e,t.containerInfo)}function zd(e,t,n,r,i){return Wr(),Hu(i),t.flags|=256,mt(e,t,n,r),t.child}var Ha={dehydrated:null,treeContext:null,retryLane:0};function Va(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fm(e,t,n){var r=t.pendingProps,i=$e.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Fe($e,i&1),e===null)return _a(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Xo(o,r,0,null),e=ur(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Va(n),t.memoizedState=Ha,e):tc(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Fy(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=qn(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=qn(a,s):(s=ur(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Va(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Ha,r}return s=e.child,e=s.sibling,r=qn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function tc(e,t){return t=Xo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zs(e,t,n,r){return r!==null&&Hu(r),Yr(t,e.child,null,n),e=tc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Fy(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Ol(Error(ne(422))),zs(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Xo({mode:"visible",children:r.children},i,0,null),s=ur(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Yr(t,e.child,null,o),t.child.memoizedState=Va(o),t.memoizedState=Ha,s);if(!(t.mode&1))return zs(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ne(419)),r=Ol(s,r,void 0),zs(e,t,o,r)}if(a=(o&e.childLanes)!==0,Tt||a){if(r=it,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Cn(e,i),nn(r,e,i,-1))}return lc(),r=Ol(Error(ne(421))),zs(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Jy.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,_t=Hn(i.nextSibling),zt=t,Be=!0,en=null,e!==null&&(Vt[Bt++]=yn,Vt[Bt++]=vn,Vt[Bt++]=fr,yn=e.id,vn=e.overflow,fr=t),t=tc(t,r.children),t.flags|=4096,t)}function Ld(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Da(e.return,t,n)}function Ul(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Om(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(mt(e,t,r.children,n),r=$e.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ld(e,n,t);else if(e.tag===19)Ld(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Fe($e,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&To(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ul(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&To(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ul(t,!0,n,null,s);break;case"together":Ul(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Nn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),hr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ne(153));if(t.child!==null){for(e=t.child,n=qn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=qn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Oy(e,t,n){switch(t.tag){case 3:Lm(t),Wr();break;case 5:dm(t);break;case 1:At(t.type)&&wo(t);break;case 4:Ku(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Fe(Co,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Fe($e,$e.current&1),t.flags|=128,null):n&t.child.childLanes?Fm(e,t,n):(Fe($e,$e.current&1),e=Nn(e,t,n),e!==null?e.sibling:null);Fe($e,$e.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Om(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fe($e,$e.current),r)break;return null;case 22:case 23:return t.lanes=0,Dm(e,t,n)}return Nn(e,t,n)}var Um,Ba,Hm,Vm;Um=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ba=function(){};Hm=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,lr(pn.current);var s=null;switch(n){case"input":i=da(e,i),r=da(e,r),s=[];break;case"select":i=Ge({},i,{value:void 0}),r=Ge({},r,{value:void 0}),s=[];break;case"textarea":i=ha(e,i),r=ha(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=yo)}ga(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Hi.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Hi.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&He("scroll",e),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};Vm=function(e,t,n,r){n!==r&&(t.flags|=4)};function yi(e,t){if(!Be)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Uy(e,t,n){var r=t.pendingProps;switch(Uu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(t),null;case 1:return At(t.type)&&vo(),ct(t),null;case 3:return r=t.stateNode,Qr(),Ve(Et),Ve(ft),Yu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(_s(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,en!==null&&(Ja(en),en=null))),Ba(e,t),ct(t),null;case 5:Wu(t);var i=lr(Zi.current);if(n=t.type,e!==null&&t.stateNode!=null)Hm(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ne(166));return ct(t),null}if(e=lr(pn.current),_s(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[cn]=t,r[Ji]=s,e=(t.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(i=0;i<Ti.length;i++)He(Ti[i],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":Gc(r,s),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},He("invalid",r);break;case"textarea":Wc(r,s),He("invalid",r)}ga(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ms(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ms(r.textContent,a,e),i=["children",""+a]):Hi.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&He("scroll",r)}switch(n){case"input":Ss(r),Kc(r,s,!0);break;case"textarea":Ss(r),Yc(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=yo)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[cn]=t,e[Ji]=r,Um(e,t,!1,!1),t.stateNode=e;e:{switch(o=xa(n,r),n){case"dialog":He("cancel",e),He("close",e),i=r;break;case"iframe":case"object":case"embed":He("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ti.length;i++)He(Ti[i],e);i=r;break;case"source":He("error",e),i=r;break;case"img":case"image":case"link":He("error",e),He("load",e),i=r;break;case"details":He("toggle",e),i=r;break;case"input":Gc(e,r),i=da(e,r),He("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ge({},r,{value:void 0}),He("invalid",e);break;case"textarea":Wc(e,r),i=ha(e,r),He("invalid",e);break;default:i=r}ga(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?vh(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&xh(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Vi(e,u):typeof u=="number"&&Vi(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Hi.hasOwnProperty(s)?u!=null&&s==="onScroll"&&He("scroll",e):u!=null&&Su(e,s,u,o))}switch(n){case"input":Ss(e),Kc(e,r,!1);break;case"textarea":Ss(e),Yc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Gn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Lr(e,!!r.multiple,s,!1):r.defaultValue!=null&&Lr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=yo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ct(t),null;case 6:if(e&&t.stateNode!=null)Vm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ne(166));if(n=lr(Zi.current),lr(pn.current),_s(t)){if(r=t.stateNode,n=t.memoizedProps,r[cn]=t,(s=r.nodeValue!==n)&&(e=zt,e!==null))switch(e.tag){case 3:Ms(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ms(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[cn]=t,t.stateNode=r}return ct(t),null;case 13:if(Ve($e),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Be&&_t!==null&&t.mode&1&&!(t.flags&128))om(),Wr(),t.flags|=98560,s=!1;else if(s=_s(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(ne(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ne(317));s[cn]=t}else Wr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ct(t),s=!1}else en!==null&&(Ja(en),en=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||$e.current&1?nt===0&&(nt=3):lc())),t.updateQueue!==null&&(t.flags|=4),ct(t),null);case 4:return Qr(),Ba(e,t),e===null&&Yi(t.stateNode.containerInfo),ct(t),null;case 10:return $u(t.type._context),ct(t),null;case 17:return At(t.type)&&vo(),ct(t),null;case 19:if(Ve($e),s=t.memoizedState,s===null)return ct(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)yi(s,!1);else{if(nt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=To(e),o!==null){for(t.flags|=128,yi(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Fe($e,$e.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ye()>Xr&&(t.flags|=128,r=!0,yi(s,!1),t.lanes=4194304)}else{if(!r)if(e=To(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),yi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Be)return ct(t),null}else 2*Ye()-s.renderingStartTime>Xr&&n!==1073741824&&(t.flags|=128,r=!0,yi(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ye(),t.sibling=null,n=$e.current,Fe($e,r?n&1|2:n&1),t):(ct(t),null);case 22:case 23:return oc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Mt&1073741824&&(ct(t),t.subtreeFlags&6&&(t.flags|=8192)):ct(t),null;case 24:return null;case 25:return null}throw Error(ne(156,t.tag))}function Hy(e,t){switch(Uu(t),t.tag){case 1:return At(t.type)&&vo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qr(),Ve(Et),Ve(ft),Yu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Wu(t),null;case 13:if(Ve($e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ne(340));Wr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ve($e),null;case 4:return Qr(),null;case 10:return $u(t.type._context),null;case 22:case 23:return oc(),null;case 24:return null;default:return null}}var Ls=!1,dt=!1,Vy=typeof WeakSet=="function"?WeakSet:Set,me=null;function Dr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ke(e,t,r)}else n.current=null}function $a(e,t,n){try{n()}catch(r){Ke(e,t,r)}}var Fd=!1;function By(e,t){if(Ea=mo,e=Kh(),Fu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,d=0,f=e,m=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===e)break t;if(m===n&&++c===i&&(a=o),m===s&&++d===r&&(u=o),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Aa={focusedElem:e,selectionRange:n},mo=!1,me=t;me!==null;)if(t=me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,me=e;else for(;me!==null;){t=me;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var C=k.memoizedProps,A=k.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?C:Xt(t.type,C),A);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(S){Ke(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,me=e;break}me=t.return}return k=Fd,Fd=!1,k}function _i(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&$a(t,n,s)}i=i.next}while(i!==r)}}function Qo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function qa(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Bm(e){var t=e.alternate;t!==null&&(e.alternate=null,Bm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[cn],delete t[Ji],delete t[Pa],delete t[Sy],delete t[Ty])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $m(e){return e.tag===5||e.tag===3||e.tag===4}function Od(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$m(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ga(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=yo));else if(r!==4&&(e=e.child,e!==null))for(Ga(e,t,n),e=e.sibling;e!==null;)Ga(e,t,n),e=e.sibling}function Ka(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ka(e,t,n),e=e.sibling;e!==null;)Ka(e,t,n),e=e.sibling}var st=null,Zt=!1;function An(e,t,n){for(n=n.child;n!==null;)qm(e,t,n),n=n.sibling}function qm(e,t,n){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(Vo,n)}catch{}switch(n.tag){case 5:dt||Dr(n,t);case 6:var r=st,i=Zt;st=null,An(e,t,n),st=r,Zt=i,st!==null&&(Zt?(e=st,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):st.removeChild(n.stateNode));break;case 18:st!==null&&(Zt?(e=st,n=n.stateNode,e.nodeType===8?Ml(e.parentNode,n):e.nodeType===1&&Ml(e,n),Gi(e)):Ml(st,n.stateNode));break;case 4:r=st,i=Zt,st=n.stateNode.containerInfo,Zt=!0,An(e,t,n),st=r,Zt=i;break;case 0:case 11:case 14:case 15:if(!dt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&$a(n,t,o),i=i.next}while(i!==r)}An(e,t,n);break;case 1:if(!dt&&(Dr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ke(n,t,a)}An(e,t,n);break;case 21:An(e,t,n);break;case 22:n.mode&1?(dt=(r=dt)||n.memoizedState!==null,An(e,t,n),dt=r):An(e,t,n);break;default:An(e,t,n)}}function Ud(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Vy),t.forEach(function(r){var i=Xy.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Jt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:st=a.stateNode,Zt=!1;break e;case 3:st=a.stateNode.containerInfo,Zt=!0;break e;case 4:st=a.stateNode.containerInfo,Zt=!0;break e}a=a.return}if(st===null)throw Error(ne(160));qm(s,o,i),st=null,Zt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Ke(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Gm(t,e),t=t.sibling}function Gm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Jt(t,e),ln(e),r&4){try{_i(3,e,e.return),Qo(3,e)}catch(C){Ke(e,e.return,C)}try{_i(5,e,e.return)}catch(C){Ke(e,e.return,C)}}break;case 1:Jt(t,e),ln(e),r&512&&n!==null&&Dr(n,n.return);break;case 5:if(Jt(t,e),ln(e),r&512&&n!==null&&Dr(n,n.return),e.flags&32){var i=e.stateNode;try{Vi(i,"")}catch(C){Ke(e,e.return,C)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&hh(i,s),xa(a,o);var c=xa(a,s);for(o=0;o<u.length;o+=2){var d=u[o],f=u[o+1];d==="style"?vh(i,f):d==="dangerouslySetInnerHTML"?xh(i,f):d==="children"?Vi(i,f):Su(i,d,f,c)}switch(a){case"input":fa(i,s);break;case"textarea":mh(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Lr(i,!!s.multiple,p,!1):m!==!!s.multiple&&(s.defaultValue!=null?Lr(i,!!s.multiple,s.defaultValue,!0):Lr(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ji]=s}catch(C){Ke(e,e.return,C)}}break;case 6:if(Jt(t,e),ln(e),r&4){if(e.stateNode===null)throw Error(ne(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(C){Ke(e,e.return,C)}}break;case 3:if(Jt(t,e),ln(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gi(t.containerInfo)}catch(C){Ke(e,e.return,C)}break;case 4:Jt(t,e),ln(e);break;case 13:Jt(t,e),ln(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ic=Ye())),r&4&&Ud(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(dt=(c=dt)||d,Jt(t,e),dt=c):Jt(t,e),ln(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(me=e,d=e.child;d!==null;){for(f=me=d;me!==null;){switch(m=me,p=m.child,m.tag){case 0:case 11:case 14:case 15:_i(4,m,m.return);break;case 1:Dr(m,m.return);var k=m.stateNode;if(typeof k.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(C){Ke(r,n,C)}}break;case 5:Dr(m,m.return);break;case 22:if(m.memoizedState!==null){Vd(f);continue}}p!==null?(p.return=m,me=p):Vd(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=yh("display",o))}catch(C){Ke(e,e.return,C)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(C){Ke(e,e.return,C)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Jt(t,e),ln(e),r&4&&Ud(e);break;case 21:break;default:Jt(t,e),ln(e)}}function ln(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if($m(n)){var r=n;break e}n=n.return}throw Error(ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Vi(i,""),r.flags&=-33);var s=Od(e);Ka(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Od(e);Ga(e,a,o);break;default:throw Error(ne(161))}}catch(u){Ke(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $y(e,t,n){me=e,Km(e)}function Km(e,t,n){for(var r=(e.mode&1)!==0;me!==null;){var i=me,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ls;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||dt;a=Ls;var c=dt;if(Ls=o,(dt=u)&&!c)for(me=i;me!==null;)o=me,u=o.child,o.tag===22&&o.memoizedState!==null?Bd(i):u!==null?(u.return=o,me=u):Bd(i);for(;s!==null;)me=s,Km(s),s=s.sibling;me=i,Ls=a,dt=c}Hd(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,me=s):Hd(e)}}function Hd(e){for(;me!==null;){var t=me;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:dt||Qo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!dt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Xt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Sd(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Sd(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Gi(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}dt||t.flags&512&&qa(t)}catch(m){Ke(t,t.return,m)}}if(t===e){me=null;break}if(n=t.sibling,n!==null){n.return=t.return,me=n;break}me=t.return}}function Vd(e){for(;me!==null;){var t=me;if(t===e){me=null;break}var n=t.sibling;if(n!==null){n.return=t.return,me=n;break}me=t.return}}function Bd(e){for(;me!==null;){var t=me;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qo(4,t)}catch(u){Ke(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){Ke(t,i,u)}}var s=t.return;try{qa(t)}catch(u){Ke(t,s,u)}break;case 5:var o=t.return;try{qa(t)}catch(u){Ke(t,o,u)}}}catch(u){Ke(t,t.return,u)}if(t===e){me=null;break}var a=t.sibling;if(a!==null){a.return=t.return,me=a;break}me=t.return}}var qy=Math.ceil,Io=Tn.ReactCurrentDispatcher,nc=Tn.ReactCurrentOwner,Kt=Tn.ReactCurrentBatchConfig,Pe=0,it=null,Xe=null,lt=0,Mt=0,zr=Jn(0),nt=0,rs=null,hr=0,Jo=0,rc=0,Di=null,Nt=null,ic=0,Xr=1/0,gn=null,jo=!1,Wa=null,Bn=null,Fs=!1,zn=null,Po=0,zi=0,Ya=null,eo=-1,to=0;function gt(){return Pe&6?Ye():eo!==-1?eo:eo=Ye()}function $n(e){return e.mode&1?Pe&2&&lt!==0?lt&-lt:Ay.transition!==null?(to===0&&(to=Ph()),to):(e=De,e!==0||(e=window.event,e=e===void 0?16:Fh(e.type)),e):1}function nn(e,t,n,r){if(50<zi)throw zi=0,Ya=null,Error(ne(185));ps(e,n,r),(!(Pe&2)||e!==it)&&(e===it&&(!(Pe&2)&&(Jo|=n),nt===4&&Mn(e,lt)),It(e,r),n===1&&Pe===0&&!(t.mode&1)&&(Xr=Ye()+500,Ko&&Xn()))}function It(e,t){var n=e.callbackNode;Ax(e,t);var r=ho(e,e===it?lt:0);if(r===0)n!==null&&Xc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Xc(n),t===1)e.tag===0?Ey($d.bind(null,e)):rm($d.bind(null,e)),Cy(function(){!(Pe&6)&&Xn()}),n=null;else{switch(Rh(r)){case 1:n=ju;break;case 4:n=Ih;break;case 16:n=po;break;case 536870912:n=jh;break;default:n=po}n=t0(n,Wm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Wm(e,t){if(eo=-1,to=0,Pe&6)throw Error(ne(327));var n=e.callbackNode;if(Vr()&&e.callbackNode!==n)return null;var r=ho(e,e===it?lt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ro(e,r);else{t=r;var i=Pe;Pe|=2;var s=Qm();(it!==e||lt!==t)&&(gn=null,Xr=Ye()+500,ar(e,t));do try{Wy();break}catch(a){Ym(e,a)}while(!0);Bu(),Io.current=s,Pe=i,Xe!==null?t=0:(it=null,lt=0,t=nt)}if(t!==0){if(t===2&&(i=ka(e),i!==0&&(r=i,t=Qa(e,i))),t===1)throw n=rs,ar(e,0),Mn(e,r),It(e,Ye()),n;if(t===6)Mn(e,r);else{if(i=e.current.alternate,!(r&30)&&!Gy(i)&&(t=Ro(e,r),t===2&&(s=ka(e),s!==0&&(r=s,t=Qa(e,s))),t===1))throw n=rs,ar(e,0),Mn(e,r),It(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ne(345));case 2:rr(e,Nt,gn);break;case 3:if(Mn(e,r),(r&130023424)===r&&(t=ic+500-Ye(),10<t)){if(ho(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){gt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ja(rr.bind(null,e,Nt,gn),t);break}rr(e,Nt,gn);break;case 4:if(Mn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-tn(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qy(r/1960))-r,10<r){e.timeoutHandle=ja(rr.bind(null,e,Nt,gn),r);break}rr(e,Nt,gn);break;case 5:rr(e,Nt,gn);break;default:throw Error(ne(329))}}}return It(e,Ye()),e.callbackNode===n?Wm.bind(null,e):null}function Qa(e,t){var n=Di;return e.current.memoizedState.isDehydrated&&(ar(e,t).flags|=256),e=Ro(e,t),e!==2&&(t=Nt,Nt=n,t!==null&&Ja(t)),e}function Ja(e){Nt===null?Nt=e:Nt.push.apply(Nt,e)}function Gy(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!sn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mn(e,t){for(t&=~rc,t&=~Jo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-tn(t),r=1<<n;e[n]=-1,t&=~r}}function $d(e){if(Pe&6)throw Error(ne(327));Vr();var t=ho(e,0);if(!(t&1))return It(e,Ye()),null;var n=Ro(e,t);if(e.tag!==0&&n===2){var r=ka(e);r!==0&&(t=r,n=Qa(e,r))}if(n===1)throw n=rs,ar(e,0),Mn(e,t),It(e,Ye()),n;if(n===6)throw Error(ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,rr(e,Nt,gn),It(e,Ye()),null}function sc(e,t){var n=Pe;Pe|=1;try{return e(t)}finally{Pe=n,Pe===0&&(Xr=Ye()+500,Ko&&Xn())}}function mr(e){zn!==null&&zn.tag===0&&!(Pe&6)&&Vr();var t=Pe;Pe|=1;var n=Kt.transition,r=De;try{if(Kt.transition=null,De=1,e)return e()}finally{De=r,Kt.transition=n,Pe=t,!(Pe&6)&&Xn()}}function oc(){Mt=zr.current,Ve(zr)}function ar(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ky(n)),Xe!==null)for(n=Xe.return;n!==null;){var r=n;switch(Uu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vo();break;case 3:Qr(),Ve(Et),Ve(ft),Yu();break;case 5:Wu(r);break;case 4:Qr();break;case 13:Ve($e);break;case 19:Ve($e);break;case 10:$u(r.type._context);break;case 22:case 23:oc()}n=n.return}if(it=e,Xe=e=qn(e.current,null),lt=Mt=t,nt=0,rs=null,rc=Jo=hr=0,Nt=Di=null,or!==null){for(t=0;t<or.length;t++)if(n=or[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}or=null}return e}function Ym(e,t){do{var n=Xe;try{if(Bu(),Js.current=Ao,Eo){for(var r=qe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Eo=!1}if(pr=0,rt=tt=qe=null,Mi=!1,es=0,nc.current=null,n===null||n.return===null){nt=1,rs=t,Xe=null;break}e:{var s=e,o=n.return,a=n,u=t;if(t=lt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Pd(o);if(p!==null){p.flags&=-257,Rd(p,o,a,s,t),p.mode&1&&jd(s,c,t),t=p,u=c;var k=t.updateQueue;if(k===null){var C=new Set;C.add(u),t.updateQueue=C}else k.add(u);break e}else{if(!(t&1)){jd(s,c,t),lc();break e}u=Error(ne(426))}}else if(Be&&a.mode&1){var A=Pd(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),Rd(A,o,a,s,t),Hu(Jr(u,a));break e}}s=u=Jr(u,a),nt!==4&&(nt=2),Di===null?Di=[s]:Di.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=Rm(s,u,t);Nd(s,v);break e;case 1:a=u;var y=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Bn===null||!Bn.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=Mm(s,a,t);Nd(s,S);break e}}s=s.return}while(s!==null)}Xm(n)}catch(I){t=I,Xe===n&&n!==null&&(Xe=n=n.return);continue}break}while(!0)}function Qm(){var e=Io.current;return Io.current=Ao,e===null?Ao:e}function lc(){(nt===0||nt===3||nt===2)&&(nt=4),it===null||!(hr&268435455)&&!(Jo&268435455)||Mn(it,lt)}function Ro(e,t){var n=Pe;Pe|=2;var r=Qm();(it!==e||lt!==t)&&(gn=null,ar(e,t));do try{Ky();break}catch(i){Ym(e,i)}while(!0);if(Bu(),Pe=n,Io.current=r,Xe!==null)throw Error(ne(261));return it=null,lt=0,nt}function Ky(){for(;Xe!==null;)Jm(Xe)}function Wy(){for(;Xe!==null&&!vx();)Jm(Xe)}function Jm(e){var t=e0(e.alternate,e,Mt);e.memoizedProps=e.pendingProps,t===null?Xm(e):Xe=t,nc.current=null}function Xm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Hy(n,t),n!==null){n.flags&=32767,Xe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{nt=6,Xe=null;return}}else if(n=Uy(n,t,Mt),n!==null){Xe=n;return}if(t=t.sibling,t!==null){Xe=t;return}Xe=t=e}while(t!==null);nt===0&&(nt=5)}function rr(e,t,n){var r=De,i=Kt.transition;try{Kt.transition=null,De=1,Yy(e,t,n,r)}finally{Kt.transition=i,De=r}return null}function Yy(e,t,n,r){do Vr();while(zn!==null);if(Pe&6)throw Error(ne(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ne(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Ix(e,s),e===it&&(Xe=it=null,lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fs||(Fs=!0,t0(po,function(){return Vr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Kt.transition,Kt.transition=null;var o=De;De=1;var a=Pe;Pe|=4,nc.current=null,By(e,n),Gm(n,e),my(Aa),mo=!!Ea,Aa=Ea=null,e.current=n,$y(n),wx(),Pe=a,De=o,Kt.transition=s}else e.current=n;if(Fs&&(Fs=!1,zn=e,Po=i),s=e.pendingLanes,s===0&&(Bn=null),Cx(n.stateNode),It(e,Ye()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(jo)throw jo=!1,e=Wa,Wa=null,e;return Po&1&&e.tag!==0&&Vr(),s=e.pendingLanes,s&1?e===Ya?zi++:(zi=0,Ya=e):zi=0,Xn(),null}function Vr(){if(zn!==null){var e=Rh(Po),t=Kt.transition,n=De;try{if(Kt.transition=null,De=16>e?16:e,zn===null)var r=!1;else{if(e=zn,zn=null,Po=0,Pe&6)throw Error(ne(331));var i=Pe;for(Pe|=4,me=e.current;me!==null;){var s=me,o=s.child;if(me.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(me=c;me!==null;){var d=me;switch(d.tag){case 0:case 11:case 15:_i(8,d,s)}var f=d.child;if(f!==null)f.return=d,me=f;else for(;me!==null;){d=me;var m=d.sibling,p=d.return;if(Bm(d),d===c){me=null;break}if(m!==null){m.return=p,me=m;break}me=p}}}var k=s.alternate;if(k!==null){var C=k.child;if(C!==null){k.child=null;do{var A=C.sibling;C.sibling=null,C=A}while(C!==null)}}me=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,me=o;else e:for(;me!==null;){if(s=me,s.flags&2048)switch(s.tag){case 0:case 11:case 15:_i(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,me=v;break e}me=s.return}}var y=e.current;for(me=y;me!==null;){o=me;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,me=x;else e:for(o=y;me!==null;){if(a=me,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Qo(9,a)}}catch(I){Ke(a,a.return,I)}if(a===o){me=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,me=S;break e}me=a.return}}if(Pe=i,Xn(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(Vo,e)}catch{}r=!0}return r}finally{De=n,Kt.transition=t}}return!1}function qd(e,t,n){t=Jr(n,t),t=Rm(e,t,1),e=Vn(e,t,1),t=gt(),e!==null&&(ps(e,1,t),It(e,t))}function Ke(e,t,n){if(e.tag===3)qd(e,e,n);else for(;t!==null;){if(t.tag===3){qd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bn===null||!Bn.has(r))){e=Jr(n,e),e=Mm(t,e,1),t=Vn(t,e,1),e=gt(),t!==null&&(ps(t,1,e),It(t,e));break}}t=t.return}}function Qy(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=gt(),e.pingedLanes|=e.suspendedLanes&n,it===e&&(lt&n)===n&&(nt===4||nt===3&&(lt&130023424)===lt&&500>Ye()-ic?ar(e,0):rc|=n),It(e,t)}function Zm(e,t){t===0&&(e.mode&1?(t=As,As<<=1,!(As&130023424)&&(As=4194304)):t=1);var n=gt();e=Cn(e,t),e!==null&&(ps(e,t,n),It(e,n))}function Jy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Zm(e,n)}function Xy(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ne(314))}r!==null&&r.delete(t),Zm(e,n)}var e0;e0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Et.current)Tt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Tt=!1,Oy(e,t,n);Tt=!!(e.flags&131072)}else Tt=!1,Be&&t.flags&1048576&&im(t,ko,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Zs(e,t),e=t.pendingProps;var i=Kr(t,ft.current);Hr(t,n),i=Ju(null,t,r,e,i,n);var s=Xu();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,At(r)?(s=!0,wo(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Gu(t),i.updater=Yo,t.stateNode=i,i._reactInternals=t,La(t,r,e,n),t=Ua(null,t,r,!0,s,n)):(t.tag=0,Be&&s&&Ou(t),mt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Zs(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=ev(r),e=Xt(r,e),i){case 0:t=Oa(null,t,r,e,n);break e;case 1:t=Dd(null,t,r,e,n);break e;case 11:t=Md(null,t,r,e,n);break e;case 14:t=_d(null,t,r,Xt(r.type,e),n);break e}throw Error(ne(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xt(r,i),Oa(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xt(r,i),Dd(e,t,r,i,n);case 3:e:{if(Lm(t),e===null)throw Error(ne(387));r=t.pendingProps,s=t.memoizedState,i=s.element,cm(e,t),So(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Jr(Error(ne(423)),t),t=zd(e,t,r,n,i);break e}else if(r!==i){i=Jr(Error(ne(424)),t),t=zd(e,t,r,n,i);break e}else for(_t=Hn(t.stateNode.containerInfo.firstChild),zt=t,Be=!0,en=null,n=am(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wr(),r===i){t=Nn(e,t,n);break e}mt(e,t,r,n)}t=t.child}return t;case 5:return dm(t),e===null&&_a(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Ia(r,i)?o=null:s!==null&&Ia(r,s)&&(t.flags|=32),zm(e,t),mt(e,t,o,n),t.child;case 6:return e===null&&_a(t),null;case 13:return Fm(e,t,n);case 4:return Ku(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Yr(t,null,r,n):mt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xt(r,i),Md(e,t,r,i,n);case 7:return mt(e,t,t.pendingProps,n),t.child;case 8:return mt(e,t,t.pendingProps.children,n),t.child;case 12:return mt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Fe(Co,r._currentValue),r._currentValue=o,s!==null)if(sn(s.value,o)){if(s.children===i.children&&!Et.current){t=Nn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=wn(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Da(s.return,n,t),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ne(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Da(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}mt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Hr(t,n),i=Wt(i),r=r(i),t.flags|=1,mt(e,t,r,n),t.child;case 14:return r=t.type,i=Xt(r,t.pendingProps),i=Xt(r.type,i),_d(e,t,r,i,n);case 15:return _m(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xt(r,i),Zs(e,t),t.tag=1,At(r)?(e=!0,wo(t)):e=!1,Hr(t,n),Pm(t,r,i),La(t,r,i,n),Ua(null,t,r,!0,e,n);case 19:return Om(e,t,n);case 22:return Dm(e,t,n)}throw Error(ne(156,t.tag))};function t0(e,t){return Ah(e,t)}function Zy(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(e,t,n,r){return new Zy(e,t,n,r)}function ac(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ev(e){if(typeof e=="function")return ac(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Eu)return 11;if(e===Au)return 14}return 2}function qn(e,t){var n=e.alternate;return n===null?(n=qt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function no(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")ac(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Tr:return ur(n.children,i,s,t);case Tu:o=8,i|=8;break;case la:return e=qt(12,n,t,i|2),e.elementType=la,e.lanes=s,e;case aa:return e=qt(13,n,t,i),e.elementType=aa,e.lanes=s,e;case ua:return e=qt(19,n,t,i),e.elementType=ua,e.lanes=s,e;case dh:return Xo(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case uh:o=10;break e;case ch:o=9;break e;case Eu:o=11;break e;case Au:o=14;break e;case jn:o=16,r=null;break e}throw Error(ne(130,e==null?e:typeof e,""))}return t=qt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function ur(e,t,n,r){return e=qt(7,e,r,t),e.lanes=n,e}function Xo(e,t,n,r){return e=qt(22,e,r,t),e.elementType=dh,e.lanes=n,e.stateNode={isHidden:!1},e}function Hl(e,t,n){return e=qt(6,e,null,t),e.lanes=n,e}function Vl(e,t,n){return t=qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function tv(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kl(0),this.expirationTimes=kl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function uc(e,t,n,r,i,s,o,a,u){return e=new tv(e,t,n,a,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=qt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gu(s),e}function nv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function n0(e){if(!e)return Kn;e=e._reactInternals;e:{if(vr(e)!==e||e.tag!==1)throw Error(ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(At(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ne(171))}if(e.tag===1){var n=e.type;if(At(n))return nm(e,n,t)}return t}function r0(e,t,n,r,i,s,o,a,u){return e=uc(n,r,!0,e,i,s,o,a,u),e.context=n0(null),n=e.current,r=gt(),i=$n(n),s=wn(r,i),s.callback=t??null,Vn(n,s,i),e.current.lanes=i,ps(e,i,r),It(e,r),e}function Zo(e,t,n,r){var i=t.current,s=gt(),o=$n(i);return n=n0(n),t.context===null?t.context=n:t.pendingContext=n,t=wn(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Vn(i,t,o),e!==null&&(nn(e,i,o,s),Qs(e,i,o)),o}function Mo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function cc(e,t){Gd(e,t),(e=e.alternate)&&Gd(e,t)}function rv(){return null}var i0=typeof reportError=="function"?reportError:function(e){console.error(e)};function dc(e){this._internalRoot=e}el.prototype.render=dc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ne(409));Zo(e,t,null,null)};el.prototype.unmount=dc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mr(function(){Zo(null,e,null,null)}),t[kn]=null}};function el(e){this._internalRoot=e}el.prototype.unstable_scheduleHydration=function(e){if(e){var t=Dh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rn.length&&t!==0&&t<Rn[n].priority;n++);Rn.splice(n,0,e),n===0&&Lh(e)}};function fc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function tl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Kd(){}function iv(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Mo(o);s.call(c)}}var o=r0(t,r,e,0,null,!1,!1,"",Kd);return e._reactRootContainer=o,e[kn]=o.current,Yi(e.nodeType===8?e.parentNode:e),mr(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Mo(u);a.call(c)}}var u=uc(e,0,!1,null,null,!1,!1,"",Kd);return e._reactRootContainer=u,e[kn]=u.current,Yi(e.nodeType===8?e.parentNode:e),mr(function(){Zo(t,u,n,r)}),u}function nl(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Mo(o);a.call(u)}}Zo(t,o,e,i)}else o=iv(n,t,e,i,r);return Mo(o)}Mh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Si(t.pendingLanes);n!==0&&(Pu(t,n|1),It(t,Ye()),!(Pe&6)&&(Xr=Ye()+500,Xn()))}break;case 13:mr(function(){var r=Cn(e,1);if(r!==null){var i=gt();nn(r,e,1,i)}}),cc(e,1)}};Ru=function(e){if(e.tag===13){var t=Cn(e,134217728);if(t!==null){var n=gt();nn(t,e,134217728,n)}cc(e,134217728)}};_h=function(e){if(e.tag===13){var t=$n(e),n=Cn(e,t);if(n!==null){var r=gt();nn(n,e,t,r)}cc(e,t)}};Dh=function(){return De};zh=function(e,t){var n=De;try{return De=e,t()}finally{De=n}};va=function(e,t,n){switch(t){case"input":if(fa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Go(r);if(!i)throw Error(ne(90));ph(r),fa(r,i)}}}break;case"textarea":mh(e,n);break;case"select":t=n.value,t!=null&&Lr(e,!!n.multiple,t,!1)}};kh=sc;Ch=mr;var sv={usingClientEntryPoint:!1,Events:[ms,jr,Go,wh,bh,sc]},vi={findFiberByHostInstance:sr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ov={bundleType:vi.bundleType,version:vi.version,rendererPackageName:vi.rendererPackageName,rendererConfig:vi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Th(e),e===null?null:e.stateNode},findFiberByHostInstance:vi.findFiberByHostInstance||rv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Os=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Os.isDisabled&&Os.supportsFiber)try{Vo=Os.inject(ov),fn=Os}catch{}}Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sv;Ot.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fc(t))throw Error(ne(200));return nv(e,t,null,n)};Ot.createRoot=function(e,t){if(!fc(e))throw Error(ne(299));var n=!1,r="",i=i0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=uc(e,1,!1,null,null,n,!1,r,i),e[kn]=t.current,Yi(e.nodeType===8?e.parentNode:e),new dc(t)};Ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ne(188)):(e=Object.keys(e).join(","),Error(ne(268,e)));return e=Th(t),e=e===null?null:e.stateNode,e};Ot.flushSync=function(e){return mr(e)};Ot.hydrate=function(e,t,n){if(!tl(t))throw Error(ne(200));return nl(null,e,t,!0,n)};Ot.hydrateRoot=function(e,t,n){if(!fc(e))throw Error(ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=i0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=r0(t,null,e,1,n??null,i,!1,s,o),e[kn]=t.current,Yi(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new el(t)};Ot.render=function(e,t,n){if(!tl(t))throw Error(ne(200));return nl(null,e,t,!1,n)};Ot.unmountComponentAtNode=function(e){if(!tl(e))throw Error(ne(40));return e._reactRootContainer?(mr(function(){nl(null,null,e,!1,function(){e._reactRootContainer=null,e[kn]=null})}),!0):!1};Ot.unstable_batchedUpdates=sc;Ot.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!tl(n))throw Error(ne(200));if(e==null||e._reactInternals===void 0)throw Error(ne(38));return nl(e,t,n,!1,r)};Ot.version="18.3.1-next-f1338f8080-20240426";function s0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s0)}catch(e){console.error(e)}}s0(),sh.exports=Ot;var lv=sh.exports,Wd=lv;sa.createRoot=Wd.createRoot,sa.hydrateRoot=Wd.hydrateRoot;/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pc{}function _e(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const s=t[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function g(e,t,n){for(let s=0;s<t.length-1;s++){const o=t[s];if(o.endsWith("[]")){const a=o.slice(0,-2);if(!(a in e))if(Array.isArray(n))e[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(e[a])){const u=e[a];if(Array.isArray(n))for(let c=0;c<u.length;c++){const d=u[c];g(d,t.slice(s+1),n[c])}else for(const c of u)g(c,t.slice(s+1),n)}return}else if(o.endsWith("[0]")){const a=o.slice(0,-3);a in e||(e[a]=[{}]);const u=e[a];g(u[0],t.slice(s+1),n);return}(!e[o]||typeof e[o]!="object")&&(e[o]={}),e=e[o]}const r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else e[r]=n}function h(e,t){try{if(t.length===1&&t[0]==="_self")return e;for(let n=0;n<t.length;n++){if(typeof e!="object"||e===null)return;const r=t[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in e){const s=e[i];return Array.isArray(s)?s.map(o=>h(o,t.slice(n+1))):void 0}else return}else e=e[r]}return e}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ft(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function o0(e,t){const n=Ft(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function Yd(e,t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function is(e,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(n=>Yd(e,n)):[Yd(e,t)]}function l0(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function av(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function hc(e){return!(e==null||av(e))}function a0(e){return e==null||Array.isArray(e)&&e.length===0?!1:e.every(hc)}function Gt(e,t){if(t==null)throw new Error("ContentUnion is required");return l0(t)?t:hc(t)?{role:"user",parts:is(e,t)}:{role:"model",parts:is(e,t)}}function u0(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=Gt(e,n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=Gt(e,t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Gt(e,n)):[Gt(e,t)]}function ro(e,t,n){n.length!==0&&(a0(n)?t.push({role:"user",parts:is(e,n)}):t.push({role:"model",parts:is(e,n)}),n.length=0)}function uv(e,t,n,r){hc(r)===a0(n)||(ro(e,t,n),n.length=0),n.push(r)}function We(e,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t))return[Gt(e,t)];const n=[],r=[];for(const i of t)if(l0(i))ro(e,n,r),n.push(i);else if(typeof i=="string"||typeof i=="object"&&!Array.isArray(i))uv(e,n,r,i);else if(Array.isArray(i))ro(e,n,r),n.push({role:"user",parts:is(e,i)});else throw new Error(`Unsupported content type: ${typeof i}`);return ro(e,n,r),n}function c0(e,t){if(!e.isVertexAI()&&("title"in t&&delete t.title,"default"in t))throw new Error("Default value is not supported in the response schema for the Gemini API.");if("anyOf"in t){if(!e.isVertexAI())throw new Error("AnyOf is not supported in the response schema for the Gemini API.");if(t.anyOf!==void 0)for(const n of t.anyOf)c0(e,n)}}function d0(e,t){return c0(e,t),t}function f0(e,t){if(typeof t=="object"&&"voiceConfig"in t)return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function p0(e,t){return t}function Br(e,t){if(!Array.isArray(t))throw new Error("tool is required and must be an array of Tools");return t}function cv(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function Zn(e,t){if(typeof t!="string")throw new Error("name must be a string");return cv(e,t,"cachedContents")}function h0(e,t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function dv(e,t){if(typeof t!="string")throw new Error("fromName must be a string");return t.startsWith("files/")?t.split("files/")[1]:t}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var _o;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(_o||(_o={}));class m0{constructor(t,n,r,i){this.pageInternal=[],this.requestInternal=n,this.init(t,r,i)}init(t,n,r){var i,s;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let o={config:{}};r?typeof r=="object"?o=Object.assign({},r):o=r:o={config:{}},o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(s=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Qd;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Qd||(Qd={}));var Jd;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(Jd||(Jd={}));var Xd;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT"})(Xd||(Xd={}));var Zd;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Zd||(Zd={}));var ef;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(ef||(ef={}));var tf;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(tf||(tf={}));var nf;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(nf||(nf={}));var rf;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL"})(rf||(rf={}));var sf;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(sf||(sf={}));var of;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(of||(of={}));var lf;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(lf||(lf={}));var af;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.ACTIVE="ACTIVE",e.ERROR="ERROR"})(af||(af={}));var uf;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(uf||(uf={}));var cf;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(cf||(cf={}));var df;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(df||(df={}));var ff;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(ff||(ff={}));var pf;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(pf||(pf={}));var hf;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi"})(hf||(hf={}));var mf;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(mf||(mf={}));var gf;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(gf||(gf={}));var xf;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(xf||(xf={}));var yf;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(yf||(yf={}));var vf;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(vf||(vf={}));var Do;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Do||(Do={}));class Us{get text(){var t,n,r,i,s,o,a,u;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",d=!1;const f=[];for(const m of(u=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)!==null&&u!==void 0?u:[]){for(const[p,k]of Object.entries(m))p!=="text"&&p!=="thought"&&(k!==null||k!==void 0)&&f.push(p);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;d=!0,c+=m.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?c:void 0}get functionCalls(){var t,n,r,i,s,o,a,u;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(u=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var t,n,r,i,s,o,a,u,c;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(u=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(c=d==null?void 0:d[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var t,n,r,i,s,o,a,u,c;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(u=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(c=d==null?void 0:d[0])===null||c===void 0?void 0:c.output}}class wf{}class bf{}class kf{}class Cf{}class Nf{}class Sf{}class Tf{}class g0{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Ef{}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fv extends pc{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new m0(_o.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const a=Mv(this.apiClient,t);return s=_e("cachedContents",a._url),o=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(u=>u.json()),i.then(u=>so(this.apiClient,u))}else{const a=Rv(this.apiClient,t);return s=_e("cachedContents",a._url),o=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(u=>u.json()),i.then(u=>io(this.apiClient,u))}}async get(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const a=Dv(this.apiClient,t);return s=_e("{name}",a._url),o=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(u=>u.json()),i.then(u=>so(this.apiClient,u))}else{const a=_v(this.apiClient,t);return s=_e("{name}",a._url),o=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(u=>u.json()),i.then(u=>io(this.apiClient,u))}}async delete(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const a=Lv(this.apiClient,t);return s=_e("{name}",a._url),o=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(u=>u.json()),i.then(u=>{const c=Kv(this.apiClient),d=new Nf;return Object.assign(d,c),d})}else{const a=zv(this.apiClient,t);return s=_e("{name}",a._url),o=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(u=>u.json()),i.then(u=>{const c=Gv(this.apiClient),d=new Nf;return Object.assign(d,c),d})}}async update(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const a=Hv(this.apiClient,t);return s=_e("{name}",a._url),o=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(u=>u.json()),i.then(u=>so(this.apiClient,u))}else{const a=Uv(this.apiClient,t);return s=_e("{name}",a._url),o=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(u=>u.json()),i.then(u=>io(this.apiClient,u))}}async listInternal(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const a=qv(this.apiClient,t);return s=_e("cachedContents",a._url),o=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(u=>u.json()),i.then(u=>{const c=Yv(this.apiClient,u),d=new Sf;return Object.assign(d,c),d})}else{const a=$v(this.apiClient,t);return s=_e("cachedContents",a._url),o=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(u=>u.json()),i.then(u=>{const c=Wv(this.apiClient,u),d=new Sf;return Object.assign(d,c),d})}}}function pv(e,t){const n={};if(h(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=h(t,["thought"]);r!=null&&g(n,["thought"],r);const i=h(t,["codeExecutionResult"]);i!=null&&g(n,["codeExecutionResult"],i);const s=h(t,["executableCode"]);s!=null&&g(n,["executableCode"],s);const o=h(t,["fileData"]);o!=null&&g(n,["fileData"],o);const a=h(t,["functionCall"]);a!=null&&g(n,["functionCall"],a);const u=h(t,["functionResponse"]);u!=null&&g(n,["functionResponse"],u);const c=h(t,["inlineData"]);c!=null&&g(n,["inlineData"],c);const d=h(t,["text"]);return d!=null&&g(n,["text"],d),n}function hv(e,t){const n={},r=h(t,["videoMetadata"]);r!=null&&g(n,["videoMetadata"],r);const i=h(t,["thought"]);i!=null&&g(n,["thought"],i);const s=h(t,["codeExecutionResult"]);s!=null&&g(n,["codeExecutionResult"],s);const o=h(t,["executableCode"]);o!=null&&g(n,["executableCode"],o);const a=h(t,["fileData"]);a!=null&&g(n,["fileData"],a);const u=h(t,["functionCall"]);u!=null&&g(n,["functionCall"],u);const c=h(t,["functionResponse"]);c!=null&&g(n,["functionResponse"],c);const d=h(t,["inlineData"]);d!=null&&g(n,["inlineData"],d);const f=h(t,["text"]);return f!=null&&g(n,["text"],f),n}function Af(e,t){const n={},r=h(t,["parts"]);r!=null&&(Array.isArray(r)?g(n,["parts"],r.map(s=>pv(e,s))):g(n,["parts"],r));const i=h(t,["role"]);return i!=null&&g(n,["role"],i),n}function If(e,t){const n={},r=h(t,["parts"]);r!=null&&(Array.isArray(r)?g(n,["parts"],r.map(s=>hv(e,s))):g(n,["parts"],r));const i=h(t,["role"]);return i!=null&&g(n,["role"],i),n}function mv(e,t){const n={},r=h(t,["example"]);r!=null&&g(n,["example"],r);const i=h(t,["pattern"]);i!=null&&g(n,["pattern"],i);const s=h(t,["minimum"]);s!=null&&g(n,["minimum"],s);const o=h(t,["default"]);o!=null&&g(n,["default"],o);const a=h(t,["anyOf"]);a!=null&&g(n,["anyOf"],a);const u=h(t,["maxLength"]);u!=null&&g(n,["maxLength"],u);const c=h(t,["title"]);c!=null&&g(n,["title"],c);const d=h(t,["minLength"]);d!=null&&g(n,["minLength"],d);const f=h(t,["minProperties"]);f!=null&&g(n,["minProperties"],f);const m=h(t,["maximum"]);m!=null&&g(n,["maximum"],m);const p=h(t,["maxProperties"]);p!=null&&g(n,["maxProperties"],p);const k=h(t,["description"]);k!=null&&g(n,["description"],k);const C=h(t,["enum"]);C!=null&&g(n,["enum"],C);const A=h(t,["format"]);A!=null&&g(n,["format"],A);const v=h(t,["items"]);v!=null&&g(n,["items"],v);const y=h(t,["maxItems"]);y!=null&&g(n,["maxItems"],y);const x=h(t,["minItems"]);x!=null&&g(n,["minItems"],x);const S=h(t,["nullable"]);S!=null&&g(n,["nullable"],S);const I=h(t,["properties"]);I!=null&&g(n,["properties"],I);const N=h(t,["propertyOrdering"]);N!=null&&g(n,["propertyOrdering"],N);const j=h(t,["required"]);j!=null&&g(n,["required"],j);const E=h(t,["type"]);return E!=null&&g(n,["type"],E),n}function gv(e,t){const n={};if(h(t,["response"])!==void 0)throw new Error("response parameter is not supported in Gemini API.");const r=h(t,["description"]);r!=null&&g(n,["description"],r);const i=h(t,["name"]);i!=null&&g(n,["name"],i);const s=h(t,["parameters"]);return s!=null&&g(n,["parameters"],s),n}function xv(e,t){const n={},r=h(t,["response"]);r!=null&&g(n,["response"],mv(e,r));const i=h(t,["description"]);i!=null&&g(n,["description"],i);const s=h(t,["name"]);s!=null&&g(n,["name"],s);const o=h(t,["parameters"]);return o!=null&&g(n,["parameters"],o),n}function yv(e,t){return{}}function vv(e,t){return{}}function wv(e,t){const n={},r=h(t,["mode"]);r!=null&&g(n,["mode"],r);const i=h(t,["dynamicThreshold"]);return i!=null&&g(n,["dynamicThreshold"],i),n}function bv(e,t){const n={},r=h(t,["mode"]);r!=null&&g(n,["mode"],r);const i=h(t,["dynamicThreshold"]);return i!=null&&g(n,["dynamicThreshold"],i),n}function kv(e,t){const n={},r=h(t,["dynamicRetrievalConfig"]);return r!=null&&g(n,["dynamicRetrievalConfig"],wv(e,r)),n}function Cv(e,t){const n={},r=h(t,["dynamicRetrievalConfig"]);return r!=null&&g(n,["dynamicRetrievalConfig"],bv(e,r)),n}function Nv(e,t){const n={},r=h(t,["functionDeclarations"]);if(r!=null&&(Array.isArray(r)?g(n,["functionDeclarations"],r.map(a=>gv(e,a))):g(n,["functionDeclarations"],r)),h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");h(t,["googleSearch"])!=null&&g(n,["googleSearch"],yv());const s=h(t,["googleSearchRetrieval"]);s!=null&&g(n,["googleSearchRetrieval"],kv(e,s));const o=h(t,["codeExecution"]);return o!=null&&g(n,["codeExecution"],o),n}function Sv(e,t){const n={},r=h(t,["functionDeclarations"]);r!=null&&(Array.isArray(r)?g(n,["functionDeclarations"],r.map(u=>xv(e,u))):g(n,["functionDeclarations"],r));const i=h(t,["retrieval"]);i!=null&&g(n,["retrieval"],i),h(t,["googleSearch"])!=null&&g(n,["googleSearch"],vv());const o=h(t,["googleSearchRetrieval"]);o!=null&&g(n,["googleSearchRetrieval"],Cv(e,o));const a=h(t,["codeExecution"]);return a!=null&&g(n,["codeExecution"],a),n}function Tv(e,t){const n={},r=h(t,["mode"]);r!=null&&g(n,["mode"],r);const i=h(t,["allowedFunctionNames"]);return i!=null&&g(n,["allowedFunctionNames"],i),n}function Ev(e,t){const n={},r=h(t,["mode"]);r!=null&&g(n,["mode"],r);const i=h(t,["allowedFunctionNames"]);return i!=null&&g(n,["allowedFunctionNames"],i),n}function Av(e,t){const n={},r=h(t,["functionCallingConfig"]);return r!=null&&g(n,["functionCallingConfig"],Tv(e,r)),n}function Iv(e,t){const n={},r=h(t,["functionCallingConfig"]);return r!=null&&g(n,["functionCallingConfig"],Ev(e,r)),n}function jv(e,t,n){const r={},i=h(t,["ttl"]);n!==void 0&&i!=null&&g(n,["ttl"],i);const s=h(t,["expireTime"]);n!==void 0&&s!=null&&g(n,["expireTime"],s);const o=h(t,["displayName"]);n!==void 0&&o!=null&&g(n,["displayName"],o);const a=h(t,["contents"]);n!==void 0&&a!=null&&(Array.isArray(a)?g(n,["contents"],We(e,We(e,a).map(f=>Af(e,f)))):g(n,["contents"],We(e,a)));const u=h(t,["systemInstruction"]);n!==void 0&&u!=null&&g(n,["systemInstruction"],Af(e,Gt(e,u)));const c=h(t,["tools"]);n!==void 0&&c!=null&&(Array.isArray(c)?g(n,["tools"],c.map(f=>Nv(e,f))):g(n,["tools"],c));const d=h(t,["toolConfig"]);return n!==void 0&&d!=null&&g(n,["toolConfig"],Av(e,d)),r}function Pv(e,t,n){const r={},i=h(t,["ttl"]);n!==void 0&&i!=null&&g(n,["ttl"],i);const s=h(t,["expireTime"]);n!==void 0&&s!=null&&g(n,["expireTime"],s);const o=h(t,["displayName"]);n!==void 0&&o!=null&&g(n,["displayName"],o);const a=h(t,["contents"]);n!==void 0&&a!=null&&(Array.isArray(a)?g(n,["contents"],We(e,We(e,a).map(f=>If(e,f)))):g(n,["contents"],We(e,a)));const u=h(t,["systemInstruction"]);n!==void 0&&u!=null&&g(n,["systemInstruction"],If(e,Gt(e,u)));const c=h(t,["tools"]);n!==void 0&&c!=null&&(Array.isArray(c)?g(n,["tools"],c.map(f=>Sv(e,f))):g(n,["tools"],c));const d=h(t,["toolConfig"]);return n!==void 0&&d!=null&&g(n,["toolConfig"],Iv(e,d)),r}function Rv(e,t){const n={},r=h(t,["model"]);r!=null&&g(n,["model"],o0(e,r));const i=h(t,["config"]);return i!=null&&g(n,["config"],jv(e,i,n)),n}function Mv(e,t){const n={},r=h(t,["model"]);r!=null&&g(n,["model"],o0(e,r));const i=h(t,["config"]);return i!=null&&g(n,["config"],Pv(e,i,n)),n}function _v(e,t){const n={},r=h(t,["name"]);r!=null&&g(n,["_url","name"],Zn(e,r));const i=h(t,["config"]);return i!=null&&g(n,["config"],i),n}function Dv(e,t){const n={},r=h(t,["name"]);r!=null&&g(n,["_url","name"],Zn(e,r));const i=h(t,["config"]);return i!=null&&g(n,["config"],i),n}function zv(e,t){const n={},r=h(t,["name"]);r!=null&&g(n,["_url","name"],Zn(e,r));const i=h(t,["config"]);return i!=null&&g(n,["config"],i),n}function Lv(e,t){const n={},r=h(t,["name"]);r!=null&&g(n,["_url","name"],Zn(e,r));const i=h(t,["config"]);return i!=null&&g(n,["config"],i),n}function Fv(e,t,n){const r={},i=h(t,["ttl"]);n!==void 0&&i!=null&&g(n,["ttl"],i);const s=h(t,["expireTime"]);return n!==void 0&&s!=null&&g(n,["expireTime"],s),r}function Ov(e,t,n){const r={},i=h(t,["ttl"]);n!==void 0&&i!=null&&g(n,["ttl"],i);const s=h(t,["expireTime"]);return n!==void 0&&s!=null&&g(n,["expireTime"],s),r}function Uv(e,t){const n={},r=h(t,["name"]);r!=null&&g(n,["_url","name"],Zn(e,r));const i=h(t,["config"]);return i!=null&&g(n,["config"],Fv(e,i,n)),n}function Hv(e,t){const n={},r=h(t,["name"]);r!=null&&g(n,["_url","name"],Zn(e,r));const i=h(t,["config"]);return i!=null&&g(n,["config"],Ov(e,i,n)),n}function Vv(e,t,n){const r={},i=h(t,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const s=h(t,["pageToken"]);return n!==void 0&&s!=null&&g(n,["_query","pageToken"],s),r}function Bv(e,t,n){const r={},i=h(t,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const s=h(t,["pageToken"]);return n!==void 0&&s!=null&&g(n,["_query","pageToken"],s),r}function $v(e,t){const n={},r=h(t,["config"]);return r!=null&&g(n,["config"],Vv(e,r,n)),n}function qv(e,t){const n={},r=h(t,["config"]);return r!=null&&g(n,["config"],Bv(e,r,n)),n}function io(e,t){const n={},r=h(t,["name"]);r!=null&&g(n,["name"],r);const i=h(t,["displayName"]);i!=null&&g(n,["displayName"],i);const s=h(t,["model"]);s!=null&&g(n,["model"],s);const o=h(t,["createTime"]);o!=null&&g(n,["createTime"],o);const a=h(t,["updateTime"]);a!=null&&g(n,["updateTime"],a);const u=h(t,["expireTime"]);u!=null&&g(n,["expireTime"],u);const c=h(t,["usageMetadata"]);return c!=null&&g(n,["usageMetadata"],c),n}function so(e,t){const n={},r=h(t,["name"]);r!=null&&g(n,["name"],r);const i=h(t,["displayName"]);i!=null&&g(n,["displayName"],i);const s=h(t,["model"]);s!=null&&g(n,["model"],s);const o=h(t,["createTime"]);o!=null&&g(n,["createTime"],o);const a=h(t,["updateTime"]);a!=null&&g(n,["updateTime"],a);const u=h(t,["expireTime"]);u!=null&&g(n,["expireTime"],u);const c=h(t,["usageMetadata"]);return c!=null&&g(n,["usageMetadata"],c),n}function Gv(e,t){return{}}function Kv(e,t){return{}}function Wv(e,t){const n={},r=h(t,["nextPageToken"]);r!=null&&g(n,["nextPageToken"],r);const i=h(t,["cachedContents"]);return i!=null&&(Array.isArray(i)?g(n,["cachedContents"],i.map(s=>io(e,s))):g(n,["cachedContents"],i)),n}function Yv(e,t){const n={},r=h(t,["nextPageToken"]);r!=null&&g(n,["nextPageToken"],r);const i=h(t,["cachedContents"]);return i!=null&&(Array.isArray(i)?g(n,["cachedContents"],i.map(s=>so(e,s))):g(n,["cachedContents"],i)),n}function jf(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function St(e){return this instanceof St?(this.v=e,this):new St(e)}function zo(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(p){return function(k){return Promise.resolve(k).then(p,f)}}function a(p,k){r[p]&&(i[p]=function(C){return new Promise(function(A,v){s.push([p,C,A,v])>1||u(p,C)})},k&&(i[p]=k(i[p])))}function u(p,k){try{c(r[p](k))}catch(C){m(s[0][3],C)}}function c(p){p.value instanceof St?Promise.resolve(p.value.v).then(d,f):m(s[0][2],p)}function d(p){u("next",p)}function f(p){u("throw",p)}function m(p,k){p(k),s.shift(),s.length&&u(s[0][0],s[0][1])}}function Xa(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof jf=="function"?jf(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qv(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:x0(n)}function x0(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0||t.text!==void 0&&t.text==="")return!1;return!0}function Jv(e){if(e.length!==0){if(e[0].role!=="user")throw new Error("History must start with a user turn.");for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Xv(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0,i=e[0];for(;r<n;)if(e[r].role==="user")i=e[r],r++;else{const s=[];let o=!0;for(;r<n&&e[r].role==="model";)s.push(e[r]),o&&!x0(e[r])&&(o=!1),r++;o&&(t.push(i),t.push(...s))}return t}class Zv{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new e1(this.apiClient,this.modelsModule,t.model,t.config,t.history)}}class e1{constructor(t,n,r,i={},s=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),Jv(s)}async sendMessage(t){var n;await this.sendPromise;const r=Gt(this.apiClient,t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,o;const u=(o=(s=(await i).candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content,c=u?[u]:[];this.recordHistory(r,c)})(),await this.sendPromise,i}async sendMessageStream(t){var n;await this.sendPromise;const r=Gt(this.apiClient,t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{});const s=await i;return this.processStreamResponse(s,r)}getHistory(t=!1){return t?Xv(this.history):this.history}processStreamResponse(t,n){var r,i;return zo(this,arguments,function*(){var o,a,u,c;const d=[];try{for(var f=!0,m=Xa(t),p;p=yield St(m.next()),o=p.done,!o;f=!0){c=p.value,f=!1;const k=c;if(Qv(k)){const C=(i=(r=k.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;C!==void 0&&d.push(C)}yield yield St(k)}}catch(k){a={error:k}}finally{try{!f&&!o&&(u=m.return)&&(yield St(u.call(m)))}finally{if(a)throw a.error}}this.recordHistory(n,d)})}recordHistory(t,n){let r=[];n.length>0&&n.every(i=>i.role==="model")?r=n:r.push({role:"model",parts:[]}),this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class t1 extends pc{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>await this.generateContentInternal(n),this.generateContentStream=async n=>await this.generateContentStreamInternal(n)}async generateContentInternal(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const a=Rf(this.apiClient,t);return s=_e("{model}:generateContent",a._url),o=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(u=>u.json()),i.then(u=>{const c=_f(this.apiClient,u),d=new Us;return Object.assign(d,c),d})}else{const a=Pf(this.apiClient,t);return s=_e("{model}:generateContent",a._url),o=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(u=>u.json()),i.then(u=>{const c=Mf(this.apiClient,u),d=new Us;return Object.assign(d,c),d})}}async generateContentStreamInternal(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const a=Rf(this.apiClient,t);s=_e("{model}:streamGenerateContent?alt=sse",a._url),o=a._query,delete a.config,delete a._url,delete a._query;const u=this.apiClient;return i=u.requestStream({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}),i.then(function(c){return zo(this,arguments,function*(){var d,f,m,p;try{for(var k=!0,C=Xa(c),A;A=yield St(C.next()),d=A.done,!d;k=!0){p=A.value,k=!1;const y=_f(u,p),x=new Us;Object.assign(x,y),yield yield St(x)}}catch(v){f={error:v}}finally{try{!k&&!d&&(m=C.return)&&(yield St(m.call(C)))}finally{if(f)throw f.error}}})})}else{const a=Pf(this.apiClient,t);s=_e("{model}:streamGenerateContent?alt=sse",a._url),o=a._query,delete a.config,delete a._url,delete a._query;const u=this.apiClient;return i=u.requestStream({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}),i.then(function(c){return zo(this,arguments,function*(){var d,f,m,p;try{for(var k=!0,C=Xa(c),A;A=yield St(C.next()),d=A.done,!d;k=!0){p=A.value,k=!1;const y=Mf(u,p),x=new Us;Object.assign(x,y),yield yield St(x)}}catch(v){f={error:v}}finally{try{!k&&!d&&(m=C.return)&&(yield St(m.call(C)))}finally{if(f)throw f.error}}})})}}async embedContent(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const a=R1(this.apiClient,t);return s=_e("{model}:predict",a._url),o=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(u=>u.json()),i.then(u=>{const c=tw(this.apiClient,u),d=new wf;return Object.assign(d,c),d})}else{const a=P1(this.apiClient,t);return s=_e("{model}:batchEmbedContents",a._url),o=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(u=>u.json()),i.then(u=>{const c=ew(this.apiClient,u),d=new wf;return Object.assign(d,c),d})}}async generateImages(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const a=z1(this.apiClient,t);return s=_e("{model}:predict",a._url),o=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(u=>u.json()),i.then(u=>{const c=lw(this.apiClient,u),d=new bf;return Object.assign(d,c),d})}else{const a=D1(this.apiClient,t);return s=_e("{model}:predict",a._url),o=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(u=>u.json()),i.then(u=>{const c=ow(this.apiClient,u),d=new bf;return Object.assign(d,c),d})}}async countTokens(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const a=U1(this.apiClient,t);return s=_e("{model}:countTokens",a._url),o=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(u=>u.json()),i.then(u=>{const c=uw(this.apiClient,u),d=new kf;return Object.assign(d,c),d})}else{const a=O1(this.apiClient,t);return s=_e("{model}:countTokens",a._url),o=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(u=>u.json()),i.then(u=>{const c=aw(this.apiClient,u),d=new kf;return Object.assign(d,c),d})}}async computeTokens(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const a=V1(this.apiClient,t);return s=_e("{model}:computeTokens",a._url),o=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(u=>u.json()),i.then(u=>{const c=dw(this.apiClient,u),d=new Cf;return Object.assign(d,c),d})}else{const a=H1(this.apiClient,t);return s=_e("None",a._url),o=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(u=>u.json()),i.then(u=>{const c=cw(this.apiClient,u),d=new Cf;return Object.assign(d,c),d})}}}function n1(e,t){const n={};if(h(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=h(t,["thought"]);r!=null&&g(n,["thought"],r);const i=h(t,["codeExecutionResult"]);i!=null&&g(n,["codeExecutionResult"],i);const s=h(t,["executableCode"]);s!=null&&g(n,["executableCode"],s);const o=h(t,["fileData"]);o!=null&&g(n,["fileData"],o);const a=h(t,["functionCall"]);a!=null&&g(n,["functionCall"],a);const u=h(t,["functionResponse"]);u!=null&&g(n,["functionResponse"],u);const c=h(t,["inlineData"]);c!=null&&g(n,["inlineData"],c);const d=h(t,["text"]);return d!=null&&g(n,["text"],d),n}function r1(e,t){const n={},r=h(t,["videoMetadata"]);r!=null&&g(n,["videoMetadata"],r);const i=h(t,["thought"]);i!=null&&g(n,["thought"],i);const s=h(t,["codeExecutionResult"]);s!=null&&g(n,["codeExecutionResult"],s);const o=h(t,["executableCode"]);o!=null&&g(n,["executableCode"],o);const a=h(t,["fileData"]);a!=null&&g(n,["fileData"],a);const u=h(t,["functionCall"]);u!=null&&g(n,["functionCall"],u);const c=h(t,["functionResponse"]);c!=null&&g(n,["functionResponse"],c);const d=h(t,["inlineData"]);d!=null&&g(n,["inlineData"],d);const f=h(t,["text"]);return f!=null&&g(n,["text"],f),n}function xs(e,t){const n={},r=h(t,["parts"]);r!=null&&(Array.isArray(r)?g(n,["parts"],r.map(s=>n1(e,s))):g(n,["parts"],r));const i=h(t,["role"]);return i!=null&&g(n,["role"],i),n}function wr(e,t){const n={},r=h(t,["parts"]);r!=null&&(Array.isArray(r)?g(n,["parts"],r.map(s=>r1(e,s))):g(n,["parts"],r));const i=h(t,["role"]);return i!=null&&g(n,["role"],i),n}function i1(e,t){const n={};if(h(t,["example"])!==void 0)throw new Error("example parameter is not supported in Gemini API.");if(h(t,["pattern"])!==void 0)throw new Error("pattern parameter is not supported in Gemini API.");if(h(t,["minimum"])!==void 0)throw new Error("minimum parameter is not supported in Gemini API.");if(h(t,["default"])!==void 0)throw new Error("default parameter is not supported in Gemini API.");if(h(t,["anyOf"])!==void 0)throw new Error("anyOf parameter is not supported in Gemini API.");if(h(t,["maxLength"])!==void 0)throw new Error("maxLength parameter is not supported in Gemini API.");if(h(t,["title"])!==void 0)throw new Error("title parameter is not supported in Gemini API.");if(h(t,["minLength"])!==void 0)throw new Error("minLength parameter is not supported in Gemini API.");if(h(t,["minProperties"])!==void 0)throw new Error("minProperties parameter is not supported in Gemini API.");if(h(t,["maximum"])!==void 0)throw new Error("maximum parameter is not supported in Gemini API.");if(h(t,["maxProperties"])!==void 0)throw new Error("maxProperties parameter is not supported in Gemini API.");const r=h(t,["description"]);r!=null&&g(n,["description"],r);const i=h(t,["enum"]);i!=null&&g(n,["enum"],i);const s=h(t,["format"]);s!=null&&g(n,["format"],s);const o=h(t,["items"]);o!=null&&g(n,["items"],o);const a=h(t,["maxItems"]);a!=null&&g(n,["maxItems"],a);const u=h(t,["minItems"]);u!=null&&g(n,["minItems"],u);const c=h(t,["nullable"]);c!=null&&g(n,["nullable"],c);const d=h(t,["properties"]);d!=null&&g(n,["properties"],d);const f=h(t,["propertyOrdering"]);f!=null&&g(n,["propertyOrdering"],f);const m=h(t,["required"]);m!=null&&g(n,["required"],m);const p=h(t,["type"]);return p!=null&&g(n,["type"],p),n}function y0(e,t){const n={},r=h(t,["example"]);r!=null&&g(n,["example"],r);const i=h(t,["pattern"]);i!=null&&g(n,["pattern"],i);const s=h(t,["minimum"]);s!=null&&g(n,["minimum"],s);const o=h(t,["default"]);o!=null&&g(n,["default"],o);const a=h(t,["anyOf"]);a!=null&&g(n,["anyOf"],a);const u=h(t,["maxLength"]);u!=null&&g(n,["maxLength"],u);const c=h(t,["title"]);c!=null&&g(n,["title"],c);const d=h(t,["minLength"]);d!=null&&g(n,["minLength"],d);const f=h(t,["minProperties"]);f!=null&&g(n,["minProperties"],f);const m=h(t,["maximum"]);m!=null&&g(n,["maximum"],m);const p=h(t,["maxProperties"]);p!=null&&g(n,["maxProperties"],p);const k=h(t,["description"]);k!=null&&g(n,["description"],k);const C=h(t,["enum"]);C!=null&&g(n,["enum"],C);const A=h(t,["format"]);A!=null&&g(n,["format"],A);const v=h(t,["items"]);v!=null&&g(n,["items"],v);const y=h(t,["maxItems"]);y!=null&&g(n,["maxItems"],y);const x=h(t,["minItems"]);x!=null&&g(n,["minItems"],x);const S=h(t,["nullable"]);S!=null&&g(n,["nullable"],S);const I=h(t,["properties"]);I!=null&&g(n,["properties"],I);const N=h(t,["propertyOrdering"]);N!=null&&g(n,["propertyOrdering"],N);const j=h(t,["required"]);j!=null&&g(n,["required"],j);const E=h(t,["type"]);return E!=null&&g(n,["type"],E),n}function s1(e,t){const n={};if(h(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=h(t,["category"]);r!=null&&g(n,["category"],r);const i=h(t,["threshold"]);return i!=null&&g(n,["threshold"],i),n}function o1(e,t){const n={},r=h(t,["method"]);r!=null&&g(n,["method"],r);const i=h(t,["category"]);i!=null&&g(n,["category"],i);const s=h(t,["threshold"]);return s!=null&&g(n,["threshold"],s),n}function l1(e,t){const n={};if(h(t,["response"])!==void 0)throw new Error("response parameter is not supported in Gemini API.");const r=h(t,["description"]);r!=null&&g(n,["description"],r);const i=h(t,["name"]);i!=null&&g(n,["name"],i);const s=h(t,["parameters"]);return s!=null&&g(n,["parameters"],s),n}function a1(e,t){const n={},r=h(t,["response"]);r!=null&&g(n,["response"],y0(e,r));const i=h(t,["description"]);i!=null&&g(n,["description"],i);const s=h(t,["name"]);s!=null&&g(n,["name"],s);const o=h(t,["parameters"]);return o!=null&&g(n,["parameters"],o),n}function u1(e,t){return{}}function c1(e,t){return{}}function d1(e,t){const n={},r=h(t,["mode"]);r!=null&&g(n,["mode"],r);const i=h(t,["dynamicThreshold"]);return i!=null&&g(n,["dynamicThreshold"],i),n}function f1(e,t){const n={},r=h(t,["mode"]);r!=null&&g(n,["mode"],r);const i=h(t,["dynamicThreshold"]);return i!=null&&g(n,["dynamicThreshold"],i),n}function p1(e,t){const n={},r=h(t,["dynamicRetrievalConfig"]);return r!=null&&g(n,["dynamicRetrievalConfig"],d1(e,r)),n}function h1(e,t){const n={},r=h(t,["dynamicRetrievalConfig"]);return r!=null&&g(n,["dynamicRetrievalConfig"],f1(e,r)),n}function v0(e,t){const n={},r=h(t,["functionDeclarations"]);if(r!=null&&(Array.isArray(r)?g(n,["functionDeclarations"],r.map(a=>l1(e,a))):g(n,["functionDeclarations"],r)),h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");h(t,["googleSearch"])!=null&&g(n,["googleSearch"],u1());const s=h(t,["googleSearchRetrieval"]);s!=null&&g(n,["googleSearchRetrieval"],p1(e,s));const o=h(t,["codeExecution"]);return o!=null&&g(n,["codeExecution"],o),n}function mc(e,t){const n={},r=h(t,["functionDeclarations"]);r!=null&&(Array.isArray(r)?g(n,["functionDeclarations"],r.map(u=>a1(e,u))):g(n,["functionDeclarations"],r));const i=h(t,["retrieval"]);i!=null&&g(n,["retrieval"],i),h(t,["googleSearch"])!=null&&g(n,["googleSearch"],c1());const o=h(t,["googleSearchRetrieval"]);o!=null&&g(n,["googleSearchRetrieval"],h1(e,o));const a=h(t,["codeExecution"]);return a!=null&&g(n,["codeExecution"],a),n}function m1(e,t){const n={},r=h(t,["mode"]);r!=null&&g(n,["mode"],r);const i=h(t,["allowedFunctionNames"]);return i!=null&&g(n,["allowedFunctionNames"],i),n}function g1(e,t){const n={},r=h(t,["mode"]);r!=null&&g(n,["mode"],r);const i=h(t,["allowedFunctionNames"]);return i!=null&&g(n,["allowedFunctionNames"],i),n}function x1(e,t){const n={},r=h(t,["functionCallingConfig"]);return r!=null&&g(n,["functionCallingConfig"],m1(e,r)),n}function y1(e,t){const n={},r=h(t,["functionCallingConfig"]);return r!=null&&g(n,["functionCallingConfig"],g1(e,r)),n}function v1(e,t){const n={},r=h(t,["voiceName"]);return r!=null&&g(n,["voiceName"],r),n}function w1(e,t){const n={},r=h(t,["voiceName"]);return r!=null&&g(n,["voiceName"],r),n}function b1(e,t){const n={},r=h(t,["prebuiltVoiceConfig"]);return r!=null&&g(n,["prebuiltVoiceConfig"],v1(e,r)),n}function k1(e,t){const n={},r=h(t,["prebuiltVoiceConfig"]);return r!=null&&g(n,["prebuiltVoiceConfig"],w1(e,r)),n}function C1(e,t){const n={},r=h(t,["voiceConfig"]);return r!=null&&g(n,["voiceConfig"],b1(e,r)),n}function N1(e,t){const n={},r=h(t,["voiceConfig"]);return r!=null&&g(n,["voiceConfig"],k1(e,r)),n}function S1(e,t){const n={},r=h(t,["includeThoughts"]);return r!=null&&g(n,["includeThoughts"],r),n}function T1(e,t){const n={},r=h(t,["includeThoughts"]);return r!=null&&g(n,["includeThoughts"],r),n}function E1(e,t,n){const r={},i=h(t,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],xs(e,Gt(e,i)));const s=h(t,["temperature"]);s!=null&&g(r,["temperature"],s);const o=h(t,["topP"]);o!=null&&g(r,["topP"],o);const a=h(t,["topK"]);a!=null&&g(r,["topK"],a);const u=h(t,["candidateCount"]);u!=null&&g(r,["candidateCount"],u);const c=h(t,["maxOutputTokens"]);c!=null&&g(r,["maxOutputTokens"],c);const d=h(t,["stopSequences"]);d!=null&&g(r,["stopSequences"],d);const f=h(t,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const m=h(t,["logprobs"]);m!=null&&g(r,["logprobs"],m);const p=h(t,["presencePenalty"]);p!=null&&g(r,["presencePenalty"],p);const k=h(t,["frequencyPenalty"]);k!=null&&g(r,["frequencyPenalty"],k);const C=h(t,["seed"]);C!=null&&g(r,["seed"],C);const A=h(t,["responseMimeType"]);A!=null&&g(r,["responseMimeType"],A);const v=h(t,["responseSchema"]);if(v!=null&&g(r,["responseSchema"],i1(e,d0(e,v))),h(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");const y=h(t,["safetySettings"]);n!==void 0&&y!=null&&(Array.isArray(y)?g(n,["safetySettings"],y.map(L=>s1(e,L))):g(n,["safetySettings"],y));const x=h(t,["tools"]);n!==void 0&&x!=null&&(Array.isArray(x)?g(n,["tools"],Br(e,Br(e,x).map(L=>v0(e,p0(e,L))))):g(n,["tools"],Br(e,x)));const S=h(t,["toolConfig"]);if(n!==void 0&&S!=null&&g(n,["toolConfig"],x1(e,S)),h(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=h(t,["cachedContent"]);n!==void 0&&I!=null&&g(n,["cachedContent"],Zn(e,I));const N=h(t,["responseModalities"]);N!=null&&g(r,["responseModalities"],N);const j=h(t,["mediaResolution"]);j!=null&&g(r,["mediaResolution"],j);const E=h(t,["speechConfig"]);if(E!=null&&g(r,["speechConfig"],C1(e,f0(e,E))),h(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const z=h(t,["thinkingConfig"]);return z!=null&&g(r,["thinkingConfig"],S1(e,z)),r}function A1(e,t,n){const r={},i=h(t,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],wr(e,Gt(e,i)));const s=h(t,["temperature"]);s!=null&&g(r,["temperature"],s);const o=h(t,["topP"]);o!=null&&g(r,["topP"],o);const a=h(t,["topK"]);a!=null&&g(r,["topK"],a);const u=h(t,["candidateCount"]);u!=null&&g(r,["candidateCount"],u);const c=h(t,["maxOutputTokens"]);c!=null&&g(r,["maxOutputTokens"],c);const d=h(t,["stopSequences"]);d!=null&&g(r,["stopSequences"],d);const f=h(t,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const m=h(t,["logprobs"]);m!=null&&g(r,["logprobs"],m);const p=h(t,["presencePenalty"]);p!=null&&g(r,["presencePenalty"],p);const k=h(t,["frequencyPenalty"]);k!=null&&g(r,["frequencyPenalty"],k);const C=h(t,["seed"]);C!=null&&g(r,["seed"],C);const A=h(t,["responseMimeType"]);A!=null&&g(r,["responseMimeType"],A);const v=h(t,["responseSchema"]);v!=null&&g(r,["responseSchema"],y0(e,d0(e,v)));const y=h(t,["routingConfig"]);y!=null&&g(r,["routingConfig"],y);const x=h(t,["safetySettings"]);n!==void 0&&x!=null&&(Array.isArray(x)?g(n,["safetySettings"],x.map(_=>o1(e,_))):g(n,["safetySettings"],x));const S=h(t,["tools"]);n!==void 0&&S!=null&&(Array.isArray(S)?g(n,["tools"],Br(e,Br(e,S).map(_=>mc(e,p0(e,_))))):g(n,["tools"],Br(e,S)));const I=h(t,["toolConfig"]);n!==void 0&&I!=null&&g(n,["toolConfig"],y1(e,I));const N=h(t,["labels"]);n!==void 0&&N!=null&&g(n,["labels"],N);const j=h(t,["cachedContent"]);n!==void 0&&j!=null&&g(n,["cachedContent"],Zn(e,j));const E=h(t,["responseModalities"]);E!=null&&g(r,["responseModalities"],E);const z=h(t,["mediaResolution"]);z!=null&&g(r,["mediaResolution"],z);const L=h(t,["speechConfig"]);L!=null&&g(r,["speechConfig"],N1(e,f0(e,L)));const D=h(t,["audioTimestamp"]);D!=null&&g(r,["audioTimestamp"],D);const R=h(t,["thinkingConfig"]);return R!=null&&g(r,["thinkingConfig"],T1(e,R)),r}function Pf(e,t){const n={},r=h(t,["model"]);r!=null&&g(n,["_url","model"],Ft(e,r));const i=h(t,["contents"]);i!=null&&(Array.isArray(i)?g(n,["contents"],We(e,We(e,i).map(o=>xs(e,o)))):g(n,["contents"],We(e,i)));const s=h(t,["config"]);return s!=null&&g(n,["generationConfig"],E1(e,s,n)),n}function Rf(e,t){const n={},r=h(t,["model"]);r!=null&&g(n,["_url","model"],Ft(e,r));const i=h(t,["contents"]);i!=null&&(Array.isArray(i)?g(n,["contents"],We(e,We(e,i).map(o=>wr(e,o)))):g(n,["contents"],We(e,i)));const s=h(t,["config"]);return s!=null&&g(n,["generationConfig"],A1(e,s,n)),n}function I1(e,t,n){const r={},i=h(t,["taskType"]);n!==void 0&&i!=null&&g(n,["requests[]","taskType"],i);const s=h(t,["title"]);n!==void 0&&s!=null&&g(n,["requests[]","title"],s);const o=h(t,["outputDimensionality"]);if(n!==void 0&&o!=null&&g(n,["requests[]","outputDimensionality"],o),h(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(h(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function j1(e,t,n){const r={},i=h(t,["taskType"]);n!==void 0&&i!=null&&g(n,["instances[]","task_type"],i);const s=h(t,["title"]);n!==void 0&&s!=null&&g(n,["instances[]","title"],s);const o=h(t,["outputDimensionality"]);n!==void 0&&o!=null&&g(n,["parameters","outputDimensionality"],o);const a=h(t,["mimeType"]);n!==void 0&&a!=null&&g(n,["instances[]","mimeType"],a);const u=h(t,["autoTruncate"]);return n!==void 0&&u!=null&&g(n,["parameters","autoTruncate"],u),r}function P1(e,t){const n={},r=h(t,["model"]);r!=null&&g(n,["_url","model"],Ft(e,r));const i=h(t,["contents"]);i!=null&&g(n,["requests[]","content"],u0(e,i));const s=h(t,["config"]);s!=null&&g(n,["config"],I1(e,s,n));const o=h(t,["model"]);return o!==void 0&&g(n,["requests[]","model"],Ft(e,o)),n}function R1(e,t){const n={},r=h(t,["model"]);r!=null&&g(n,["_url","model"],Ft(e,r));const i=h(t,["contents"]);i!=null&&g(n,["instances[]","content"],u0(e,i));const s=h(t,["config"]);return s!=null&&g(n,["config"],j1(e,s,n)),n}function M1(e,t,n){const r={};if(h(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=h(t,["numberOfImages"]);n!==void 0&&i!=null&&g(n,["parameters","sampleCount"],i);const s=h(t,["aspectRatio"]);n!==void 0&&s!=null&&g(n,["parameters","aspectRatio"],s);const o=h(t,["guidanceScale"]);if(n!==void 0&&o!=null&&g(n,["parameters","guidanceScale"],o),h(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=h(t,["safetyFilterLevel"]);n!==void 0&&a!=null&&g(n,["parameters","safetySetting"],a);const u=h(t,["personGeneration"]);n!==void 0&&u!=null&&g(n,["parameters","personGeneration"],u);const c=h(t,["includeSafetyAttributes"]);n!==void 0&&c!=null&&g(n,["parameters","includeSafetyAttributes"],c);const d=h(t,["includeRaiReason"]);n!==void 0&&d!=null&&g(n,["parameters","includeRaiReason"],d);const f=h(t,["language"]);n!==void 0&&f!=null&&g(n,["parameters","language"],f);const m=h(t,["outputMimeType"]);n!==void 0&&m!=null&&g(n,["parameters","outputOptions","mimeType"],m);const p=h(t,["outputCompressionQuality"]);if(n!==void 0&&p!=null&&g(n,["parameters","outputOptions","compressionQuality"],p),h(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(h(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function _1(e,t,n){const r={},i=h(t,["outputGcsUri"]);n!==void 0&&i!=null&&g(n,["parameters","storageUri"],i);const s=h(t,["negativePrompt"]);n!==void 0&&s!=null&&g(n,["parameters","negativePrompt"],s);const o=h(t,["numberOfImages"]);n!==void 0&&o!=null&&g(n,["parameters","sampleCount"],o);const a=h(t,["aspectRatio"]);n!==void 0&&a!=null&&g(n,["parameters","aspectRatio"],a);const u=h(t,["guidanceScale"]);n!==void 0&&u!=null&&g(n,["parameters","guidanceScale"],u);const c=h(t,["seed"]);n!==void 0&&c!=null&&g(n,["parameters","seed"],c);const d=h(t,["safetyFilterLevel"]);n!==void 0&&d!=null&&g(n,["parameters","safetySetting"],d);const f=h(t,["personGeneration"]);n!==void 0&&f!=null&&g(n,["parameters","personGeneration"],f);const m=h(t,["includeSafetyAttributes"]);n!==void 0&&m!=null&&g(n,["parameters","includeSafetyAttributes"],m);const p=h(t,["includeRaiReason"]);n!==void 0&&p!=null&&g(n,["parameters","includeRaiReason"],p);const k=h(t,["language"]);n!==void 0&&k!=null&&g(n,["parameters","language"],k);const C=h(t,["outputMimeType"]);n!==void 0&&C!=null&&g(n,["parameters","outputOptions","mimeType"],C);const A=h(t,["outputCompressionQuality"]);n!==void 0&&A!=null&&g(n,["parameters","outputOptions","compressionQuality"],A);const v=h(t,["addWatermark"]);n!==void 0&&v!=null&&g(n,["parameters","addWatermark"],v);const y=h(t,["enhancePrompt"]);return n!==void 0&&y!=null&&g(n,["parameters","enhancePrompt"],y),r}function D1(e,t){const n={},r=h(t,["model"]);r!=null&&g(n,["_url","model"],Ft(e,r));const i=h(t,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const s=h(t,["config"]);return s!=null&&g(n,["config"],M1(e,s,n)),n}function z1(e,t){const n={},r=h(t,["model"]);r!=null&&g(n,["_url","model"],Ft(e,r));const i=h(t,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const s=h(t,["config"]);return s!=null&&g(n,["config"],_1(e,s,n)),n}function L1(e,t){const n={};if(h(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(h(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(h(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function F1(e,t,n){const r={},i=h(t,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],wr(e,Gt(e,i)));const s=h(t,["tools"]);n!==void 0&&s!=null&&(Array.isArray(s)?g(n,["tools"],s.map(a=>mc(e,a))):g(n,["tools"],s));const o=h(t,["generationConfig"]);return n!==void 0&&o!=null&&g(n,["generationConfig"],o),r}function O1(e,t){const n={},r=h(t,["model"]);r!=null&&g(n,["_url","model"],Ft(e,r));const i=h(t,["contents"]);i!=null&&(Array.isArray(i)?g(n,["contents"],We(e,We(e,i).map(o=>xs(e,o)))):g(n,["contents"],We(e,i)));const s=h(t,["config"]);return s!=null&&g(n,["config"],L1(e,s)),n}function U1(e,t){const n={},r=h(t,["model"]);r!=null&&g(n,["_url","model"],Ft(e,r));const i=h(t,["contents"]);i!=null&&(Array.isArray(i)?g(n,["contents"],We(e,We(e,i).map(o=>wr(e,o)))):g(n,["contents"],We(e,i)));const s=h(t,["config"]);return s!=null&&g(n,["config"],F1(e,s,n)),n}function H1(e,t){const n={},r=h(t,["model"]);if(r!=null&&g(n,["_url","model"],Ft(e,r)),h(t,["contents"])!==void 0)throw new Error("contents parameter is not supported in Gemini API.");const i=h(t,["config"]);return i!=null&&g(n,["config"],i),n}function V1(e,t){const n={},r=h(t,["model"]);r!=null&&g(n,["_url","model"],Ft(e,r));const i=h(t,["contents"]);i!=null&&(Array.isArray(i)?g(n,["contents"],We(e,We(e,i).map(o=>wr(e,o)))):g(n,["contents"],We(e,i)));const s=h(t,["config"]);return s!=null&&g(n,["config"],s),n}function B1(e,t){const n={},r=h(t,["thought"]);r!=null&&g(n,["thought"],r);const i=h(t,["codeExecutionResult"]);i!=null&&g(n,["codeExecutionResult"],i);const s=h(t,["executableCode"]);s!=null&&g(n,["executableCode"],s);const o=h(t,["fileData"]);o!=null&&g(n,["fileData"],o);const a=h(t,["functionCall"]);a!=null&&g(n,["functionCall"],a);const u=h(t,["functionResponse"]);u!=null&&g(n,["functionResponse"],u);const c=h(t,["inlineData"]);c!=null&&g(n,["inlineData"],c);const d=h(t,["text"]);return d!=null&&g(n,["text"],d),n}function $1(e,t){const n={},r=h(t,["videoMetadata"]);r!=null&&g(n,["videoMetadata"],r);const i=h(t,["thought"]);i!=null&&g(n,["thought"],i);const s=h(t,["codeExecutionResult"]);s!=null&&g(n,["codeExecutionResult"],s);const o=h(t,["executableCode"]);o!=null&&g(n,["executableCode"],o);const a=h(t,["fileData"]);a!=null&&g(n,["fileData"],a);const u=h(t,["functionCall"]);u!=null&&g(n,["functionCall"],u);const c=h(t,["functionResponse"]);c!=null&&g(n,["functionResponse"],c);const d=h(t,["inlineData"]);d!=null&&g(n,["inlineData"],d);const f=h(t,["text"]);return f!=null&&g(n,["text"],f),n}function w0(e,t){const n={},r=h(t,["parts"]);r!=null&&(Array.isArray(r)?g(n,["parts"],r.map(s=>B1(e,s))):g(n,["parts"],r));const i=h(t,["role"]);return i!=null&&g(n,["role"],i),n}function b0(e,t){const n={},r=h(t,["parts"]);r!=null&&(Array.isArray(r)?g(n,["parts"],r.map(s=>$1(e,s))):g(n,["parts"],r));const i=h(t,["role"]);return i!=null&&g(n,["role"],i),n}function q1(e,t){const n={},r=h(t,["citationSources"]);return r!=null&&g(n,["citations"],r),n}function G1(e,t){const n={},r=h(t,["citations"]);return r!=null&&g(n,["citations"],r),n}function K1(e,t){const n={},r=h(t,["content"]);r!=null&&g(n,["content"],w0(e,r));const i=h(t,["citationMetadata"]);i!=null&&g(n,["citationMetadata"],q1(e,i));const s=h(t,["tokenCount"]);s!=null&&g(n,["tokenCount"],s);const o=h(t,["avgLogprobs"]);o!=null&&g(n,["avgLogprobs"],o);const a=h(t,["finishReason"]);a!=null&&g(n,["finishReason"],a);const u=h(t,["groundingMetadata"]);u!=null&&g(n,["groundingMetadata"],u);const c=h(t,["index"]);c!=null&&g(n,["index"],c);const d=h(t,["logprobsResult"]);d!=null&&g(n,["logprobsResult"],d);const f=h(t,["safetyRatings"]);return f!=null&&g(n,["safetyRatings"],f),n}function W1(e,t){const n={},r=h(t,["content"]);r!=null&&g(n,["content"],b0(e,r));const i=h(t,["citationMetadata"]);i!=null&&g(n,["citationMetadata"],G1(e,i));const s=h(t,["finishMessage"]);s!=null&&g(n,["finishMessage"],s);const o=h(t,["avgLogprobs"]);o!=null&&g(n,["avgLogprobs"],o);const a=h(t,["finishReason"]);a!=null&&g(n,["finishReason"],a);const u=h(t,["groundingMetadata"]);u!=null&&g(n,["groundingMetadata"],u);const c=h(t,["index"]);c!=null&&g(n,["index"],c);const d=h(t,["logprobsResult"]);d!=null&&g(n,["logprobsResult"],d);const f=h(t,["safetyRatings"]);return f!=null&&g(n,["safetyRatings"],f),n}function Mf(e,t){const n={},r=h(t,["candidates"]);r!=null&&(Array.isArray(r)?g(n,["candidates"],r.map(a=>K1(e,a))):g(n,["candidates"],r));const i=h(t,["modelVersion"]);i!=null&&g(n,["modelVersion"],i);const s=h(t,["promptFeedback"]);s!=null&&g(n,["promptFeedback"],s);const o=h(t,["usageMetadata"]);return o!=null&&g(n,["usageMetadata"],o),n}function _f(e,t){const n={},r=h(t,["candidates"]);r!=null&&(Array.isArray(r)?g(n,["candidates"],r.map(c=>W1(e,c))):g(n,["candidates"],r));const i=h(t,["createTime"]);i!=null&&g(n,["createTime"],i);const s=h(t,["responseId"]);s!=null&&g(n,["responseId"],s);const o=h(t,["modelVersion"]);o!=null&&g(n,["modelVersion"],o);const a=h(t,["promptFeedback"]);a!=null&&g(n,["promptFeedback"],a);const u=h(t,["usageMetadata"]);return u!=null&&g(n,["usageMetadata"],u),n}function Y1(e,t){const n={},r=h(t,["truncated"]);r!=null&&g(n,["truncated"],r);const i=h(t,["token_count"]);return i!=null&&g(n,["tokenCount"],i),n}function Q1(e,t){const n={},r=h(t,["values"]);return r!=null&&g(n,["values"],r),n}function J1(e,t){const n={},r=h(t,["values"]);r!=null&&g(n,["values"],r);const i=h(t,["statistics"]);return i!=null&&g(n,["statistics"],Y1(e,i)),n}function X1(e,t){return{}}function Z1(e,t){const n={},r=h(t,["billableCharacterCount"]);return r!=null&&g(n,["billableCharacterCount"],r),n}function ew(e,t){const n={},r=h(t,["embeddings"]);return r!=null&&(Array.isArray(r)?g(n,["embeddings"],r.map(s=>Q1(e,s))):g(n,["embeddings"],r)),h(t,["metadata"])!=null&&g(n,["metadata"],X1()),n}function tw(e,t){const n={},r=h(t,["predictions[]","embeddings"]);r!=null&&(Array.isArray(r)?g(n,["embeddings"],r.map(s=>J1(e,s))):g(n,["embeddings"],r));const i=h(t,["metadata"]);return i!=null&&g(n,["metadata"],Z1(e,i)),n}function nw(e,t){const n={},r=h(t,["bytesBase64Encoded"]);r!=null&&g(n,["imageBytes"],h0(e,r));const i=h(t,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function rw(e,t){const n={},r=h(t,["gcsUri"]);r!=null&&g(n,["gcsUri"],r);const i=h(t,["bytesBase64Encoded"]);i!=null&&g(n,["imageBytes"],h0(e,i));const s=h(t,["mimeType"]);return s!=null&&g(n,["mimeType"],s),n}function iw(e,t){const n={},r=h(t,["_self"]);r!=null&&g(n,["image"],nw(e,r));const i=h(t,["raiFilteredReason"]);return i!=null&&g(n,["raiFilteredReason"],i),n}function sw(e,t){const n={},r=h(t,["_self"]);r!=null&&g(n,["image"],rw(e,r));const i=h(t,["raiFilteredReason"]);i!=null&&g(n,["raiFilteredReason"],i);const s=h(t,["prompt"]);return s!=null&&g(n,["enhancedPrompt"],s),n}function ow(e,t){const n={},r=h(t,["predictions"]);return r!=null&&(Array.isArray(r)?g(n,["generatedImages"],r.map(i=>iw(e,i))):g(n,["generatedImages"],r)),n}function lw(e,t){const n={},r=h(t,["predictions"]);return r!=null&&(Array.isArray(r)?g(n,["generatedImages"],r.map(i=>sw(e,i))):g(n,["generatedImages"],r)),n}function aw(e,t){const n={},r=h(t,["totalTokens"]);r!=null&&g(n,["totalTokens"],r);const i=h(t,["cachedContentTokenCount"]);return i!=null&&g(n,["cachedContentTokenCount"],i),n}function uw(e,t){const n={},r=h(t,["totalTokens"]);return r!=null&&g(n,["totalTokens"],r),n}function cw(e,t){const n={},r=h(t,["tokensInfo"]);return r!=null&&g(n,["tokensInfo"],r),n}function dw(e,t){const n={},r=h(t,["tokensInfo"]);return r!=null&&g(n,["tokensInfo"],r),n}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fw="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";function pw(e,t){const n={},r=h(t,["generationConfig"]);r!==void 0&&g(n,["generationConfig"],r);const i=h(t,["responseModalities"]);i!==void 0&&g(n,["generationConfig","responseModalities"],i);const s=h(t,["speechConfig"]);s!==void 0&&g(n,["generationConfig","speechConfig"],s);const o=h(t,["systemInstruction"]);o!=null&&g(n,["systemInstruction"],xs(e,o));const a=h(t,["tools"]);return a!=null&&Array.isArray(a)&&g(n,["tools"],a.map(u=>v0(e,u))),n}function hw(e,t){const n={},r=h(t,["generationConfig"]);r!==void 0&&g(n,["generationConfig"],r);const i=h(t,["responseModalities"]);i!==void 0?g(n,["generationConfig","responseModalities"],i):g(n,["generationConfig","responseModalities"],["AUDIO"]);const s=h(t,["speechConfig"]);s!==void 0&&g(n,["generationConfig","speechConfig"],s);const o=h(t,["systemInstruction"]);o!=null&&g(n,["systemInstruction"],wr(e,o));const a=h(t,["tools"]);return a!=null&&Array.isArray(a)&&g(n,["tools"],a.map(u=>mc(e,u))),n}function mw(e,t){const n={},r=h(t,["config"]);r!=null&&g(n,["setup"],pw(e,r));const i=h(t,["model"]);return i!==void 0&&g(n,["setup","model"],i),n}function gw(e,t){const n={},r=h(t,["config"]);r!=null&&g(n,["setup"],hw(e,r));const i=h(t,["model"]);return i!==void 0&&g(n,["setup","model"],i),n}function xw(e,t){const n={},r=h(t,["modelTurn"]);r!=null&&g(n,["modelTurn"],w0(e,r));const i=h(t,["turnComplete"]);i!==void 0&&g(n,["turnComplete"],i);const s=h(t,["interrupted"]);return s!==void 0&&g(n,["interrupted"],s),n}function yw(e,t){const n={},r=h(t,["modelTurn"]);r!=null&&g(n,["modelTurn"],b0(e,r));const i=h(t,["turnComplete"]);i!==void 0&&g(n,["turnComplete"],i);const s=h(t,["interrupted"]);return s!==void 0&&g(n,["interrupted"],s),n}function vw(e,t){const n={},r=h(t,["id"]);r!==void 0&&g(n,["id"],r);const i=h(t,["args"]);i!==void 0&&g(n,["args"],i);const s=h(t,["name"]);return s!==void 0&&g(n,["name"],s),n}function ww(e,t){const n={},r=h(t,["args"]);r!==void 0&&g(n,["args"],r);const i=h(t,["name"]);return i!==void 0&&g(n,["name"],i),n}function bw(e,t){const n={},r=h(t,["functionCalls"]);return r!=null&&Array.isArray(r)&&g(n,["functionCalls"],r.map(i=>vw(e,i))),n}function kw(e,t){const n={},r=h(t,["functionCalls"]);return r!=null&&Array.isArray(r)&&g(n,["functionCalls"],r.map(i=>ww(e,i))),n}function Cw(e,t){const n={},r=h(t,["ids"]);return r!==void 0&&g(n,["ids"],r),n}function Nw(e,t){const n={},r=h(t,["ids"]);return r!==void 0&&g(n,["ids"],r),n}function Sw(e,t){const n={},r=h(t,["setupComplete"]);r!==void 0&&g(n,["setupComplete"],r);const i=h(t,["serverContent"]);i!=null&&g(n,["serverContent"],xw(e,i));const s=h(t,["toolCall"]);s!=null&&g(n,["toolCall"],bw(e,s));const o=h(t,["toolCallCancellation"]);return o!=null&&g(n,["toolCallCancellation"],Cw(e,o)),n}function Tw(e,t){const n={},r=h(t,["setupComplete"]);r!==void 0&&g(n,["setupComplete"],r);const i=h(t,["serverContent"]);i!=null&&g(n,["serverContent"],yw(e,i));const s=h(t,["toolCall"]);s!=null&&g(n,["toolCall"],kw(e,s));const o=h(t,["toolCallCancellation"]);return o!=null&&g(n,["toolCallCancellation"],Nw(e,o)),n}async function Ew(e,t,n){let r,i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),e.isVertexAI()?r=Tw(e,i):r=Sw(e,i),t(r)}class Aw{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("This SDK does not yet support the live API for **Google Vertex AI**.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion();let o;const a=Pw(this.apiClient.getDefaultHeaders());if(this.apiClient.isVertexAI())o=`${i}/ws/google.cloud.aiplatform.${s}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(a);else{const y=this.apiClient.getApiKey();o=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateContent?key=${y}`}let u=()=>{};const c=new Promise(y=>{u=y}),d=t.callbacks,f=function(){var y;(y=d==null?void 0:d.onopen)===null||y===void 0||y.call(d),u({})},m=this.apiClient,p={onopen:f,onmessage:y=>{Ew(m,d.onmessage,y)},onerror:(n=d==null?void 0:d.onerror)!==null&&n!==void 0?n:function(y){},onclose:(r=d==null?void 0:d.onclose)!==null&&r!==void 0?r:function(y){}},k=this.webSocketFactory.create(o,jw(a),p);k.connect(),await c;let C=Ft(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const y=this.apiClient.getProject(),x=this.apiClient.getLocation();C=`projects/${y}/locations/${x}/`+C}let A={};const v={model:C,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?A=gw(this.apiClient,v):A=mw(this.apiClient,v),k.send(JSON.stringify(A)),new Iw(k,this.apiClient)}}class Iw{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=We(t,n.turns),t.isVertexAI()?r=r.map(i=>wr(t,i)):r=r.map(i=>xs(t,i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClientRealtimeInput(t,n){let r={};if(!("media"in n)||!n.media)throw new Error(`Failed to convert realtime input "media", type: '${typeof n.media}'`);return r={realtimeInput:{mediaChunks:[n.media]}},r}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)||(r=[n.functionResponses]),r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!t.isVertexAI()&&!("id"in s))throw new Error(fw)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t.turns==null&&t.turnComplete==null&&(t={turnComplete:!0});const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){if(t.media==null)throw new Error("Media is required.");const n=this.tLiveClientRealtimeInput(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function jw(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function Pw(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rw="Content-Type",Mw="User-Agent",_w="x-goog-api-client",Dw="0.2.0",zw=`google-genai-sdk/${Dw}`,Lw="v1beta1",Fw="v1beta",Df=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Ow extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ClientError"}}class zf extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ServerError"}}class Uw{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Lw,i.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`,this.clientOptions.apiKey=void 0):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Fw,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol="wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n){const r=[this.getRequestUrlInternal(n)];return this.clientOptions.vertexai&&!t.startsWith("projects/")&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.constructUrl(t.path,n);if(t.queryParams)for(const[s,o]of Object.entries(t.queryParams))r.searchParams.append(s,String(o));let i={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=t.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n),this.unaryApiCall(r,i,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[i,s]of Object.entries(n))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.constructUrl(t.path,n);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let i={};return i.body=t.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n),this.streamApiCall(r,i,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n){if(n&&n.timeout&&n.timeout>0){const r=new AbortController,i=r.signal;setTimeout(()=>r.abort(),n.timeout),t.signal=i}return t.headers=await this.getHeadersInternal(n),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Lf(i,t.toString()),new g0(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Lf(i,t.toString()),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){var n;return zo(this,arguments,function*(){const i=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";for(;;){const{done:a,value:u}=yield St(i.read());if(a){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=s.decode(u);o+=c;let d=o.match(Df);for(;d;){const f=d[1];try{const m=JSON.parse(f);yield yield St(m),o=o.slice(d[0].length),d=o.match(Df)}catch(m){throw new Error(`exception parsing stream chunk ${f}. ${m}`)}}}}finally{i.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=zw+" "+this.clientOptions.userAgentExtra;return t[Mw]=n,t[_w]=n,t[Rw]="application/json",t}async getHeadersInternal(t){const n=new Headers;if(t&&t.headers)for(const[r,i]of Object.entries(t.headers))n.append(r,i);return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(t,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,o=await s.stat(t);i.sizeBytes=o.size;const a=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=a;const u=await this.fetchUploadUrl(i,n);return s.upload(t,u,this)}async fetchUploadUrl(t,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${t.mimeType}`}};const s={file:t},o=await this.request({path:_e("upload/v1beta/files",s._url),body:JSON.stringify(s),httpMethod:"POST",httpOptions:i});if(!o||!(o!=null&&o.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const a=(r=o==null?void 0:o.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(a===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return a}}async function Lf(e,t,n){var r;if(e===void 0)throw new zf("response is undefined");if(!e.ok){const i=e.status,s=e.statusText;let o;!((r=e.headers.get("content-type"))===null||r===void 0)&&r.includes("application/json")?o=await e.json():o={error:{message:"exception parsing response",code:e.status,status:e.statusText}};const a=`got status: ${i} ${s}. ${JSON.stringify(o)}`;throw i>=400&&i<500?new Ow(a):i>=500&&i<600?new zf(a):new Error(a)}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hw extends pc{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new m0(_o.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t,n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t,n).then(r=>Za(this.apiClient,r))}async listInternal(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const a=$w(this.apiClient,t);return s=_e("None",a._url),o=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(u=>u.json()),i.then(u=>{const c=eb(this.apiClient),d=new Tf;return Object.assign(d,c),d})}else{const a=Bw(this.apiClient,t);return s=_e("files",a._url),o=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(u=>u.json()),i.then(u=>{const c=Zw(this.apiClient,u),d=new Tf;return Object.assign(d,c),d})}}async createInternal(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const a=Ww(this.apiClient,t);return s=_e("",a._url),o=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(u=>u.json()),i.then(u=>{const c=nb(this.apiClient,u),d=new Ef;return Object.assign(d,c),d})}else{const a=Kw(this.apiClient,t);return s=_e("upload/v1beta/files",a._url),o=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(u=>u.json()),i.then(u=>{const c=tb(this.apiClient,u),d=new Ef;return Object.assign(d,c),d})}}async get(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const a=Qw(this.apiClient,t);return s=_e("None",a._url),o=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions}).then(u=>u.json()),i.then(u=>Xw(this.apiClient))}else{const a=Yw(this.apiClient,t);return s=_e("files/{file}",a._url),o=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions}).then(u=>u.json()),i.then(u=>Za(this.apiClient,u))}}}function Vw(e,t,n){const r={},i=h(t,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const s=h(t,["pageToken"]);return n!==void 0&&s!=null&&g(n,["_query","pageToken"],s),r}function Bw(e,t){const n={},r=h(t,["config"]);return r!=null&&g(n,["config"],Vw(e,r,n)),n}function $w(e,t){const n={};if(h(t,["config"])!==void 0)throw new Error("config parameter is not supported in Vertex AI.");return n}function qw(e,t){const n={},r=h(t,["details"]);r!=null&&g(n,["details"],r);const i=h(t,["message"]);i!=null&&g(n,["message"],i);const s=h(t,["code"]);return s!=null&&g(n,["code"],s),n}function Gw(e,t){const n={},r=h(t,["name"]);r!=null&&g(n,["name"],r);const i=h(t,["displayName"]);i!=null&&g(n,["displayName"],i);const s=h(t,["mimeType"]);s!=null&&g(n,["mimeType"],s);const o=h(t,["sizeBytes"]);o!=null&&g(n,["sizeBytes"],o);const a=h(t,["createTime"]);a!=null&&g(n,["createTime"],a);const u=h(t,["expirationTime"]);u!=null&&g(n,["expirationTime"],u);const c=h(t,["updateTime"]);c!=null&&g(n,["updateTime"],c);const d=h(t,["sha256Hash"]);d!=null&&g(n,["sha256Hash"],d);const f=h(t,["uri"]);f!=null&&g(n,["uri"],f);const m=h(t,["downloadUri"]);m!=null&&g(n,["downloadUri"],m);const p=h(t,["state"]);p!=null&&g(n,["state"],p);const k=h(t,["source"]);k!=null&&g(n,["source"],k);const C=h(t,["videoMetadata"]);C!=null&&g(n,["videoMetadata"],C);const A=h(t,["error"]);return A!=null&&g(n,["error"],qw(e,A)),n}function Kw(e,t){const n={},r=h(t,["file"]);r!=null&&g(n,["file"],Gw(e,r));const i=h(t,["config"]);return i!=null&&g(n,["config"],i),n}function Ww(e,t){const n={};if(h(t,["file"])!==void 0)throw new Error("file parameter is not supported in Vertex AI.");if(h(t,["config"])!==void 0)throw new Error("config parameter is not supported in Vertex AI.");return n}function Yw(e,t){const n={},r=h(t,["name"]);r!=null&&g(n,["_url","file"],dv(e,r));const i=h(t,["config"]);return i!=null&&g(n,["config"],i),n}function Qw(e,t){const n={};if(h(t,["name"])!==void 0)throw new Error("name parameter is not supported in Vertex AI.");if(h(t,["config"])!==void 0)throw new Error("config parameter is not supported in Vertex AI.");return n}function Jw(e,t){const n={},r=h(t,["details"]);r!=null&&g(n,["details"],r);const i=h(t,["message"]);i!=null&&g(n,["message"],i);const s=h(t,["code"]);return s!=null&&g(n,["code"],s),n}function Za(e,t){const n={},r=h(t,["name"]);r!=null&&g(n,["name"],r);const i=h(t,["displayName"]);i!=null&&g(n,["displayName"],i);const s=h(t,["mimeType"]);s!=null&&g(n,["mimeType"],s);const o=h(t,["sizeBytes"]);o!=null&&g(n,["sizeBytes"],o);const a=h(t,["createTime"]);a!=null&&g(n,["createTime"],a);const u=h(t,["expirationTime"]);u!=null&&g(n,["expirationTime"],u);const c=h(t,["updateTime"]);c!=null&&g(n,["updateTime"],c);const d=h(t,["sha256Hash"]);d!=null&&g(n,["sha256Hash"],d);const f=h(t,["uri"]);f!=null&&g(n,["uri"],f);const m=h(t,["downloadUri"]);m!=null&&g(n,["downloadUri"],m);const p=h(t,["state"]);p!=null&&g(n,["state"],p);const k=h(t,["source"]);k!=null&&g(n,["source"],k);const C=h(t,["videoMetadata"]);C!=null&&g(n,["videoMetadata"],C);const A=h(t,["error"]);return A!=null&&g(n,["error"],Jw(e,A)),n}function Xw(e,t){return{}}function Zw(e,t){const n={},r=h(t,["nextPageToken"]);r!=null&&g(n,["nextPageToken"],r);const i=h(t,["files"]);return i!=null&&(Array.isArray(i)?g(n,["files"],i.map(s=>Za(e,s))):g(n,["files"],i)),n}function eb(e,t){return{}}function tb(e,t){const n={},r=h(t,["httpHeaders"]);return r!=null&&g(n,["httpHeaders"],r),n}function nb(e,t){const n={},r=h(t,["httpHeaders"]);return r!=null&&g(n,["httpHeaders"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ff(){return new Error(`This feature requires the web or Node specific @google/genai implementation, you can fix this by either:

*Enabling conditional exports for your project [recommended]*

*Using a platform specific import* - Make sure your code imports either '@google/genai/web' or '@google/genai/node' instead of '@google/genai'.
`)}const rb=1024*1024*8;class ib{async upload(t,n,r){throw Ff()}async stat(t){throw Ff()}async uploadBlob(t,n,r){var i,s;let o=0,a=0,u=new g0(new Response),c="upload";for(o=t.size;a<o;){const f=Math.min(rb,o-a),m=t.slice(a,a+f);if(a+f>=o&&(c+=", finalize"),u=await r.request({path:"",body:m,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:n,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(a),"Content-Length":String(f)}}}),a+=f,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i["x-goog-upload-status"])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const d=await(u==null?void 0:u.json());if(((s=u==null?void 0:u.headers)===null||s===void 0?void 0:s["x-goog-upload-status"])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}}class sb{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await new ib().uploadBlob(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return{size:t.size,type:t.type}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ob{create(t,n,r){return new lb(t,n,r)}}class lb{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Of="x-goog-api-key";class ab{constructor(t){this.apiKey=t}async addAuthHeaders(t){t.get(Of)===null&&t.append(Of,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ub="gl-node/";class ys{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey,this.apiVersion=t.apiVersion;const r=new ab(this.apiKey);this.apiClient=new Uw({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:ub+"web",uploader:new sb}),this.models=new t1(this.apiClient),this.live=new Aw(this.apiClient,r,new ob),this.chats=new Zv(this.models,this.apiClient),this.caches=new fv(this.apiClient),this.files=new Hw(this.apiClient)}}const cb={wizStep0Title:" ",wizStep0Subtitle:"  ?",btnSoundOn:" ",btnSoundOff:" ",wizStep1Title:" ",wizStep1Subtitle:"  -",wizStep1Desc:"FastType AI   ,        .",wizStep2Title:" ",wizStep2Desc:"  ,        .",wizStep3Title:"  ",wizStep3Desc:"   .  ,      .",wizDemoInput:"  ",wizDemoOutput:"!  ?",wizStep4Title:" ",wizStep4Desc:"     Google Gemini API.",welcomeTitle:"  ",welcomeSubtitle:"  .",welcomeDesc:"FastType AI          .  ,     .",welcomeDisclaimer:"    API  Google (Gemini).    ,           2 .",feature1Title:" ",feature1Desc:"  .",feature2Title:" ",feature2Desc:"   .",feature3Title:" ",feature3Desc:"Gemini 3 Flash  .",setupTitle:" ",setupDesc:"  API  Google Gemini   .",securityNote:"    .   :     .",apiKeyLabel:" API KEY ",apiKeyTooltip:"       /.",linkGetKey:" ",linkTutorial:"",startBtn:"",btnHaveKey:" API Key",btnNoKey:"  / ",guideTitle:"  API ",guideStep0:"  Google AI Studio (   ).",guideStep1:"  'Create API Key'    .",guideStep2:" 'Create API key in new project'.    .",guideStep3:"  .",guideGoToGoogle:"  Google AI Studio",guideDone:" ",guideRepeat:" ",getKeyLink:"   Gemini",keyStorageInfo:"     .",placeholder:"  ... (  )",chars:".",btnRecord:" (Alt+R)",btnStop:" (Alt+R)",btnDevRecord:" (DEV)",btnEnhance:" ",btnUndo:"",btnRedo:"",btnSpeak:" ",statusTyping:"...",statusThinking:"...",statusDictCheck:"...",statusAiFixing:": ...",statusAiFinalizing:": ...",statusScriptFix:"-...",statusGrammar:" ...",statusCorrecting:"...",statusEnhancing:"...",statusRecording:"...",statusTranscribing:"...",statusDictation:" (  )",statusDone:"",statusIdle:"  ",statusPaused:" ",statusError:" ",btnPause:"",btnResume:"",nothingToImprove:" .   .",groupActive:" ",groupSilence:" ",groupModel:" ",settingsTitle:" ",settingsActive:" ",settingsMiniScripts:"-",settingsMiniScriptsDesc:"     ( )",settingsDevMode:" ",settingsDevModeDesc:"   (Visualizer Test)",settingsDelay:" (ms)",settingsDelayDesc:"    ",settingsFinalization:"  ()",settingsEconomy:" ",settingsEconomyDesc:"   .      .",settingsMonochrome:" ",settingsMonochromeDesc:"   .    .",settingsVoiceControl:"  (Hands-Free)",settingsVoiceControlDesc:"    .",settingsWakeWord:" ",vcActivated:"  ",settingsFreeTier:"  ( )",settingsPaidTier:"  ( )",paidFeatureTooltip:"    (Paid Tier)",howItWorksTitle:" ",howItWorksDesc:`1. : 
2. :  
3. :  ()
4. :  ()
5. :  
6. : `,changeKey:" API ",footer:"FastType AI",clipboardTitle:"  (Alt+V)",clipboardEmpty:" ",clipboardCopy:"",clipboardClear:"",clipboardEnable:".  ",clipboardSearch:"...",tooltipLang:" ",tooltipStats:" ",tooltipSettings:" (Alt+S)",tooltipMin:"",tooltipMax:"",tooltipClose:"",tooltipNoColors:":   ()",tooltipColors:":  ()",btnHeaderClear:" ",btnHeaderCopy:"",btnHeaderPaste:"",detailDictation:` : 
:  
:   `,detailTyping:` : 
:   
:  `,detailDictCheck:` : ...
 :  ()
 :  (  )`,detailAiFixing:` : 
: Gemini 
:  `,detailFinalizing:` : 
: 
: `,detailScriptFix:` -
:    
:  `,detailReset:"   (Reset)",detailPause:"/ ",tooltipPauseAction:" (Alt+A)",tooltipResumeAction:" (Alt+A)",tooltipPin:"   ",tooltipUnpin:" ",modeSmart:":   + ",modeTransOnly:":   ()",pausedScriptFix:"-: ",pausedDictCheck:": ",pausedAiFixing:"-: ",pausedFinalizing:": ",waveProcessing:"...",waveProcessed:"",visGeminiLabel:"GEMINI",visListening:"",visEditing:" / .",visAnalyzingListening:" / ",visAnalyzing:"",visDone:"",testMic:" ",stopTest:"",noiseLevel:" ",silenceZone:" ()",speechZone:" ()",micAccessError:"   ",audioModelTitle:" ",modelFlash:"Gemini 2.5 Flash ()",modelPro:"Gemini 2.5 Pro ()",ttsVoiceTitle:"  (TTS)",btnHelp:"",btnHome:"",tooltipHelp:"  (F1)",tooltipHome:"   (Home)",historyTitle:"  (Alt+H)",historyEmpty:" ",historyRestore:"  ",historyCurrent:" ",tagRaw:" ",tagDictated:"",tagProcessed:"",tagFinalized:"",tagEnhanced:"",tagRawDictation:"  ()",tagAiCorrected:" ",helpModalTitle:" FastType AI",helpSection1:" ",helpDesc1:"    .    :  () ->  () ->  () ->   () ->  ().  = .",helpSection2:" ",helpDesc2:`Ctrl+Z - 
Alt+R - 
Alt+V - 
Alt+H - 
Alt+S - 
Alt+A - /`,helpSection3:"",helpDesc3:"  .    .",lockTitle:"  ",lockDesc:" .  PIN-.",lockPlaceholder:" PIN",lockBtn:"",lockCreateTitle:" ",lockCreateDesc:" PIN    .",lockCreatePlaceholder:" PIN",lockSetBtn:" PIN",lockError:" PIN-",lockRemove:" PIN-",lockChange:" PIN-",lockVerifyOld:"  PIN",lockNew:" PIN",lockSaved:"PIN- ",lockForgot:" PIN / ?",wipeTitle:"!  ",wipeDesc:`   PIN-   . 

     :
  
   
  

  .`,wipeConfirm:",    ",wipeCancel:"",btnCreatePin:" PIN-",btnBack:"",dictStatus:" ",dictRu:" RU",dictEn:" EN",dictWords:"",dictMissing:"",transTitle:"",transInput:" ",transOutput:"",transCopy:"",transClear:"",transLangRuEn:"RU  EN",transLangEnRu:"EN  RU",transPlaceholder:"   ...",tabEditor:"",tabAssist:"",tabTrans:"",tabPlanner:"",uploadMedia:" /",uploadProcessing:"...",dropHere:"  ",dropHint:" (.mp3, .wav)  ",planTitle:"  ",planNewNote:"",planNewTask:"",planDictateNote:" ",planDictateTask:" ",planClearDone:" ",planEmptyTasks:"   ",planEmptyNotes:"   ",planNotePlaceholder:" ...",planTaskPlaceholder:" ...",planModeNote:": ",planModeTask:": "},db={wizStep0Title:"Sound Setup",wizStep0Subtitle:"Enable voice guidance?",btnSoundOn:"Enable Sound",btnSoundOff:"Mute",wizStep1Title:"Welcome",wizStep1Subtitle:"Your Intelligent AI Assistant",wizStep1Desc:"FastType AI speeds up typing, fixes errors on the fly, and helps formulate thoughts.",wizStep2Title:"System Language",wizStep2Desc:"Choose the primary language you write in and want to see the interface in.",wizStep3Title:"Magic in Action",wizStep3Desc:"Just type naturally. AI will understand, correct, and format the text for you.",wizDemoInput:"hello hwo are yuo",wizDemoOutput:"Hello! How are you?",wizStep4Title:"Final Step",wizStep4Desc:"The intelligence requires a Google Gemini API key.",welcomeTitle:"Your Intelligent",welcomeSubtitle:"Typing Assistant.",welcomeDesc:"FastType AI runs in the background. Just type, and we'll handle the rest via a smart pipeline.",welcomeDisclaimer:"The app requires a Google (Gemini) API key. It is free, takes only 2 minutes to set up once.",feature1Title:"Instant Corrections",feature1Desc:"Automatically fixes typos during pauses.",feature2Title:"Style Enhancement",feature2Desc:"Turns drafts into professional text.",feature3Title:"Context Aware",feature3Desc:"Powered by Gemini 3 Flash.",setupTitle:"Access Setup",setupDesc:"Enter your Google Gemini API key to get started.",securityNote:"Developed with AI assistance. We guarantee privacy: data is not shared with third parties.",apiKeyLabel:"ENTER API KEY HERE",apiKeyTooltip:"Your key is stored locally only in your browser/app.",linkGetKey:"Get Key",linkTutorial:"Tutorial",startBtn:"Let's Go",btnHaveKey:"Enter API Key",btnNoKey:"No Key / Tutorial",guideTitle:"How to get an API Key",guideStep0:"Accept the Google AI Studio agreements (if it's your first time).",guideStep1:"Click 'Create API Key' in the top-left corner.",guideStep2:"Select 'Create API key in new project'. It will create a project automatically.",guideStep3:"Copy the generated key.",guideGoToGoogle:"Go to Google AI Studio",guideDone:"Enter Key",guideRepeat:"Repeat Tutorial",getKeyLink:"Get free Gemini API Key",keyStorageInfo:"Key is stored locally on your device.",placeholder:"Start typing here... (or drop file)",chars:"chars",btnRecord:"Dictate (Alt+R)",btnStop:"Stop (Alt+R)",btnDevRecord:"Dictate (DEV)",btnEnhance:"Improve Text",btnUndo:"Undo",btnRedo:"Redo",btnSpeak:"Speak Text",statusTyping:"Typing...",statusThinking:"Waiting...",statusDictCheck:"Dictionary...",statusAiFixing:"AI: Fixing...",statusAiFinalizing:"AI: Finalizing...",statusScriptFix:"Auto-Format...",statusGrammar:"AI Error Check...",statusCorrecting:"Fixing...",statusEnhancing:"Enhancing...",statusRecording:"Recording...",statusTranscribing:"Processing...",statusDictation:"Dictation (Speech to Text)",statusDone:"Done",statusIdle:"Ready",statusPaused:"Paused",statusError:"Network Error",btnPause:"Pause",btnResume:"Resume",nothingToImprove:"Text is perfect. No improvements needed.",groupActive:"Active Correction",groupSilence:"Silence Threshold",groupModel:"Processing Model",settingsTitle:"Analysis Settings",settingsActive:"Active Mode",settingsMiniScripts:"Mini-Scripts",settingsMiniScriptsDesc:"Instant regex fixes for spacing and case (No AI)",settingsDevMode:"Developer Mode",settingsDevModeDesc:"Enables test buttons (Visualizer Test)",settingsDelay:"Delay (ms)",settingsDelayDesc:"Wait time before processing",settingsFinalization:"Idle Finalization (sec)",settingsEconomy:"Traffic Saver",settingsEconomyDesc:"Checks local dictionary first.",settingsMonochrome:"Grey Only Mode",settingsMonochromeDesc:"Disable text colors. Logic runs in background.",settingsVoiceControl:"Voice Control (Hands-Free)",settingsVoiceControlDesc:"Starts recording when you say the phrase",settingsWakeWord:"Trigger Phrase",vcActivated:"Voice Command Recognized",settingsFreeTier:"Free Key (No Audio)",settingsPaidTier:"Paid Key (Full Access)",paidFeatureTooltip:"Only for Paid Tier keys",howItWorksTitle:"COLOR LEGEND",howItWorksDesc:`1. Grey: Input
2. Yellow: Checking
3. Red: Dict Error
4. Blue: Verified (OK)
5. Purple: AI Fixed
6. Green: Final
7. Orange: Dictation`,changeKey:"Change API Key",footer:"FastType AI",clipboardTitle:"Clipboard History (Alt+V)",clipboardEmpty:"History is empty",clipboardCopy:"Copy",clipboardClear:"Clear All",clipboardEnable:"Enable History",clipboardSearch:"Search...",tooltipLang:"Switch Language",tooltipStats:"Corrections made",tooltipSettings:"Settings (Alt+S)",tooltipMin:"Minimize",tooltipMax:"Maximize",tooltipClose:"Close",tooltipNoColors:"Mode: Gray Only",tooltipColors:"Mode: Colorful",btnHeaderClear:"Clear All",btnHeaderCopy:"Copy All",btnHeaderPaste:"Paste",detailDictation:` COLOR: Orange
ACTION: Voice Recording
RESULT: Audio to Text`,detailTyping:` COLOR: Grey
ACTION: Keyboard Input
RESULT: Raw Text`,detailDictCheck:` Yellow: Checking...
 Blue: Found (OK)
 Red: Error (Not in DB)`,detailAiFixing:` COLOR: Purple
ACTION: Gemini Fixing
RESULT: Clean Text`,detailFinalizing:` COLOR: Green
ACTION: Finalizing
RESULT: Punctuation`,detailScriptFix:` AUTO-FORMAT
ACTION: Spacing and capitalization
RESULT: Clean Format`,detailReset:"Reset Processor State",detailPause:"Pause/Resume Processing",tooltipPauseAction:"Pause Processing (Alt+A)",tooltipResumeAction:"Resume Processing (Alt+A)",tooltipPin:"Pin Always on Top",tooltipUnpin:"Unpin",modeSmart:"Mode: Smart Dictation + Editor",modeTransOnly:"Mode: Transcription Only",pausedScriptFix:"Auto-Format: OFF",pausedDictCheck:"Dictionary: OFF",pausedAiFixing:"AI Fixing: OFF",pausedFinalizing:"Finalization: OFF",waveProcessing:"Processing...",waveProcessed:"Processed",visGeminiLabel:"GEMINI",visListening:"LISTENING",visEditing:"LISTENING / EDIT",visAnalyzingListening:"LISTENING / ANALYZE",visAnalyzing:"ANALYZING",visDone:"DONE",testMic:"Test Microphone",stopTest:"Stop",noiseLevel:"Noise Level",silenceZone:"Silence (Ignored)",speechZone:"Speech (Recorded)",micAccessError:"Microphone access denied",audioModelTitle:"Audio Model",modelFlash:"Gemini 2.5 Flash (Fast)",modelPro:"Gemini 2.5 Pro (Smart)",ttsVoiceTitle:"TTS Voice",btnHelp:"Help",btnHome:"Home",tooltipHelp:"Quick Help (F1)",tooltipHome:"Return to Welcome (Home)",historyTitle:"Version History (Alt+H)",historyEmpty:"History is empty",historyRestore:"Restore this version",historyCurrent:"Current Version",tagRaw:"Raw Input",tagDictated:"Dictated",tagProcessed:"Edited",tagFinalized:"Final",tagEnhanced:"Enhanced",tagRawDictation:"Raw Dictation",tagAiCorrected:"AI Corrected",helpModalTitle:"FastType AI Help",helpSection1:"Core Features",helpDesc1:"Pipeline: Checking (Yellow) -> Error (Red) -> Verified (Blue) -> AI Fixed (Purple) -> Final (Green). Orange = Dictation.",helpSection2:"Shortcuts",helpDesc2:`Ctrl+Z - Undo
Alt+R - Record
Alt+V - Clipboard
Alt+H - History
Alt+S - Settings
Alt+A - Pause/Resume`,helpSection3:"Microphone",helpDesc3:"Click and speak. AI automatically filters silence.",lockTitle:"System Login",lockDesc:"Application is locked. Enter PIN to continue.",lockPlaceholder:"Enter PIN",lockBtn:"Unlock",lockCreateTitle:"App Protection",lockCreateDesc:"Set a PIN code to protect access.",lockCreatePlaceholder:"Create a PIN",lockSetBtn:"Save PIN",lockError:"Invalid PIN code",lockRemove:"Remove PIN",lockChange:"Change PIN",lockVerifyOld:"Enter current PIN",lockNew:"New PIN",lockSaved:"PIN code set",lockForgot:"Forgot PIN / Reset?",wipeTitle:"WARNING! FULL RESET",wipeDesc:`This action will remove the PIN code and unlock access. 

 ALL DATA WILL BE DELETED:
 Text History
 Clipboard Content
 Personal Settings

This action cannot be undone.`,wipeConfirm:"Yes, wipe data and unlock",wipeCancel:"Cancel",btnCreatePin:"Create PIN Code",btnBack:"Back",dictStatus:"Dictionary Check",dictRu:"RU Database",dictEn:"EN Database",dictWords:"words",dictMissing:"Empty",transTitle:"Translator",transInput:"Source Text",transOutput:"Translation",transCopy:"Copy",transClear:"Clear",transLangRuEn:"RU  EN",transLangEnRu:"EN  RU",transPlaceholder:"Enter text to translate...",tabEditor:"Editor",tabAssist:"Assistant",tabTrans:"Translator",tabPlanner:"Planner",uploadMedia:"Upload Audio/Image",uploadProcessing:"Processing...",dropHere:"Drop file here",dropHint:"Audio (.mp3, .wav) or Images",planTitle:"Notes & Tasks",planNewNote:"Note",planNewTask:"Task",planDictateNote:"Dictate Note",planDictateTask:"Dictate Task",planClearDone:"Clear Done",planEmptyTasks:"No tasks for today",planEmptyNotes:"Your notes will appear here",planNotePlaceholder:"Note content...",planTaskPlaceholder:"New task...",planModeNote:"Mode: Notes",planModeTask:"Mode: Tasks"},fb={wizStep0Title:"Ovoz sozlamalari",wizStep0Subtitle:"Ovozli yordamchini yoqasizmi?",btnSoundOn:"Ovozni yoqish",btnSoundOff:"Ovozsiz",wizStep1Title:"Xush kelibsiz",wizStep1Subtitle:"Sizning aqlli yordamchingiz",wizStep1Desc:"FastType AI matn terishni tezlashtiradi va xatolarni tuzatadi.",wizStep2Title:"Tizim tili",wizStep2Desc:"Siz yozadigan va interfeysda ko'rishni istagan asosiy tilni tanlang.",wizStep3Title:"Sehrli harakat",wizStep3Desc:"Shunchaki yozing. AI tushunadi, tuzatadi va formatlaydi.",wizDemoInput:"salom ishlar qalay",wizDemoOutput:"Salom! Ishlar qalay?",wizStep4Title:"So'nggi qadam",wizStep4Desc:"Intellekt ishlashi uchun Google Gemini API kaliti kerak.",welcomeTitle:"Sizning aqlli",welcomeSubtitle:"yordamchingiz.",welcomeDesc:"FastType AI fon rejimida ishlaydi. Siz yozing, qolganini biz hal qilamiz.",welcomeDisclaimer:"Dastur ishlashi uchun Google (Gemini) API kaliti talab qilinadi. Bu bepul.",feature1Title:"Tezkor tuzatish",feature1Desc:"Xatolarni avtomatik tuzatadi.",feature2Title:"Uslubni yaxshilash",feature2Desc:"Qoralamani toza matnga aylantiradi.",feature3Title:"Kontekstni tushunish",feature3Desc:"Gemini 3 Flash kuchi bilan.",setupTitle:"Kirishni sozlash",setupDesc:"Boshlash uchun Google Gemini API kalitini kiriting.",securityNote:"Ma'lumotlar uchinchi shaxslarga berilmaydi.",apiKeyLabel:"API KALITNI BU YERGA KIRITING",apiKeyTooltip:"Kalit faqat sizning qurilmangizda saqlanadi.",linkGetKey:"Kalit olish",linkTutorial:"Qo'llanma",startBtn:"Boshladik",btnHaveKey:"Kalitni kiritish",btnNoKey:"Kalit yo'q / O'qish",guideTitle:"API Kalitni qanday olish mumkin",guideStep0:"Google AI Studio shartlarini qabul qiling.",guideStep1:"Yuqori chap burchakda 'Create API Key' ni bosing.",guideStep2:"'Create API key in new project' ni tanlang.",guideStep3:"Olingan kalitni nusxalang.",guideGoToGoogle:"Google AI Studio-ga o'tish",guideDone:"Kalitni kiritish",guideRepeat:"Qo'llanmani qaytarish",getKeyLink:"Bepul Gemini API kalitini olish",keyStorageInfo:"Kalit lokal saqlanadi.",placeholder:"Shu yerda yozishni boshlang... (yoki faylni tashlang)",chars:"belgi",btnRecord:"Yozish (Alt+R)",btnStop:"To'xtatish (Alt+R)",btnDevRecord:"Yozish (DEV)",btnEnhance:"Matnni yaxshilash",btnUndo:"Bekor qilish",btnRedo:"Qaytarish",btnSpeak:"Matnni o'qish",statusTyping:"Yozilmoqda...",statusThinking:"Kutilmoqda...",statusDictCheck:"Lug'at...",statusAiFixing:"AI: Tuzatish...",statusAiFinalizing:"AI: Yakunlash...",statusScriptFix:"Avto-Format...",statusGrammar:"Xatolar tekshiruvi...",statusCorrecting:"Tuzatish...",statusEnhancing:"Yaxshilash...",statusRecording:"Yozib olish...",statusTranscribing:"Qayta ishlash...",statusDictation:"Diktovka",statusDone:"Tayyor",statusIdle:"Tayyor",statusPaused:"Pauza",statusError:"Tarmoq xatosi",btnPause:"Pauza",btnResume:"Davom etish",nothingToImprove:"Matn mukammal. Yaxshilash talab etilmaydi.",groupActive:"Faol tuzatish",groupSilence:"Jimlik chegarasi",groupModel:"Qayta ishlash modeli",settingsTitle:"Tahlil sozlamalari",settingsActive:"Faol rejim",settingsMiniScripts:"Mini-Skriptlar",settingsMiniScriptsDesc:"Bo'shliqlar va registrlarni tezkor tuzatish (AI-siz)",settingsDevMode:"Dasturchi rejimi",settingsDevModeDesc:"Test tugmalarini yoqish",settingsDelay:"Kechikish (ms)",settingsDelayDesc:"Tuzatishdan oldingi kutish vaqti",settingsFinalization:"Yakunlash vaqti (sek)",settingsEconomy:"Traffikni tejash",settingsEconomyDesc:"Avval lokal lug'atni tekshiradi.",settingsMonochrome:"Kulrang rejim",settingsMonochromeDesc:"Rangli matnni o'chirish. Mantiq fonda ishlaydi.",settingsVoiceControl:"Ovozli boshqaruv",settingsVoiceControlDesc:"Gapirish orqali yozishni boshlash",settingsWakeWord:"Faollashtirish so'zi",vcActivated:"Ovozli buyruq qabul qilindi",settingsFreeTier:"Bepul Kalit (Ovozsiz)",settingsPaidTier:"Pullik Kalit (To'liq)",paidFeatureTooltip:"Faqat pullik kalitlar uchun",howItWorksTitle:"RANGLAR MA'NOSI",howItWorksDesc:`1. Kulrang: Kiritish
2. Sariq: Tekshirish
3. Qizil: Xato (Lug'atda yo'q)
4. Ko'k: Tasdiqlandi (OK)
5. Binafsha: AI tuzatdi
6. Yashil: Yakuniy`,changeKey:"Kalitni o'zgartirish",footer:"FastType AI",clipboardTitle:"Bufer tarixi (Alt+V)",clipboardEmpty:"Tarix bo'sh",clipboardCopy:"Nusxalash",clipboardClear:"Tozalash",clipboardEnable:"Tarixni yoqish",clipboardSearch:"Qidirish...",tooltipLang:"Tilni o'zgartirish",tooltipStats:"Tuzatishlar soni",tooltipSettings:"Sozlamalar (Alt+S)",tooltipMin:"Kichraytirish",tooltipMax:"Kattalashtirish",tooltipClose:"Yopish",tooltipNoColors:"Rejim: Rangsiz (Kulrang)",tooltipColors:"Rejim: Rangli",btnHeaderClear:"Hammasini o'chirish",btnHeaderCopy:"Nusxalash",btnHeaderPaste:"Qo'yish",detailDictation:` RANG: To'q sariq
HARAKAT: Ovoz yozish
NATIJA: Audio matnga`,detailTyping:` RANG: Kulrang
HARAKAT: Klaviatura kiritish
NATIJA: Xom matn`,detailDictCheck:` Sariq: Tekshirish...
 Ko'k: Topildi (OK)
 Qizil: Xato (Bazada yo'q)`,detailAiFixing:` RANG: Binafsha
HARAKAT: Gemini tuzatmoqda
NATIJA: Toza matn`,detailFinalizing:` RANG: Yashil
HARAKAT: Yakunlash
NATIJA: Tinish belgilari`,detailScriptFix:` AVTO-FORMAT
HARAKAT: Bo'shliqlar va registr
NATIJA: Toza format`,detailReset:"Jarayonni qayta boshlash",detailPause:"To'xtatish/Davom ettirish",tooltipPauseAction:"To'xtatish (Alt+A)",tooltipResumeAction:"Davom ettirish (Alt+A)",tooltipPin:"Yuqoriga mahkamlash",tooltipUnpin:"Yechish",modeSmart:"Rejim: Aqlli diktovka + Tahrir",modeTransOnly:"Rejim: Faqat transkripsiya",pausedScriptFix:"Avto-format: O'CHIQ",pausedDictCheck:"Lug'at: O'CHIQ",pausedAiFixing:"AI tuzatish: O'CHIQ",pausedFinalizing:"Yakunlash: O'CHIQ",waveProcessing:"Qayta ishlanmoqda...",waveProcessed:"Bajarildi",visGeminiLabel:"GEMINI",visListening:"ESHITMOQDA",visEditing:"ESHITISH / TAHRIR",visAnalyzingListening:"ESHITISH / TAHLIL",visAnalyzing:"TAHLIL",visDone:"TAYYOR",testMic:"Mikrofon testi",stopTest:"To'xtatish",noiseLevel:"Shovqin darajasi",silenceZone:"Jimlik (E'tiborsiz)",speechZone:"Nutq (Yozib olish)",micAccessError:"Mikrofonga ruxsat yo'q",audioModelTitle:"Audio Model",modelFlash:"Gemini 2.5 Flash (Tez)",modelPro:"Gemini 2.5 Pro (Aqlli)",ttsVoiceTitle:"Ovoz (TTS)",btnHelp:"Yordam",btnHome:"Uyga",tooltipHelp:"Qisqa yordam (F1)",tooltipHome:"Bosh sahifaga qaytish",historyTitle:"Tarix (Alt+H)",historyEmpty:"Tarix bo'sh",historyRestore:"Ushbu versiyani tiklash",historyCurrent:"Joriy versiya",tagRaw:"Xom kiritish",tagDictated:"Aytib yozilgan",tagProcessed:"Tahrirlangan",tagFinalized:"Yakuniy",tagEnhanced:"Yaxshilangan",tagRawDictation:"Xom diktovka",tagAiCorrected:"AI tuzatgan",helpModalTitle:"FastType AI Yordam",helpSection1:"Asosiy funksiyalar",helpDesc1:"Konveyer: Tekshirish (Sariq) -> Xato (Qizil) -> Tasdiq (Ko'k) -> AI Tuzatish (Binafsha) -> Yakuniy (Yashil). To'q sariq = Diktovka.",helpSection2:"Tugmalar",helpDesc2:`Ctrl+Z - Bekor qilish
Alt+R - Yozish
Alt+V - Bufer
Alt+H - Tarix
Alt+S - Sozlamalar
Alt+A - Pauza`,helpSection3:"Mikrofon",helpDesc3:"Bosing va gapiring. AI jimlikni avtomatik olib tashlaydi.",lockTitle:"Tizimga kirish",lockDesc:"Ilova qulflangan. PIN kodni kiriting.",lockPlaceholder:"PIN kiritish",lockBtn:"Ochish",lockCreateTitle:"Himoya",lockCreateDesc:"Kirishni himoya qilish uchun PIN o'rnating.",lockCreatePlaceholder:"PIN yarating",lockSetBtn:"Saqlash",lockError:"Xato PIN kod",lockRemove:"PINni o'chirish",lockChange:"PINni o'zgartirish",lockVerifyOld:"Joriy PINni kiriting",lockNew:"Yangi PIN",lockSaved:"PIN o'rnatildi",lockForgot:"Unutdingizmi / Reset?",wipeTitle:"DIQQAT! TO'LIQ TOZALASH",wipeDesc:`Bu harakat PIN kodni va barcha ma'lumotlarni o'chirib tashlaydi:
 Tarix
 Bufer
 Sozlamalar

Ortga qaytarib bo'lmaydi.`,wipeConfirm:"Ha, tozalash va kirish",wipeCancel:"Bekor qilish",btnCreatePin:"PIN yaratish",btnBack:"Orqaga",dictStatus:"Lug'at tekshiruvi",dictRu:"RU Bazasi",dictEn:"EN Bazasi",dictWords:"so'z",dictMissing:"Bo'sh",transTitle:"Tarjimon",transInput:"Manba matn",transOutput:"Tarjima",transCopy:"Nusxalash",transClear:"Tozalash",transLangRuEn:"RU  EN",transLangEnRu:"EN  RU",transPlaceholder:"Tarjima uchun matn kiriting...",tabEditor:"Tahrirlovchi",tabAssist:"Yordamchi",tabTrans:"Tarjimon",uploadMedia:"Audio/Rasm yuklash",uploadProcessing:"Qayta ishlanmoqda...",dropHere:"Faylni tashlang",dropHint:"Audio (.mp3, .wav) yoki Rasm"},pb={wizStep0Title:" ",wizStep0Subtitle:"  ?",btnSoundOn:" ",btnSoundOff:"",wizStep1Title:" ",wizStep1Subtitle:"  ",wizStep1Desc:"FastType AI      .",wizStep2Title:" ",wizStep2Desc:"        .",wizStep3Title:" ",wizStep3Desc:" .  ,   .",wizDemoInput:"  ",wizDemoOutput:"!  ?",wizStep4Title:" ",wizStep4Desc:"   Google Gemini API  .",welcomeTitle:" ",welcomeSubtitle:".",welcomeDesc:"FastType AI   .  ,    .",welcomeDisclaimer:"   Google (Gemini) API   .  .",feature1Title:" ",feature1Desc:"  .",feature2Title:" ",feature2Desc:"   .",feature3Title:" ",feature3Desc:"Gemini 3 Flash  .",setupTitle:" ",setupDesc:"  Google Gemini API  .",securityNote:"   .",apiKeyLabel:"API    ",apiKeyTooltip:"    .",linkGetKey:" ",linkTutorial:"",startBtn:"",btnHaveKey:" ",btnNoKey:"  / ",guideTitle:"API    ",guideStep0:"Google AI Studio   .",guideStep1:"   'Create API Key'  .",guideStep2:"'Create API key in new project'  .",guideStep3:"  .",guideGoToGoogle:"Google AI Studio- ",guideDone:" ",guideRepeat:" ",getKeyLink:" Gemini API  ",keyStorageInfo:"  .",placeholder:"   ... (  )",chars:"",btnRecord:" (Alt+R)",btnStop:" (Alt+R)",btnDevRecord:" (DEV)",btnEnhance:" ",btnUndo:" ",btnRedo:"",btnSpeak:" ",statusTyping:"...",statusThinking:"...",statusDictCheck:"...",statusAiFixing:": ...",statusAiFinalizing:": ...",statusScriptFix:"-...",statusGrammar:" ...",statusCorrecting:"...",statusEnhancing:"...",statusRecording:" ...",statusTranscribing:" ...",statusDictation:"",statusDone:"",statusIdle:"",statusPaused:"",statusError:" ",btnPause:"",btnResume:" ",nothingToImprove:" .   .",groupActive:" ",groupSilence:" ",groupModel:"  ",settingsTitle:" ",settingsActive:" ",settingsMiniScripts:"-",settingsMiniScriptsDesc:"     (-)",settingsDevMode:" ",settingsDevModeDesc:"  ",settingsDelay:" ()",settingsDelayDesc:"   ",settingsFinalization:"  ()",settingsEconomy:" ",settingsEconomyDesc:"   .",settingsMonochrome:" ",settingsMonochromeDesc:"  .   .",settingsVoiceControl:" ",settingsVoiceControlDesc:"   ",settingsWakeWord:" ",vcActivated:"   ",settingsFreeTier:"  ()",settingsPaidTier:"  ()",paidFeatureTooltip:"   ",howItWorksTitle:" ",howItWorksDesc:`1. : 
2. : 
3. :  ( )
4. :  ()
5. :  
6. : `,changeKey:" ",footer:"FastType AI",clipboardTitle:"  (Alt+V)",clipboardEmpty:" ",clipboardCopy:"",clipboardClear:"",clipboardEnable:" ",clipboardSearch:"...",tooltipLang:" ",tooltipStats:" ",tooltipSettings:" (Alt+S)",tooltipMin:"",tooltipMax:"",tooltipClose:"",tooltipNoColors:":  ()",tooltipColors:": ",btnHeaderClear:" ",btnHeaderCopy:"",btnHeaderPaste:"",detailDictation:` :  
:  
:  `,detailTyping:` : 
:  
:  `,detailDictCheck:` : ...
 :  ()
 :  ( )`,detailAiFixing:` : 
: Gemini 
:  `,detailFinalizing:` : 
: 
:  `,detailScriptFix:` -
:   
:  `,detailReset:"  ",detailPause:"/ ",tooltipPauseAction:" (Alt+A)",tooltipResumeAction:"  (Alt+A)",tooltipPin:" ",tooltipUnpin:"",modeSmart:":   + ",modeTransOnly:":  ",pausedScriptFix:"-: ",pausedDictCheck:": ",pausedAiFixing:" : ",pausedFinalizing:": ",waveProcessing:" ...",waveProcessed:"",visGeminiLabel:"GEMINI",visListening:"",visEditing:" / ",visAnalyzingListening:" / ",visAnalyzing:"",visDone:"",testMic:" ",stopTest:"",noiseLevel:" ",silenceZone:" ()",speechZone:" ( )",micAccessError:"  ",audioModelTitle:" ",modelFlash:"Gemini 2.5 Flash ()",modelPro:"Gemini 2.5 Pro ()",ttsVoiceTitle:" (TTS)",btnHelp:"",btnHome:"",tooltipHelp:"  (F1)",tooltipHome:"  ",historyTitle:" (Alt+H)",historyEmpty:" ",historyRestore:"  ",historyCurrent:" ",tagRaw:" ",tagDictated:" ",tagProcessed:"",tagFinalized:"",tagEnhanced:"",tagRawDictation:" ",tagAiCorrected:" ",helpModalTitle:"FastType AI ",helpSection1:" ",helpDesc1:":  () ->  () ->  () ->   () ->  ().   = .",helpSection2:"",helpDesc2:`Ctrl+Z -  
Alt+R - 
Alt+V - 
Alt+H - 
Alt+S - 
Alt+A - `,helpSection3:"",helpDesc3:"  .     .",lockTitle:" ",lockDesc:" . PIN  .",lockPlaceholder:"PIN ",lockBtn:"",lockCreateTitle:"",lockCreateDesc:"    PIN .",lockCreatePlaceholder:"PIN ",lockSetBtn:"",lockError:" PIN ",lockRemove:"PIN ",lockChange:"PIN ",lockVerifyOld:" PIN ",lockNew:" PIN",lockSaved:"PIN ",lockForgot:" / Reset?",wipeTitle:"!  ",wipeDesc:`  PIN      :
 
 
 

  .`,wipeConfirm:",   ",wipeCancel:" ",btnCreatePin:"PIN ",btnBack:"",dictStatus:" ",dictRu:"RU ",dictEn:"EN ",dictWords:"",dictMissing:"",transTitle:"",transInput:" ",transOutput:"",transCopy:"",transClear:"",transLangRuEn:"RU  EN",transLangEnRu:"EN  RU",transPlaceholder:"   ...",tabEditor:"",tabAssist:"",tabTrans:"",uploadMedia:"/ ",uploadProcessing:" ...",dropHere:" ",dropHint:" (.mp3, .wav)  "},hb={fixTypos:`
    .
 :
1.    .     .
2.     (    ).
3.    .
4.    -    .
`,finalize:`
  .     ,   ,      .
 :
1.   .            .     .
2.         (, ).
3.  :   -   .         .
4.     (***)   .
5.      .
6.    .
`,combined:`
   .
:       .   (*).
:      .     ,   .
   .
`,system:" .",enhance:`
  ,  .
 :
1.   .    .
2.      .
3.       .
   .
`,transcribe:`
 :     .
  (   ):
1.    (, 00:00:00 --> 00:00:05).
2.    (: [], [], [], []).
3.     " ", " ", " ".
4.    .
5.       .
   .
`,ocr:`
 :     (OCR).
 :
1.   ,    .
2.     "  ", " ".
3.   ( ),   .
4.   ,   .
`},mb={fixTypos:`
Fix ONLY spelling typos.
STRICT RULES:
1. DO NOT change punctuation.
2. DO NOT change capitalization yet.
3. Return ONLY corrected text.
`,finalize:`
You are a proofreader. Fix grammar, spelling, punctuation, and remove profanity.
STRICT RULES:
1. PRESERVE ORIGINAL STRUCTURE. Do not rewrite commands or fragments into full sentences.
2. DO NOT add new words or change the meaning.
3. PROFANITY: Remove profane filler words. Replace meaningful profanity with mild euphemisms (heck, darn).
4. NEVER USE ASTERISKS (***) or masking symbols.
5. Remove accidental repetitions.
6. Return ONLY the corrected text.
`,combined:`
Fix errors and punctuation.
CENSORSHIP: Remove profanity or replace with mild euphemisms. NO ASTERISKS (*).
IMPORTANT: Preserve the original structure and style. Do not rewrite, only fix errors.
RETURN ONLY THE ONE BEST VERSION.
`,system:"You are a typo fixer.",enhance:`
Polish the text for clarity and grammar.
RULES:
1. Only ONE final version.
2. Do not alter technical meaning or commands.
3. Remove or soften profanity.
RETURN ONLY THE TEXT.
`,transcribe:`
Your task: Transcribe HUMAN SPEECH from audio.
STRICT PROHIBITIONS (NEVER DO THIS):
1. NO timecodes (e.g., 00:00:00 --> 00:00:05).
2. NO sound descriptions (e.g., [music], [laughter], [silence], [bell]).
3. NO meta-comments like "No speech", "End of recording".
4. Ignore stutters.
5. If there is no speech, return an empty string.
RETURN ONLY THE SPOKEN TEXT.
`,ocr:`
Your task: Extract text from the image (OCR).
STRICT RULES:
1. Return ONLY the text visible in the image.
2. DO NOT add descriptions like "The image says", "Here is the text".
3. Preserve line breaks where appropriate.
4. If there is no text, return an empty string.
`},gb={fixTypos:`
Faqat imlo xatolarini tuzat.
QAT'IY QOIDALAR:
1. Tinish belgilarini O'ZGARTIRMA. Oxiriga nuqta qo'yma.
2. Harf kattaligini O'ZGARTIRMA.
3. FAQAT tuzatilgan matnni qaytar.
4. Agar matn to'g'ri bo'lsa, o'zgarishsiz qaytar.
`,finalize:`
Sen muharrirsan. Grammatika, imlo va tinish belgilarini tuzat.
QAT'IY QOIDALAR:
1. ASL TUZILISHNI SAQLA. Buyruq yoki qisqa iboralarni hikoyaga aylantirma.
2. Ma'noni o'zgartirma va ortiqcha so'z qo'shma.
3. So'kish va behayo so'zlarni olib tashla yoki yumshoqroq sinonim bilan almashtir.
4. Hech qachon yulduzcha (***) ishlatma.
5. Tasodifiy takrorlanishlarni olib tashla.
6. FAQAT tuzatilgan matnni qaytar.
`,combined:`
Xatolar va tinish belgilarini tuzat.
SENZURA: Behayo so'zlarni olib tashla.
MUHIM: Asl uslubni saqlab qol. Qayta yozma, faqat xatolarni tuzat.
FAQAT NATIJANI QAYTAR.
`,system:"Sen muharrirsan.",enhance:`
Matnni ravonroq va chiroyli qil.
QOIDALAR:
1. Faqat BITTA eng yaxshi variantni qaytar.
2. Texnik ma'noni buzma.
3. Behayo so'zlarni olib tashla.
FAQAT MATNNI QAYTAR.
`,transcribe:`
Vazifa: Audiodan INSON NUTQINI yozib olish (transkripsiya).
TAQIQLANADI:
1. Vaqt belgilarini yozma (00:00).
2. Tovushlarni tasvirlama ([musiqa], [kulgi]).
3. Izoh yozma ("so'z yo'q", "tugadi").
4. Tutilishlarni e'tiborga olma.
5. Agar nutq bo'lmasa, bo'sh qator qaytar.
FAQAT AYTILGAN SO'ZLARNI QAYTAR.
`,ocr:`
Vazifa: Rasmdagi matnni ajratib ol (OCR).
QOIDALAR:
1. Faqat rasmdagi ko'ringan matnni qaytar.
2. Izoh qo'shma ("Rasmda yozilgan...").
3. Qatorlarni saqlab qol.
4. Matn bo'lmasa, bo'sh qator qaytar.
`},xb={fixTypos:`
   .
 :
1.   .   .
2.   .
3.    .
4.    ,  .
`,finalize:`
 . ,     .
 :
1.   .      .
2.      .
3.           .
4.    (***) .
5.    .
6.    .
`,combined:`
    .
:    .
:    .  ,   .
  .
`,system:" .",enhance:`
    .
:
1.      .
2.   .
3.    .
  .
`,transcribe:`
:      ().
:
1.    (00:00).
2.   ([], []).
3.   (" ", "").
4.   .
5.   ,   .
   .
`,ocr:`
:     (OCR).
:
1.     .
2.   (" ...").
3.   .
4.  ,   .
`},Lo={ru:{ui:cb,prompts:hb},en:{ui:db,prompts:mb},"uz-latn":{ui:fb,prompts:gb},"uz-cyrl":{ui:pb,prompts:xb}},Ze=e=>{var t;return((t=Lo[e])==null?void 0:t.ui)||Lo.en.ui},ii=e=>{var t;return((t=Lo[e])==null?void 0:t.prompts)||Lo.en.prompts},Uf={ru:["","","","","","","","","","","","","","","","","","-","-","-","","","",""," "," "," ","",""],en:["ding","beep","click","clack","thump","noise","silence","sound","music","applause","laughter","sigh","cough","squeak","knock","tap","m","m-m","uh","uh-uh","hm","hmm","subtitles","transcription","to be continued","end of recording","beep","boop"]},Hf={ru:["","","-","",""," ","",""," "," ","","","","","","","",""],en:["um","umm","uh","er","ah","like","you know","sort of","kind of","basically","literally","actually","so","mean","right","okay","well","hmm","huh"]},k0=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),C0=(e,t)=>{if(!e)return"";let n=e;n=n.replace(/\d{2}:\d{2}:\d{2}([.,]\d{3})?(\s*-->\s*\d{2}:\d{2}:\d{2}([.,]\d{3})?)?/g,""),n=n.replace(/\d{2}:\d{2}/g,""),n=n.replace(/\[.*?\]/g," "),n=n.replace(/\((||||music|sound|silence|laughter|applause|).*?\)/gi," ");const r=t==="ru"?Uf.ru:Uf.en,i=n.trim().toLowerCase().replace(/[.,!?;:]/g,"");if(r.includes(i))return"";r.forEach(o=>{const a=new RegExp(`(^|[^a-zA-Z--])${k0(o)}($|[^a-zA-Z--])`,"gi");n=n.replace(a,"$1$2").replace(/\s+/g," ")});const s=t==="ru"?/(^|\s)([^])(\s|$)/gi:/(^|\s)([^ai])(\s|$)/gi;return n=n.replace(s," "),n.replace(/\s+/g," ").trim()},gc=(e,t)=>{if(!e)return"";let n=e;return(t==="ru"?Hf.ru:Hf.en).forEach(i=>{const s=new RegExp(`(^|[^a-zA-Z--])${k0(i)}($|[^a-zA-Z--])`,"gi");n=n.replace(s,"$1$2")}),n.replace(/\s+/g," ").trim()},vs=e=>{if(!e)return"";let t=e.split(`
`);t=t.filter(r=>{const i=r.trim();return!(/^[\*\-]\s/.test(i)||/^(here is|sure|||| |option).*?[:\n]/i.test(i))}),t.length===0&&(t=e.split(`
`).map(r=>r.replace(/^\s*[\*\-]\s/,"")));let n=t.join(" ").trim();return n=n.replace(/\([a-zA-Z\s\d]+\)/g,""),n=n.replace(/\b\w+=\w+\b/g,""),n=n.replace(/^Wait,.*?:/i,""),n=n.replace(/^(Here is|Sure|Okay|||| ).*?[:\n]/i,""),n=n.replace(/\s+/g," ").trim(),n},Vf=e=>{if(!e)return"";let t=e.replace(/([.,:;])([a-zA-Z--])/g,"$1 $2");return t=t.replace(/([?!])([a-zA-Z--0-9])/g,"$1 $2"),t},Bf=e=>e?e.replace(/\s+([.,!?:;])/g,"$1"):"",Bl=e=>{const t="`qwertyuiop[]asdfghjkl;'zxcvbnm,./~QWERTYUIOP{}ASDFGHJKL:\"ZXCVBNM<>?@#$^&",n='.,";:?',r=new Map;for(let i=0;i<t.length;i++)r.set(t[i],n[i]||""),r.set(n[i],t[i]||"");return e.split("").map(i=>r.get(i)||i).join("")};let xt=null;const $f=e=>{e&&(xt=new ys({apiKey:e}))};class tr extends Error{constructor(n,r,i=!1){super(n);gl(this,"code");gl(this,"isFatal");this.code=r,this.isFatal=i}}const si=(e,t)=>{const n=e.message||e.toString(),r=t==="ru"||t==="uz-cyrl";return n.includes("400")||n.includes("INVALID_ARGUMENT")?n.includes("API key")?new tr(r?" API ":"Invalid API Key","KEY_INVALID",!0):new tr(r?"  (400)":"Bad Request (400)","BAD_REQUEST",!1):n.includes("401")||n.includes("403")||n.includes("PERMISSION_DENIED")?new tr(r?" :  API ":"Access Denied: Check API Key","KEY_PERMS",!0):n.includes("429")||n.includes("RESOURCE_EXHAUSTED")||n.includes("Too Many Requests")?new tr(r?"   (429)":"Quota Exceeded (429)","QUOTA",!0):n.includes("500")||n.includes("503")||n.includes("INTERNAL")?new tr(r?"  Google":"Google Server Error","SERVER",!1):n.includes("fetch")||n.includes("network")||n.includes("Failed to fetch")?new tr(r?"   ":"No Internet Connection","NETWORK",!0):new tr(r?" API":"API Error","UNKNOWN",!1)};function yb(e){const t=atob(e),n=t.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=t.charCodeAt(i);return r}async function vb(e,t,n=24e3,r=1){const i=new Int16Array(e.buffer),s=i.length/r,o=t.createBuffer(r,s,n);for(let a=0;a<r;a++){const u=o.getChannelData(a);for(let c=0;c<s;c++)u[c]=i[c*r+a]/32768}return o}const oi=(e,t,n)=>new Promise((r,i)=>{const s=setTimeout(()=>i(new Error("TIMEOUT")),t);e.then(o=>{clearTimeout(s),r(o)},o=>{clearTimeout(s),i(o)})}),wb=async(e,t)=>{var n,r,i,s,o,a;if(!xt)throw new Error("API Key not set");if(!e||!e.trim())return null;try{const c=(a=(o=(s=(i=(r=(n=(await xt.models.generateContent({model:"gemini-2.5-flash-preview-tts",contents:[{parts:[{text:e}]}],config:{responseModalities:[Do.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:t||"Puck"}}}}})).candidates)==null?void 0:n[0])==null?void 0:r.content)==null?void 0:i.parts)==null?void 0:s[0])==null?void 0:o.inlineData)==null?void 0:a.data;if(c){const d=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3}),f=d.createGain(),m=yb(c),p=await vb(m,d,24e3,1),k=d.createBufferSource();return k.buffer=p,k.connect(f),f.connect(d.destination),k.start(),c}return null}catch(u){throw console.error("TTS Error:",u),new Error("TTS Failed")}},bb=async(e,t)=>{var r;if(!e||e.trim().length===0||!xt)return e;const n=ii(t);try{const i=xt.models.generateContent({model:"gemini-3-flash-preview",contents:e,config:{systemInstruction:n.fixTypos,temperature:.2,maxOutputTokens:2048,thinkingConfig:{thinkingBudget:0}}});let o=((r=(await oi(i,15e3,"Gemini Timeout")).text)==null?void 0:r.trim())||e;return o=vs(o),o}catch(i){if(i.message==="TIMEOUT")return e;throw si(i,t)}},kb=async(e,t)=>{var r;if(!e||e.trim().length===0||!xt)return e;const n=ii(t);try{const i=xt.models.generateContent({model:"gemini-3-flash-preview",contents:e,config:{systemInstruction:n.finalize,temperature:.1,maxOutputTokens:8192,thinkingConfig:{thinkingBudget:0}}});let o=((r=(await oi(i,2e4,"Gemini Timeout")).text)==null?void 0:r.trim())||e;return o=gc(o,t),o=vs(o),o}catch(i){if(i.message==="TIMEOUT")return e;throw si(i,t)}},Cb=async(e,t)=>{var r;if(!e||e.trim().length===0||!xt)return e;const n=ii(t);try{const i=xt.models.generateContent({model:"gemini-3-flash-preview",contents:e,config:{systemInstruction:n.combined,temperature:.1,maxOutputTokens:8192,thinkingConfig:{thinkingBudget:0}}});let o=((r=(await oi(i,25e3,"Gemini Timeout")).text)==null?void 0:r.trim())||e;return o=gc(o,t),o=vs(o),o}catch(i){if(i.message==="TIMEOUT")return e;throw si(i,t)}},Nb=async(e,t)=>{if(!e||e.trim().length===0||!xt)return e;const n=ii(t);try{const r=xt.models.generateContent({model:"gemini-3-flash-preview",contents:e,config:{systemInstruction:n.enhance,temperature:.1,maxOutputTokens:8192,thinkingConfig:{thinkingBudget:0}}});let s=(await oi(r,25e3,"Gemini Timeout")).text||e;return s=gc(s,t),s=vs(s),s}catch(r){if(r.message==="TIMEOUT")return e;throw si(r,t)}},Sb=e=>{if(!e||e.length<10)return!1;if(e.toLowerCase().split(",  ").length>3)return!0;const r=e.split(/[.!?]\s+/);return r.length>3&&new Set(r.map(s=>s.trim().toLowerCase())).size<r.length/2},eu=async(e,t,n,r="gemini-2.5-flash")=>{if(!xt)throw new Error("API Key not set");const i=ii(n);try{if(!e||e.length<100)return"";const s=xt.models.generateContent({model:r,contents:{parts:[{inlineData:{mimeType:t,data:e}}]},config:{systemInstruction:i.transcribe,temperature:.1}});let a=(await oi(s,15e3,"Gemini Transcription Timeout")).text||"";if(a=C0(a,n),!a)return"";const u=a.toLowerCase().trim();return u.includes("  ")||u.includes("expert transcriber")||u.startsWith(" , ")||Sb(a)?"":a}catch(s){if(s.message==="TIMEOUT")return"";throw si(s,n)}},Tb=async(e,t,n)=>{if(!xt)throw new Error("API Key not set");const r=ii(n);try{const i=xt.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[{inlineData:{mimeType:t,data:e}}]},config:{systemInstruction:r.ocr,temperature:.1}});let o=(await oi(i,2e4,"OCR Timeout")).text||"";return o=vs(o),o}catch(i){if(i.message==="TIMEOUT")return"";throw si(i,n)}},qf="fasttype_editor_state_v2",Eb=()=>{const t=(()=>{try{const F=localStorage.getItem(qf);if(F){const O=JSON.parse(F);return{text:O.text||"",committedLength:O.committedLength||0,correctedLength:O.correctedLength||O.processedLength||0,checkedLength:O.checkedLength||0,history:O.history||[],historyIndex:O.historyIndex||0,finalizedSentences:O.finalizedSentences||[],aiFixedSegments:O.aiFixedSegments||[],dictatedSegments:O.dictatedSegments||[],unknownSegments:O.unknownSegments||[]}}}catch(F){console.error("Failed to load editor state",F)}return null})(),[n,r]=w.useState((t==null?void 0:t.text)||""),[i,s]=w.useState((t==null?void 0:t.committedLength)||0),[o,a]=w.useState((t==null?void 0:t.correctedLength)||0),[u,c]=w.useState((t==null?void 0:t.checkedLength)||0),[d,f]=w.useState(0),[m,p]=w.useState(Date.now()),[k,C]=w.useState(new Set((t==null?void 0:t.aiFixedSegments)||[])),[A,v]=w.useState(new Set((t==null?void 0:t.dictatedSegments)||[])),[y,x]=w.useState(new Set((t==null?void 0:t.unknownSegments)||[])),[S,I]=w.useState(new Set((t==null?void 0:t.finalizedSentences)||[])),[N,j]=w.useState(t&&t.history&&t.history.length>0?t.history:[{id:"init",text:"",committedLength:0,correctedLength:0,processedLength:0,checkedLength:0,timestamp:Date.now(),tags:[],finalizedSentences:[],aiFixedSegments:[],dictatedSegments:[],unknownSegments:[]}]),[E,z]=w.useState((t==null?void 0:t.historyIndex)||0),L=w.useRef(!1);w.useEffect(()=>{const F={text:n,committedLength:i,correctedLength:o,checkedLength:u,history:N,historyIndex:E,finalizedSentences:Array.from(S),aiFixedSegments:Array.from(k),dictatedSegments:Array.from(A),unknownSegments:Array.from(y)};localStorage.setItem(qf,JSON.stringify(F))},[n,i,o,u,N,E,S,k,A,y]),w.useEffect(()=>{z(F=>Math.min(F,N.length-1))},[N.length]);const D=w.useCallback(F=>{const O=F.trim();O.length>0&&I(b=>{const H=new Set(b);return H.add(O),H})},[]),R=w.useCallback(F=>{const O=F.trim();O.length>0&&C(b=>{const H=new Set(b);return H.add(O),H})},[]),_=w.useCallback(F=>{const O=F.trim();O.length>0&&v(b=>{const H=new Set(b);return H.add(O),H})},[]),B=w.useCallback(F=>{F.length>0&&x(O=>{const b=new Set(O);return F.forEach(H=>b.add(H.toLowerCase())),b})},[]),U=w.useCallback(F=>{if(L.current||F.length===0)return;let O=N.slice(0,E+1),b=!1;for(const H of F){const J=O[O.length-1];!H.tags.includes("raw_dictation")&&J&&J.text===H.text&&J.correctedLength===H.correctedLength&&(!H.tags.length||JSON.stringify(J.tags)===JSON.stringify(H.tags))||(O.push({id:Math.random().toString(36).substring(2,9),text:H.text,committedLength:H.committedLength,correctedLength:H.correctedLength,processedLength:H.correctedLength,checkedLength:H.checkedLength??Math.max(H.correctedLength,u),timestamp:Date.now(),tags:H.tags,finalizedSentences:Array.from(S),aiFixedSegments:Array.from(k),dictatedSegments:Array.from(A),unknownSegments:Array.from(y)}),b=!0)}b&&(O.length>50&&(O=O.slice(O.length-50)),j(O),z(O.length-1),p(Date.now()))},[N,E,S,k,A,y,u]),Z=w.useCallback((F,O,b,H=[])=>{U([{text:F,committedLength:O,correctedLength:b,tags:H}])},[U]),W=w.useCallback(()=>{if(E>0){L.current=!0;const F=N[E-1];return r(F.text),s(F.committedLength),a(F.correctedLength??F.processedLength),c(F.checkedLength??F.correctedLength??F.processedLength),f(0),F.finalizedSentences&&I(new Set(F.finalizedSentences)),F.aiFixedSegments&&C(new Set(F.aiFixedSegments)),F.dictatedSegments&&v(new Set(F.dictatedSegments)),F.unknownSegments&&x(new Set(F.unknownSegments)),z(E-1),setTimeout(()=>{L.current=!1},50),!0}return!1},[N,E]),P=w.useCallback(()=>{if(E<N.length-1){L.current=!0;const F=N[E+1];return r(F.text),s(F.committedLength),a(F.correctedLength??F.processedLength),c(F.checkedLength??F.correctedLength??F.processedLength),f(0),F.finalizedSentences&&I(new Set(F.finalizedSentences)),F.aiFixedSegments&&C(new Set(F.aiFixedSegments)),F.dictatedSegments&&v(new Set(F.dictatedSegments)),F.unknownSegments&&x(new Set(F.unknownSegments)),z(E+1),setTimeout(()=>{L.current=!1},50),!0}return!1},[N,E]),q=w.useCallback(F=>{if(F>=0&&F<N.length){L.current=!0;const O=N[F];return r(O.text),s(O.committedLength),a(O.correctedLength??O.processedLength),c(O.checkedLength??O.correctedLength??O.processedLength),f(0),O.finalizedSentences&&I(new Set(O.finalizedSentences)),O.aiFixedSegments&&C(new Set(O.aiFixedSegments)),O.dictatedSegments&&v(new Set(O.dictatedSegments)),O.unknownSegments&&x(new Set(O.unknownSegments)),z(F),setTimeout(()=>{L.current=!1},50),!0}return!1},[N]),T=w.useCallback(()=>{if(N.length===0)return;const O={...N[E],id:"reset_"+Date.now(),tags:["reset"]};j([O]),z(0),f(0),p(Date.now())},[N,E]);return{text:n,setText:r,committedLength:i,setCommittedLength:s,correctedLength:o,setCorrectedLength:a,checkedLength:u,setCheckedLength:c,checkingLength:d,setCheckingLength:f,finalizedSentences:S,addFinalizedSentence:D,aiFixedSegments:k,addAiFixedSegment:R,dictatedSegments:A,addDictatedSegment:_,unknownSegments:y,addUnknownSegments:B,saveCheckpoint:Z,saveCheckpoints:U,undo:W,redo:P,jumpTo:q,clearHistory:T,canUndo:E>0,canRedo:E<N.length-1,isUndoing:L.current,history:N,historyIndex:E,lastUpdate:m}},Gf=e=>{const n=`./sounds/misc/${e==="on"?"mic_on":"mic_off"}`,r=new Audio(`${n}.mp3`);r.volume=.4,r.play().catch(()=>{const i=new Audio(`${n}.wav`);i.volume=.4,i.play().catch(()=>{})})},xc=(e=25)=>{const[t,n]=w.useState(!1),[r,i]=w.useState(null),s=w.useRef(!1),o=w.useRef(null),a=w.useRef(null),u=w.useRef(null),c=w.useRef(null),d=w.useRef(null),f=w.useRef([]),m=w.useRef(null),p=w.useRef(null),k=w.useRef(null),C=w.useRef(null),A=w.useRef(null),v=w.useRef(!1),y=w.useRef(0),x=1200,S=6e3,I=w.useCallback(()=>{if(s.current=!1,n(!1),i(null),A.current&&(clearInterval(A.current),A.current=null),d.current&&d.current.state!=="inactive")try{d.current.stop()}catch(D){console.warn("Error stopping recorder:",D)}if(d.current=null,m.current&&(m.current.getTracks().forEach(D=>{try{D.stop()}catch{}}),m.current=null),o.current&&o.current.state!=="closed"){try{o.current.close()}catch{}o.current=null}},[]);w.useEffect(()=>()=>I(),[I]);const N=D=>{let R=0;for(let _=0;_<D.length;_++){const B=(D[_]-128)/128;R+=B*B}return Math.sqrt(R/D.length)},j=async D=>{if(!(!D||D.size===0)){k.current&&k.current("analyzing_listening");try{const R=new FileReader;R.onloadend=()=>{const _=R.result;if(_&&p.current){const B=_.split(",")[1],U=D.type||"audio/webm";p.current(B,U).catch(Z=>console.error("Chunk upload error:",Z))}},R.readAsDataURL(D)}catch(R){console.error("Chunk processing failed",R)}}},E=D=>{let R;MediaRecorder.isTypeSupported("audio/webm;codecs=opus")?R={mimeType:"audio/webm;codecs=opus"}:MediaRecorder.isTypeSupported("audio/webm")?R={mimeType:"audio/webm"}:MediaRecorder.isTypeSupported("audio/mp4")&&(R={mimeType:"audio/mp4"});try{const _=new MediaRecorder(D,R);d.current=_,f.current=[],y.current=0,k.current&&k.current("listening"),_.ondataavailable=B=>{B.data.size>0&&f.current.push(B.data)},_.onstop=()=>{if(f.current.length>0){const B=_.mimeType||"audio/webm",U=new Blob(f.current,{type:B});f.current=[],j(U)}},_.start()}catch(_){console.error("Failed to create MediaRecorder",_),I()}},z=w.useCallback(async(D,R)=>{try{I(),p.current=D,k.current=R||null;const _=await navigator.mediaDevices.getUserMedia({audio:!0});m.current=_;const B=new(window.AudioContext||window.webkitAudioContext);B.state==="suspended"&&await B.resume(),o.current=B;const U=B.createAnalyser();U.fftSize=512,U.smoothingTimeConstant=.3,a.current=U;const Z=B.createMediaStreamSource(_);u.current=Z,Z.connect(U);const W=U.frequencyBinCount,P=new Uint8Array(W);c.current=P;const q=new Uint8Array(W);return E(_),Gf("on"),s.current=!0,n(!0),C.current=Date.now(),A.current=setInterval(()=>{if(!s.current){I();return}if(!a.current||!d.current)return;a.current.getByteFrequencyData(P),a.current.getByteTimeDomainData(q);const T=N(q);T>y.current&&(y.current=T);const F=Math.max(.01,e/100*.2);if(T>F)C.current=null,i(null);else if(C.current===null)C.current=Date.now();else{const b=Date.now()-C.current,H=Math.max(0,S-b),J=Math.ceil(H/1e3);if(J<=5&&J>0?i(M=>M!==J?J:M):J<=0&&i(0),b>S){L();return}b>x&&!v.current&&(v.current=!0,k.current&&k.current("editing"),d.current.state==="recording"&&d.current.stop(),m.current&&m.current.active&&E(m.current),setTimeout(()=>{v.current=!1},200))}},50),!0}catch(_){return console.error("Error accessing microphone:",_),I(),!1}},[e,I]),L=w.useCallback(async()=>{s.current&&Gf("off"),I()},[I]);return{isRecording:t,startRecording:z,stopRecording:L,visualizerDataRef:c,autoStopCountdown:r}},N0=w.createContext(void 0),Ab=({children:e})=>{const[t,n]=w.useState([]),r=w.useRef(null),i=w.useCallback(o=>{n(a=>a.filter(u=>u.id!==o))},[]),s=w.useCallback((o,a,u=3e3)=>{n(c=>{if(c.length>0&&c[0].message===o)return c;r.current&&(clearTimeout(r.current),r.current=null);const d=Math.random().toString(36).substring(2,9),f={id:d,message:o,type:a,duration:u};return u>0&&(r.current=setTimeout(()=>{i(d)},u)),[f]})},[i]);return l.jsx(N0.Provider,{value:{notifications:t,addNotification:s,removeNotification:i},children:e})},Ht=()=>{const e=w.useContext(N0);if(!e)throw new Error("useNotification must be used within a NotificationProvider");return e},Ib=({undo:e,redo:t,toggleRecording:n,toggleProcessing:r,onStatusChange:i,onPauseProcessing:s})=>{const o=w.useCallback(()=>{e()&&(i("paused"),s())},[e,i,s]),a=w.useCallback(()=>{t()&&(i("paused"),s())},[t,i,s]),u=w.useCallback(c=>{(c.metaKey||c.ctrlKey)&&c.key==="z"?(c.preventDefault(),c.shiftKey?a():o()):(c.metaKey||c.ctrlKey)&&c.key==="y"&&(c.preventDefault(),a())},[o,a]);return w.useEffect(()=>{const c=d=>{d.repeat||(d.altKey&&d.code==="KeyR"&&(d.preventDefault(),n()),d.altKey&&d.code==="KeyA"&&(d.preventDefault(),r()))};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[n,r]),{handleUndo:o,handleRedo:a,handleKeyDown:u}},Ei=e=>{const t=[],n=/([^.!?]+[.!?]+(\s+|$))/g;let r,i=0;for(;(r=n.exec(e))!==null;){if(r.index>i){const s=e.slice(i,r.index);t.push({text:s,start:i,end:r.index,isSeparator:!0})}t.push({text:r[0],start:r.index,end:r.index+r[0].length,isSeparator:!1}),i=r.index+r[0].length}return i<e.length&&t.push({text:e.slice(i),start:i,end:e.length,isSeparator:!1}),t},Ln=e=>e.trim(),S0=e=>{if(!e)return e;let t=e;return t=t.replace(/\s+([.,!?:;])/g,"$1"),t=t.replace(/([.,!?:;])([a-zA-Z--])/g,"$1 $2"),t=t.replace(/([.!?]\s+)([a-z-])/g,(n,r,i)=>r+i.toUpperCase()),t=t.replace(/^(\s*)([a-z-])/g,(n,r,i)=>r+i.toUpperCase()),t=t.replace(/[ \t]{2,}/g," "),t},jb=({textRef:e,committedLengthRef:t,correctedLengthRef:n,checkedLengthRef:r,checkingLengthRef:i,settingsRef:s,statusRef:o,language:a,setText:u,setCorrectedLength:c,setCommittedLength:d,setCheckedLength:f,setCheckingLength:m,finalizedSentences:p,addFinalizedSentence:k,addAiFixedSegment:C,unknownSegments:A,addUnknownSegments:v,saveCheckpoint:y,saveCheckpoints:x,onStatsUpdate:S,onStatusChange:I,onAutoFormat:N,workerRef:j,onFatalError:E})=>{const z=w.useRef(!1),L=w.useRef(null),D=w.useRef(Date.now()),[R,_]=w.useState(null),B=M=>M.toLowerCase().replace(/[^a-zA-Z--0-9'`]/g,"").trim(),U=async()=>{const M=e.current,K=s.current,se=K.enabled;let ge=t.current;const ye=M.slice(ge);if(ye.length>0&&se){const Q=Ei(ye);let $=0;for(const G of Q){const fe=Ln(G.text);if(p.has(fe))$=G.end;else break}if($>0){const G=ge+$;d(G),c(Math.max(n.current,G)),f(Math.max(r.current,G)),m(Math.max(i.current,G));return}}const ee=t.current,Y=n.current,oe=r.current,ue=M.slice(ee),ce=Ei(ue);let de=ue.length;for(const Q of ce)if(p.has(Ln(Q.text))){de=Q.start;break}const we=ee+de;if(K.miniScripts){const Q=S0(M);if(Q!==M){N(Q),I("script_fix");return}}if(se){const Q=M.slice(ee,we),$=Q.match(/[.!?](\s|$)/g);if(($&&$.length>=1||Q.length>10)&&K.fixTypos&&K.fixPunctuation){await P(Q,ee);return}}if(se&&K.fixPunctuation){const Q=Math.min(Y,we);if(Q>ee){const $=M.slice(ee,Q),G=Array.from($.matchAll(/[.!?](\s|$)/g));if(G.length>0){const he=(G[G.length-1].index??0)+1,xe=$.slice(0,he);if(xe.trim().length>1){await T(xe,ee);return}}}}const Ne=Math.min(oe,we);if(se&&Ne>Y){const Q=M.slice(Y,Ne);if(Q.trim()){const $=Q.split(/([ \n\t.,!?;:()""\-\/_+]+)/);let G=!1;for(const fe of $){const he=B(fe);if(he.length>3&&A.has(he)){G=!0;break}}G&&K.fixTypos?await q(Q,Y):(!G||!K.fixTypos)&&c(Ne);return}else{c(Ne);return}}if(K.dictionaryCheck&&we>oe){const Q=M.slice(oe,we);let $=0;const G=Q.split(/(\s+)/);let fe=0,he="",xe=!1;for(const ae of G){if($+=ae.length,ae.trim())if(fe++,he=ae.trim(),/[.!?]/.test(he)){xe=!0;break}else xe=!1;if(fe>=3&&(B(he).length>3||xe))break}const ke=oe+$>=M.length,V=fe>=3&&(B(he).length>3||xe),X=ke&&fe>=1&&B(he).length>3;if($>0&&(V||ke||xe||X)){const ae=Q.slice(0,$);await Z(ae,oe);return}}o.current!=="done"&&o.current!=="error"&&o.current!=="speaking"&&(se?o.current!=="idle"&&I("idle"):o.current!=="paused"&&I("paused"))},Z=(M,K)=>new Promise(se=>{if(!j.current){se();return}I("dict_check");const ge=M.length,ye=K+ge;m(ye);const ee=ue=>{const{type:ce,unknownWords:de}=ue.data;if(ce==="CHECK_RESULT"){if(oe(),ye>e.current.length){m(0),se();return}de&&de.length>0&&v(de),f(ye),se()}},Y=setTimeout(()=>{oe(),f(ye),se()},3e3),oe=()=>{var ue;(ue=j.current)==null||ue.removeEventListener("message",ee),clearTimeout(Y)};j.current.addEventListener("message",ee),j.current.postMessage({type:"CHECK_CHUNK",text:M,language:a})}),W=M=>{console.error("AI Processor Error:",M),M.isFatal?E(M.message):I("error")},P=async(M,K)=>{var ee;I("ai_finalizing"),_({start:K,end:K+M.length,type:"finalizing"});const se={text:e.current,committed:t.current,corrected:n.current},ge=((ee=M.match(/^\s*/))==null?void 0:ee[0])||"",ye=M.trim();try{const Y=await Cb(ye,a);let oe=ge+Y;if(oe=Vf(oe),oe=Bf(oe),/[.!?]$/.test(oe)&&!/\s$/.test(oe)){const ce=e.current[K+M.length];(!ce||ce!==" "&&ce!==".")&&(oe+=" ")}if(oe!==M){const ue=F(K,K+M.length,oe);if(!ue){I("idle");return}S(1);const ce=K+oe.length;d(ce),c(ce),f(ce),m(ce),Ei(oe).forEach(we=>{k(we.text)}),C(Ln(oe)),x([{text:se.text,committedLength:se.committed,correctedLength:se.corrected,checkedLength:r.current,tags:["pre_ai"]},{text:ue,committedLength:ce,correctedLength:ce,checkedLength:ce,tags:["finalized","ai_corrected","bulk"]}]),I("done")}else{if(e.current.length>=K+M.length){const ue=K+M.length;d(ue),c(ue),f(ue),m(ue),Ei(M).forEach(de=>{k(de.text)})}I("idle")}}catch(Y){W(Y)}finally{_(null)}},q=async(M,K)=>{var Y,oe;I("ai_fixing"),_({start:K,end:K+M.length,type:"fixing"});const se={text:e.current,committed:t.current,corrected:n.current},ge=((Y=M.match(/^\s*/))==null?void 0:Y[0])||"",ye=((oe=M.match(/\s*$/))==null?void 0:oe[0])||"",ee=M.trim();if(!ee){c(K+M.length),_(null);return}try{const ue=await bb(ee,a),ce=ge+ue+ye;if(ce!==M){const de=F(K,K+M.length,ce);if(!de){I("error");return}S(1),C(Ln(ce));const we=K+ce.length;c(we),f(Math.max(r.current,we)),x([{text:se.text,committedLength:se.committed,correctedLength:se.corrected,checkedLength:r.current,tags:["pre_ai"]},{text:de,committedLength:t.current,correctedLength:we,checkedLength:Math.max(r.current,we),tags:["processed","ai_corrected"]}])}else e.current.length>=K+M.length&&c(K+M.length)}catch(ue){e.current.length>=K+M.length&&c(K+M.length),W(ue)}finally{_(null)}},T=async(M,K)=>{var ee;I("ai_finalizing"),_({start:K,end:K+M.length,type:"finalizing"});const se={text:e.current,committed:t.current,corrected:n.current},ge=((ee=M.match(/^\s*/))==null?void 0:ee[0])||"",ye=M.trim();try{const Y=await kb(ye,a);let oe=ge+Y;if(oe=Vf(oe),oe=Bf(oe),/[.!?]$/.test(oe)&&!/\s$/.test(oe)){const ce=e.current[K+M.length];(!ce||ce!==" ")&&(oe+=" ")}if(oe!==M){const ue=F(K,K+M.length,oe);if(!ue){I("error");return}S(1);const ce=K+oe.length;d(ce);const de=Math.max(n.current,ce);c(de),f(Math.max(r.current,ce)),k(oe),x([{text:se.text,committedLength:se.committed,correctedLength:se.corrected,checkedLength:r.current,tags:["pre_ai"]},{text:ue,committedLength:ce,correctedLength:ce,checkedLength:Math.max(r.current,ce),tags:["finalized","ai_corrected"]}]),I("done")}else e.current.length>=K+M.length&&(d(K+M.length),k(M)),I("idle")}catch(Y){e.current.length>=K+M.length&&d(K+M.length),W(Y)}finally{_(null)}},F=(M,K,se)=>{const ge=e.current;if(M>ge.length||K>ge.length)return console.warn("Attempted replace out of bounds. Aborting."),null;const ye=ge.slice(0,M),ee=ge.slice(K),Y=ye+se+ee;return u(Y),Y},O=w.useRef(U);w.useEffect(()=>{O.current=U}),w.useEffect(()=>{const{fixTypos:M,fixPunctuation:K,dictionaryCheck:se}=s.current;(M||K||se)&&!z.current&&O.current&&O.current()},[s.current.fixTypos,s.current.fixPunctuation,s.current.dictionaryCheck]);const b=w.useCallback(async()=>{if(!(z.current||o.current==="recording"||Date.now()-D.current<s.current.debounceMs)){z.current=!0;try{O.current&&await O.current()}catch(se){console.error("Processor Cycle Error:",se),se.isFatal?E(se.message):I("error")}finally{z.current=!1}}},[s,o,I,E]);w.useEffect(()=>(L.current=setInterval(b,500),()=>{L.current&&clearInterval(L.current)}),[b]);const H=w.useCallback(()=>{D.current=Date.now()},[]),J=w.useCallback(()=>{z.current=!1,_(null),I("idle")},[I]);return{notifyActivity:H,reset:J,processingOverlay:R}},Pb=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Rb=["the","be","to","of","and","a","in","that","have","i","it","for","not","on","with","he","as","you","do","at","this","but","his","by","from","they","we","say","her","she","or","an","will","my","one","all","would","there","their","what","so","up","out","if","about","who","get","which","go","me","when","make","can","like","time","no","just","him","know","take","people","into","year","your","good","some","could","them","see","other","than","then","now","look","only","come","its","over","think","also","back","after","use","two","how","our","work","first","well","way","even","new","want","because","any","these","give","day","most","us","hello","hi","ok","yes","thanks"],Mb=["va","bilan","uchun","bu","bir","deb","da","ni","ki","bo'lib","ham","o'z","esa","edi","qilish","kerak","uni","undan","ular","biz","siz","men","u","nima","qanday","qachon","kim","yer","suv","yaxshi","yomon","katta","kichik","ko'p","oz","assalomu","alaykum","rahmat","xayr","bugun","ertaga"],_b=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],cr=new Set(Pb),ss=new Set(Rb),os=new Set(Mb),ls=new Set(_b),$l=e=>e.toLowerCase().replace(/[^a-zA-Z--0-9'`]/g,"").trim(),Db=()=>({ruCount:cr.size,enCount:ss.size,uzLatnCount:os.size,uzCyrlCount:ls.size,ruLoaded:cr.size>200,enLoaded:ss.size>200,uzLatnLoaded:os.size>100,uzCyrlLoaded:ls.size>100}),zb=async()=>{console.log("Starting dictionary load...");const e=async(t,n,r)=>{try{const i=await fetch(t);if(i.ok){const s=await i.json();Array.isArray(s)&&s.forEach(o=>{typeof o=="string"?n.add($l(o)):o.word&&typeof o.word=="string"&&n.add($l(o.word))}),console.log(`Loaded ${r} Dictionary: ${n.size} words`)}}catch{}};try{if(await Promise.all([e("./dictionaries/en/oxford-3000.json",ss,"EN"),e("./dictionaries/ru/dictionary.json",cr,"RU"),e("./dictionaries/uz-latn/dictionary.json",os,"UZ-LATN"),e("./dictionaries/uz-cyrl/dictionary.json",ls,"UZ-CYRL")]),cr.size<200){const t=["nouns.csv","adjectives.csv","verbs.csv","others.csv"];for(const n of t)try{const r=await fetch(`./dictionaries/ru/${n}`);if(!r.ok)continue;const s=(await r.text()).split(`
`);for(const o of s){if(!o.trim())continue;const u=o.split(/[\t,;]/)[0];if(u&&u.length>1){const c=$l(u);c&&cr.add(c)}}}catch{}}}catch(t){console.error("Critical error loading dictionaries:",t)}},Lb=1500,Fb=1e3,Ob=2e4,Ub=({settings:e,onStatsUpdate:t,language:n,status:r,onStatusChange:i,setIsGrammarChecking:s,onClipboardAction:o,resetSignal:a,onPauseProcessing:u,onToggleProcessing:c,dictionariesLoaded:d,onQuotaExceeded:f})=>{const{text:m,setText:p,committedLength:k,setCommittedLength:C,correctedLength:A,setCorrectedLength:v,checkedLength:y,setCheckedLength:x,checkingLength:S,setCheckingLength:I,finalizedSentences:N,addFinalizedSentence:j,aiFixedSegments:E,addAiFixedSegment:z,dictatedSegments:L,addDictatedSegment:D,unknownSegments:R,addUnknownSegments:_,saveCheckpoint:B,saveCheckpoints:U,undo:Z,redo:W,canUndo:P,canRedo:q,history:T,historyIndex:F,jumpTo:O,lastUpdate:b,clearHistory:H}=Eb(),J=w.useRef(m),M=w.useRef(k),K=w.useRef(A),se=w.useRef(y),ge=w.useRef(S),ye=w.useRef(e),ee=w.useRef(r),Y=w.useRef(Date.now()),oe=w.useRef(null),ue=w.useRef(null),ce=w.useRef(!1),de=w.useRef(null),[we,Ne]=w.useState(null);w.useEffect(()=>{J.current=m},[m]),w.useEffect(()=>{M.current=k},[k]),w.useEffect(()=>{K.current=A},[A]),w.useEffect(()=>{se.current=y},[y]),w.useEffect(()=>{ge.current=S},[S]),w.useEffect(()=>{ye.current=e},[e]),w.useEffect(()=>{ee.current=r},[r]),w.useEffect(()=>(de.current=new Worker(new URL(""+new URL("dictionary.worker-CkascFsv.js",import.meta.url).href,import.meta.url),{type:"module"}),(()=>{de.current&&(de.current.postMessage({type:"SET_DICTIONARY",language:"ru",words:Array.from(cr)}),de.current.postMessage({type:"SET_DICTIONARY",language:"en",words:Array.from(ss)}),de.current.postMessage({type:"SET_DICTIONARY",language:"uz-latn",words:Array.from(os)}),de.current.postMessage({type:"SET_DICTIONARY",language:"uz-cyrl",words:Array.from(ls)}))})(),de.current.onmessage=Ie=>{const{type:be,suggestions:Me,original:wt}=Ie.data;be==="SUGGESTIONS_RESULT"&&Ne(bt=>bt&&bt.targetWord===wt?{...bt,suggestions:Me}:bt)},()=>{var Ie;(Ie=de.current)==null||Ie.terminate()}),[]),w.useEffect(()=>{de.current&&d&&(de.current.postMessage({type:"SET_DICTIONARY",language:"ru",words:Array.from(cr)}),de.current.postMessage({type:"SET_DICTIONARY",language:"en",words:Array.from(ss)}),de.current.postMessage({type:"SET_DICTIONARY",language:"uz-latn",words:Array.from(os)}),de.current.postMessage({type:"SET_DICTIONARY",language:"uz-cyrl",words:Array.from(ls)}))},[d]);const{isRecording:Q,startRecording:$,stopRecording:G,visualizerDataRef:fe,autoStopCountdown:he}=xc(e.silenceThreshold),{addNotification:xe}=Ht(),[ke,V]=w.useState("idle"),[X,ae]=w.useState(!1),[pe,le]=w.useState(!1),ve=w.useRef(null),Ue=w.useRef(null),te=w.useRef(0),Se=w.useCallback((Ce,Ie)=>{Ie==="QUOTA"||Ce.includes("429")||Ce.includes("RESOURCE_EXHAUSTED")?(Q&&G().catch(()=>{}),ae(!1),te.current=0,i("idle"),V("idle"),le(!1),f&&f()):(xe(Ce,"error",5e3),i("error"),Q&&(G(),le(!1),V("idle")),u())},[xe,i,Q,G,u,f]),ze=w.useCallback(Ce=>{Y.current=Date.now();const Ie=J.current;if(p(Ce),oe.current&&clearTimeout(oe.current),ue.current&&clearTimeout(ue.current),Ce.length===0){C(0),v(0),x(0),I(0),i(e.enabled?"idle":"paused"),B("",0,0,["raw"]);return}if(Math.abs(Ce.length-Ie.length)>5){Math.min(se.current,Ce.length);const Me=Math.min(K.current,Ce.length),wt=Math.min(M.current,Ce.length);ge.current>Ce.length&&I(0),B(Ce,wt,Me,["raw"])}else ue.current=setTimeout(()=>{const Me=J.current;B(Me,M.current,K.current,["raw"])},Fb);ee.current!=="recording"&&ee.current!=="transcribing"&&ee.current!=="ai_fixing"&&ee.current!=="ai_finalizing"&&ee.current!=="error"&&i("typing"),oe.current=setTimeout(()=>{ee.current==="typing"&&i(e.enabled?"idle":"paused")},Lb);let be=0;for(;be<Ie.length&&be<Ce.length&&Ie[be]===Ce[be];)be++;be<se.current&&x(be),be<ge.current&&I(be),be<K.current&&v(be),be<M.current&&C(Math.max(0,be))},[B,i,C,v,x,I,p,e.enabled]),Qe=w.useCallback((Ce,Ie,be,Me,wt)=>{Ne({x:Me,y:wt,suggestions:[],targetWord:Ce,rangeStart:Ie,rangeEnd:be}),de.current&&de.current.postMessage({type:"GET_SUGGESTIONS",text:Ce,language:n})},[n]),ht=w.useCallback(Ce=>{if(!we)return;const{rangeStart:Ie,rangeEnd:be}=we,Me=J.current,wt=Me.slice(0,Ie),bt=Me.slice(be);let Qt=Ce;const kt=we.targetWord;kt[0]===kt[0].toUpperCase()&&Ce[0]===Ce[0].toLowerCase()&&(Qt=Ce.charAt(0).toUpperCase()+Ce.slice(1));const di=wt+Qt+bt;ze(di),Ne(null),t(1),setTimeout(()=>{if(ve.current){ve.current.focus();const ks=Ie+Qt.length;ve.current.setSelectionRange(ks,ks)}},10)},[we,ze,t]),et=w.useCallback(()=>{Ne(null)},[]),pl=w.useCallback(Ce=>{const Ie=ve.current;if(!Ie){ze(Ce);return}const be=Ie.selectionStart,wt=J.current.substring(0,be),Qt=S0(wt).length;ze(Ce),setTimeout(()=>{ve.current&&(ve.current.focus(),ve.current.setSelectionRange(Qt,Qt))},0)},[ze]),{notifyActivity:ci,reset:En,processingOverlay:kg}=jb({textRef:J,committedLengthRef:M,correctedLengthRef:K,checkedLengthRef:se,checkingLengthRef:ge,settingsRef:ye,statusRef:ee,language:n,setText:p,setCorrectedLength:v,setCommittedLength:C,setCheckedLength:x,setCheckingLength:I,finalizedSentences:N,addFinalizedSentence:j,addAiFixedSegment:z,unknownSegments:R,addUnknownSegments:_,saveCheckpoint:B,saveCheckpoints:U,onStatsUpdate:t,onStatusChange:i,onAutoFormat:pl,workerRef:de,onFatalError:Ce=>Se(Ce)});w.useEffect(()=>{const Ce=setInterval(()=>{Date.now()-Y.current>Ob&&ee.current==="idle"&&te.current===0&&(En(),I(0),Q&&G(),Y.current=Date.now())},5e3);return()=>clearInterval(Ce)},[En,Q,G]);const{handleUndo:Cg,handleRedo:Ng,handleKeyDown:Sg}=Ib({undo:Z,redo:W,toggleRecording:()=>Oc(),toggleProcessing:c,onStatusChange:i,onPauseProcessing:u}),Tg=Ce=>{Ue.current&&(Ue.current.scrollTop=Ce.currentTarget.scrollTop),Ne(null)},Eg=Ce=>{Y.current=Date.now();const Ie=Ce.currentTarget,be=Ie.value.substring(Ie.selectionStart,Ie.selectionEnd);be&&o(be)},Ag=w.useCallback(Ce=>{Y.current=Date.now(),O(Ce)&&(i("paused"),u())},[O,i,u]);w.useEffect(()=>{a>0&&(G(),En(),i("idle"),V("idle"),ae(!1),I(0),te.current=0,Y.current=Date.now())},[a,i,En,I,G]);const Ig=async()=>{Y.current=Date.now();const Ce=Ze(n);if(ee.current==="recording"||ee.current==="enhancing"||!J.current.trim())return;if(M.current>=J.current.trim().length){xe(Ce.nothingToImprove,"info");return}i("enhancing");const Ie=J.current;B(Ie,M.current,K.current,["pre_ai"]);try{const be=await Nb(Ie,n);if(be&&be!==Ie){p(be);const Me=be.length;C(Me),v(Me),x(Me),I(Me),z(Ln(be)),B(be,Me,Me,["enhanced","ai_corrected"]),t(1)}else{xe(Ce.nothingToImprove,"info");const Me=Ie.length;C(Me),v(Me),x(Me),I(Me)}}catch(be){console.error("Enhance failed",be),be.isFatal?Se(be.message,be.code):xe(n==="ru"?" ":"Enhance failed","error")}finally{i("idle")}},jg=Ce=>{ze(Ce.target.value),ci()},Pg=w.useCallback(Ce=>{Y.current=Date.now();const Ie=new FileReader,be=Ce.type.startsWith("audio/"),Me=Ce.type.startsWith("image/");if(!be&&!Me){xe(n==="ru"?"  ":"Unsupported file format","error");return}te.current+=1,ae(!0),i("transcribing"),Ie.onload=async wt=>{var bt;if((bt=wt.target)!=null&&bt.result){const Qt=wt.target.result.split(",")[1];try{let kt="";if(be?kt=await eu(Qt,Ce.type,n,ye.current.audioModel):Me&&(kt=await Tb(Qt,Ce.type,n)),kt&&kt.trim()){const di=J.current,ks=di.trim().length>0&&!di.endsWith(" ")?" ":"",ml=di+ks+kt,Mg=ml.length;p(ml),ci(),D(Ln(kt)),t(1),B(ml,M.current,Mg,["dictated","raw_dictation"]),setTimeout(()=>{ve.current&&(ve.current.scrollTop=ve.current.scrollHeight,Ue.current&&(Ue.current.scrollTop=ve.current.scrollHeight))},10)}}catch(kt){console.error("Media processing failed",kt),kt.isFatal?Se(kt.message,kt.code):xe(n==="ru"?"  ":"File processing error","error")}finally{te.current-=1,te.current<=0&&(te.current=0,ae(!1),i(e.enabled?"idle":"paused"))}}},Ie.readAsDataURL(Ce)},[n,t,i,p,B,ci,D,xe,e.enabled,Se]),Fc=w.useCallback(async(Ce,Ie)=>{te.current+=1,ae(!0);try{let be=await eu(Ce,Ie,n,ye.current.audioModel);if(be&&be.trim()){Y.current=Date.now();const Me=J.current,wt=Me.trim().length>0&&!Me.endsWith(" ")?" ":"",bt=Me+wt+be,Qt=bt.length;p(bt),ci(),D(Ln(be)),t(1),B(bt,M.current,Qt,["dictated","raw_dictation"]),setTimeout(()=>{ve.current&&(ve.current.scrollTop=ve.current.scrollHeight,Ue.current&&(Ue.current.scrollTop=ve.current.scrollHeight))},10)}}catch(be){be.code==="QUOTA"||be.message&&be.message.includes("429")?Se(be.message,"QUOTA"):be.isFatal&&Se(be.message)}finally{te.current-=1,te.current<=0&&(te.current=0,ae(!1),hl.current||i(e.enabled?"idle":"paused"))}},[n,t,p,B,ci,D,e.enabled,i,Se]),hl=w.useRef(Q);w.useEffect(()=>{hl.current=Q},[Q]);const Oc=w.useCallback(async()=>{if(!ce.current){ce.current=!0,Y.current=Date.now();try{if(pe){await G(),le(!1),i(e.enabled?"idle":"paused"),V("idle");return}hl.current?(i(e.enabled?"idle":"paused"),V("idle"),await G()):(En(),te.current=0,await $(async(Ie,be)=>{await Fc(Ie,be)},Ie=>V(Ie))&&(i("recording"),V("listening")))}finally{setTimeout(()=>{ce.current=!1},500)}}},[G,$,i,Fc,En,pe,e.enabled]),Rg=w.useCallback(async()=>{if(Q&&!pe){await G();return}pe?(await G(),le(!1),i(e.enabled?"idle":"paused")):(En(),await $(async()=>{},Ie=>V(Ie))&&(le(!0),i("recording"),V("listening")))},[Q,pe,G,$,i,En,e.enabled]);return{text:m,committedLength:k,correctedLength:A,checkedLength:y,checkingLength:S,processedLength:A,finalizedSentences:N,aiFixedSegments:E,dictatedSegments:L,unknownSegments:R,textareaRef:ve,backdropRef:Ue,isBusy:r!=="idle"&&r!=="typing"&&r!=="paused"&&r!=="done",canUndo:P,canRedo:q,handleScroll:Tg,handleChange:jg,handleKeyDown:Sg,handleClipboardEvent:Eg,handleUndo:Cg,handleRedo:Ng,handleEnhance:Ig,toggleRecording:Oc,visualizerDataRef:fe,autoStopCountdown:he,visualizerStatus:ke,isAnalyzing:X,isRecording:Q,history:T,historyIndex:F,handleHistoryJump:Ag,lastHistoryUpdate:b,clearHistory:H,setFullText:ze,handleMediaFile:Pg,toggleDevRecording:Rg,isDevRecording:pe,processingOverlay:kg,contextMenu:we,handleRequestSuggestions:Qe,handleSuggestionSelect:ht,handleCloseContextMenu:et}};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ie=(e,t)=>{const n=w.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:u,...c},d)=>w.createElement("svg",{ref:d,...Hb,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${Vb(e)}`,a].join(" "),...c},[...t.map(([f,m])=>w.createElement(f,m)),...Array.isArray(u)?u:[u]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=ie("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=ie("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=ie("AlertOctagon",[["polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2",key:"h1p8hx"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=ie("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=ie("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=ie("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=ie("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=ie("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=ie("AudioWaveform",[["path",{d:"M2 13a2 2 0 0 0 2-2V7a2 2 0 0 1 4 0v13a2 2 0 0 0 4 0V4a2 2 0 0 1 4 0v13a2 2 0 0 0 4 0v-4a2 2 0 0 1 2-2",key:"57tc96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=ie("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=ie("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=ie("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=ie("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=ie("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=ie("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=ie("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=ie("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=ie("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=ie("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=ie("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=ie("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=ie("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=ie("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=ie("ClipboardPaste",[["path",{d:"M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z",key:"1pp7kr"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10",key:"2ik1ml"}],["path",{d:"m17 10 4 4-4 4",key:"vp2hj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=ie("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=ie("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=ie("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=ie("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=ie("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=ie("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=ie("FileAudio",[["path",{d:"M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"rslqgf"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0",key:"9f7x3i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=ie("FileInput",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 15h10",key:"jfw4w8"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=ie("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=ie("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=ie("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=ie("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=ie("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=ie("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=ie("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=ie("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=ie("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=ie("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=ie("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=ie("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=ie("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=ie("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=ie("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=ie("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=ie("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=ie("MousePointer2",[["path",{d:"m4 4 7.07 17 2.51-7.39L21 11.07z",key:"1vqm48"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=ie("MoveVertical",[["polyline",{points:"8 18 12 22 16 18",key:"1uutw3"}],["polyline",{points:"8 6 12 2 16 6",key:"d60sxy"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=ie("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=ie("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=ie("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=ie("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=ie("PencilLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}],["path",{d:"m15 5 3 3",key:"1w25hb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=ie("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=ie("PinOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V17h12",key:"13x2n8"}],["path",{d:"M15 9.34V6h1a2 2 0 0 0 0-4H7.89",key:"reo3ki"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=ie("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=ie("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=ie("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=ie("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5v0A5.5 5.5 0 0 0 9.5 20H13",key:"19mnr4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=ie("Replace",[["path",{d:"M14 4c0-1.1.9-2 2-2",key:"1mvvbw"}],["path",{d:"M20 2c1.1 0 2 .9 2 2",key:"1mj6oe"}],["path",{d:"M22 8c0 1.1-.9 2-2 2",key:"v1wql3"}],["path",{d:"M16 10c-1.1 0-2-.9-2-2",key:"821ux0"}],["path",{d:"m3 7 3 3 3-3",key:"x25e72"}],["path",{d:"M6 10V5c0-1.7 1.3-3 3-3h1",key:"13af7h"}],["rect",{width:"8",height:"8",x:"2",y:"14",rx:"2",key:"17ihk4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=ie("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=ie("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=ie("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=ie("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=ie("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=ie("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=ie("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=ie("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=ie("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=ie("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=ie("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=ie("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=ie("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=ie("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=ie("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=ie("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=ie("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=ie("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Cr=(e,t,n)=>e*(1-n)+t*n,cs=w.memo(({visualizerDataRef:e,isRecording:t,lowCut:n=0,highCut:r=128,amp:i=.4,visualizerStyle:s="classic",silenceThreshold:o=15,norm:a=!1,gravity:u=2,mirror:c=!1,rounded:d=!1})=>{const f=w.useRef(null),m=w.useRef({lowCut:n,highCut:r,amp:i,visualizerStyle:s,silenceThreshold:o,norm:a,gravity:u,mirror:c,rounded:d}),p=w.useRef({volBass:0,volMid:0,volHigh:0,phaseFront:0,phaseMid:0,phaseBack:0,waveAlpha:0}),k=w.useRef([]);return w.useEffect(()=>{m.current={lowCut:n,highCut:r,amp:i,visualizerStyle:s,silenceThreshold:o,norm:a,gravity:u,mirror:c,rounded:d}},[n,r,i,s,o,a,u,c,d]),w.useEffect(()=>{const C=f.current;if(!C||!C.parentElement)return;let A=null;const v=new ResizeObserver(y=>{const x=y[0];x&&(A&&cancelAnimationFrame(A),A=requestAnimationFrame(()=>{const{width:S,height:I}=x.contentRect;(C.width!==Math.floor(S)||C.height!==Math.floor(I))&&(C.width=Math.floor(S),C.height=Math.floor(I))}))});return v.observe(C.parentElement),()=>{v.disconnect(),A&&cancelAnimationFrame(A)}},[]),w.useLayoutEffect(()=>{const C=f.current;if(!C)return;const A=C.getContext("2d",{alpha:!0});if(!A)return;k.current.length===0&&(k.current=new Array(256).fill(0));let v;const y=()=>{const x=C.width,S=C.height,I=x/2,N=S/2;A.clearRect(0,0,x,S);const{lowCut:j,highCut:E,amp:z,visualizerStyle:L,norm:D,gravity:R,silenceThreshold:_,mirror:B,rounded:U}=m.current,Z=t?1:0;if(p.current.waveAlpha=Cr(p.current.waveAlpha,Z,.1),p.current.waveAlpha<.01){v=requestAnimationFrame(y);return}const W=e.current;if(!W){v=requestAnimationFrame(y);return}const P=p.current.waveAlpha,q=(_||0)/100;if(L==="classic"){let T=0,F=0,O=0,b=0,H=0,J=0;for(let ee=0;ee<W.length;ee++){if(ee<j||ee>E)continue;let Y=W[ee]/255;Y<q?Y=0:Y=(Y-q)/(1-q),D&&Y>0&&(Y=Math.pow(Y,.6)),Y<.05&&(Y=0),ee<=5?(T+=Y,b++):ee<=30?(F+=Y,H++):(O+=Y,J++)}b>0&&(T/=b),H>0&&(F/=H),J>0&&(O/=J);const M=Math.max(.1,T*6),K=Math.max(.05,F*5),se=Math.max(.02,O*3),ge=R*.1;p.current.volBass=Cr(p.current.volBass,M,M>p.current.volBass?.2:ge),p.current.volMid=Cr(p.current.volMid,K,K>p.current.volMid?.2:ge),p.current.volHigh=Cr(p.current.volHigh,se,se>p.current.volHigh?.2:ge),p.current.phaseBack+=.003,p.current.phaseMid+=.01,p.current.phaseFront+=.03,[{color:`rgba(56, 189, 248, ${.3*P})`,lineWidth:2,amplitudeMod:.8,freqMod:.8,phase:p.current.phaseBack,volume:p.current.volBass,phaseOffset:0},{color:`rgba(168, 85, 247, ${.5*P})`,lineWidth:3,amplitudeMod:.9,freqMod:1,phase:p.current.phaseMid,volume:p.current.volMid,phaseOffset:2},{color:`rgba(99, 102, 241, ${.9*P})`,lineWidth:2,amplitudeMod:1.1,freqMod:.8,phase:p.current.phaseFront,volume:p.current.volHigh,phaseOffset:4}].forEach(ee=>{A.beginPath(),A.strokeStyle=ee.color,A.lineWidth=ee.lineWidth,A.lineCap="round",A.lineJoin="round";let Y=!1;for(let oe=0;oe<=x;oe+=2){const ue=oe/x*2-1,ce=Math.pow(1-Math.abs(ue),3),de=Math.sin(oe*.01*ee.freqMod+ee.phase+ee.phaseOffset),we=1+ee.volume*2,Ne=Math.sin(oe*.1*we+ee.phase*5),Q=(de*.5+Ne*.8)*(ee.volume*(S*.4)*ee.amplitudeMod*z),$=N+Q*ce;Y?A.lineTo(oe,$):(A.moveTo(oe,$),Y=!0)}A.stroke()})}else if(L==="bars"){const T=E-j,F=Math.floor(T/2),b=(B?x/2:x)/F,H=R*.02;for(let J=0;J<F;J++){const M=j+J*2;if(M>=W.length)break;let K=W[M]/255;K<q?K=0:K=(K-q)/(1-q),D&&K>0&&(K=Math.pow(K,.6));const se=K*S*.8*z,ge=k.current[J]||0;let ye=ge;se>ge?ye=se:ye=Cr(ge,se,H),k.current[J]=ye;const ee=J*2+200;if(A.fillStyle=`hsla(${ee}, 80%, 60%, ${P})`,B){const Y=J*b;A.fillRect(I+Y,N-ye/2,b-1,ye),A.fillRect(I-Y-b,N-ye/2,b-1,ye)}else{const Y=J*b;A.fillRect(Y,N-ye/2,b-1,ye)}}}else if(L==="circular"){const T=Math.min(x,S)*.2,F=E-j,O=2,b=Math.floor(F/O),H=R*.02,J=B?Math.PI/b:2*Math.PI/b,M=0;A.translate(I,N);for(let K=0;K<b;K++){const se=j+K*O;if(se>=W.length)break;let ge=W[se]/255;ge<q?ge=0:ge=(ge-q)/(1-q),D&&ge>0&&(ge=Math.pow(ge,.6));const ye=ge*(Math.min(x,S)*.3)*z,ee=k.current[K]||0;let Y=ee;ye>ee?Y=ye:Y=Cr(ee,ye,H),k.current[K]=Y;const oe=K*3+240;A.fillStyle=`hsla(${oe}, 90%, 65%, ${P})`;const ue=B?3:2;if(B){const ce=K*J;A.save(),A.rotate(M-ce),A.fillRect(0,T,ue,Y),A.restore(),A.save(),A.rotate(M+ce),A.fillRect(0,T,ue,Y),A.restore()}else{const ce=K*J;A.save(),A.rotate(M+ce),A.fillRect(0,T,ue,Y),A.restore()}}A.setTransform(1,0,0,1,0,0)}else if(L==="wave"){A.beginPath(),A.strokeStyle=`rgba(99, 102, 241, ${P})`,A.lineWidth=2,A.lineJoin="round",A.lineCap="round";const T=E-j,F=(b,H,J=1)=>{let M=W[j+b]/255;M<q?M=0:M=(M-q)/(1-q),D&&M>0&&(M=Math.pow(M,.6));const K=M*(S*.4)*z,se=b%2===0?1:-1;return{x:H,y:N+K*se*J}},O=b=>{if(!(b.length<2))if(A.moveTo(b[0].x,b[0].y),U){for(let H=1;H<b.length-2;H++){const J=(b[H].x+b[H+1].x)/2,M=(b[H].y+b[H+1].y)/2;A.quadraticCurveTo(b[H].x,b[H].y,J,M)}b.length>2?A.quadraticCurveTo(b[b.length-2].x,b[b.length-2].y,b[b.length-1].x,b[b.length-1].y):A.lineTo(b[1].x,b[1].y)}else for(let H=1;H<b.length;H++)A.lineTo(b[H].x,b[H].y)};if(B){const b=x/2/T,H=[];for(let M=0;M<T;M++)H.push(F(M,I+M*b));O(H);const J=[];for(let M=0;M<T;M++)J.push(F(M,I-M*b));J.length>0&&(A.moveTo(I,N),O(J))}else{const b=x/T,H=[];let J=0;for(let M=0;M<T;M++)H.push(F(M,J)),J+=b;O(H)}A.stroke()}v=requestAnimationFrame(y)};return y(),()=>cancelAnimationFrame(v)},[t,e]),l.jsx("canvas",{ref:f,className:"absolute inset-0 w-full h-full pointer-events-none z-0 opacity-80"})}),I2=({text:e,committedLength:t,correctedLength:n,checkedLength:r,checkingLength:i,finalizedSentences:s,aiFixedSegments:o,dictatedSegments:a,unknownSegments:u,status:c,visualizerStatus:d,isAnalyzing:f,isRecording:m,language:p,textareaRef:k,backdropRef:C,onChange:A,onScroll:v,onKeyDown:y,onClipboard:x,onPaste:S,visualizerDataRef:I,onInteraction:N,isPaused:j,showResumeAnimation:E,lowCut:z=0,highCut:L=128,amp:D=.4,visualizerStyle:R="classic",silenceThreshold:_,visualizerNorm:B=!1,visualizerGravity:U=2,visualizerMirror:Z=!1,onDropFile:W,processingOverlay:P,monochromeMode:q=!1,onRequestSuggestions:T})=>{const F=Ze(p),[O,b]=w.useState(!1),H=w.useRef(null),J=ue=>{ue.preventDefault(),ue.stopPropagation(),b(!0)},M=ue=>{ue.preventDefault(),ue.stopPropagation(),!ue.currentTarget.contains(ue.relatedTarget)&&b(!1)},K=ue=>{if(ue.preventDefault(),ue.stopPropagation(),b(!1),ue.dataTransfer.files&&ue.dataTransfer.files.length>0){const ce=ue.dataTransfer.files[0];W&&W(ce)}},se=ue=>{if(!e)return null;const ce=Ne=>/[\s.,!?;:()""\-\/_+]/.test(Ne);if(k.current&&k.current.selectionStart!==k.current.selectionEnd)return{word:e.substring(k.current.selectionStart,k.current.selectionEnd),start:k.current.selectionStart,end:k.current.selectionEnd};let de=ue;for(;de>0&&!ce(e[de-1]);)de--;let we=ue;for(;we<e.length&&!ce(e[we]);)we++;return de===we?null:{word:e.slice(de,we),start:de,end:we}},ge=ue=>{if(T&&k.current){const ce=k.current.selectionStart,de=se(ce);de&&(ue.preventDefault(),T(de.word,de.start,de.end,ue.clientX+2,ue.clientY+2))}},ye=ue=>{if(!T)return;const ce=ue.touches[0],de=ce.clientX,we=ce.clientY;H.current=setTimeout(()=>{if(k.current){const Ne=k.current.selectionStart,Q=se(Ne);Q&&T(Q.word,Q.start,Q.end,de+2,we+2)}},600)},ee=()=>{H.current&&(clearTimeout(H.current),H.current=null)},Y=ue=>ue.toLowerCase().replace(/[^a-zA-Z--0-9'`]/g,"").trim(),oe=w.useMemo(()=>{const ue=Ei(e),ce=Math.min(t,e.length),de=Math.min(Math.max(ce,n),e.length),we=Math.min(Math.max(de,r),e.length),Ne=Math.min(Math.max(we,i),e.length),$=c==="ai_fixing"||c==="ai_finalizing"||c==="enhancing"?P:null;return ue.map((G,fe)=>{const he=Ln(G.text),xe=G.start<ce&&G.end>ce;if($){const le=Math.max(G.start,$.start);if(Math.min(G.end,$.end)>le){if($.type==="fixing")return l.jsx("span",{className:q?"text-slate-300 animate-pulse brightness-110 transition-all duration-300":"text-fuchsia-300 animate-pulse brightness-150 transition-all duration-300",children:G.text},fe);if($.type==="finalizing")return l.jsx("span",{className:q?"text-slate-300 animate-pulse brightness-110 transition-all duration-300":"text-emerald-300 animate-pulse brightness-150 transition-all duration-300",children:G.text},fe)}}if(!xe){if(s.has(he))return l.jsx("span",{className:q?"text-slate-400 transition-colors duration-500":"text-emerald-500 transition-colors duration-500",children:G.text},fe);if(a.has(he))return l.jsx("span",{className:q?"text-slate-400 transition-colors duration-500":"text-orange-400 transition-colors duration-500",children:G.text},fe)}const ke=(le,ve)=>{const Ue=ve+le.length;if($){const te=Math.max(ve,$.start);if(Math.min(Ue,$.end)>te){if($.type==="fixing")return l.jsx("span",{className:q?"text-slate-300 animate-pulse brightness-110 transition-all duration-300":"text-fuchsia-300 animate-pulse brightness-150 transition-all duration-300",children:le},ve);if($.type==="finalizing")return l.jsx("span",{className:q?"text-slate-300 animate-pulse brightness-110 transition-all duration-300":"text-emerald-300 animate-pulse brightness-150 transition-all duration-300",children:le},ve)}}if(Ue<=ce&&!xe)return l.jsx("span",{className:q?"text-slate-400 transition-colors duration-500":"text-emerald-500 transition-colors duration-500",children:le},ve);if(j)return l.jsx("span",{className:q?"text-slate-400 transition-colors duration-200":"text-slate-200 transition-colors duration-200",children:le},ve);if(Ue<=de)return o.has(he)?l.jsx("span",{className:q?"text-slate-400 transition-colors duration-300":"text-violet-400 font-medium transition-colors duration-300",children:le},ve):l.jsx("span",{className:q?"text-slate-400 transition-colors duration-300":"text-sky-400 transition-colors duration-300",children:le},ve);if(ve>=de&&Ue<=we){const te=le.split(/([^\s.,!?;:()""''\-\/_+]+)/);return l.jsx("span",{children:te.map((Se,ze)=>{if(!Se)return null;if(/[a-zA-Z--'`0-9]/.test(Se)){const ht=Y(Se);if(ht.length<=3)return l.jsx("span",{className:q?"text-slate-400 transition-colors duration-200":"text-sky-400 transition-colors duration-200",children:Se},ze);const et=u.has(ht);return l.jsx("span",{className:q?"text-slate-400 transition-colors duration-200":et?"text-red-400 font-medium transition-colors duration-200":"text-sky-400 transition-colors duration-200",children:Se},ze)}return l.jsx("span",{className:q?"text-slate-400 transition-colors duration-200":"text-sky-400 transition-colors duration-200",children:Se},ze)})},ve)}return Ue<=Ne?l.jsx("span",{className:q?"text-slate-400 transition-colors duration-300":"text-yellow-400 font-medium transition-colors duration-300",children:le},ve):l.jsx("span",{className:q?"text-slate-400 transition-colors duration-200":"text-slate-200 transition-colors duration-200",children:le},ve)},V=[ce,de,we,Ne].filter(le=>le>G.start&&le<G.end);if(V.length===0)return ke(G.text,G.start);const X=[];let ae=G.start;const pe=[...new Set(V)].sort((le,ve)=>le-ve);for(const le of pe){const ve=e.slice(ae,le);X.push(ke(ve,ae)),ae=le}if(ae<G.end){const le=e.slice(ae,G.end);X.push(ke(le,ae))}return l.jsx(Ui.Fragment,{children:X},fe)})},[e,t,n,r,i,s,o,a,u,P,j,c,q]);return l.jsxs("div",{className:"relative flex-1 w-full overflow-hidden",onDragOver:J,onDragLeave:M,onDrop:K,children:[O&&l.jsxs("div",{className:"absolute inset-4 z-50 rounded-3xl border-4 border-dashed border-indigo-500/50 bg-slate-900/90 backdrop-blur-sm flex flex-col items-center justify-center animate-in fade-in duration-200 pointer-events-none",children:[l.jsx("div",{className:"p-6 rounded-full bg-indigo-500/20 mb-4 animate-bounce",children:l.jsx(i2,{className:"w-12 h-12 text-indigo-400"})}),l.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:F.dropHere||"Drop file here"}),l.jsx("p",{className:"text-slate-400 text-sm",children:F.dropHint||"Audio or Image"})]}),l.jsx(cs,{visualizerDataRef:I,isRecording:m,lowCut:z,highCut:L,amp:D,visualizerStyle:R,silenceThreshold:_,norm:B,gravity:U,mirror:Z}),l.jsx("div",{className:`absolute inset-0 flex items-center justify-center z-0 pointer-events-none transition-[opacity,transform] duration-500 ease-in-out ${j?"opacity-100 scale-100":"opacity-0 scale-110 scale-95"}`,children:l.jsxs("div",{className:"flex flex-col items-center text-slate-700/20 select-none",children:[l.jsx(_n,{className:"w-32 h-32 md:w-48 md:h-48 fill-current"}),l.jsx("span",{className:"text-2xl md:text-4xl font-black tracking-[0.5em] uppercase mt-4",children:F.statusPaused})]})}),l.jsx("div",{className:`absolute inset-0 flex items-center justify-center z-20 pointer-events-none transition-[opacity,transform] duration-500 ease-in-out ${E?"opacity-100 scale-100":"opacity-0 scale-110"}`,children:l.jsx("div",{className:"flex flex-col items-center justify-center p-12 bg-slate-900/40 backdrop-blur-sm rounded-3xl shadow-2xl border border-emerald-500/20",children:l.jsx(ol,{className:"w-24 h-24 text-emerald-400 fill-current animate-pulse"})})}),l.jsxs("div",{className:"absolute bottom-24 left-1/2 -translate-x-1/2 z-20 flex flex-col-reverse items-center gap-3 pointer-events-none",children:[l.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border shadow-lg backdrop-blur-md transition-all duration-500 ease-out transform ${m?"opacity-100 translate-y-0 scale-100 bg-orange-950/80 border-orange-500/50 text-orange-200 shadow-orange-500/20":"opacity-0 translate-y-8 scale-90"}`,children:[l.jsx(hn,{className:"w-4 h-4 text-orange-400"}),l.jsx("span",{className:"text-xs font-bold tracking-wider",children:F.visListening||"LISTENING"})]}),l.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border shadow-lg backdrop-blur-md transition-all duration-500 ease-out transform ${f?"opacity-100 translate-y-0 scale-100 bg-sky-950/80 border-sky-500/50 text-sky-200 shadow-sky-500/20":"opacity-0 translate-y-4 scale-90 h-0 py-0 border-0 overflow-hidden"}`,children:[l.jsx(Sn,{className:"w-4 h-4 text-sky-400 animate-spin"}),l.jsx("span",{className:"text-xs font-bold tracking-wider",children:F.visAnalyzing||"ANALYZING"})]})]}),l.jsxs("div",{ref:C,className:"custom-scrollbar absolute inset-0 w-full h-full p-8 pb-32 text-lg leading-relaxed font-medium whitespace-pre-wrap break-words overflow-y-scroll cursor-text z-10","aria-hidden":"true",onClick:N,children:[oe,e.endsWith(`
`)&&l.jsx("br",{})]}),l.jsx("textarea",{ref:k,value:e,onChange:A,onScroll:v,onKeyDown:y,onCopy:x,onCut:x,onPaste:S,onClick:N,onContextMenu:ge,onTouchStart:ye,onTouchEnd:ee,onTouchMove:ee,placeholder:F.placeholder,className:"custom-scrollbar absolute inset-0 w-full h-full p-8 pb-32 resize-none focus:outline-none text-lg leading-relaxed font-medium bg-transparent text-transparent caret-white placeholder:text-slate-700 z-20 overflow-y-scroll break-words",spellCheck:!1})]})},Ae=({content:e,children:t,side:n="top",align:r="center"})=>{const i=()=>{switch(n){case"top":return`bottom-full mb-2 ${r==="start"?"left-0":r==="end"?"right-0":"left-1/2 -translate-x-1/2"}`;case"bottom":return`top-full mt-2 ${r==="start"?"left-0":r==="end"?"right-0":"left-1/2 -translate-x-1/2"}`;case"left":return"right-full top-1/2 -translate-y-1/2 mr-2";case"right":return"left-full top-1/2 -translate-y-1/2 ml-2";default:return""}},s=()=>{let o="absolute w-2 h-2 bg-slate-800 border-slate-700 transform rotate-45";return n==="top"?(o+=" bottom-[-5px] border-b border-r",r==="center"&&(o+=" left-1/2 -translate-x-1/2"),r==="start"&&(o+=" left-3"),r==="end"&&(o+=" right-3")):n==="bottom"?(o+=" top-[-5px] border-t border-l",r==="center"&&(o+=" left-1/2 -translate-x-1/2"),r==="start"&&(o+=" left-3"),r==="end"&&(o+=" right-3")):n==="left"?o+=" right-[-5px] top-1/2 -translate-y-1/2 border-t border-r":n==="right"&&(o+=" left-[-5px] top-1/2 -translate-y-1/2 border-b border-l"),o};return l.jsxs("div",{className:"relative flex items-center group z-40 hover:z-[1000] transition-none",children:[t,e&&l.jsxs("div",{className:`
            absolute pointer-events-none z-[9999] px-3 py-2 
            bg-slate-800/95 border border-slate-700/80 rounded-lg shadow-2xl backdrop-blur-md
            whitespace-pre-wrap text-[10px] font-medium text-slate-200 tracking-wide
            opacity-0 group-hover:opacity-100 transition-opacity duration-200
            select-none w-max max-w-[200px] text-center
            ${i()}
          `,children:[e,l.jsx("div",{className:s()})]})]})},j2=w.forwardRef(({textLength:e,committedLength:t,processedLength:n,status:r,language:i,isBusy:s,canUndo:o,canRedo:a,onUndo:u,onRedo:c,onRecord:d,onEnhance:f,onFileUpload:m,autoStopCountdown:p,onHistoryClick:k,isHistoryOpen:C,developerMode:A=!1,onDevRecord:v,isDevRecording:y=!1,showClipboard:x,onToggleClipboard:S,isRecording:I,isFreeTier:N=!0},j)=>{const E=Ze(i),z=r==="enhancing",[L,D]=w.useState(null),R=w.useRef(null);w.useImperativeHandle(j,()=>({setFile:P=>{D(P)}}));const _=P=>{P.target.files&&P.target.files[0]&&D(P.target.files[0])},B=()=>{L&&(m(L),D(null),R.current&&(R.current.value=""))},U=()=>{D(null),R.current&&(R.current.value="")},W=N?{text:"Record",icon:l.jsx(rn,{className:"w-3.5 h-3.5"}),className:"opacity-50 cursor-not-allowed bg-slate-800 border-slate-700 text-slate-500",disabled:!0,tooltip:E.paidFeatureTooltip||"Only for Paid Tier keys"}:I&&!y?{text:E.btnStop,icon:l.jsx(Yn,{className:"w-5 h-5 md:w-4 md:h-4 fill-current animate-pulse"}),className:"bg-red-500/20 text-red-400 border-red-500/50 hover:bg-red-500/30",disabled:!1,tooltip:E.btnStop}:{text:E.btnRecord,icon:l.jsx(hn,{className:"w-5 h-5 md:w-4 md:h-4"}),className:y?"opacity-50 cursor-not-allowed bg-slate-800 border-slate-700":"bg-slate-800 text-slate-300 border-slate-700 hover:bg-slate-700",disabled:y,tooltip:E.btnRecord};return l.jsxs("div",{className:"absolute bottom-0 md:bottom-6 left-0 md:left-auto md:right-6 w-full md:w-auto flex md:inline-flex items-center justify-between md:justify-start gap-3 md:gap-4 z-30 pointer-events-auto select-none bg-slate-900/90 md:bg-transparent backdrop-blur-lg md:backdrop-blur-none border-t md:border-none border-slate-800 p-3 md:p-0 safe-area-bottom",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"hidden sm:flex items-center gap-3",children:[l.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-emerald-950/30 rounded border border-emerald-900/50",children:[l.jsx(rn,{className:"w-3 h-3 text-emerald-500"}),l.jsxs("span",{className:"text-[10px] text-emerald-400 font-mono",children:[Math.round(t/(e||1)*100),"%"]})]}),n>t&&l.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-sky-950/30 rounded border border-sky-900/50 animate-in fade-in zoom-in duration-300",children:[l.jsx(E0,{className:"w-3 h-3 text-sky-400"}),l.jsx("span",{className:"text-[10px] text-sky-400 font-mono",children:n-t})]})]}),l.jsxs("span",{className:"text-xs text-slate-600 font-mono md:hidden",children:[e," ",E.chars]})]}),l.jsxs("div",{className:"hidden md:block text-xs text-slate-600 font-mono",children:[e," ",E.chars]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex items-center bg-slate-800 rounded-lg p-1 border border-slate-700 shadow-lg",children:[l.jsx(Ae,{content:E.btnUndo,side:"top",children:l.jsx("button",{onClick:u,disabled:!o||s,className:"p-2 md:p-1.5 rounded hover:bg-slate-700 text-slate-400 hover:text-white disabled:opacity-30 disabled:hover:bg-transparent transition-colors touch-manipulation",children:l.jsx(S2,{className:"w-5 h-5 md:w-4 md:h-4"})})}),l.jsx("div",{className:"w-px h-5 md:h-4 bg-slate-700 mx-1"}),l.jsx(Ae,{content:E.btnRedo,side:"top",children:l.jsx("button",{onClick:c,disabled:!a||s,className:"p-2 md:p-1.5 rounded hover:bg-slate-700 text-slate-400 hover:text-white disabled:opacity-30 disabled:hover:bg-transparent transition-colors touch-manipulation",children:l.jsx(y2,{className:"w-5 h-5 md:w-4 md:h-4"})})}),l.jsx("div",{className:"w-px h-5 md:h-4 bg-slate-700 mx-1"}),l.jsx(Ae,{content:E.historyTitle,side:"top",children:l.jsx("button",{onClick:k,className:`p-2 md:p-1.5 rounded transition-colors touch-manipulation ${C?"bg-indigo-600 text-white":"text-slate-400 hover:bg-slate-700 hover:text-white"}`,children:l.jsx(ru,{className:"w-5 h-5 md:w-4 md:h-4"})})})]}),l.jsx("div",{className:"flex items-center bg-slate-800 rounded-lg p-1 border border-slate-700 shadow-lg",children:l.jsx(Ae,{content:E.clipboardTitle,side:"top",children:l.jsx("button",{onClick:S,className:`p-2 md:p-1.5 rounded transition-colors touch-manipulation ${x?"bg-indigo-600 text-white":"text-slate-400 hover:bg-slate-700 hover:text-white"}`,children:l.jsx(Zr,{className:"w-5 h-5 md:w-4 md:h-4"})})})}),A&&v&&l.jsx(Ae,{content:E.btnDevRecord||"Dictate (DEV)",side:"top",children:l.jsx("button",{onClick:v,className:`flex items-center justify-center p-2.5 md:p-2 rounded-lg text-sm font-medium shadow-lg transition-all active:scale-95 group border touch-manipulation ${y?"bg-fuchsia-900/50 text-fuchsia-400 border-fuchsia-500/50 hover:bg-fuchsia-900/70 animate-pulse":"bg-slate-800 text-fuchsia-500 border-slate-700 hover:bg-slate-700"}`,children:y?l.jsx(Yn,{className:"w-5 h-5 md:w-4 md:h-4 fill-current"}):l.jsx(N2,{className:"w-5 h-5 md:w-4 md:h-4"})})}),l.jsx(Ae,{content:W.tooltip,side:"top",children:l.jsxs("button",{onClick:N?void 0:d,disabled:W.disabled,className:`flex items-center justify-center gap-2 px-4 md:px-4 py-2.5 md:py-2 rounded-lg text-sm font-medium shadow-lg transition-all active:scale-95 group border touch-manipulation ${W.className}`,children:[l.jsxs("div",{className:"flex items-center gap-2",children:[W.icon,l.jsx("span",{className:"hidden md:inline font-semibold",children:W.text})]}),I&&!y&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mx-2 h-4 w-px bg-red-400/40"}),l.jsx("div",{className:"w-4 flex justify-center text-xs font-mono font-bold tabular-nums",children:typeof p=="number"?p:""})]})]})}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("input",{type:"file",ref:R,className:"hidden",accept:"audio/*,image/*",onChange:_}),L?l.jsxs("div",{className:"flex items-center gap-1 bg-slate-800 rounded-lg border border-slate-700 p-1 pr-2 animate-in fade-in slide-in-from-bottom-2",children:[l.jsx("button",{onClick:U,className:"p-1 hover:bg-slate-700 rounded text-slate-400 hover:text-red-400",children:l.jsx(ot,{className:"w-4 h-4"})}),l.jsxs("span",{className:"text-xs text-slate-300 max-w-[80px] truncate flex items-center gap-1",children:[L.type.startsWith("image/")?l.jsx(R0,{className:"w-3 h-3 shrink-0"}):l.jsx(vc,{className:"w-3 h-3 shrink-0"}),L.name]}),l.jsx("button",{onClick:B,className:"ml-1 p-1 bg-indigo-600 hover:bg-indigo-500 text-white rounded shadow-sm",title:i==="ru"?"":"Process",children:l.jsx(bc,{className:"w-3.5 h-3.5"})})]}):l.jsx(Ae,{content:N?E.paidFeatureTooltip||"Free Tier (No Uploads)":E.uploadMedia||"Upload Audio/Image",side:"top",children:l.jsx("button",{onClick:N?void 0:()=>{var P;return(P=R.current)==null?void 0:P.click()},disabled:s||N,className:`p-2.5 md:p-2 rounded-lg bg-slate-800 border border-slate-700 transition-colors ${N?"text-slate-600 opacity-50 cursor-not-allowed":"text-slate-300 hover:bg-slate-700 hover:text-white"}`,children:N?l.jsx(rn,{className:"w-5 h-5 md:w-4 md:h-4"}):l.jsx(T2,{className:"w-5 h-5 md:w-4 md:h-4"})})})]}),l.jsx(Ae,{content:E.btnEnhance,side:"top",children:l.jsxs("button",{onClick:f,disabled:s||z,className:`flex items-center gap-2 px-4 md:px-4 py-2.5 md:py-2 rounded-lg text-sm font-medium shadow-lg transition-all active:scale-95 group touch-manipulation
                ${z?"bg-indigo-600 text-white cursor-wait opacity-80 border border-indigo-500 shadow-indigo-900/50":"bg-slate-800 text-slate-400 border border-slate-700 hover:bg-purple-600 hover:text-white hover:border-purple-500 hover:shadow-purple-900/30"}
            `,children:[z?l.jsx(us,{className:"w-5 h-5 md:w-4 md:h-4 animate-spin"}):l.jsx(li,{className:"w-5 h-5 md:w-4 md:h-4 group-hover:rotate-12 transition-transform"}),l.jsx("span",{className:"hidden md:inline",children:E.btnEnhance})]})})]})]})}),P2=({history:e,currentIndex:t,isOpen:n,onClose:r,onRestore:i,onClear:s,language:o})=>{const a=Ze(o),[u,c]=w.useState(!1);w.useEffect(()=>{const p=setTimeout(()=>c(!0),100);return()=>clearTimeout(p)},[]);const d=p=>new Intl.DateTimeFormat(o==="ru"?"ru-RU":"en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date(p)),f=p=>{switch(p){case"raw_dictation":return l.jsxs("span",{className:"flex items-center gap-0.5 px-1.5 py-0.5 rounded-md bg-orange-900/40 text-orange-300 text-[10px] font-semibold border border-orange-700/50 shadow-sm",title:a.tagRawDictation||"Raw Dictation",children:[l.jsx(hn,{className:"w-3 h-3"}),l.jsx("span",{className:"hidden sm:inline",children:a.tagRawDictation||"Raw Dictation"})]});case"pre_ai":return l.jsxs("span",{className:"flex items-center gap-0.5 px-1.5 py-0.5 rounded-md bg-slate-700 text-slate-200 text-[10px] font-semibold border border-slate-600 shadow-sm",title:"Snapshot before AI processing",children:[l.jsx(P0,{className:"w-3 h-3"}),l.jsx("span",{className:"hidden sm:inline",children:"Before AI"})]});case"ai_corrected":return l.jsxs("span",{className:"flex items-center gap-0.5 px-1.5 py-0.5 rounded-md bg-purple-900/40 text-purple-300 text-[10px] font-semibold border border-purple-700/50 shadow-sm",title:a.tagAiCorrected||"AI Corrected",children:[l.jsx(li,{className:"w-3 h-3"}),l.jsx("span",{className:"hidden sm:inline",children:a.tagAiCorrected||"AI Corrected"})]});case"raw":return l.jsxs("span",{className:"flex items-center gap-0.5 px-1.5 py-0.5 rounded-md bg-slate-700/50 text-slate-300 text-[9px] border border-slate-600/50",title:a.tagRaw,children:[l.jsx(ei,{className:"w-2.5 h-2.5"}),l.jsx("span",{className:"hidden sm:inline",children:a.tagRaw})]});case"dictated":return l.jsxs("span",{className:"flex items-center gap-0.5 px-1.5 py-0.5 rounded-md bg-red-900/30 text-red-300 text-[9px] border border-red-800/50",title:a.tagDictated,children:[l.jsx(hn,{className:"w-2.5 h-2.5"}),l.jsx("span",{className:"hidden sm:inline",children:a.tagDictated})]});case"processed":return l.jsxs("span",{className:"flex items-center gap-0.5 px-1.5 py-0.5 rounded-md bg-amber-900/30 text-amber-300 text-[9px] border border-amber-800/50",title:a.tagProcessed,children:[l.jsx(Sn,{className:"w-2.5 h-2.5"}),l.jsx("span",{className:"hidden sm:inline",children:a.tagProcessed})]});case"finalized":return l.jsxs("span",{className:"flex items-center gap-0.5 px-1.5 py-0.5 rounded-md bg-emerald-900/30 text-emerald-300 text-[9px] border border-emerald-800/50",title:a.tagFinalized,children:[l.jsx(E0,{className:"w-2.5 h-2.5"}),l.jsx("span",{className:"hidden sm:inline",children:a.tagFinalized})]});case"enhanced":return l.jsxs("span",{className:"flex items-center gap-0.5 px-1.5 py-0.5 rounded-md bg-pink-900/30 text-pink-300 text-[9px] border border-pink-800/50",title:a.tagEnhanced,children:[l.jsx(Sn,{className:"w-2.5 h-2.5"}),l.jsx("span",{className:"hidden sm:inline",children:a.tagEnhanced})]});case"reset":return l.jsxs("span",{className:"flex items-center gap-0.5 px-1.5 py-0.5 rounded-md bg-slate-800 text-slate-400 text-[9px] border border-slate-700 font-mono",children:[l.jsx(on,{className:"w-2.5 h-2.5"}),l.jsx("span",{className:"hidden sm:inline",children:"Reset"})]});default:return null}},m=[...e].map((p,k)=>({item:p,idx:k})).reverse();return l.jsxs("div",{className:`
            absolute top-0 right-0 w-80 h-full bg-slate-900 border-l border-slate-800 shadow-2xl z-40 
            flex flex-col no-drag
            ${u?"transition-transform duration-300 ease-in-out":""} 
            ${n?"translate-x-0":"translate-x-full"}
        `,children:[l.jsxs("div",{className:"p-4 border-b border-slate-800 flex items-center justify-between shrink-0 select-none",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ru,{className:"w-4 h-4 text-indigo-400"}),l.jsx("h3",{className:"text-sm font-semibold text-slate-200",children:a.historyTitle})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:s,className:"p-1.5 hover:bg-slate-800 rounded text-slate-500 hover:text-red-400 transition-colors",title:a.clipboardClear||"Clear History",children:l.jsx(on,{className:"w-4 h-4"})}),l.jsx("div",{className:"w-px h-4 bg-slate-800 mx-1"}),l.jsx("button",{onClick:r,className:"p-1 hover:bg-slate-800 rounded text-slate-500 hover:text-white transition-colors",children:l.jsx(ot,{className:"w-4 h-4"})})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2 space-y-2",children:e.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-slate-600 space-y-2",children:[l.jsx(ru,{className:"w-8 h-8 opacity-50"}),l.jsx("p",{className:"text-xs",children:a.historyEmpty})]}):m.map(({item:p,idx:k})=>{var S,I,N;const C=k===t,A=(S=p.tags)==null?void 0:S.includes("raw_dictation"),v=(I=p.tags)==null?void 0:I.includes("ai_corrected"),y=(N=p.tags)==null?void 0:N.includes("pre_ai");let x="border-slate-700/50";return A&&(x="border-orange-900/50"),v&&(x="border-purple-900/50"),y&&(x="border-slate-600/80"),C&&(x="border-indigo-500/50"),l.jsxs("div",{onClick:()=>!C&&i(k),className:`
                        group relative rounded-lg p-3 transition-all border
                        ${x}
                        ${C?"bg-indigo-900/20 cursor-default":"bg-slate-800/50 hover:bg-slate-800 hover:border-slate-600 cursor-pointer"}
                    `,children:[l.jsx("div",{className:"flex items-center justify-between mb-2",children:l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsx("span",{className:"text-[10px] text-slate-500 font-mono",children:d(p.timestamp)}),p.tags&&p.tags.length>0&&l.jsx("div",{className:"flex gap-1 flex-wrap",children:p.tags.map(j=>l.jsx(Ui.Fragment,{children:f(j)},j))})]})}),l.jsx("p",{className:`text-xs line-clamp-3 font-medium break-all opacity-90 group-hover:opacity-100 ${A?"text-orange-200":v?"text-purple-200":"text-slate-300"}`,children:p.text||l.jsx("span",{className:"text-slate-600 italic",children:"Empty"})}),!C&&l.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx("div",{className:"p-1.5 bg-indigo-600 text-white rounded-md shadow-lg",children:l.jsx(ll,{className:"w-3.5 h-3.5"})})}),C&&l.jsx("div",{className:"absolute top-2 right-2",children:l.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-bold text-indigo-400 bg-indigo-900/30 px-1.5 py-0.5 rounded",children:[l.jsx(Xb,{className:"w-3 h-3"}),l.jsx("span",{className:"hidden sm:inline",children:a.historyCurrent})]})})]},p.id)})})]})},R2=({x:e,y:t,suggestions:n,onSelect:r,onClose:i,originalWord:s,onCopy:o,onCut:a,onPaste:u,onSwitchLayout:c})=>{const d=w.useRef(null);w.useEffect(()=>{const m=p=>{d.current&&!d.current.contains(p.target)&&i()};return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[i]);const f={top:t,left:e};return l.jsxs("div",{ref:d,className:"fixed z-[9999] min-w-[180px] bg-slate-900/95 backdrop-blur-md border border-slate-700/80 rounded-lg shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-100 flex flex-col",style:f,children:[l.jsxs("div",{className:"px-3 py-2 border-b border-slate-700/50 bg-slate-950/30 flex justify-between items-center",children:[l.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider truncate max-w-[120px]",children:s}),l.jsx("button",{onClick:i,className:"text-slate-500 hover:text-white transition-colors",children:l.jsx(ot,{className:"w-3 h-3"})})]}),l.jsx("div",{className:"p-1",children:n.length>0?n.map(m=>l.jsxs("button",{onClick:()=>r(m),className:"w-full text-left px-3 py-2 text-sm text-slate-200 hover:bg-indigo-600 hover:text-white rounded-md transition-colors flex items-center gap-2 group",children:[l.jsx(li,{className:"w-3 h-3 text-indigo-400 group-hover:text-white"}),m]},m)):l.jsx("div",{className:"px-3 py-2 text-xs text-slate-500 italic text-center opacity-60",children:"No suggestions"})}),l.jsx("div",{className:"h-px bg-slate-700/50 my-0.5 mx-1"}),l.jsxs("div",{className:"p-1 space-y-0.5",children:[l.jsxs("button",{onClick:a,className:"w-full text-left px-3 py-2 text-xs text-slate-300 hover:bg-slate-800 hover:text-white rounded-md transition-colors flex items-center gap-2",children:[l.jsx(Fo,{className:"w-3.5 h-3.5 opacity-70"}),"Cut"]}),l.jsxs("button",{onClick:o,className:"w-full text-left px-3 py-2 text-xs text-slate-300 hover:bg-slate-800 hover:text-white rounded-md transition-colors flex items-center gap-2",children:[l.jsx(Wn,{className:"w-3.5 h-3.5 opacity-70"}),"Copy"]}),l.jsxs("button",{onClick:u,className:"w-full text-left px-3 py-2 text-xs text-slate-300 hover:bg-slate-800 hover:text-white rounded-md transition-colors flex items-center gap-2",children:[l.jsx(il,{className:"w-3.5 h-3.5 opacity-70"}),"Paste"]}),l.jsxs("button",{onClick:c,className:"w-full text-left px-3 py-2 text-xs text-slate-300 hover:bg-slate-800 hover:text-white rounded-md transition-colors flex items-center gap-2",children:[l.jsx(ei,{className:"w-3.5 h-3.5 opacity-70"}),"Switch Layout"]})]})]})},M2=w.forwardRef((e,t)=>{const{text:n,committedLength:r,correctedLength:i,checkedLength:s,checkingLength:o,finalizedSentences:a,aiFixedSegments:u,dictatedSegments:c,unknownSegments:d,textareaRef:f,backdropRef:m,isBusy:p,canUndo:k,canRedo:C,handleScroll:A,handleChange:v,handleKeyDown:y,handleClipboardEvent:x,handleUndo:S,handleRedo:I,handleEnhance:N,toggleRecording:j,visualizerDataRef:E,autoStopCountdown:z,visualizerStatus:L,isAnalyzing:D,isRecording:R,history:_,historyIndex:B,handleHistoryJump:U,lastHistoryUpdate:Z,clearHistory:W,setFullText:P,handleMediaFile:q,toggleDevRecording:T,isDevRecording:F,processingOverlay:O,contextMenu:b,handleRequestSuggestions:H,handleSuggestionSelect:J,handleCloseContextMenu:M}=Ub({...e,dictionariesLoaded:e.dictionariesLoaded||!1}),{addNotification:K}=Ht();Ze(e.language);const[se,ge]=w.useState(!1),ye=w.useRef(!0),ee=w.useRef(null),Y=async Q=>{if(window.require)try{const{clipboard:$}=window.require("electron");$.writeText(Q);return}catch($){console.warn("Electron clipboard write error (fallback to web)",$)}try{await navigator.clipboard.writeText(Q)}catch($){throw console.error("Web clipboard write error",$),$}},oe=async()=>{if(window.require)try{const{clipboard:Q}=window.require("electron");return Q.readText()}catch(Q){console.warn("Electron clipboard read error (fallback to web)",Q)}try{return await navigator.clipboard.readText()}catch(Q){throw console.error("Web clipboard read error",Q),Q}},ue=w.useCallback(Q=>{if(Q.clipboardData&&Q.clipboardData.files.length>0){const $=Q.clipboardData.files[0];if($.type.startsWith("image/")){Q.preventDefault(),ee.current&&(ee.current.setFile($),K(e.language==="ru"?" ":"Image pasted","success"));return}}},[e.language,K]),ce=async()=>{if(!b)return;const{targetWord:Q}=b;try{await Y(Q),K(e.language==="ru"?"":"Copied","success"),M()}catch{K(e.language==="ru"?" ":"Copy failed","error")}},de=async()=>{if(!b)return;const{targetWord:Q,rangeStart:$,rangeEnd:G}=b;try{await Y(Q);const fe=n.substring(0,$)+n.substring(G);P(fe),M(),K(e.language==="ru"?"":"Cut","success")}catch{K(e.language==="ru"?"":"Error","error")}},we=async()=>{if(!b)return;const{rangeStart:Q,rangeEnd:$}=b;try{const G=await oe();if(G){const fe=n.substring(0,Q)+G+n.substring($);P(fe),M()}}catch{K(e.language==="ru"?" ":"Paste failed","error")}},Ne=()=>{if(!b)return;const{targetWord:Q,rangeStart:$,rangeEnd:G}=b,fe=Bl(Q),he=n.substring(0,$)+fe+n.substring(G);P(he),M(),K(e.language==="ru"?" ":"Layout switched","success")};return w.useImperativeHandle(t,()=>({getText:()=>n,toggleRecording:()=>j(),clear:()=>{P("")},copy:async()=>{if(n)try{await Y(n),K(e.language==="ru"?"!":"Copied!","success")}catch{K(e.language==="ru"?" ":"Copy failed","error")}},cut:async()=>{if(n)try{await Y(n),P(""),K(e.language==="ru"?"!":"Cut!","success")}catch{K(e.language==="ru"?"":"Error","error")}},paste:async()=>{try{try{const G=await navigator.clipboard.read();for(const fe of G){const he=fe.types.find(xe=>xe.startsWith("image/"));if(he){const xe=await fe.getType(he),ke=new File([xe],`pasted_image_${Date.now()}.png`,{type:he});ee.current&&(ee.current.setFile(ke),K(e.language==="ru"?" ":"Image pasted","success"));return}}}catch{}const Q=await oe();if(!Q)return;const $=f.current;if($){const G=$.selectionStart,fe=$.selectionEnd,he=n.length;let xe="",ke=0;he>0&&G===0&&fe===0?(xe=n+Q,ke=xe.length):(xe=n.substring(0,G)+Q+n.substring(fe),ke=G+Q.length),P(xe),setTimeout(()=>{f.current&&(f.current.focus(),f.current.setSelectionRange(ke,ke))},10)}else P(n+Q)}catch(Q){console.error("Paste failed",Q),K(e.language==="ru"?" ":"Paste failed","error")}},clearAndPaste:async()=>{try{try{const $=await navigator.clipboard.read();for(const G of $){const fe=G.types.find(he=>he.startsWith("image/"));if(fe){const he=await G.getType(fe),xe=new File([he],`pasted_image_${Date.now()}.png`,{type:fe});P(""),ee.current&&(ee.current.setFile(xe),K(e.language==="ru"?" ":"Image pasted","success"));return}}}catch{}const Q=await oe();P(Q||""),setTimeout(()=>{f.current&&Q&&(f.current.focus(),f.current.setSelectionRange(Q.length,Q.length))},10)}catch(Q){console.error("Replace failed",Q),K(e.language==="ru"?" ":"Paste Error","error")}},fullWipe:()=>{P(""),W()},switchLayout:()=>{const Q=f.current;if(!Q||!n)return;const $=Q.selectionStart,G=Q.selectionEnd;let fe="",he=$,xe="";if($!==G){const ke=n.substring($,G);xe=Bl(ke),fe=n.substring(0,$)+xe+n.substring(G),he=$+xe.length}else xe=Bl(n),fe=xe,he=n.length;P(fe),K(e.language==="ru"?" ":"Layout switched","success"),setTimeout(()=>{f.current&&(f.current.focus(),$!==G?f.current.setSelectionRange($,he):f.current.setSelectionRange(he,he))},10)}})),w.useEffect(()=>{if(ye.current){ye.current=!1;return}if(e.settings.enabled){ge(!0);const Q=setTimeout(()=>ge(!1),800);return()=>clearTimeout(Q)}},[e.settings.enabled]),w.useEffect(()=>{e.onHistoryUpdate()},[Z]),l.jsxs("div",{className:"relative w-full h-full flex flex-col overflow-hidden",children:[b&&l.jsx(R2,{x:b.x,y:b.y,suggestions:b.suggestions,originalWord:b.targetWord,onSelect:J,onClose:M,onCopy:ce,onCut:de,onPaste:we,onSwitchLayout:Ne}),l.jsx(I2,{text:n,committedLength:r,correctedLength:i,checkedLength:s,checkingLength:o,finalizedSentences:a,aiFixedSegments:u,dictatedSegments:c,unknownSegments:d,status:e.status,visualizerStatus:L,isAnalyzing:D,isRecording:R,language:e.language,textareaRef:f,backdropRef:m,onChange:v,onScroll:A,onKeyDown:y,onClipboard:x,onPaste:ue,visualizerDataRef:E,onInteraction:e.onInteraction,isPaused:!e.settings.enabled,showResumeAnimation:se,lowCut:e.settings.visualizerLowCut,highCut:e.settings.visualizerHighCut,amp:e.settings.visualizerAmp,visualizerStyle:e.settings.visualizerStyle,silenceThreshold:e.settings.silenceThreshold,visualizerNorm:e.settings.visualizerNorm,visualizerGravity:e.settings.visualizerGravity,visualizerMirror:e.settings.visualizerMirror,onDropFile:q,processingOverlay:O,monochromeMode:e.settings.monochromeMode,onRequestSuggestions:H}),l.jsx(j2,{ref:ee,textLength:n.length,committedLength:r,processedLength:i,status:e.status,language:e.language,isBusy:p,canUndo:k,canRedo:C,onUndo:S,onRedo:I,onRecord:j,onEnhance:N,onFileUpload:q,autoStopCountdown:z,onHistoryClick:e.onToggleHistory,isHistoryOpen:e.showHistory,developerMode:e.settings.developerMode,onDevRecord:T,isDevRecording:F,showClipboard:e.showClipboard,onToggleClipboard:e.onToggleClipboard,isRecording:R,isFreeTier:e.settings.isFreeTier}),l.jsx(P2,{history:_,currentIndex:B,isOpen:e.showHistory,onClose:e.onToggleHistory,onRestore:U,language:e.language,onClear:W})]})}),_2=({language:e,onDone:t,isActive:n,isMuted:r})=>{const i=Ze(e),[s,o]=w.useState(0),[a,u]=w.useState(!1),[c,d]=w.useState(0),f=w.useRef(!1),m=w.useRef(null),p=w.useRef([]),[k,C]=w.useState({x:-100,y:-100}),A=w.useRef(null),v=w.useRef(!1);w.useEffect(()=>{if(!n){v.current=!1,A.current&&(A.current.pause(),A.current=null);return}v.current=!0,f.current=!1,u(!1);let E;const z=[0,1,2,3,4,5,6],L=D=>{if(!v.current)return;const R=z[D];o(R),A.current&&(A.current.pause(),A.current=null);const _=()=>{v.current&&(E=setTimeout(()=>{const P=(D+1)%z.length;P===0&&(f.current=!0,u(!0)),L(P)},1e3))};if(r||f.current){E=setTimeout(_,4e3);return}let B="RU",U="ru";e==="en"?(B="EN",U="en"):(e==="uz-latn"||e==="uz-cyrl")&&(B="UZ",U="uz");const Z=`./sounds/${B}/guide_step_${R}_${U}`,W=P=>{if(!v.current)return;const q=new Audio(`${Z}.${P}`);q.volume=.6,A.current=q,q.onended=_,q.onerror=()=>{P==="mp3"?W("wav"):(console.warn(`Audio missing for step ${R} (both formats), using timer.`),E=setTimeout(_,4e3))};const T=q.play();T!==void 0&&T.catch(F=>{console.log("Guide audio autoplay blocked or failed:",F),E=setTimeout(_,4e3)})};W("mp3")};return L(0),()=>{v.current=!1,clearTimeout(E),A.current&&(A.current.pause(),A.current.onended=null,A.current.onerror=null,A.current=null)}},[n,e,r,c]);const y=()=>{u(!1),d(E=>E+1)},x=w.useCallback(()=>{if(!m.current)return;if(s===0||s===6){C({x:-100,y:500});return}const E=p.current[s];if(E){const z=m.current.getBoundingClientRect(),L=E.getBoundingClientRect(),D=L.left-z.left+L.width/2,R=L.top-z.top+L.height/2;C({x:D,y:R})}},[s]);w.useEffect(()=>{requestAnimationFrame(x);const E=setInterval(x,16),z=setTimeout(()=>clearInterval(E),600),L=new ResizeObserver(()=>{x()});return m.current&&L.observe(m.current),window.addEventListener("resize",x),()=>{clearInterval(E),clearTimeout(z),L.disconnect(),window.removeEventListener("resize",x)}},[s,x]);const S=()=>{if(e==="ru")switch(s){case 0:return" 1:   Google AI Studio";case 1:return" 2:  'Create API key'";case 2:return" 3:   ";case 3:return" 4:  'Create in new project'";case 4:return" 5:  ";case 5:return" 6:   ";case 6:return" 7:    ' '";default:return""}else switch(s){case 0:return"Step 1: Go to Google AI Studio";case 1:return"Step 2: Click 'Create API key'";case 2:return"Step 3: Open project menu";case 3:return"Step 4: Select 'New project'";case 4:return"Step 5: Confirm creation";case 5:return"Step 6: Copy your new key";case 6:return"Step 7: Return and click 'Enter key'";default:return""}},I=()=>{if(e==="ru")switch(s){case 1:return" Create";case 2:return" ";case 3:return" 'New Project'";case 4:return"";case 5:return"";default:return""}else switch(s){case 1:return"Click Create";case 2:return"Open Menu";case 3:return"Select 'New Project'";case 4:return"Confirm";case 5:return"Copy Key";default:return""}},N=E=>{if(window.require){E.preventDefault();try{const{shell:z}=window.require("electron");z.openExternal(E.currentTarget.href)}catch(z){console.error("Failed to open external link",z),window.open(E.currentTarget.href,"_blank")}}},j=k.x>400;return l.jsxs("div",{className:"flex flex-col h-full bg-slate-900 overflow-hidden relative",children:[l.jsx("div",{className:"p-6 pb-4 shrink-0 z-20 bg-slate-900 border-b border-slate-800 flex flex-col items-center",children:l.jsxs("div",{className:"w-full max-w-5xl",children:[l.jsxs("h2",{className:"text-xl font-bold text-white mb-2 flex items-center gap-2",children:[l.jsx(_0,{className:"w-5 h-5 text-indigo-400"}),i.guideTitle]}),l.jsx("div",{className:"h-6 flex items-center",children:l.jsx("span",{className:"text-sm text-indigo-300 font-mono animate-in slide-in-from-bottom-2 fade-in duration-300 bg-indigo-900/30 px-2 py-0.5 rounded border border-indigo-500/30",children:S()},s)})]})}),l.jsx("div",{className:"flex-1 w-full max-w-6xl mx-auto relative flex flex-col",children:l.jsxs("div",{ref:m,className:"flex-1 min-h-[350px] relative mx-4 my-4 flex flex-col font-sans select-none z-10",children:[l.jsxs("div",{className:"absolute inset-0 rounded-xl border border-slate-700 bg-[#1e1e1e] overflow-hidden shadow-2xl flex flex-col pointer-events-none",children:[l.jsxs("div",{className:"h-8 bg-[#2d2d2d] border-b border-[#1e1e1e] flex items-center px-3 gap-2 shrink-0",children:[l.jsxs("div",{className:"flex gap-1.5",children:[l.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-red-500/50"}),l.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-yellow-500/50"}),l.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-green-500/50"})]}),l.jsxs("div",{className:"ml-4 px-3 py-0.5 bg-[#1e1e1e] rounded text-[10px] text-slate-500 w-full max-w-[200px] flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-slate-600"}),"aistudio.google.com"]})]}),l.jsxs("div",{className:"flex-1 relative p-6 overflow-hidden bg-[#1e1e1e]",children:[l.jsxs("div",{className:"absolute left-0 top-0 bottom-0 w-16 border-r border-[#333] flex flex-col items-center pt-4 gap-4 bg-[#1e1e1e] z-10",children:[l.jsx("div",{className:"w-8 h-8 rounded bg-blue-600/20 text-blue-500 flex items-center justify-center font-bold text-xs",children:"AI"}),l.jsx("div",{className:"w-8 h-8 rounded bg-[#333]"}),l.jsx("div",{className:"w-8 h-8 rounded bg-[#333] border-l-2 border-blue-500"})]}),l.jsxs("div",{className:"ml-16 h-full relative",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsx("h1",{className:"text-2xl font-semibold text-white",children:"API Keys"}),l.jsxs("div",{ref:E=>{p.current[1]=E},className:`
                                    relative flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300
                                    ${s===1?"bg-blue-600 text-white scale-110 shadow-[0_0_20px_rgba(37,99,235,0.6)] ring-2 ring-white z-20":"bg-[#333] text-gray-400"}
                              `,children:[l.jsx(su,{className:"w-4 h-4"}),"Create API key"]})]}),l.jsxs("div",{className:"border-b border-[#333] pb-2 mb-4 flex text-xs text-gray-500 gap-8",children:[l.jsx("span",{className:"w-1/3",children:"Key"}),l.jsx("span",{className:"w-1/3",children:"Project"}),l.jsx("span",{className:"w-1/3 text-right",children:"Action"})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[s<5&&l.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-gray-600 text-sm gap-2 opacity-50",children:[l.jsx("div",{className:"w-10 h-10 border-2 border-dashed border-gray-700 rounded rotate-45"}),l.jsx("span",{children:"No API keys found"})]}),l.jsxs("div",{className:`
                                    w-full bg-[#252525] p-3 rounded flex items-center border border-green-900/30 transition-all duration-500
                                    ${s>=5?"opacity-100 translate-y-0":"opacity-0 translate-y-4 absolute"}
                               `,children:[l.jsxs("div",{className:"w-1/3 flex flex-col",children:[l.jsx("span",{className:"text-white text-xs font-mono",children:"AIzaSy...7x92"}),l.jsx("span",{className:"text-[10px] text-gray-500",children:"Created just now"})]}),l.jsx("div",{className:"w-1/3 text-xs text-gray-400",children:"Gemini Project"}),l.jsx("div",{className:"w-1/3 flex justify-end",children:l.jsxs("div",{ref:E=>{p.current[5]=E},className:`
                                          p-2 rounded transition-all duration-300
                                          ${s===5?"bg-blue-600 text-white scale-125 ring-2 ring-white shadow-[0_0_15px_rgba(37,99,235,0.5)]":"hover:bg-[#333] text-gray-500"}
                                       `,children:[l.jsx(Wn,{className:"w-4 h-4"}),s===5&&l.jsx("div",{className:"absolute inset-0 bg-white/30 rounded-full animate-ping"})]})})]})]})]}),l.jsx("div",{className:`absolute inset-0 bg-black/60 z-20 flex items-center justify-center transition-all duration-300 ${s>=2&&s<=4?"opacity-100":"opacity-0 pointer-events-none"}`,children:l.jsxs("div",{className:`bg-[#1e1e1e] w-full max-w-sm rounded-xl border border-[#333] shadow-2xl overflow-hidden p-6 relative transition-transform duration-300 ${s>=2&&s<=4?"scale-100":"scale-95"}`,children:[l.jsx("h3",{className:"text-lg text-white mb-6",children:"Create a new key"}),l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{className:"space-y-1 relative",children:[l.jsx("label",{className:"text-xs text-gray-400",children:"Choose an imported project"}),l.jsxs("div",{ref:E=>{p.current[2]=E},className:`
                                          w-full flex justify-between bg-[#111] border rounded p-2 text-sm text-left relative transition-all duration-300
                                          ${s===2?"border-blue-500 text-white ring-2 ring-blue-500 shadow-[0_0_15px_rgba(59,130,246,0.4)] scale-105 z-10":"border-[#333] text-gray-500"}
                                      `,children:[s>=3?"New Project":"Select a Cloud Project",l.jsx(rl,{className:"w-4 h-4"})]}),l.jsxs("div",{className:`
                                          absolute top-full left-0 w-full bg-[#252525] border border-[#333] rounded mt-1 shadow-xl z-30 overflow-hidden transition-all duration-200 origin-top 
                                          ${s>=2&&s<=3?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}
                                      `,children:[l.jsx("div",{className:"p-2 text-gray-400 text-xs border-b border-[#333]",children:"Existing Project"}),l.jsxs("div",{ref:E=>{p.current[3]=E},className:`
                                                p-2 font-medium text-xs flex items-center gap-2 transition-all duration-200
                                                ${s===3?"bg-blue-600 text-white scale-105 origin-left pl-4 font-bold shadow-md":"text-blue-500"}
                                            `,children:[l.jsx("span",{children:"+"})," Create API key in new project"]})]})]})}),l.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[l.jsx("div",{className:"px-3 py-1.5 rounded text-sm text-gray-400",children:"Cancel"}),l.jsx("div",{ref:E=>{p.current[4]=E},className:`
                                        px-4 py-1.5 rounded text-sm font-medium transition-all duration-300
                                        ${s===4?"bg-blue-600 text-white scale-110 shadow-[0_0_20px_rgba(37,99,235,0.6)] ring-2 ring-white z-10":"bg-[#333] text-gray-500"}
                                    `,children:"Create key"})]})]})})]})]}),l.jsxs("div",{className:"absolute z-50 transition-all duration-500 ease-[cubic-bezier(0.25,1,0.5,1)] pointer-events-none",style:{top:`${k.y}px`,left:`${k.x}px`,opacity:s>0&&s<6?1:0},children:[l.jsx(u2,{className:"w-8 h-8 text-indigo-500 fill-white drop-shadow-xl relative z-10 -mt-1 -ml-1"}),s>0&&s<6&&l.jsxs("div",{className:`
                            absolute top-8 flex items-center gap-2 whitespace-nowrap bg-indigo-600 text-white text-xs font-bold px-3 py-2 rounded-xl shadow-xl animate-bounce border border-indigo-400
                            ${j?"right-0 mr-[-20px]":"left-0 ml-[-20px]"}
                       `,children:[l.jsx("div",{className:"w-5 h-5 bg-white text-indigo-600 rounded-full flex items-center justify-center text-[10px] shrink-0",children:s}),l.jsx("span",{children:I()})]})]})]})}),l.jsx("div",{className:"p-6 pt-0 shrink-0 flex flex-col items-center z-20",children:l.jsxs("div",{className:"w-full max-w-2xl flex flex-col gap-3 relative",children:[s===0&&l.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 z-30 animate-bounce whitespace-nowrap",children:l.jsxs("div",{className:"bg-indigo-600 text-white text-xs font-bold px-3 py-2 rounded-xl shadow-xl flex items-center gap-2",children:[l.jsx("div",{className:"w-5 h-5 bg-white text-indigo-600 rounded-full flex items-center justify-center text-[10px] shrink-0",children:"1"}),l.jsx("span",{children:e==="ru"?"  Google AI Studio":"Go to Google AI Studio"}),l.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-3 h-3 bg-indigo-600 rotate-45"})]})}),l.jsxs("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",onClick:N,className:`
                    w-full font-medium py-3 px-4 rounded-xl transition-all flex items-center justify-center gap-2 border
                    ${s===0?"bg-indigo-600 text-white border-indigo-500 shadow-lg shadow-indigo-900/40 ring-2 ring-indigo-400 ring-offset-2 ring-offset-slate-900":"bg-slate-800 hover:bg-slate-700 text-indigo-400 border-slate-700"}
                  `,children:[l.jsx("span",{children:i.guideGoToGoogle}),l.jsx(yc,{className:"w-4 h-4"})]}),l.jsxs("div",{className:"relative w-full space-y-3",children:[s===6&&l.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 z-30 animate-bounce whitespace-nowrap",children:l.jsxs("div",{className:"bg-emerald-600 text-white text-xs font-bold px-3 py-2 rounded-xl shadow-xl flex items-center gap-2",children:[l.jsx("div",{className:"w-5 h-5 bg-white text-emerald-600 rounded-full flex items-center justify-center text-[10px] shrink-0",children:"7"}),l.jsx("span",{children:e==="ru"?" ":"Click here"}),l.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-3 h-3 bg-emerald-600 rotate-45"})]})}),l.jsxs("button",{onClick:t,className:`
                            w-full font-bold py-3.5 px-4 rounded-xl transition-all duration-200 flex items-center justify-center gap-2 border
                            ${s===6?"bg-emerald-600 text-white border-emerald-500 shadow-lg shadow-emerald-900/40 ring-2 ring-emerald-400 ring-offset-2 ring-offset-slate-900":"bg-slate-800 hover:bg-emerald-600 hover:text-white text-slate-300 border-slate-700 hover:border-emerald-500"}
                        `,children:[l.jsx("span",{children:i.guideDone}),l.jsx(gr,{className:"w-4 h-4"})]}),a&&l.jsxs("button",{onClick:y,className:"w-full text-slate-500 hover:text-white text-xs font-medium py-2 transition-colors flex items-center justify-center gap-2",children:[l.jsx(ll,{className:"w-3 h-3"}),i.guideRepeat]})]})]})})]})},D2=(e,t,n,r,i)=>{const[s,o]=w.useState(!1),[a,u]=w.useState(!1),c=w.useRef(null),d=w.useRef(null),f=w.useRef(null),m=w.useRef(null),p=w.useRef(new Uint8Array(128)),k=w.useRef(null);return w.useEffect(()=>{const C=new Audio;C.crossOrigin="anonymous",m.current=C;const A=window.AudioContext||window.webkitAudioContext,v=new A;c.current=v;const y=v.createAnalyser();y.fftSize=256,d.current=y;const x=v.createMediaElementSource(C);f.current=x,x.connect(y),y.connect(v.destination);const S=()=>{d.current&&d.current.getByteFrequencyData(p.current),k.current=requestAnimationFrame(S)};return S(),()=>{k.current&&cancelAnimationFrame(k.current),c.current&&c.current.close(),m.current&&(m.current.pause(),m.current=null)}},[]),w.useEffect(()=>{const C=m.current;if(!C)return;const A=()=>u(!1);C.removeEventListener("ended",A),C.pause(),u(!1);const v=t==="welcome"&&e>0,y=t==="setup"&&i;if(s||!v&&!y)return;let x="RU",S="ru";n==="en"?(x="EN",S="en"):(n==="uz-latn"||n==="uz-cyrl")&&(x="UZ",S="uz");let I="";if(y)I=`guide_step_7_${S}`;else if(e===1)r?I=`welcome_step_2_${S}_2`:I=`welcome_step_2_${S}`;else if(e===2)I=`welcome_step_1_${S}`;else if(e>2)I=`welcome_step_${e}_${S}`;else return;const N=`./sounds/${x}/${I}`,j=()=>{if(C.src&&C.src.includes(".mp3")){C.src=`${N}.wav`;const z=C.play();z!==void 0&&z.catch(L=>console.log("WAV playback failed",L))}else u(!1)};C.addEventListener("error",j),C.addEventListener("ended",A),C.src=`${N}.mp3`,C.volume=.6,c.current&&c.current.state==="suspended"&&c.current.resume();const E=C.play();return E!==void 0&&E.then(()=>{u(!0)}).catch(z=>{console.log("Audio autoplay waiting for interaction:",z),u(!1)}),()=>{C&&(C.removeEventListener("error",j),C.removeEventListener("ended",A))}},[e,n,t,s,r,i]),{isMuted:s,setIsMuted:o,isPlayingAudio:a,visualizerDataRef:p}},F0="0.1.6",z2=({language:e,onUnlock:t,onWindowControl:n,onWipeData:r})=>{const i=Ze(e),[s,o]=w.useState(""),[a,u]=w.useState(!1),[c,d]=w.useState(4),[f,m]=w.useState([]),p=w.useRef([]);w.useEffect(()=>{const y=localStorage.getItem("fasttype_lock_code")||"",x=y.length>0?y.length:4;d(x),m(Array(x).fill("")),setTimeout(()=>{var S;return(S=p.current[0])==null?void 0:S.focus()},100)},[]);const k=(y,x)=>{var j;o("");const S=[...f],I=x.slice(-1);S[y]=I,m(S),I&&y<c-1&&((j=p.current[y+1])==null||j.focus());const N=S.join("");N.length===c&&I!==""&&setTimeout(()=>{A(N)},50)},C=(y,x)=>{var S;x.key==="Backspace"&&!f[y]&&y>0&&((S=p.current[y-1])==null||S.focus())},A=y=>{var x;t(y)||(o(i.lockError),m(Array(c).fill("")),(x=p.current[0])==null||x.focus())},v=y=>{y.preventDefault(),A(f.join(""))};return l.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-slate-950 text-slate-200 h-full w-full overflow-hidden titlebar-drag-region p-4",children:[l.jsxs("div",{className:"absolute top-0 right-0 p-3 flex gap-2 no-drag z-50",children:[l.jsx("button",{onClick:()=>n("minimize"),className:"p-1.5 rounded hover:bg-slate-800 text-slate-400 hover:text-white transition-colors",children:l.jsx(wc,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>n("maximize"),className:"p-1.5 rounded hover:bg-slate-800 text-slate-400 hover:text-white transition-colors",children:l.jsx(Yn,{className:"w-3.5 h-3.5"})}),l.jsx("button",{onClick:()=>n("close"),className:"p-1.5 rounded hover:bg-red-600 text-slate-400 hover:text-white transition-colors",children:l.jsx(ot,{className:"w-4 h-4"})})]}),a&&l.jsx("div",{className:"absolute inset-0 z-[60] bg-slate-950/90 backdrop-blur-md flex items-center justify-center p-4 animate-in fade-in duration-300",children:l.jsx("div",{className:"bg-red-950/20 border border-red-900 rounded-2xl p-6 max-w-sm w-full shadow-2xl ring-1 ring-red-900/50",children:l.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[l.jsx("div",{className:"p-4 bg-red-900/30 rounded-full text-red-500",children:l.jsx($b,{className:"w-10 h-10"})}),l.jsx("h3",{className:"text-xl font-bold text-red-400",children:i.wipeTitle}),l.jsx("p",{className:"text-sm text-red-200/70 whitespace-pre-line leading-relaxed",children:i.wipeDesc}),l.jsxs("div",{className:"flex flex-col w-full gap-3 pt-2",children:[l.jsx("button",{onClick:r,className:"w-full py-3 rounded-lg bg-red-600 hover:bg-red-500 text-white font-bold transition-all shadow-lg shadow-red-900/40",children:i.wipeConfirm}),l.jsx("button",{onClick:()=>u(!1),className:"w-full py-2.5 rounded-lg border border-red-900/50 text-red-300 hover:bg-red-900/20 transition-all text-sm",children:i.wipeCancel})]})]})})}),l.jsxs("div",{className:`no-drag w-full max-w-md bg-slate-900 border border-slate-800 rounded-2xl shadow-2xl overflow-hidden p-8 flex flex-col items-center text-center animate-in zoom-in duration-300 ${a?"blur-sm scale-95 opacity-50 pointer-events-none":""}`,children:[l.jsx("div",{className:"bg-slate-800 p-4 rounded-full mb-4 ring-1 ring-indigo-500/30",children:l.jsx(rn,{className:"w-8 h-8 text-indigo-400"})}),l.jsx("h2",{className:"text-xl font-bold text-white mb-1",children:i.lockTitle}),l.jsxs("div",{className:"text-[10px] font-mono text-slate-600 mb-8",children:["v",F0]}),l.jsxs("form",{onSubmit:v,className:"w-full space-y-6",children:[l.jsx("div",{className:"flex justify-center gap-3",children:f.map((y,x)=>l.jsx("input",{ref:S=>{p.current[x]=S},type:"password",inputMode:"text",value:y,onChange:S=>k(x,S.target.value),onKeyDown:S=>C(x,S),className:`
                                    bg-slate-950 border rounded-xl text-center text-xl font-bold text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 transition-all shadow-inner
                                    ${c===6?"w-10 h-12":"w-14 h-16"}
                                    ${s?"border-red-500 text-red-400":y?"border-indigo-500/50":"border-slate-700"}
                                `,autoFocus:x===0,maxLength:1},x))}),s&&l.jsx("p",{className:"text-red-400 text-xs font-bold animate-pulse tracking-wide uppercase",children:s}),l.jsx("button",{type:"submit",className:"hidden"})]}),l.jsxs("div",{className:"mt-8 flex gap-4 w-full justify-center",children:[l.jsx("button",{onClick:()=>{var y;m(Array(c).fill("")),(y=p.current[0])==null||y.focus()},className:"text-slate-500 hover:text-white transition-colors p-2 rounded-full hover:bg-slate-800",title:"Reset",children:l.jsx(ll,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>u(!0),className:"text-[10px] text-slate-500 hover:text-red-400 transition-colors uppercase tracking-wider font-bold py-2",children:i.lockForgot})]})]})]})},L2=({language:e})=>{const t=Ze(e),[n,r]=w.useState(t.wizDemoInput),[i,s]=w.useState("typing");return w.useEffect(()=>{const o=()=>{r(t.wizDemoInput),s("typing"),setTimeout(()=>{s("fixing")},1500),setTimeout(()=>{r(t.wizDemoOutput),s("done")},2500)};o();const a=setInterval(o,5e3);return()=>clearInterval(a)},[e,t]),l.jsxs("div",{className:"w-full max-w-sm bg-slate-950 border border-slate-800 rounded-xl p-4 shadow-lg mb-6 relative overflow-hidden",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2 border-b border-slate-800 pb-2",children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${i==="typing"?"bg-slate-500":i==="fixing"?"bg-purple-500 animate-pulse":"bg-emerald-500"}`}),l.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider",children:i==="typing"?"Input":i==="fixing"?"AI Processing":"Fixed"})]}),l.jsx("div",{className:`text-lg font-medium transition-all duration-500 ${i==="typing"?"text-slate-400":i==="fixing"?"text-purple-300 blur-[1px]":"text-emerald-400 scale-105 origin-left"}`,children:n}),i==="fixing"&&l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-purple-500/10 to-transparent w-full h-full animate-[shimmer_1s_infinite] pointer-events-none"})]})},Qf=({icon:e,title:t,desc:n})=>l.jsxs("div",{className:"flex items-start gap-4 p-3 rounded-xl hover:bg-white/10 transition-colors duration-300",children:[l.jsx("div",{className:"p-2 bg-slate-800 rounded-lg shrink-0 ring-1 ring-white/10",children:e}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-bold text-slate-200",children:t}),l.jsx("p",{className:"text-xs text-slate-500 mt-0.5 leading-relaxed",children:n})]})]}),F2=({wizardStep:e,language:t,langConfirmation:n,handleLanguageSelect:r,setIsMuted:i,handleWizardNext:s,handleWizardBack:o,onNavigateSetup:a,onNavigateGuide:u,MuteButton:c})=>{const d=Ze(t),f=5,m=()=>{switch(t){case"ru":return"   .  ,  .";case"en":return"You selected English. Press Next to continue.";case"uz-latn":return"Siz O'zbek (Lat) tilini tanladingiz. Davom etish uchun Keyingi tugmasini bosing.";case"uz-cyrl":return"  ()  .      .";default:return"Language selected. Press Next to continue."}};return l.jsxs("div",{className:"flex-1 flex flex-col relative overflow-hidden",children:[l.jsx("div",{className:"shrink-0 h-14 w-full flex items-center px-4 z-50 titlebar-drag-region",children:e>0&&l.jsx(c,{})}),l.jsxs("div",{className:"flex-1 relative",children:[l.jsxs("div",{className:`absolute inset-0 flex flex-col items-center justify-center p-8 transition-all duration-500 ${e===0?"opacity-100 translate-x-0":e<0?"opacity-0 translate-x-10 pointer-events-none":"opacity-0 -translate-x-10 pointer-events-none"}`,children:[l.jsx("div",{className:"bg-indigo-600/20 p-6 rounded-full mb-8 ring-1 ring-indigo-500/50",children:l.jsx(xr,{className:"w-12 h-12 text-indigo-400"})}),l.jsx("h1",{className:"text-3xl font-bold text-white text-center mb-2",children:d.wizStep0Title}),l.jsx("p",{className:"text-xl text-slate-400 text-center mb-10",children:d.wizStep0Subtitle}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 w-full max-w-sm",children:[l.jsxs("button",{onClick:()=>{i(!1),s()},className:"p-6 rounded-2xl border border-slate-700 bg-slate-800 hover:bg-emerald-900/20 hover:border-emerald-500/50 hover:text-emerald-400 transition-all duration-300 flex flex-col items-center gap-3 group",children:[l.jsx(xr,{className:"w-8 h-8 group-hover:scale-110 transition-transform"}),l.jsx("span",{className:"font-bold",children:d.btnSoundOn})]}),l.jsxs("button",{onClick:()=>{i(!0),s()},className:"p-6 rounded-2xl border border-slate-700 bg-slate-800 hover:bg-slate-700/50 hover:border-slate-600 hover:text-slate-300 transition-all duration-300 flex flex-col items-center gap-3 group",children:[l.jsx(kc,{className:"w-8 h-8 group-hover:scale-110 transition-transform"}),l.jsx("span",{className:"font-bold",children:d.btnSoundOff})]})]})]}),l.jsxs("div",{className:`absolute inset-0 flex flex-col items-center justify-center p-8 transition-all duration-500 ${e===1?"opacity-100 translate-x-0":e<1?"opacity-0 translate-x-10 pointer-events-none":"opacity-0 -translate-x-10 pointer-events-none"}`,children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:d.wizStep2Title}),l.jsx("p",{className:"text-slate-400 text-center mb-8",children:d.wizStep2Desc}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 w-full max-w-sm mb-4",children:[l.jsxs("button",{onClick:()=>r("ru"),className:`p-4 rounded-xl border transition-all duration-300 flex flex-col items-center gap-2 ${t==="ru"?"bg-indigo-600/20 border-indigo-500 ring-2 ring-indigo-500/50":"bg-slate-800 border-slate-700"}`,children:[l.jsx("div",{className:"text-2xl",children:""}),l.jsx("span",{className:"font-bold text-white text-sm",children:""})]}),l.jsxs("button",{onClick:()=>r("en"),className:`p-4 rounded-xl border transition-all duration-300 flex flex-col items-center gap-2 ${t==="en"?"bg-indigo-600/20 border-indigo-500 ring-2 ring-indigo-500/50":"bg-slate-800 border-slate-700"}`,children:[l.jsx("div",{className:"text-2xl",children:""}),l.jsx("span",{className:"font-bold text-white text-sm",children:"English"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 w-full max-w-sm mb-6",children:[l.jsxs("button",{onClick:()=>r("uz-latn"),className:`p-4 rounded-xl border transition-all duration-300 flex flex-col items-center gap-2 ${t==="uz-latn"?"bg-indigo-600/20 border-indigo-500 ring-2 ring-indigo-500/50":"bg-slate-800 border-slate-700"}`,children:[l.jsx("div",{className:"text-2xl",children:""}),l.jsx("span",{className:"font-bold text-white text-sm",children:"O'zbek"})]}),l.jsxs("button",{onClick:()=>r("uz-cyrl"),className:`p-4 rounded-xl border transition-all duration-300 flex flex-col items-center gap-2 ${t==="uz-cyrl"?"bg-indigo-600/20 border-indigo-500 ring-2 ring-indigo-500/50":"bg-slate-800 border-slate-700"}`,children:[l.jsx("div",{className:"text-2xl",children:""}),l.jsx("span",{className:"font-bold text-white text-sm",children:""})]})]}),n&&l.jsx("div",{className:"animate-in slide-in-from-bottom-2 fade-in duration-300 bg-indigo-900/30 border border-indigo-500/30 text-indigo-200 px-4 py-3 rounded-lg text-sm text-center font-medium max-w-sm shadow-lg",children:m()})]}),l.jsxs("div",{className:`absolute inset-0 flex flex-col items-center justify-center p-8 transition-all duration-500 ${e===2?"opacity-100 translate-x-0":e<2?"opacity-0 translate-x-10 pointer-events-none":"opacity-0 -translate-x-10 pointer-events-none"}`,children:[l.jsx("div",{className:"bg-indigo-600 p-6 rounded-3xl shadow-2xl shadow-indigo-900/50 mb-8 animate-[bounce_2s_infinite]",children:l.jsx(Sn,{className:"w-12 h-12 text-white"})}),l.jsx("h1",{className:"text-3xl font-bold text-white text-center mb-2",children:d.wizStep1Title}),l.jsx("p",{className:"text-xl text-indigo-400 font-medium text-center mb-6",children:d.wizStep1Subtitle}),l.jsx("p",{className:"text-slate-400 text-center max-w-sm leading-relaxed",children:d.wizStep1Desc})]}),l.jsxs("div",{className:`absolute inset-0 flex flex-col items-center justify-center p-8 transition-all duration-500 ${e===3?"opacity-100 translate-x-0":e<3?"opacity-0 translate-x-10 pointer-events-none":"opacity-0 -translate-x-10 pointer-events-none"}`,children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:d.wizStep3Title}),l.jsx("p",{className:"text-slate-400 text-center mb-6 max-w-sm text-sm",children:d.wizStep3Desc}),l.jsx(L2,{language:t}),l.jsxs("div",{className:"w-full max-w-sm space-y-3",children:[l.jsx(Qf,{icon:l.jsx(al,{className:"w-4 h-4 text-amber-400"}),title:d.feature1Title,desc:d.feature1Desc}),l.jsx(Qf,{icon:l.jsx(li,{className:"w-4 h-4 text-purple-400"}),title:d.feature2Title,desc:d.feature2Desc})]})]}),l.jsxs("div",{className:`absolute inset-0 flex flex-col items-center justify-center p-8 transition-all duration-500 ${e===4?"opacity-100 translate-x-0":e<4?"opacity-0 translate-x-10 pointer-events-none":"opacity-0 -translate-x-10 pointer-events-none"}`,children:[l.jsx("div",{className:"bg-emerald-500/20 p-6 rounded-full mb-6 ring-1 ring-emerald-500/50",children:l.jsx(ou,{className:"w-12 h-12 text-emerald-400"})}),l.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:d.wizStep4Title}),l.jsx("p",{className:"text-slate-400 text-center mb-8 max-w-xs",children:d.wizStep4Desc}),l.jsxs("div",{className:"w-full max-w-sm space-y-3",children:[l.jsxs("button",{onClick:a,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-semibold py-4 px-4 rounded-xl transition-all duration-300 flex items-center justify-center gap-2 group shadow-lg shadow-indigo-900/20 hover:shadow-indigo-900/40 active:scale-95",children:[l.jsx("span",{children:d.btnHaveKey}),l.jsx(tu,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]}),l.jsx("button",{onClick:u,className:"w-full bg-slate-800 hover:bg-slate-700 text-slate-300 hover:text-white font-semibold py-4 px-4 rounded-xl transition-all duration-300 flex items-center justify-center gap-2 text-sm border border-slate-700 active:scale-95",children:l.jsx("span",{children:d.btnNoKey})})]})]})]}),l.jsxs("div",{className:"p-6 shrink-0 flex items-center justify-between border-t border-slate-800/50 bg-slate-900/50",children:[l.jsx("button",{onClick:o,className:`text-slate-500 hover:text-white transition-colors text-sm font-medium ${e===0?"opacity-0 pointer-events-none":"opacity-100"}`,children:t==="en"?"Back":""}),l.jsx("div",{className:"flex gap-2",children:[0,1,2,3,4].map(p=>l.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${p===e?"w-6 bg-indigo-500":"w-1.5 bg-slate-700"}`},p))}),l.jsxs("button",{onClick:s,className:`
                        transition-all duration-300 text-sm font-bold flex items-center gap-1
                        ${e===f-1||e===0?"opacity-0 pointer-events-none":"opacity-100"}
                        ${n&&e===1?"bg-indigo-600 text-white px-6 py-3 rounded-xl animate-bounce shadow-lg shadow-indigo-500/40 hover:bg-indigo-500":"text-indigo-400 hover:text-indigo-300"}
                    `,children:[t==="en"?"Next":""," ",l.jsx(I0,{className:`w-4 h-4 rotate-180 ${n&&e===1?"animate-pulse":""}`})]})]})]})},O2=({apiKey:e,setApiKey:t,language:n,onStart:r,hasLock:i,onSetLock:s,onNavigateGuide:o,justFinishedGuide:a,setJustFinishedGuide:u,MuteButton:c,settings:d,onUpdateSettings:f})=>{const m=Ze(n),{addNotification:p}=Ht(),[k,C]=w.useState(""),[A,v]=w.useState(!1),[y,x]=w.useState(4),[S,I]=w.useState(Array(4).fill("")),N=w.useRef([]);w.useEffect(()=>{A&&(I(Array(y).fill("")),setTimeout(()=>{var U;(U=N.current[0])==null||U.focus()},100))},[A,y]);const j=U=>{if(U.preventDefault(),e.trim().length<10){C(n==="ru"?" API   .":"API Key looks too short.");return}r(e.trim()),p(n==="ru"?"API  ":"API Key Saved","success")},E=(U,Z)=>{var q;const W=[...S],P=Z.slice(-1);W[U]=P,I(W),P&&U<y-1&&((q=N.current[U+1])==null||q.focus())},z=(U,Z)=>{var W;Z.key==="Backspace"&&!S[U]&&U>0&&((W=N.current[U-1])==null||W.focus())},L=U=>{U.preventDefault();const Z=S.join("");Z.length===y&&(s(Z),p(m.lockSaved||"PIN saved","success"),v(!1),I(Array(y).fill("")))},D=async()=>{u(!1);let U="";if(window.require)try{const{clipboard:Z}=window.require("electron");U=Z.readText()}catch(Z){console.warn("Electron paste failed, trying web fallback",Z)}if(!U)try{U=await navigator.clipboard.readText()}catch(Z){console.error("Failed to paste from web API",Z)}U?(t(U.trim()),C("")):C(n==="ru"?"    ":"Clipboard is empty or inaccessible")},R=U=>{if(window.require)try{const{shell:Z}=window.require("electron");Z.openExternal(U)}catch{window.open(U,"_blank")}else window.open(U,"_blank")},_=()=>{const U=!d.isFreeTier;f({...d,isFreeTier:U}),p(`${U?n==="ru"?" (Free)":"Free Tier":n==="ru"?" (Paid)":"Paid Tier"}: ${U?n==="ru"?"/  ":"Audio/Video features disabled":n==="ru"?"  ":"All features unlocked"}`,U?"info":"success",3e3)},B={ru:" ,   API ",en:"Click here to paste API key","uz-latn":"API kalitni qo'yish uchun shu yerni bosing","uz-cyrl":"API      "}[n]||"Click here to paste API key";return l.jsxs("div",{className:"flex flex-col h-full relative",children:[l.jsx("div",{className:"h-14 shrink-0 flex items-center justify-between px-4 gap-1 border-b border-slate-800 bg-slate-900/50 md:bg-transparent titlebar-drag-region z-20",children:l.jsx(c,{})}),l.jsx("div",{className:`flex-1 overflow-y-auto custom-scrollbar p-6 md:p-8 flex flex-col justify-center items-center relative transition-opacity duration-300 ${A?"opacity-0 pointer-events-none":"opacity-100"}`,children:l.jsxs("div",{className:"w-full max-w-lg relative",children:[l.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 -z-10 pointer-events-none select-none",children:l.jsx(Sn,{className:"w-96 h-96 text-indigo-600/10 blur-md animate-pulse duration-[3000ms]"})}),l.jsxs("div",{className:"text-center mb-10 relative z-10",children:[l.jsxs("h1",{className:"text-4xl md:text-5xl font-black tracking-tight mb-2 leading-tight",children:[l.jsx("span",{className:"block text-slate-200 mb-1",children:n==="ru"?"  ":n==="uz-latn"?"Fast Type AI ga":n==="uz-cyrl"?"Fast Type AI ":"Welcome to"}),l.jsx("span",{className:"bg-gradient-to-r from-indigo-400 via-purple-400 to-fuchsia-400 bg-clip-text text-transparent drop-shadow-sm",children:n==="uz-latn"||n==="uz-cyrl"?"Xush kelibsiz":"Fast Type AI"})]}),l.jsx("div",{className:"inline-flex items-center justify-center px-3 py-1 rounded-full bg-slate-800/50 border border-slate-700/50 backdrop-blur-sm",children:l.jsxs("span",{className:"text-[10px] font-mono text-slate-400 tracking-wider",children:["v",F0]})})]}),l.jsx("div",{className:"bg-slate-900/80 backdrop-blur-sm border border-slate-800 rounded-2xl p-5 mb-4 relative z-10 shadow-xl",children:l.jsxs("div",{className:"flex items-start gap-4 mb-2",children:[l.jsx("div",{className:"w-10 h-10 bg-slate-800 rounded-xl flex items-center justify-center border border-slate-700 shrink-0",children:l.jsx(_0,{className:"w-5 h-5 text-indigo-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white leading-tight mb-1",children:m.setupTitle}),l.jsx("p",{className:"text-sm text-slate-400 leading-snug",children:m.setupDesc})]})]})}),l.jsxs("div",{className:"bg-emerald-950/20 backdrop-blur-sm border border-emerald-500/20 rounded-xl p-3 mb-6 relative z-10 flex items-start gap-3 shadow-lg",children:[l.jsx("div",{className:"p-1.5 bg-emerald-500/10 rounded-lg shrink-0 mt-0.5",children:l.jsx(ou,{className:"w-4 h-4 text-emerald-400"})}),l.jsx("p",{className:"text-[11px] text-emerald-100/70 leading-relaxed font-medium",children:m.securityNote})]}),l.jsxs("form",{onSubmit:j,className:"space-y-6 relative z-10",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-end mb-2",children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider ml-1",children:m.apiKeyLabel}),l.jsxs("div",{className:"flex items-center gap-3 text-[10px] font-medium",children:[l.jsxs("button",{type:"button",onClick:()=>R("https://aistudio.google.com/app/apikey"),className:"text-indigo-400 hover:text-indigo-300 transition-colors flex items-center gap-1 group",children:[l.jsx("span",{children:m.linkGetKey}),l.jsx(yc,{className:"w-3 h-3 group-hover:rotate-45 transition-transform"})]}),l.jsx("span",{className:"text-slate-700",children:"|"}),l.jsx("button",{type:"button",onClick:o,className:"text-slate-500 hover:text-slate-300 transition-colors",children:m.linkTutorial})]})]}),l.jsx("div",{className:"relative group mb-1",children:l.jsxs("div",{className:"w-full bg-blue-500/10 border border-blue-500/20 text-blue-300 text-[10px] px-3 py-2 rounded-xl flex items-center justify-center gap-2 mb-2",children:[l.jsx(rn,{className:"w-3 h-3 shrink-0"}),l.jsx("span",{className:"text-center",children:m.apiKeyTooltip})]})}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"relative group flex-1",children:[l.jsx("input",{type:"password",value:e,onChange:U=>{t(U.target.value),C(""),u(!1)},placeholder:"AIzaSy...",className:"w-full bg-slate-950/80 border border-slate-700 rounded-xl pl-4 pr-10 py-3.5 text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 placeholder:text-slate-700 transition-all font-mono text-sm shadow-inner",autoFocus:!A}),l.jsxs("button",{type:"button",onClick:D,className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 text-slate-500 hover:text-white hover:bg-slate-700 rounded-lg transition-colors z-20 cursor-pointer",title:"Paste",children:[l.jsx(il,{className:"w-4 h-4"}),a&&l.jsx("div",{className:"absolute bottom-full right-0 mb-3 whitespace-nowrap z-50 animate-bounce",children:l.jsxs("div",{className:"bg-indigo-600 text-white text-[10px] font-bold px-3 py-2 rounded-xl shadow-xl flex items-center gap-2 border border-indigo-400",children:[l.jsx("span",{children:B}),l.jsx("div",{className:"absolute -bottom-1 right-3 w-3 h-3 bg-indigo-600 rotate-45 border-r border-b border-indigo-400"})]})})]})]}),l.jsxs("div",{className:"flex flex-col items-center gap-1.5 shrink-0",children:[l.jsx("button",{type:"button",onClick:_,className:`w-14 h-8 rounded-full p-1 flex items-center transition-all duration-300 focus:outline-none shadow-inner border ${d.isFreeTier?"bg-slate-800 border-slate-700/50":"bg-indigo-600 border-indigo-500 shadow-[0_0_15px_rgba(99,102,241,0.4)]"}`,title:d.isFreeTier?n==="ru"?"  ":"Switch to Paid":n==="ru"?"  ":"Switch to Free",children:l.jsx("div",{className:`w-6 h-6 rounded-full bg-white shadow-lg transform transition-transform duration-300 flex items-center justify-center ${d.isFreeTier?"translate-x-0":"translate-x-6"}`,children:d.isFreeTier?l.jsx("div",{className:"w-2 h-2 rounded-full bg-slate-400"}):l.jsx(al,{className:"w-3.5 h-3.5 text-indigo-600 fill-current"})})}),l.jsx("span",{className:`text-[9px] font-bold uppercase tracking-wider transition-colors ${d.isFreeTier?"text-slate-500":"text-indigo-400"}`,children:d.isFreeTier?"Free":n==="ru"?"Pro":"Paid"})]})]}),k&&l.jsxs("p",{className:"text-red-400 text-xs mt-2 ml-1 animate-pulse flex items-center gap-1",children:[l.jsx("span",{children:""})," ",k]})]}),l.jsxs("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-3.5 px-4 rounded-xl transition-all duration-200 flex items-center justify-center gap-2 group shadow-lg shadow-indigo-900/20 hover:shadow-indigo-900/40 active:scale-95",children:[l.jsx("span",{children:m.startBtn}),l.jsx(tu,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]}),!i&&l.jsx("div",{className:"pt-4 border-t border-slate-800/50 text-center",children:l.jsxs("button",{type:"button",onClick:()=>v(!0),className:"inline-flex items-center gap-2 py-2 px-3 rounded-lg text-slate-500 hover:text-indigo-400 hover:bg-slate-800/50 transition-all text-xs font-medium",children:[l.jsx(L0,{className:"w-3.5 h-3.5"}),l.jsx("span",{children:m.btnCreatePin})]})})]})]})}),A&&l.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/95 backdrop-blur-md animate-in fade-in duration-300",children:l.jsx("div",{className:"animate-in zoom-in-95 duration-300 w-full max-w-lg flex flex-col items-center",children:l.jsxs("div",{className:"w-full bg-slate-900/90 border border-slate-700 shadow-2xl rounded-2xl p-8 relative overflow-hidden ring-1 ring-white/5",children:[l.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-64 h-32 bg-emerald-500/20 blur-[80px] rounded-full pointer-events-none"}),l.jsx("button",{onClick:()=>v(!1),className:"absolute top-4 right-4 p-2 text-slate-500 hover:text-white bg-transparent hover:bg-slate-800 rounded-full transition-colors z-20",children:l.jsx(ot,{className:"w-5 h-5"})}),l.jsxs("div",{className:"text-center mb-8 relative z-10",children:[l.jsx("div",{className:"inline-flex p-4 bg-emerald-500/10 rounded-full mb-4 ring-1 ring-emerald-500/30 shadow-[0_0_20px_rgba(16,185,129,0.2)] animate-pulse",children:l.jsx(ou,{className:"w-8 h-8 text-emerald-400"})}),l.jsx("h3",{className:"text-2xl font-black text-white tracking-tight mb-2",children:m.lockCreateTitle}),l.jsx("p",{className:"text-sm text-slate-400 font-medium leading-relaxed max-w-xs mx-auto",children:m.lockCreateDesc})]}),l.jsx("div",{className:"flex justify-center mb-8 relative z-10",children:l.jsxs("div",{className:"flex bg-slate-950/80 p-1.5 rounded-xl border border-slate-800 shadow-inner",children:[l.jsx("button",{type:"button",onClick:()=>{x(4),I(Array(4).fill(""))},className:`px-6 py-2 text-xs font-bold rounded-lg transition-all duration-300 ${y===4?"bg-emerald-600 text-white shadow-lg":"text-slate-500 hover:text-slate-300 hover:bg-slate-900"}`,children:"4 Digits"}),l.jsx("button",{type:"button",onClick:()=>{x(6),I(Array(6).fill(""))},className:`px-6 py-2 text-xs font-bold rounded-lg transition-all duration-300 ${y===6?"bg-emerald-600 text-white shadow-lg":"text-slate-500 hover:text-slate-300 hover:bg-slate-900"}`,children:"6 Digits"})]})}),l.jsxs("form",{onSubmit:L,className:"space-y-8 relative z-10",children:[l.jsx("div",{className:"flex justify-center gap-3 transition-all duration-500 ease-out",children:S.map((U,Z)=>l.jsx("input",{ref:W=>{N.current[Z]=W},type:"password",inputMode:"numeric",value:U,onChange:W=>E(Z,W.target.value),onKeyDown:W=>z(Z,W),className:`
                                                w-14 h-20 bg-slate-950 border rounded-2xl text-center text-3xl font-bold text-emerald-400 
                                                focus:outline-none focus:ring-4 focus:ring-emerald-500/20 focus:border-emerald-500 
                                                transition-all duration-200 shadow-inner
                                                ${U?"border-emerald-500/60 shadow-[0_0_10px_rgba(16,185,129,0.1)]":"border-slate-800"}
                                            `,autoFocus:Z===0,maxLength:1},Z))}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{type:"button",onClick:()=>v(!1),className:"flex-1 py-3.5 rounded-xl border border-slate-700 text-slate-300 font-bold hover:bg-slate-800 transition-all text-sm",children:m.btnBack}),l.jsxs("button",{type:"submit",disabled:S.join("").length!==y,className:"flex-[2] bg-emerald-600 hover:bg-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold py-3.5 rounded-xl transition-all duration-200 flex items-center justify-center gap-2 shadow-lg shadow-emerald-900/30 active:scale-95 text-sm",children:[l.jsx("span",{children:m.lockSetBtn}),l.jsx(tu,{className:"w-4 h-4"})]})]})]})]})})})]})},U2=({initialKey:e,onStart:t,language:n,setLanguage:r,isLocked:i,hasLock:s,onUnlock:o,onSetLock:a,isExiting:u,onWindowControl:c,onWipeData:d,settings:f,onUpdateSettings:m})=>{const[p,k]=w.useState(e),[C,A]=w.useState(e?"setup":"welcome"),[v,y]=w.useState("forward"),[x,S]=w.useState(0),I=5,[N,j]=w.useState(!1),[E,z]=w.useState(!1),{isMuted:L,setIsMuted:D,isPlayingAudio:R,visualizerDataRef:_}=D2(x,C,n,N,E),B=O=>{y(C==="welcome"?"forward":O==="welcome"?"backward":"forward"),A(O),O!=="setup"&&z(!1)},U=()=>{z(!0),B("setup")},Z=()=>{j(!1),x<I-1&&S(O=>O+1)},W=()=>{j(!1),x>0&&S(O=>O-1)},P=O=>{r(O),j(!0)},q=O=>{const b=C===O;let H="absolute inset-0 w-full h-full transition-all duration-500 ease-[cubic-bezier(0.2,0.8,0.2,1)] will-change-transform flex flex-col";if(b)return`${H} opacity-100 scale-100 z-10 pointer-events-auto blur-0 translate-y-0`;if(v==="forward"){const J=["welcome","setup","guide"],M=J.indexOf(O),K=J.indexOf(C);return M<K?`${H} opacity-0 scale-90 z-0 pointer-events-none blur-sm`:`${H} opacity-0 scale-110 z-20 pointer-events-none blur-sm`}else{const J=["welcome","setup","guide"],M=J.indexOf(O),K=J.indexOf(C);return M<K?`${H} opacity-0 scale-90 z-0 pointer-events-none blur-sm`:`${H} opacity-0 scale-110 z-20 pointer-events-none blur-sm`}},T=C==="setup"||C==="guide",F=({className:O=""})=>l.jsx("button",{onClick:()=>D(!L),className:`p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-colors no-drag ${O}`,title:L?"Unmute":"Mute",children:L?l.jsx(kc,{className:"w-5 h-5"}):l.jsx(xr,{className:"w-5 h-5"})});return i?l.jsx(z2,{language:n,onUnlock:o,onWindowControl:c,onWipeData:d}):l.jsxs("div",{className:`fixed inset-0 z-40 flex items-center justify-center bg-slate-950 text-slate-200 h-full w-full titlebar-drag-region overflow-hidden ${u?"pointer-events-none":""}`,children:[l.jsxs("div",{className:`fixed top-0 left-0 w-full h-full overflow-hidden pointer-events-none transition-opacity duration-1000 ${u?"opacity-0":"opacity-100"}`,children:[l.jsx("div",{className:`absolute inset-0 z-0 opacity-40 transition-opacity duration-1000 ${C==="welcome"&&R||C==="setup"&&E&&R?"opacity-40":"opacity-0"}`,children:l.jsx(cs,{visualizerDataRef:_,isRecording:!0,visualizerStyle:"wave",amp:.6,highCut:50,lowCut:2,gravity:1.5,silenceThreshold:5,norm:!0,mirror:!0,rounded:!0})}),l.jsx("div",{className:"absolute top-[-10%] right-[-5%] w-96 h-96 bg-indigo-900/10 blur-[120px] rounded-full animate-pulse [animation-duration:8s]"}),l.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[500px] h-[500px] bg-blue-900/10 blur-[150px] rounded-full animate-pulse [animation-duration:10s]"})]}),l.jsxs("div",{className:`
            no-drag relative z-10 
            transition-all duration-700 ease-[cubic-bezier(0.2,0.8,0.2,1)]
            bg-transparent md:bg-slate-900 md:shadow-2xl md:overflow-hidden

            ${T?"w-full h-full rounded-none border-none":"w-full h-full md:w-[600px] md:h-[650px] md:max-h-[90vh] md:rounded-2xl md:border md:border-slate-800"}

            ${u?"scale-90 opacity-0 blur-lg translate-y-10":"scale-100 opacity-100 blur-0 translate-y-0"}
        `,children:[l.jsx("div",{className:q("welcome"),children:l.jsx(F2,{wizardStep:x,language:n,setLanguage:r,langConfirmation:N,setLangConfirmation:j,handleLanguageSelect:P,setIsMuted:D,handleWizardNext:Z,handleWizardBack:W,onNavigateSetup:()=>B("setup"),onNavigateGuide:()=>B("guide"),MuteButton:F})}),l.jsx("div",{className:q("setup"),children:l.jsx(O2,{apiKey:p,setApiKey:k,language:n,onStart:t,hasLock:s,onSetLock:a,onNavigateGuide:()=>B("guide"),justFinishedGuide:E,setJustFinishedGuide:z,MuteButton:F,settings:f,onUpdateSettings:m})}),l.jsxs("div",{className:q("guide"),children:[l.jsxs("div",{className:"h-14 shrink-0 flex items-center px-4 gap-1 border-b border-slate-800 bg-slate-900/50 md:bg-transparent titlebar-drag-region",children:[l.jsx(F,{}),l.jsxs("button",{onClick:()=>B("setup"),className:"flex items-center gap-1 text-slate-400 hover:text-white transition-colors py-2 px-2 rounded hover:bg-slate-800 no-drag",children:[l.jsx(I0,{className:"w-5 h-5"}),l.jsx("span",{className:"text-sm font-medium",children:n==="en"?"Back":""})]})]}),l.jsx("div",{className:"flex-1 overflow-hidden relative flex flex-col",children:l.jsx(_2,{language:n,onDone:U,isActive:C==="guide",isMuted:L})})]})]}),l.jsx("div",{className:`absolute top-0 right-0 z-[100] flex items-start gap-3 p-3 transition-all duration-500 pointer-events-auto no-drag ${u?"opacity-0 -translate-y-4":"opacity-100"}`,children:l.jsxs("div",{className:"flex items-center gap-1 bg-slate-900/50 backdrop-blur border border-slate-800/60 rounded-lg p-0.5 pointer-events-auto no-drag",children:[l.jsx("button",{onClick:()=>B("welcome"),className:`p-1.5 rounded hover:bg-slate-800 text-slate-400 hover:text-white transition-colors ${C==="welcome"?"text-indigo-400":""}`,title:n==="en"?"Tutorial":"",children:l.jsx(M0,{className:"w-3.5 h-3.5"})}),l.jsx("div",{className:"w-px h-3 bg-slate-700/50 mx-0.5"}),l.jsx("button",{onClick:()=>r(n==="ru"?"en":n==="en"?"uz-latn":n==="uz-latn"?"uz-cyrl":"ru"),className:"p-1.5 rounded hover:bg-slate-800 text-slate-400 hover:text-white transition-colors text-[10px] font-bold uppercase min-w-[28px]",children:n==="ru"?"RU":n==="en"?"EN":n==="uz-latn"?"UZ":""}),l.jsx("div",{className:"w-px h-3 bg-slate-700/50 mx-0.5"}),l.jsx("button",{onClick:()=>c("minimize"),className:"p-1.5 rounded hover:bg-slate-800 text-slate-400 hover:text-white transition-colors",children:l.jsx(wc,{className:"w-3.5 h-3.5"})}),l.jsx("button",{onClick:()=>c("maximize"),className:"p-1.5 rounded hover:bg-slate-800 text-slate-400 hover:text-white transition-colors",children:l.jsx(Yn,{className:"w-3 h-3"})}),l.jsx("button",{onClick:()=>c("close"),className:"p-1.5 rounded hover:bg-red-600 text-slate-400 hover:text-white transition-colors",children:l.jsx(ot,{className:"w-3.5 h-3.5"})})]})})]})},H2=({isExiting:e=!1})=>l.jsxs("div",{className:`
        fixed inset-0 z-[200] flex flex-col items-center justify-center bg-slate-950 text-slate-200 h-screen w-screen titlebar-drag-region
        transition-all duration-1000 ease-[cubic-bezier(0.2,0.8,0.2,1)]
        ${e?"opacity-0 scale-110 blur-xl pointer-events-none":"opacity-100 scale-100 blur-0"}
      `,children:[l.jsxs("div",{className:"relative mb-8",children:[l.jsx("div",{className:"absolute inset-0 bg-indigo-500 blur-2xl opacity-20 animate-pulse rounded-full"}),l.jsx("div",{className:"relative bg-slate-900/80 p-6 rounded-2xl border border-slate-800 shadow-2xl shadow-indigo-900/20",children:l.jsx(Sn,{className:"w-12 h-12 text-indigo-400 animate-pulse"})})]}),l.jsxs("div",{className:"text-center space-y-3",children:[l.jsx("h1",{className:"text-2xl font-bold tracking-tight bg-gradient-to-br from-white to-slate-400 bg-clip-text text-transparent",children:"FastType AI"}),l.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[l.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-500 rounded-full animate-bounce [animation-delay:-0.3s]"}),l.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-500 rounded-full animate-bounce [animation-delay:-0.15s]"}),l.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-500 rounded-full animate-bounce"})]}),l.jsx("p",{className:"text-xs text-slate-500 font-medium uppercase tracking-widest pt-2",children:" ..."})]})]}),V2=({items:e,isOpen:t,isEnabled:n,onToggleEnabled:r,onClose:i,onClear:s,language:o})=>{const[a,u]=w.useState(""),[c,d]=w.useState(null),[f,m]=w.useState(!1),p=Ze(o),{addNotification:k}=Ht();w.useEffect(()=>{const x=setTimeout(()=>m(!0),100);return()=>clearTimeout(x)},[]);const C=e.filter(x=>x.text.toLowerCase().includes(a.toLowerCase())),A=async(x,S)=>{try{await navigator.clipboard.writeText(S),v(x)}catch{try{const N=document.createElement("textarea");N.value=S,N.style.position="fixed",N.style.left="-9999px",N.style.top="0",document.body.appendChild(N),N.focus(),N.select();const j=document.execCommand("copy");if(document.body.removeChild(N),j)v(x);else throw new Error("Fallback copy failed")}catch(N){console.error("Copy failed",N),k(o==="ru"?" ":"Copy failed","error")}}},v=x=>{d(x),k(o==="ru"?"":"Copied","success"),setTimeout(()=>{d(null)},2e3)},y=x=>new Intl.DateTimeFormat(o==="ru"?"ru-RU":"en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date(x));return l.jsxs("div",{className:`
            absolute top-0 right-0 w-80 h-full bg-slate-900 border-l border-slate-800 shadow-2xl z-40 
            flex flex-col no-drag 
            ${f?"transition-transform duration-300 ease-in-out":""} 
            ${t?"translate-x-0":"translate-x-full invisible pointer-events-none"}
        `,children:[l.jsxs("div",{className:"p-4 border-b border-slate-800 flex items-center justify-between shrink-0 select-none",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Zr,{className:"w-4 h-4 text-indigo-400"}),l.jsx("h3",{className:"text-sm font-semibold text-slate-200",children:p.clipboardTitle})]}),l.jsx("button",{onClick:i,className:"p-1 hover:bg-slate-800 rounded text-slate-500 hover:text-white transition-colors",children:l.jsx(ot,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"p-4 bg-slate-900 shrink-0 space-y-3 border-b border-slate-800",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs text-slate-400 font-medium",children:p.clipboardEnable}),l.jsx("button",{onClick:r,className:`relative w-10 h-5 rounded-full transition-colors ${n?"bg-indigo-600":"bg-slate-700"}`,children:l.jsx("span",{className:`absolute top-1 left-1 bg-white w-3 h-3 rounded-full shadow transition-transform ${n?"translate-x-5":"translate-x-0"}`})})]}),l.jsxs("div",{className:"relative",children:[l.jsx(z0,{className:"absolute left-3 top-2.5 w-3.5 h-3.5 text-slate-500"}),l.jsx("input",{type:"text",placeholder:p.clipboardSearch,value:a,onChange:x=>u(x.target.value),className:"w-full bg-slate-800/50 border border-slate-700 rounded-lg pl-9 pr-3 py-2 text-xs text-slate-200 focus:outline-none focus:border-indigo-500/50 transition-colors"})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2 space-y-2",children:n?C.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-slate-600 space-y-2",children:[l.jsx(Zr,{className:"w-8 h-8 opacity-50"}),l.jsx("p",{className:"text-xs",children:p.clipboardEmpty})]}):C.map(x=>{const S=c===x.id;return l.jsxs("div",{className:"group bg-slate-800/50 border border-slate-700/50 rounded-lg p-3 hover:border-indigo-500/30 hover:bg-slate-800 transition-all",children:[l.jsx("p",{className:"text-xs text-slate-300 line-clamp-3 mb-2 font-mono break-all",children:x.text}),l.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2 border-t border-slate-700/50",children:[l.jsx("span",{className:"text-[10px] text-slate-500",children:y(x.timestamp)}),l.jsxs("button",{onClick:()=>A(x.id,x.text),className:`flex items-center gap-1.5 px-2 py-1 rounded text-[10px] transition-all duration-200 ${S?"bg-emerald-600 text-white":"bg-slate-700 hover:bg-indigo-600 text-slate-300 hover:text-white"}`,children:[S?l.jsx(gr,{className:"w-3 h-3"}):l.jsx(Wn,{className:"w-3 h-3"}),S?o==="ru"?"":"Copied":p.clipboardCopy]})]})]},x.id)}):l.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-slate-600 space-y-2",children:[l.jsx(x2,{className:"w-8 h-8 opacity-50"}),l.jsx("p",{className:"text-xs",children:"History disabled"})]})}),C.length>0&&n&&l.jsx("div",{className:"p-3 border-t border-slate-800 bg-slate-900 shrink-0",children:l.jsxs("button",{onClick:s,className:"w-full flex items-center justify-center gap-2 py-2 rounded-lg border border-red-900/30 hover:bg-red-950/20 text-red-400 text-xs transition-colors",children:[l.jsx(on,{className:"w-3.5 h-3.5"}),p.clipboardClear]})})]})},Hs=(e,t,n)=>{for(let r=0;r<n.length;r++)e.setUint8(t+r,n.charCodeAt(r))},B2=(e,t,n,r)=>{const i=new ArrayBuffer(44),s=new DataView(i);return Hs(s,0,"RIFF"),s.setUint32(4,36+e,!0),Hs(s,8,"WAVE"),Hs(s,12,"fmt "),s.setUint32(16,16,!0),s.setUint16(20,1,!0),s.setUint16(22,n,!0),s.setUint32(24,t,!0),s.setUint32(28,t*n*(r/8),!0),s.setUint16(32,n*(r/8),!0),s.setUint16(34,r,!0),Hs(s,36,"data"),s.setUint32(40,e,!0),new Uint8Array(i)},Jf=e=>{const t=atob(e),n=t.length,r=new Uint8Array(n);for(let a=0;a<n;a++)r[a]=t.charCodeAt(a);const i=B2(n,24e3,1,16),s=new Uint8Array(i.length+r.length);s.set(i,0),s.set(r,i.length);const o=new Blob([s],{type:"audio/wav"});return URL.createObjectURL(o)},$2=({items:e,isOpen:t,onClose:n,onRemove:r,onClear:i,language:s})=>{const o=Ze(s),{addNotification:a}=Ht(),[u,c]=w.useState(""),[d,f]=w.useState(null),[m,p]=w.useState(!1),k=w.useRef(null);w.useEffect(()=>{const x=setTimeout(()=>p(!0),100);return()=>clearTimeout(x)},[]),w.useEffect(()=>()=>{k.current&&(k.current.pause(),k.current=null)},[]);const C=e.filter(x=>x.text.toLowerCase().includes(u.toLowerCase())),A=(x,S)=>{var j;if(d===x){(j=k.current)==null||j.pause(),f(null);return}k.current&&k.current.pause();const I=Jf(S),N=new Audio(I);k.current=N,N.onended=()=>f(null),N.onerror=E=>{console.error("Audio playback error",E),f(null)},N.play().catch(E=>console.error("Playback failed",E)),f(x)},v=x=>{const S=`speech-${x.timestamp}.wav`,I=Jf(x.base64Audio),N=document.createElement("a");N.href=I,N.download=S,document.body.appendChild(N),N.click(),document.body.removeChild(N),a(s==="ru"?` : ${S}`:`Successfully Saved: ${S}`,"success")},y=x=>new Intl.DateTimeFormat(s==="ru"?"ru-RU":"en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date(x));return l.jsxs("div",{className:`
            absolute top-0 right-0 w-80 h-full bg-slate-900 border-l border-slate-800 shadow-2xl z-40 
            flex flex-col no-drag 
            ${m?"transition-transform duration-300 ease-in-out":""} 
            ${t?"translate-x-0":"translate-x-full invisible pointer-events-none"}
        `,children:[l.jsxs("div",{className:"p-4 border-b border-slate-800 flex items-center justify-between shrink-0 select-none",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Gb,{className:"w-4 h-4 text-purple-400"}),l.jsx("h3",{className:"text-sm font-semibold text-slate-200",children:s==="ru"?" ":"Audio Archive"})]}),l.jsx("button",{onClick:n,className:"p-1 hover:bg-slate-800 rounded text-slate-500 hover:text-white transition-colors",children:l.jsx(ot,{className:"w-4 h-4"})})]}),l.jsx("div",{className:"p-4 bg-slate-900 shrink-0 space-y-3 border-b border-slate-800",children:l.jsxs("div",{className:"relative",children:[l.jsx(z0,{className:"absolute left-3 top-2.5 w-3.5 h-3.5 text-slate-500"}),l.jsx("input",{type:"text",placeholder:o.clipboardSearch,value:u,onChange:x=>c(x.target.value),className:"w-full bg-slate-800/50 border border-slate-700 rounded-lg pl-9 pr-3 py-2 text-xs text-slate-200 focus:outline-none focus:border-purple-500/50 transition-colors"})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2 space-y-2",children:e.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-slate-600 space-y-2",children:[l.jsx(vc,{className:"w-8 h-8 opacity-50"}),l.jsx("p",{className:"text-xs",children:o.historyEmpty})]}):C.map(x=>{const S=d===x.id;return l.jsxs("div",{className:"group bg-slate-800/50 border border-slate-700/50 rounded-lg p-3 hover:border-purple-500/30 hover:bg-slate-800 transition-all",children:[l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsx("p",{className:"text-xs text-slate-300 line-clamp-2 font-medium mb-2 leading-relaxed",children:x.text}),l.jsx("span",{className:"text-[9px] px-1.5 py-0.5 rounded bg-slate-700 text-slate-400 font-mono shrink-0",children:x.voice})]}),l.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2 border-t border-slate-700/50",children:[l.jsx("span",{className:"text-[10px] text-slate-500",children:y(x.timestamp)}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:()=>A(x.id,x.base64Audio),className:`p-1.5 rounded transition-colors ${S?"bg-purple-600 text-white":"hover:bg-slate-700 text-slate-400 hover:text-white"}`,title:"Play",children:S?l.jsx(_n,{className:"w-3.5 h-3.5"}):l.jsx(ol,{className:"w-3.5 h-3.5"})}),l.jsx("button",{onClick:()=>v(x),className:"p-1.5 rounded hover:bg-slate-700 text-slate-400 hover:text-emerald-400 transition-colors",title:s==="ru"?"":"Download",children:l.jsx(n2,{className:"w-3.5 h-3.5"})}),l.jsx("button",{onClick:()=>r(x.id),className:"p-1.5 rounded hover:bg-slate-700 text-slate-400 hover:text-red-400 transition-colors",title:s==="ru"?"":"Delete",children:l.jsx(on,{className:"w-3.5 h-3.5"})})]})]})]},x.id)})}),C.length>0&&l.jsx("div",{className:"p-3 border-t border-slate-800 bg-slate-900 shrink-0",children:l.jsxs("button",{onClick:i,className:"w-full flex items-center justify-center gap-2 py-2 rounded-lg border border-red-900/30 hover:bg-red-950/20 text-red-400 text-xs transition-colors",children:[l.jsx(on,{className:"w-3.5 h-3.5"}),o.clipboardClear]})})]})},q2=()=>{const[e,t]=w.useState(0);return w.useEffect(()=>{let n=performance.now(),r=0,i=!0;const s=o=>{i&&(r++,o-n>=1e3&&(t(Math.round(r*1e3/(o-n))),r=0,n=o),requestAnimationFrame(s))};return requestAnimationFrame(s),()=>{i=!1}},[]),l.jsxs("span",{className:"text-[10px] font-mono text-fuchsia-400 bg-fuchsia-900/20 px-1.5 py-0.5 rounded border border-fuchsia-500/30 select-none animate-in fade-in",children:[e," FPS"]})},G2=({language:e,status:t,isGrammarChecking:n,stats:r,settings:i,showSettings:s,showHistory:o,currentTab:a,isPinned:u,setCurrentTab:c,onSetLanguage:d,onTogglePause:f,onToggleSettings:m,onToggleHistory:p,onToggleHelp:k,onTogglePin:C,onGoHome:A,onWindowControl:v,onResetProcessor:y,historyUpdateCount:x=0,onClearText:S,onCopyText:I,onPasteText:N,onCutText:j,onClearAndPaste:E,onSwitchLayout:z,showClipboard:L,onToggleClipboard:D,onUpdateSettings:R,onSendToChat:_,onSendToTranslator:B,onSpeakText:U,onToggleArchive:Z,showArchive:W})=>{const P=Ze(e),[q,T]=w.useState(!1),[F,O]=w.useState(!1),b=w.useRef(null);w.useEffect(()=>{if(x>0){T(!0);const $=setTimeout(()=>T(!1),800);return()=>clearTimeout($)}},[x]),w.useEffect(()=>{const $=G=>{b.current&&!b.current.contains(G.target)&&O(!1)};return F&&document.addEventListener("mousedown",$),()=>{document.removeEventListener("mousedown",$)}},[F]);const H=$=>{if(R){const G=!i[$],fe={[$]:G};G===!0&&$!=="monochromeMode"&&(fe.enabled=!0),R({...i,...fe})}else console.warn("onUpdateSettings not provided to AppHeader")},J=t==="typing",M=t==="recording"||t==="transcribing",K=t==="dict_check",se=t==="ai_fixing",ge=t==="ai_finalizing"||t==="enhancing",ye=t==="script_fix",ee=t==="speaking",Y=i.enabled,oe=i.fixTypos||i.fixPunctuation,ue=()=>{if(R){const $=!oe;R({...i,fixTypos:$,fixPunctuation:$,enabled:$?!0:i.enabled})}},ce=[{id:"editor",icon:f2,label:P.tabEditor,activeColor:"bg-slate-800",shortcut:"Ctrl+1"},{id:"chat",icon:as,label:P.tabAssist,activeColor:"bg-indigo-600",shortcut:"Ctrl+2"},{id:"translator",icon:iu,label:P.tabTrans,activeColor:"bg-emerald-600",shortcut:"Ctrl+3"},{id:"planner",icon:D0,label:P.tabPlanner||"Planner",activeColor:"bg-amber-600",shortcut:"Ctrl+4"}],de=l.jsx("div",{className:"flex p-1 bg-slate-950 rounded-lg border border-slate-800 shrink-0 gap-1 no-drag shadow-sm transition-all duration-300",children:ce.map($=>{const G=a===$.id;return l.jsx(Ae,{content:G?"":`${$.label} (${$.shortcut})`,side:"bottom",children:l.jsxs("button",{onClick:()=>c($.id),className:`flex items-center justify-center gap-1 px-2.5 py-1.5 rounded-md text-xs font-semibold transition-all duration-300 touch-manipulation ease-out ${G?`${$.activeColor} text-white shadow-md pr-3`:"text-slate-500 hover:text-slate-300 hover:bg-slate-800/50"}`,children:[l.jsx($.icon,{className:`w-4 h-4 shrink-0 transition-transform duration-300 ${G?"scale-100":"scale-90"}`}),l.jsx("span",{className:`overflow-hidden whitespace-nowrap transition-all duration-300 ease-in-out ${G?"max-w-[150px] ml-1 opacity-100":"max-w-0 ml-0 opacity-0"}`,children:$.label})]})},$.id)})}),we=l.jsxs("div",{className:"flex items-center gap-1 overflow-visible animate-in fade-in zoom-in duration-300 no-drag bg-slate-900/50 px-3 py-1 rounded-full border border-slate-800/50 shadow-sm justify-center transition-all",children:[l.jsx(Ae,{content:P.detailReset||"Reset Processor",side:"bottom",children:l.jsx("button",{onClick:y,className:"p-2 rounded-full text-slate-500 hover:text-white hover:bg-slate-800 transition-all cursor-pointer group active:scale-95 touch-manipulation",children:l.jsx(ll,{className:"w-4 h-4 group-hover:-rotate-90 transition-transform duration-300"})})}),l.jsx(Ae,{content:Y?P.tooltipPauseAction:P.tooltipResumeAction,side:"bottom",children:l.jsx("button",{onClick:f,className:`p-2 rounded-full transition-all cursor-pointer hover:bg-slate-800 active:scale-95 touch-manipulation text-slate-500 ${Y?"hover:text-yellow-400":"hover:text-emerald-400"}`,children:Y?l.jsx(_n,{className:"w-4 h-4"}):l.jsx(ol,{className:"w-4 h-4"})})}),l.jsx("div",{className:"w-px h-4 bg-slate-800 mx-1 md:mx-2 shrink-0"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ae,{content:oe?P.modeSmart:P.modeTransOnly,side:"bottom",children:l.jsx("button",{onClick:ue,className:`
                        shrink-0 flex items-center justify-center w-8 h-8 rounded-full border transition-all duration-300 cursor-pointer active:scale-95
                        bg-slate-800 border-slate-700
                        ${M?"text-red-400 border-red-500/50 shadow-[0_0_10px_rgba(248,113,113,0.2)]":oe?"text-purple-400 hover:text-purple-300 hover:border-purple-500/30":"text-orange-400 hover:text-orange-300 hover:border-orange-500/30"}
                    `,children:l.jsx(hn,{className:`w-3.5 h-3.5 ${M?"animate-pulse":""}`})})}),l.jsx(Ae,{content:i.monochromeMode?P.tooltipNoColors||"Gray Mode":P.tooltipColors||"Colors On",side:"bottom",children:l.jsx("button",{onClick:()=>H("monochromeMode"),className:`
                        shrink-0 flex items-center justify-center w-8 h-8 rounded-full border transition-all duration-300 cursor-pointer active:scale-95
                        ${i.monochromeMode?"bg-slate-600 border-slate-500 text-slate-200":"bg-slate-800 border-slate-700 text-sky-400 shadow-[0_0_8px_rgba(56,189,248,0.3)]"}
                    `,children:l.jsx(sl,{className:"w-3.5 h-3.5"})})}),l.jsx(Ae,{content:P.historyTitle,side:"bottom",children:l.jsx("button",{onClick:p,className:`shrink-0 flex items-center justify-center w-8 h-8 rounded-full border transition-all duration-300 cursor-pointer ${q?"bg-slate-600 border-white text-white shadow-[0_0_15px_rgba(255,255,255,0.5)] scale-110":o?"bg-indigo-600 border-indigo-500 text-white":"bg-slate-800 border-slate-700 text-slate-400 hover:text-white"}`,children:l.jsx(P0,{className:`w-3.5 h-3.5 ${q?"animate-pulse":""}`})})}),l.jsx(Ae,{content:P.detailTyping,side:"bottom",children:l.jsx("div",{className:`shrink-0 flex items-center justify-center w-8 h-8 rounded-full border transition-all duration-300 ${J?"bg-slate-700 border-slate-500 text-white shadow-[0_0_10px_rgba(148,163,184,0.3)]":"bg-slate-800 border-slate-700 text-slate-400"}`,children:l.jsx(p2,{className:`w-3.5 h-3.5 ${J?"animate-pulse":""}`})})}),l.jsx(Ae,{content:i.miniScripts?P.detailScriptFix:P.pausedScriptFix,side:"bottom",children:l.jsx("button",{onClick:()=>H("miniScripts"),className:`shrink-0 flex items-center justify-center w-8 h-8 rounded-full border transition-all duration-300 cursor-pointer active:scale-95 ${!i.miniScripts||!Y?"bg-slate-800 border-slate-700 text-slate-500 opacity-40 hover:opacity-100":ye?"bg-blue-500/20 border-blue-400 text-blue-200 shadow-[0_0_15px_rgba(96,165,250,0.5)]":"bg-slate-800 border-slate-700 text-blue-500/60 hover:text-blue-400 shadow-sm"}`,children:i.miniScripts?l.jsx(li,{className:`w-3.5 h-3.5 ${ye?"animate-pulse":""}`}):l.jsx(_n,{className:"w-3.5 h-3.5"})})}),l.jsx(Ae,{content:i.dictionaryCheck?P.detailDictCheck:P.pausedDictCheck,side:"bottom",children:l.jsx("button",{onClick:()=>H("dictionaryCheck"),className:`shrink-0 flex items-center justify-center w-8 h-8 rounded-full border transition-all duration-300 cursor-pointer active:scale-95 ${!i.dictionaryCheck||!Y?"bg-slate-800 border-slate-700 text-slate-500 opacity-40 hover:opacity-100":K?"bg-yellow-500/20 border-yellow-400 text-yellow-200 shadow-[0_0_15px_rgba(250,204,21,0.5)]":"bg-slate-800 border-slate-700 text-yellow-600/70 hover:text-yellow-400 shadow-sm"}`,children:i.dictionaryCheck?l.jsx(Qb,{className:`w-3.5 h-3.5 ${K?"animate-pulse":""}`}):l.jsx(_n,{className:"w-3.5 h-3.5"})})}),l.jsx(Ae,{content:i.fixTypos?P.detailAiFixing:P.pausedAiFixing,side:"bottom",children:l.jsx("button",{onClick:()=>H("fixTypos"),className:`shrink-0 flex items-center justify-center w-8 h-8 rounded-full border transition-all duration-300 cursor-pointer active:scale-95 ${!i.fixTypos||!Y?"bg-slate-800 border-slate-700 text-slate-500 opacity-40 hover:opacity-100":se?"bg-purple-500/20 border-purple-400 text-purple-200 shadow-[0_0_15px_rgba(192,132,252,0.5)]":"bg-slate-800 border-slate-700 text-purple-500/60 hover:text-purple-400 shadow-sm"}`,children:i.fixTypos?l.jsx(al,{className:`w-3.5 h-3.5 ${se?"animate-pulse":""}`}):l.jsx(_n,{className:"w-3.5 h-3.5"})})}),l.jsx(Ae,{content:i.fixPunctuation?P.detailFinalizing:P.pausedFinalizing,side:"bottom",children:l.jsx("button",{onClick:()=>H("fixPunctuation"),className:`shrink-0 flex items-center justify-center w-8 h-8 rounded-full border transition-all duration-300 cursor-pointer active:scale-95 ${!i.fixPunctuation||!Y?"bg-slate-800 border-slate-700 text-slate-500 opacity-40 hover:opacity-100":ge?"bg-emerald-500/20 border-emerald-400 text-emerald-200 shadow-[0_0_15px_rgba(52,211,153,0.5)]":"bg-slate-800 border-slate-700 text-emerald-600/70 hover:text-emerald-400 shadow-sm"}`,children:i.fixPunctuation?l.jsx(Sn,{className:`w-3.5 h-3.5 ${ge?"animate-spin":""}`}):l.jsx(_n,{className:"w-3.5 h-3.5"})})})]})]}),Ne=l.jsxs("div",{className:"flex items-center gap-1 bg-slate-800/30 p-1 rounded-lg border border-slate-800/50 no-drag shadow-sm transition-all duration-300",children:[l.jsx(Ae,{content:e==="ru"?" ":"Send to Assistant",side:"bottom",children:l.jsx("button",{onClick:_,className:"p-1.5 rounded-md hover:bg-indigo-900/30 text-slate-400 hover:text-indigo-400 transition-colors cursor-pointer active:scale-95",children:l.jsx(as,{className:"w-4 h-4"})})}),l.jsx(Ae,{content:e==="ru"?" ":"Send to Translator",side:"bottom",children:l.jsx("button",{onClick:B,className:"p-1.5 rounded-md hover:bg-emerald-900/30 text-slate-400 hover:text-emerald-400 transition-colors cursor-pointer active:scale-95",children:l.jsx(iu,{className:"w-4 h-4"})})}),l.jsxs("div",{className:"flex items-center gap-0.5 bg-purple-900/10 rounded-md border border-purple-500/20 mx-0.5",children:[l.jsx(Ae,{content:ee?e==="ru"?"...":"Generating...":P.btnSpeak||"Speak Text",side:"bottom",children:l.jsx("button",{onClick:U,disabled:ee,className:`p-1.5 rounded-l-md transition-all duration-300 cursor-pointer ${ee?"bg-purple-900/30 text-purple-300 cursor-wait opacity-50 pointer-events-none":"text-slate-400 hover:bg-purple-900/30 hover:text-purple-400 active:scale-95"}`,children:ee?l.jsx(us,{className:"w-4 h-4 animate-spin"}):l.jsx(xr,{className:"w-4 h-4"})})}),l.jsx(Ae,{content:e==="ru"?" ":"Audio Archive",side:"bottom",children:l.jsx("button",{onClick:Z,className:`p-1.5 rounded-r-md transition-colors cursor-pointer active:scale-95 border-l border-purple-500/20 ${W?"bg-purple-900/30 text-purple-400":"hover:bg-purple-900/20 text-slate-400 hover:text-purple-300"}`,children:l.jsx(vc,{className:"w-3.5 h-3.5"})})})]}),l.jsx("div",{className:"w-px h-3 bg-slate-700/50 mx-0.5"}),l.jsx(Ae,{content:(e==="ru"?" ":"Switch Layout")+" (Alt+`)",side:"bottom",children:l.jsx("button",{onClick:z,className:"p-1.5 rounded-md hover:bg-slate-800 text-slate-400 hover:text-teal-400 transition-colors cursor-pointer active:scale-95",children:l.jsx(ei,{className:"w-4 h-4"})})}),l.jsx(Ae,{content:(e==="ru"?" ":"Cut All")+" (Alt+1)",side:"bottom",children:l.jsx("button",{onClick:j,className:"p-1.5 rounded-md hover:bg-slate-800 text-slate-400 hover:text-pink-400 transition-colors cursor-pointer active:scale-95",children:l.jsx(Fo,{className:"w-4 h-4"})})}),l.jsx(Ae,{content:P.btnHeaderCopy+" (Alt+2)",side:"bottom",children:l.jsx("button",{onClick:I,className:"p-1.5 rounded-md hover:bg-slate-800 text-slate-400 hover:text-indigo-400 transition-colors cursor-pointer active:scale-95",children:l.jsx(Wn,{className:"w-4 h-4"})})}),l.jsx(Ae,{content:P.btnHeaderPaste+" (Alt+3)",side:"bottom",children:l.jsx("button",{onClick:N,className:"p-1.5 rounded-md hover:bg-slate-800 text-slate-400 hover:text-emerald-400 transition-colors cursor-pointer active:scale-95",children:l.jsx(il,{className:"w-4 h-4"})})}),l.jsx(Ae,{content:(e==="ru"?" ()":"Replace All")+" (Alt+4)",side:"bottom",children:l.jsx("button",{onClick:E,className:"p-1.5 rounded-md hover:bg-slate-800 text-slate-400 hover:text-cyan-400 transition-colors cursor-pointer active:scale-95",children:l.jsx(v2,{className:"w-4 h-4"})})}),l.jsx("div",{className:"w-px h-3 bg-slate-700/50 mx-0.5"}),l.jsx(Ae,{content:P.btnHeaderClear+" (Alt+5)",side:"bottom",children:l.jsx("button",{onClick:S,className:"p-1.5 rounded-md hover:bg-red-900/30 text-slate-400 hover:text-red-400 transition-colors cursor-pointer active:scale-95",children:l.jsx(on,{className:"w-4 h-4"})})})]}),Q=[{code:"ru",label:"",flag:""},{code:"en",label:"English",flag:""},{code:"uz-latn",label:"O'zbek",flag:""},{code:"uz-cyrl",label:"",flag:""}];return l.jsxs("header",{className:"titlebar-drag-region bg-slate-900 border-b border-slate-800 flex flex-col shrink-0 z-50 relative select-none supports-[padding-top:env(safe-area-inset-top)]:pt-[env(safe-area-inset-top)] transition-all duration-300",children:[l.jsxs("div",{className:"flex items-center justify-between w-full px-3 md:px-4 py-2 min-h-[48px]",children:[l.jsxs("div",{className:"flex items-center gap-2 md:gap-4 shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-1 bg-slate-800/30 p-1 rounded-lg border border-slate-800/50 no-drag relative z-[120]",children:[l.jsx(Ae,{content:P.tooltipHome,side:"bottom",align:"start",children:l.jsx("button",{onClick:A,className:"p-1.5 rounded-md hover:bg-slate-800 text-slate-400 hover:text-indigo-400 transition-colors cursor-pointer active:scale-95",children:l.jsx(o2,{className:"w-4 h-4"})})}),l.jsx(Ae,{content:P.tooltipHelp,side:"bottom",children:l.jsx("button",{onClick:k,className:"p-1.5 rounded-md hover:bg-slate-800 text-slate-400 hover:text-indigo-400 transition-colors cursor-pointer active:scale-95",children:l.jsx(j0,{className:"w-4 h-4"})})}),l.jsx(Ae,{content:P.tooltipSettings,side:"bottom",children:l.jsx("button",{onClick:m,className:`p-1.5 rounded-md transition-colors cursor-pointer active:scale-95 ${s?"bg-indigo-900/30 text-indigo-400":"hover:bg-slate-800 text-slate-400"}`,children:l.jsx(b2,{className:"w-4 h-4"})})})]}),l.jsx("div",{className:"h-5 w-px bg-slate-800 mx-0.5 hidden sm:block"}),l.jsxs("div",{className:"flex items-center gap-3 select-none pr-2 cursor-default",children:[l.jsxs("div",{className:"relative group",children:[l.jsx("div",{className:"absolute inset-0 bg-indigo-500 blur opacity-20 group-hover:opacity-40 transition-opacity rounded-lg"}),l.jsx("div",{className:"relative bg-slate-800/80 border border-slate-700/50 p-1.5 rounded-lg shadow-sm group-hover:border-indigo-500/30 transition-colors",children:l.jsx(Sn,{className:"w-3.5 h-3.5 text-indigo-400"})})]}),l.jsxs("span",{className:"font-bold text-sm text-slate-200 tracking-tight hidden sm:block whitespace-nowrap",children:["FastType ",l.jsx("span",{className:"text-indigo-400",children:"AI"})]})]})]}),l.jsxs("div",{className:"hidden 2xl:flex flex-1 items-center justify-between gap-4 px-12 animate-in fade-in zoom-in duration-300 pointer-events-none",children:[l.jsx("div",{className:"pointer-events-auto",children:de}),a==="editor"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"pointer-events-auto",children:we}),l.jsx("div",{className:"pointer-events-auto",children:Ne})]})]}),l.jsxs("div",{className:"flex items-center gap-2 md:gap-3 z-50 relative shrink-0 ml-auto",children:[l.jsxs("div",{className:`flex items-center gap-2 no-drag relative ${F?"z-[200]":"z-50"}`,ref:b,children:[l.jsxs("button",{onClick:()=>O(!F),className:"flex items-center gap-2 pl-3 pr-2 py-1.5 rounded-lg bg-slate-800 border border-slate-700 hover:bg-slate-700 hover:text-white text-slate-300 transition-all cursor-pointer active:scale-95",children:[l.jsx("span",{className:"text-[11px] font-bold uppercase min-w-[20px] text-center tracking-wide",children:e==="ru"?"RU":e==="en"?"EN":e==="uz-latn"?"UZ":""}),l.jsx(rl,{className:`w-3 h-3 text-slate-500 transition-transform duration-200 ${F?"rotate-180":""}`})]}),F&&l.jsx("div",{className:"absolute top-full right-0 mt-2 w-40 bg-slate-800 border border-slate-700 rounded-xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200 z-[100] origin-top-right",children:l.jsx("ul",{className:"flex flex-col py-1",children:Q.map($=>l.jsx("li",{children:l.jsxs("button",{onClick:()=>{d($.code),O(!1)},className:`w-full flex items-center justify-between px-3 py-2.5 text-xs font-medium transition-colors ${e===$.code?"bg-indigo-600/10 text-indigo-400":"text-slate-300 hover:bg-slate-700/50 hover:text-white"}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-base",children:$.flag}),l.jsx("span",{children:$.label})]}),e===$.code&&l.jsx(gr,{className:"w-3.5 h-3.5"})]})},$.code))})}),a==="editor"&&l.jsx(Ae,{content:P.tooltipStats,side:"bottom",children:l.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-slate-800 rounded-md text-xs font-semibold text-slate-400 border border-slate-700 select-none",children:[l.jsx(r2,{className:"w-3 h-3"}),l.jsx("span",{children:r.corrections})]})})]}),l.jsxs("div",{className:"flex items-center gap-3 pl-2 border-l border-slate-800 ml-1 no-drag",children:[i.developerMode&&l.jsx(q2,{}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ae,{content:u?P.tooltipUnpin:P.tooltipPin,side:"bottom",children:l.jsx("button",{onClick:C,className:`p-1.5 rounded hover:bg-slate-800 transition-colors cursor-pointer ${u?"text-indigo-400":"text-slate-400 hover:text-white"}`,children:u?l.jsx(m2,{className:"w-3.5 h-3.5"}):l.jsx(g2,{className:"w-3.5 h-3.5"})})}),l.jsx("div",{className:"w-px h-3 bg-slate-800 mx-0.5"}),l.jsx("button",{onClick:()=>v("minimize"),className:"p-1.5 rounded hover:bg-slate-800 text-slate-400 hover:text-white transition-colors cursor-pointer",children:l.jsx(wc,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>v("maximize"),className:"p-1.5 rounded hover:bg-slate-800 text-slate-400 hover:text-white transition-colors cursor-pointer",children:l.jsx(Yn,{className:"w-3.5 h-3.5"})}),l.jsx("button",{onClick:()=>v("close"),className:"p-1.5 rounded hover:bg-red-600 text-slate-400 hover:text-white transition-colors cursor-pointer",children:l.jsx(ot,{className:"w-4 h-4"})})]})]})]})]}),l.jsx("div",{className:"2xl:hidden w-full bg-slate-900 border-b border-slate-800 pb-2 transition-all duration-300",children:a!=="editor"?l.jsx("div",{className:"flex items-center justify-start px-4 pt-1 animate-in fade-in slide-in-from-top-2",children:de}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"hidden lg:flex items-center justify-between px-4 pt-1 animate-in fade-in slide-in-from-top-2",children:[de,we,Ne]}),l.jsxs("div",{className:"hidden sm:flex lg:hidden flex-col gap-2 px-4 pt-1 animate-in fade-in slide-in-from-top-2",children:[l.jsxs("div",{className:"flex items-center justify-between w-full",children:[de,Ne]}),l.jsx("div",{className:"flex justify-start w-full",children:we})]}),l.jsxs("div",{className:"flex sm:hidden flex-col items-start gap-2 pt-1 px-4 animate-in fade-in slide-in-from-top-2",children:[de,Ne,we]})]})})]})},wi=(e,t,n)=>e*(1-n)+t*n,K2=({threshold:e,language:t,isVisible:n,lowCut:r=0,highCut:i=128,amp:s=1,style:o="classic",norm:a=!1,gravity:u=2,mirror:c=!1})=>{const[d,f]=w.useState(!1),[m,p]=w.useState(0),[k,C]=w.useState(""),A=w.useRef(null),v=w.useRef(null),y=w.useRef(null),x=w.useRef(null),S=w.useRef(null),I=w.useRef({lowCut:r,highCut:i,amp:s,style:o,norm:a,gravity:u,threshold:e,mirror:c});w.useEffect(()=>{I.current={lowCut:r,highCut:i,amp:s,style:o,norm:a,gravity:u,threshold:e,mirror:c}},[r,i,s,o,a,u,e,c]);const N=w.useRef({volBass:0,volMid:0,volHigh:0,phaseFront:0,phaseMid:0,phaseBack:0}),j=w.useRef([]),E=Ze(t);w.useEffect(()=>{!n&&d&&D()},[n]),w.useEffect(()=>()=>D(),[]);const z=_=>{let B=0;for(let U=0;U<_.length;U++){const Z=(_[U]-128)/128;B+=Z*Z}return Math.sqrt(B/_.length)},L=async()=>{try{const _=await navigator.mediaDevices.getUserMedia({audio:!0});v.current=_;const B=new(window.AudioContext||window.webkitAudioContext);A.current=B;const U=B.createAnalyser();U.fftSize=512,U.smoothingTimeConstant=.5,B.createMediaStreamSource(_).connect(U),y.current=U;const W=U.frequencyBinCount,P=new Uint8Array(W),q=new Uint8Array(W);j.current=new Array(W).fill(0);const T=()=>{if(!y.current||!x.current)return;const{lowCut:F,highCut:O,amp:b,style:H,norm:J,gravity:M,threshold:K,mirror:se}=I.current;y.current.getByteFrequencyData(P),y.current.getByteTimeDomainData(q);const ge=z(q),ye=Math.min(100,ge/.2*100);p(ye);const ee=x.current,Y=ee.getContext("2d"),oe=K/100;if(ee.parentElement&&(ee.width!==ee.parentElement.offsetWidth&&(ee.width=ee.parentElement.offsetWidth),ee.height!==ee.parentElement.offsetHeight&&(ee.height=ee.parentElement.offsetHeight)),Y){const ue=ee.width,ce=ee.height,de=ce/2,we=ue/2;if(Y.clearRect(0,0,ue,ce),H==="classic"){let Ne=0,Q=0,$=0,G=0,fe=0,he=0;for(let pe=0;pe<P.length;pe++){if(pe<F||pe>O)continue;let le=P[pe]/255;le<oe?le=0:le=(le-oe)/(1-oe),J&&le>0&&(le=Math.pow(le,.6)),le<.05&&(le=0),pe<=5?(Ne+=le,G++):pe<=30?(Q+=le,fe++):($+=le,he++)}G>0&&(Ne/=G),fe>0&&(Q/=fe),he>0&&($/=he);const xe=Math.max(.1,Ne*6),ke=Math.max(.05,Q*5),V=Math.max(.02,$*3),X=M*.1;N.current.volBass=wi(N.current.volBass,xe,xe>N.current.volBass?.5:X),N.current.volMid=wi(N.current.volMid,ke,ke>N.current.volMid?.5:X),N.current.volHigh=wi(N.current.volHigh,V,V>N.current.volHigh?.5:X),N.current.phaseBack+=.003,N.current.phaseMid+=.01,N.current.phaseFront+=.03,[{color:"rgba(56, 189, 248, 0.3)",lineWidth:2,amplitudeMod:.8,freqMod:.8,phase:N.current.phaseBack,volume:N.current.volBass,phaseOffset:0},{color:"rgba(168, 85, 247, 0.5)",lineWidth:3,amplitudeMod:.9,freqMod:1,phase:N.current.phaseMid,volume:N.current.volMid,phaseOffset:2},{color:"rgba(99, 102, 241, 0.9)",lineWidth:2,amplitudeMod:1.1,freqMod:.8,phase:N.current.phaseFront,volume:N.current.volHigh,phaseOffset:4}].forEach(pe=>{Y.beginPath(),Y.strokeStyle=pe.color,Y.lineWidth=pe.lineWidth,Y.lineCap="round",Y.lineJoin="round";let le=!1;for(let ve=0;ve<=ue;ve+=2){const Ue=ve/ue*2-1,te=Math.pow(1-Math.abs(Ue),3),Se=Math.sin(ve*.01*pe.freqMod+pe.phase+pe.phaseOffset),ze=1+pe.volume*2,Qe=Math.sin(ve*.1*ze+pe.phase*5),ht=(Se*.5+Qe*.8)*(pe.volume*(ce*.4)*pe.amplitudeMod*b),et=de+ht*te;le?Y.lineTo(ve,et):(Y.moveTo(ve,et),le=!0)}Y.stroke()})}else if(H==="bars"){const Ne=O-F,Q=Math.floor(Ne/2),G=(se?ue/2:ue)/Q,fe=M*.02;for(let he=0;he<Q;he++){const xe=F+he*2;if(xe>=P.length)break;let ke=P[xe]/255;ke<oe?ke=0:ke=(ke-oe)/(1-oe),J&&ke>0&&(ke=Math.pow(ke,.6));const V=ke*ce*.8*b,X=j.current[he]||0;let ae=X;V>X?ae=V:ae=wi(X,V,fe),j.current[he]=ae;const pe=he*2+200;if(Y.fillStyle=`hsl(${pe}, 80%, 60%)`,se){const le=he*G;Y.fillRect(we+le,de-ae/2,G-1,ae),Y.fillRect(we-le-G,de-ae/2,G-1,ae)}else{const le=he*G;Y.fillRect(le,de-ae/2,G-1,ae)}}}else if(H==="circular"){const Ne=Math.min(ue,ce)*.2,Q=O-F,$=M*.02,G=se?Math.PI/Q:2*Math.PI/Q;Y.translate(we,de);const fe=0;for(let he=0;he<Q;he++){const xe=F+he;if(xe>=P.length)break;let ke=P[xe]/255;ke<oe?ke=0:ke=(ke-oe)/(1-oe),J&&ke>0&&(ke=Math.pow(ke,.6));const V=ke*(Math.min(ue,ce)*.3)*b,X=j.current[he]||0;let ae=X;V>X?ae=V:ae=wi(X,V,$),j.current[he]=ae;const pe=he*3+240;if(Y.fillStyle=`hsl(${pe}, 90%, 65%)`,se){const le=he*G;Y.save(),Y.rotate(fe-le),Y.fillRect(0,Ne,2,ae),Y.restore(),Y.save(),Y.rotate(fe+le),Y.fillRect(0,Ne,2,ae),Y.restore()}else{const le=he*G;Y.save(),Y.rotate(fe+le),Y.fillRect(0,Ne,2,ae),Y.restore()}}Y.setTransform(1,0,0,1,0,0)}else if(H==="wave"){Y.beginPath(),Y.strokeStyle="#6366f1",Y.lineWidth=2;const Ne=O-F;if(se){const Q=ue/2/Ne;for(let $=0;$<Ne;$++){let G=P[F+$]/255;G<oe?G=0:G=(G-oe)/(1-oe),J&&G>0&&(G=Math.pow(G,.6));const fe=G*(ce*.4)*b,he=$%2===0?1:-1,xe=de+fe*he,ke=we+$*Q;$===0?Y.moveTo(ke,xe):Y.lineTo(ke,xe)}for(let $=0;$<Ne;$++){let G=P[F+$]/255;G<oe?G=0:G=(G-oe)/(1-oe),J&&G>0&&(G=Math.pow(G,.6));const fe=G*(ce*.4)*b,he=$%2===0?1:-1,xe=de+fe*he,ke=we-$*Q;Y.moveTo(ke,xe)}Y.stroke(),Y.beginPath();for(let $=0;$<Ne;$++){let G=P[F+$]/255;G<oe?G=0:G=(G-oe)/(1-oe),J&&G>0&&(G=Math.pow(G,.6));const fe=G*(ce*.4)*b,he=$%2===0?1:-1,xe=de+fe*he,ke=we-$*Q;$===0?Y.moveTo(ke,xe):Y.lineTo(ke,xe)}Y.stroke()}else{const Q=ue/Ne;let $=0;for(let G=F;G<O;G++){let fe=P[G]/255;fe<oe?fe=0:fe=(fe-oe)/(1-oe),J&&fe>0&&(fe=Math.pow(fe,.6));const he=fe*(ce*.4)*b,xe=G%2===0?1:-1,ke=de+he*xe;G===F?Y.moveTo($,ke):Y.lineTo($,ke),$+=Q}Y.stroke()}}}S.current=requestAnimationFrame(T)};T(),f(!0),C("")}catch(_){console.error(_),C(E.micAccessError||"Mic Error"),f(!1)}},D=()=>{if(S.current&&cancelAnimationFrame(S.current),v.current&&v.current.getTracks().forEach(_=>_.stop()),A.current&&A.current.close(),f(!1),p(0),x.current){const _=x.current.getContext("2d");_==null||_.clearRect(0,0,x.current.width,x.current.height)}},R=m>e;return l.jsxs("div",{className:"mt-4 p-4 bg-slate-900 rounded-lg border border-slate-700",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(xr,{className:`w-4 h-4 ${d?"text-indigo-400":"text-slate-500"}`}),l.jsx("span",{className:"text-sm font-medium text-slate-300",children:d?E.noiseLevel||"Noise Level":E.testMic||"Test Microphone"})]}),l.jsx("button",{onClick:d?D:L,className:`px-3 py-1.5 rounded text-xs font-bold transition-colors border ${d?"bg-red-900/30 text-red-400 border-red-900/50 hover:bg-red-900/50":"bg-indigo-600 text-white border-transparent hover:bg-indigo-500"}`,children:d?E.stopTest||"Stop":E.testMic||"Start Test"})]}),k&&l.jsx("p",{className:"text-xs text-red-400 mb-2",children:k}),l.jsxs("div",{className:"relative h-24 bg-slate-950 rounded-md overflow-hidden border border-slate-700 shadow-inner",children:[l.jsx("canvas",{ref:x,className:"absolute inset-0 w-full h-full z-10"}),l.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-red-500/80 z-20 transition-all duration-300 shadow-[0_0_8px_rgba(239,68,68,0.5)]",style:{left:`${e}%`}}),l.jsxs("div",{className:"absolute inset-0 flex text-[9px] font-bold text-slate-500 z-30 pointer-events-none select-none",children:[l.jsx("div",{style:{width:`${e}%`},className:"h-full flex items-end justify-center pb-1 border-r border-slate-700/30 bg-red-500/5",children:l.jsx("span",{className:"opacity-50 truncate px-1",children:E.silenceZone||"Silence"})}),l.jsx("div",{className:"flex-1 h-full flex items-end justify-center pb-1 bg-emerald-500/5",children:l.jsx("span",{className:"opacity-50 truncate px-1",children:E.speechZone||"Speech"})})]}),l.jsx("div",{className:`absolute top-0 bottom-0 left-0 transition-all duration-75 ease-out z-0 opacity-20 ${R?"bg-emerald-500":"bg-slate-500"}`,style:{width:`${m}%`}})]}),l.jsxs("p",{className:"text-[10px] text-slate-500 mt-2 text-right font-mono",children:["Input: ",Math.round(m),"% | Trigger: ",e,"%"]})]})},W2=({settings:e,language:t,onUpdateSettings:n,onResetKey:r,onUpdateApiKey:i,hasLock:s,onRemoveLock:o,onSetLock:a,onClose:u,isVisible:c=!0,onVerifyPin:d,voiceStatus:f="idle"})=>{const m=Ze(t),p=Db(),{addNotification:k}=Ht(),[C,A]=w.useState(!1),[v,y]=w.useState("none"),[x,S]=w.useState(""),[I,N]=w.useState(""),[j,E]=w.useState(!1),[z,L]=w.useState("");w.useEffect(()=>{S(""),N(""),c||E(!1)},[v,c]);const D=W=>{const P=!e[W],q={[W]:P};P===!0&&(q.enabled=!0),n({...e,...q})},R=()=>{N(""),v==="create"?x.length>=3&&a&&(a(x),y("none")):v==="verify_change"||v==="verify_remove"?d&&d(x)?v==="verify_remove"&&o?(o(),y("none")):(y("set_new"),S("")):N(m.lockError):v==="set_new"&&x.length>=3&&a&&(a(x),y("none"))},_=()=>{if(z.trim().length<10){k(t==="ru"?"  ":"Key too short","error");return}i&&(i(z.trim()),k(t==="ru"?" ":"Key updated","success"),E(!1),L(""))},B=()=>{switch(v){case"create":return m.lockCreateTitle;case"verify_change":return m.lockVerifyOld||"Verify PIN";case"verify_remove":return m.lockVerifyOld||"Verify PIN";case"set_new":return m.lockNew||"New PIN";default:return""}},U=W=>W==="listening"||W==="success"?"text-emerald-400":W==="error_network"||W==="error_denied"?"text-red-400":W==="unsupported"?"text-amber-400":"text-slate-500",Z=W=>{switch(W){case"listening":return"LISTENING";case"success":return"TRIGGERED";case"error_network":return"NETWORK ERROR";case"error_denied":return"MIC BLOCKED";case"error_no_speech":return"NO SPEECH";case"unsupported":return"NOT SUPPORTED (Use Chrome)";case"idle":return"IDLE";default:return W.toUpperCase()}};return l.jsxs("div",{className:"bg-slate-900 border-b border-slate-800 shadow-xl z-40 w-full shrink-0 h-[85vh] md:max-h-[85vh] md:h-auto overflow-y-auto custom-scrollbar flex flex-col relative select-none",children:[j&&l.jsx("div",{className:"absolute inset-0 z-[60] bg-slate-900/95 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in zoom-in duration-200 select-none",children:l.jsxs("div",{className:"w-full max-w-sm bg-slate-800 border border-slate-700 rounded-xl p-6 shadow-2xl relative",children:[l.jsx("button",{onClick:()=>E(!1),className:"absolute top-4 right-4 text-slate-500 hover:text-white transition-colors",children:l.jsx(ot,{className:"w-5 h-5"})}),l.jsxs("div",{className:"flex flex-col items-center text-center mb-6",children:[l.jsx("div",{className:"w-12 h-12 bg-indigo-900/30 rounded-full flex items-center justify-center mb-3 text-indigo-400 border border-indigo-500/20",children:l.jsx(Yf,{className:"w-6 h-6"})}),l.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:m.changeKey}),l.jsx("p",{className:"text-xs text-slate-400",children:t==="ru"?"   API ":"Enter your new API key below"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("input",{type:"password",value:z,onChange:W=>L(W.target.value),placeholder:"AIzaSy...",className:"w-full bg-slate-900 border border-slate-600 rounded-lg px-4 py-3 text-slate-200 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 font-mono text-sm",autoFocus:!0}),l.jsx("div",{className:"flex gap-2",children:l.jsxs("button",{onClick:_,className:"flex-1 bg-indigo-600 hover:bg-indigo-500 text-white font-semibold py-2.5 rounded-lg transition-colors flex items-center justify-center gap-2",children:[l.jsx(w2,{className:"w-4 h-4"}),t==="ru"?"":"Save"]})}),l.jsxs("div",{className:"pt-4 border-t border-slate-700/50 flex flex-col gap-2",children:[l.jsxs("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noreferrer",className:"text-xs text-indigo-400 hover:text-indigo-300 flex items-center justify-center gap-1",children:[l.jsx(yc,{className:"w-3 h-3"}),m.linkGetKey]}),l.jsxs("button",{onClick:()=>{r(),E(!1)},className:"text-xs text-red-400 hover:text-red-300 flex items-center justify-center gap-1 mt-1 opacity-70 hover:opacity-100",children:[l.jsx(a2,{className:"w-3 h-3"}),t==="ru"?"   ":"Remove Key & Logout"]})]})]})]})}),l.jsxs("div",{className:"sticky top-0 z-50 flex items-center justify-between px-4 md:px-6 py-4 bg-slate-900/95 backdrop-blur border-b border-slate-800 shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("button",{onClick:()=>E(!0),className:"flex items-center gap-2 px-3 py-2 text-slate-400 hover:text-white bg-slate-800 hover:bg-slate-700 border border-slate-700 rounded-lg transition-all active:scale-95 text-xs font-bold uppercase tracking-wider touch-manipulation",children:[l.jsx(Yf,{className:"w-3.5 h-3.5"}),m.changeKey]}),l.jsxs("button",{onClick:()=>n({...e,isFreeTier:!e.isFreeTier}),className:`flex items-center gap-2 px-3 py-2 border rounded-lg transition-all active:scale-95 text-xs font-bold uppercase tracking-wider touch-manipulation ${e.isFreeTier?"bg-slate-800 text-slate-400 border-slate-700 hover:text-white":"bg-indigo-900/20 text-indigo-400 border-indigo-500/30 hover:bg-indigo-900/30"}`,children:[e.isFreeTier?l.jsx(Yn,{className:"w-3.5 h-3.5"}):l.jsx(A0,{className:"w-3.5 h-3.5"}),e.isFreeTier?m.settingsFreeTier||"Free Key":m.settingsPaidTier||"Paid Key"]})]}),l.jsx("button",{onClick:u,className:"p-2 text-slate-400 hover:text-white bg-slate-800/50 hover:bg-slate-700 rounded-full transition-all active:scale-95",title:m.tooltipClose||"Close",children:l.jsx(Wf,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"w-full max-w-[1400px] mx-auto px-4 md:px-6 py-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8 pb-10",children:[l.jsxs("div",{className:"space-y-4 md:space-y-6",children:[l.jsxs("h3",{className:"text-sm font-semibold text-slate-200 flex items-center gap-2 border-b border-slate-800 pb-2",children:[l.jsx(ei,{className:"w-4 h-4 text-indigo-400"}),m.groupActive]}),l.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700/50 space-y-5",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"text-sm text-slate-400",children:m.settingsActive}),l.jsx("button",{onClick:()=>n({...e,enabled:!e.enabled}),className:`w-12 h-7 md:w-11 md:h-6 flex items-center rounded-full transition-colors duration-200 touch-manipulation ${e.enabled?"bg-indigo-600":"bg-slate-700"}`,children:l.jsx("span",{className:`w-5 h-5 md:w-4 md:h-4 bg-white rounded-full shadow-md transform transition-transform duration-200 ${e.enabled?"translate-x-6 md:translate-x-6":"translate-x-1"}`})})]}),l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"mr-2",children:[l.jsxs("label",{className:"text-sm text-slate-400 flex items-center gap-2",children:[l.jsx(li,{className:"w-3.5 h-3.5 text-sky-400"}),m.settingsMiniScripts||"Mini-Scripts"]}),l.jsx("p",{className:"text-[10px] text-slate-600 leading-tight mt-1",children:m.settingsMiniScriptsDesc||"Instant fixes for spacing and case (No AI)"})]}),l.jsx("button",{onClick:()=>D("miniScripts"),className:`w-12 h-7 md:w-11 md:h-6 flex items-center rounded-full transition-colors duration-200 shrink-0 touch-manipulation ${e.miniScripts?"bg-sky-600":"bg-slate-700"}`,children:l.jsx("span",{className:`w-5 h-5 md:w-4 md:h-4 bg-white rounded-full shadow-md transform transition-transform duration-200 ${e.miniScripts?"translate-x-6 md:translate-x-6":"translate-x-1"}`})})]}),l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"mr-2",children:[l.jsxs("label",{className:"text-sm text-slate-400 flex items-center gap-2",children:[l.jsx(Jb,{className:"w-3.5 h-3.5 text-fuchsia-400"}),m.settingsDevMode||"Developer Mode"]}),l.jsx("p",{className:"text-[10px] text-slate-600 leading-tight mt-1",children:m.settingsDevModeDesc||"Enable test buttons"})]}),l.jsx("button",{onClick:()=>n({...e,developerMode:!e.developerMode}),className:`w-12 h-7 md:w-11 md:h-6 flex items-center rounded-full transition-colors duration-200 shrink-0 touch-manipulation ${e.developerMode?"bg-fuchsia-600":"bg-slate-700"}`,children:l.jsx("span",{className:`w-5 h-5 md:w-4 md:h-4 bg-white rounded-full shadow-md transform transition-transform duration-200 ${e.developerMode?"translate-x-6 md:translate-x-6":"translate-x-1"}`})})]}),l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"mr-2",children:[l.jsxs("label",{className:"text-sm text-slate-400 flex items-center gap-2",children:[l.jsx(l2,{className:"w-3.5 h-3.5 text-emerald-500"}),m.settingsEconomy]}),l.jsx("p",{className:"text-[10px] text-slate-600 leading-tight mt-1",children:m.settingsEconomyDesc})]}),l.jsx("button",{onClick:()=>n({...e,economyMode:!e.economyMode}),className:`w-12 h-7 md:w-11 md:h-6 flex items-center rounded-full transition-colors duration-200 shrink-0 touch-manipulation ${e.economyMode?"bg-emerald-600":"bg-slate-700"}`,children:l.jsx("span",{className:`w-5 h-5 md:w-4 md:h-4 bg-white rounded-full shadow-md transform transition-transform duration-200 ${e.economyMode?"translate-x-6 md:translate-x-6":"translate-x-1"}`})})]}),l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"mr-2",children:[l.jsxs("label",{className:"text-sm text-slate-400 flex items-center gap-2",children:[l.jsx(sl,{className:"w-3.5 h-3.5 text-slate-400"}),m.settingsMonochrome||"Grey Only Mode"]}),l.jsx("p",{className:"text-[10px] text-slate-600 leading-tight mt-1",children:m.settingsMonochromeDesc||"Disable text colors. Logic runs in background."})]}),l.jsx("button",{onClick:()=>n({...e,monochromeMode:!e.monochromeMode}),className:`w-12 h-7 md:w-11 md:h-6 flex items-center rounded-full transition-colors duration-200 shrink-0 touch-manipulation ${e.monochromeMode?"bg-slate-500":"bg-slate-700"}`,children:l.jsx("span",{className:`w-5 h-5 md:w-4 md:h-4 bg-white rounded-full shadow-md transform transition-transform duration-200 ${e.monochromeMode?"translate-x-6 md:translate-x-6":"translate-x-1"}`})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between mb-2",children:[l.jsx("label",{className:"text-sm text-slate-400",children:m.settingsDelay}),l.jsxs("span",{className:"text-xs font-mono bg-slate-800 px-2 py-0.5 rounded text-slate-400 border border-slate-700",children:[e.debounceMs,"ms"]})]}),l.jsx("input",{type:"range",min:"300",max:"2000",step:"100",value:e.debounceMs,onChange:W=>n({...e,debounceMs:parseInt(W.target.value)}),className:"w-full h-4 md:h-2 bg-slate-900 rounded-lg appearance-none cursor-pointer accent-indigo-500 touch-manipulation"})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between mb-2",children:[l.jsx("label",{className:"text-sm text-slate-400",children:m.settingsFinalization}),l.jsxs("span",{className:"text-xs font-mono bg-slate-800 px-2 py-0.5 rounded text-slate-400 border border-slate-700",children:[e.finalizationTimeout/1e3,"s"]})]}),l.jsx("input",{type:"range",min:"5000",max:"20000",step:"1000",value:e.finalizationTimeout,onChange:W=>n({...e,finalizationTimeout:parseInt(W.target.value)}),className:"w-full h-4 md:h-2 bg-slate-900 rounded-lg appearance-none cursor-pointer accent-indigo-500 touch-manipulation"})]})]})]}),l.jsxs("div",{className:"space-y-4 md:space-y-6",children:[l.jsxs("h3",{className:"text-sm font-semibold text-slate-200 flex items-center gap-2 border-b border-slate-800 pb-2",children:[l.jsx(hn,{className:"w-4 h-4 text-emerald-400"}),m.groupSilence]}),l.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700/50",children:[l.jsxs("div",{className:"mb-4 pb-4 border-b border-slate-700/50",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"mr-2",children:[l.jsxs("label",{className:"text-sm text-slate-400 flex items-center gap-2",children:[l.jsx(e2,{className:"w-3.5 h-3.5 text-orange-400"}),m.settingsVoiceControl||"Voice Control (Hands-Free)"]}),l.jsx("p",{className:"text-[10px] text-slate-600 leading-tight mt-1",children:m.settingsVoiceControlDesc||"Starts recording when you say the phrase"})]}),l.jsx("button",{onClick:()=>n({...e,voiceControlEnabled:!e.voiceControlEnabled}),disabled:e.isFreeTier,className:`w-12 h-7 md:w-11 md:h-6 flex items-center rounded-full transition-colors duration-200 shrink-0 touch-manipulation ${e.voiceControlEnabled?"bg-orange-600":"bg-slate-700"} ${e.isFreeTier?"opacity-50 cursor-not-allowed":""}`,title:e.isFreeTier?m.paidFeatureTooltip||"Paid only":"",children:l.jsx("span",{className:`w-5 h-5 md:w-4 md:h-4 bg-white rounded-full shadow-md transform transition-transform duration-200 ${e.voiceControlEnabled?"translate-x-6 md:translate-x-6":"translate-x-1"}`})})]}),e.voiceControlEnabled&&!e.isFreeTier&&l.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2 space-y-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-slate-500 block mb-1",children:m.settingsWakeWord||"Trigger Phrase"}),l.jsx("input",{type:"text",value:e.wakeWord,onChange:W=>n({...e,wakeWord:W.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-xs text-slate-200 focus:outline-none focus:border-orange-500/50 placeholder:text-slate-600",placeholder:"start recording"})]}),l.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 bg-slate-900/50 rounded border border-slate-800",children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${f==="listening"?"bg-emerald-500 animate-pulse":"bg-slate-600"}`}),l.jsx("span",{className:`text-[10px] font-mono font-bold ${U(f)}`,children:Z(f)}),f==="unsupported"&&l.jsx(qb,{className:"w-3 h-3 text-amber-500 ml-auto"})]})]}),e.isFreeTier&&l.jsxs("p",{className:"text-[10px] text-red-400 italic flex items-center gap-1",children:[l.jsx(rn,{className:"w-3 h-3"}),m.paidFeatureTooltip||"Only for Paid Tier keys"]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("button",{onClick:()=>A(!C),className:"w-full flex items-center justify-between text-xs font-bold text-slate-300 uppercase tracking-wider hover:text-indigo-400 transition-colors mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ql,{className:"w-3.5 h-3.5"}),"Visualizer Waves"]}),C?l.jsx(Wf,{className:"w-4 h-4"}):l.jsx(rl,{className:"w-4 h-4"})]}),l.jsxs("div",{className:`space-y-4 overflow-hidden transition-all duration-300 ${C?"max-h-[700px] opacity-100 mt-4":"max-h-0 opacity-0"}`,children:[l.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[l.jsx("button",{onClick:()=>n({...e,visualizerStyle:"classic"}),className:`flex flex-col items-center justify-center p-2 rounded border transition-all ${e.visualizerStyle==="classic"?"bg-indigo-600 text-white border-indigo-500":"bg-slate-800 border-slate-700 text-slate-500 hover:bg-slate-700"}`,title:"Classic",children:l.jsx(T0,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>n({...e,visualizerStyle:"bars"}),className:`flex flex-col items-center justify-center p-2 rounded border transition-all ${e.visualizerStyle==="bars"?"bg-indigo-600 text-white border-indigo-500":"bg-slate-800 border-slate-700 text-slate-500 hover:bg-slate-700"}`,title:"Bars",children:l.jsx(Yb,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>n({...e,visualizerStyle:"circular"}),className:`flex flex-col items-center justify-center p-2 rounded border transition-all ${e.visualizerStyle==="circular"?"bg-indigo-600 text-white border-indigo-500":"bg-slate-800 border-slate-700 text-slate-500 hover:bg-slate-700"}`,title:"Circular",children:l.jsx(Zb,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>n({...e,visualizerStyle:"wave"}),className:`flex flex-col items-center justify-center p-2 rounded border transition-all ${e.visualizerStyle==="wave"?"bg-indigo-600 text-white border-indigo-500":"bg-slate-800 border-slate-700 text-slate-500 hover:bg-slate-700"}`,title:"Wave",children:l.jsx(ql,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("label",{className:"text-xs text-slate-400 flex items-center gap-1",children:[l.jsx(c2,{className:"w-3 h-3"}),"Normalize (Auto-Level)"]}),l.jsx("button",{onClick:()=>n({...e,visualizerNorm:!e.visualizerNorm}),className:`w-8 h-4 flex items-center rounded-full transition-colors duration-200 ${e.visualizerNorm?"bg-emerald-600":"bg-slate-700"}`,children:l.jsx("span",{className:`w-3 h-3 bg-white rounded-full shadow-md transform transition-transform duration-200 ${e.visualizerNorm?"translate-x-4":"translate-x-0.5"}`})})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("label",{className:"text-xs text-slate-400 flex items-center gap-1",children:[l.jsx(C2,{className:"w-3 h-3"}),"Mirror (Center/Bass)"]}),l.jsx("button",{onClick:()=>n({...e,visualizerMirror:!e.visualizerMirror}),className:`w-8 h-4 flex items-center rounded-full transition-colors duration-200 ${e.visualizerMirror?"bg-blue-600":"bg-slate-700"}`,children:l.jsx("span",{className:`w-3 h-3 bg-white rounded-full shadow-md transform transition-transform duration-200 ${e.visualizerMirror?"translate-x-4":"translate-x-0.5"}`})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between mb-1",children:[l.jsxs("label",{className:"text-xs text-slate-400 flex items-center gap-1",children:[l.jsx(Kb,{className:"w-3 h-3"}),"Gravity (Decay)"]}),l.jsx("span",{className:"text-[10px] font-mono text-slate-500",children:e.visualizerGravity||2})]}),l.jsx("input",{type:"range",min:"0.5",max:"10.0",step:"0.5",value:e.visualizerGravity||2,onChange:W=>n({...e,visualizerGravity:parseFloat(W.target.value)}),className:"w-full h-1.5 bg-slate-900 rounded-lg appearance-none cursor-pointer accent-indigo-500"})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between mb-1",children:[l.jsxs("label",{className:"text-xs text-slate-400 flex items-center gap-1",children:[l.jsx(Fo,{className:"w-3 h-3 rotate-90"}),"Low Cut (Bass)"]}),l.jsx("span",{className:"text-[10px] font-mono text-slate-500",children:e.visualizerLowCut||0})]}),l.jsx("input",{type:"range",min:"0",max:"20",step:"1",value:e.visualizerLowCut||0,onChange:W=>n({...e,visualizerLowCut:parseInt(W.target.value)}),className:"w-full h-1.5 bg-slate-900 rounded-lg appearance-none cursor-pointer accent-sky-500"})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between mb-1",children:[l.jsxs("label",{className:"text-xs text-slate-400 flex items-center gap-1",children:[l.jsx(Fo,{className:"w-3 h-3 -rotate-90"}),"High Cut (Freq)"]}),l.jsx("span",{className:"text-[10px] font-mono text-slate-500",children:e.visualizerHighCut||128})]}),l.jsx("input",{type:"range",min:"30",max:"128",step:"1",value:e.visualizerHighCut||128,onChange:W=>n({...e,visualizerHighCut:parseInt(W.target.value)}),className:"w-full h-1.5 bg-slate-900 rounded-lg appearance-none cursor-pointer accent-indigo-500"})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between mb-1",children:[l.jsxs("label",{className:"text-xs text-slate-400 flex items-center gap-1",children:[l.jsx(ql,{className:"w-3 h-3"}),"Amplitude (Gain)"]}),l.jsxs("span",{className:"text-[10px] font-mono text-slate-500",children:["x",e.visualizerAmp||1]})]}),l.jsx("input",{type:"range",min:"0.1",max:"3.0",step:"0.1",value:e.visualizerAmp||1,onChange:W=>n({...e,visualizerAmp:parseFloat(W.target.value)}),className:"w-full h-1.5 bg-slate-900 rounded-lg appearance-none cursor-pointer accent-emerald-500"})]})]})]}),l.jsxs("div",{className:"border-t border-slate-700/50 pt-4 mb-2",children:[l.jsxs("div",{className:"flex justify-between mb-2",children:[l.jsx("label",{className:"text-sm text-slate-400 flex items-center gap-2",children:t==="ru"?" ":"Sensitivity"}),l.jsxs("span",{className:"text-xs font-mono bg-slate-800 px-2 py-0.5 rounded text-slate-400 border border-slate-700",children:[e.silenceThreshold,"%"]})]}),l.jsx("input",{type:"range",min:"1",max:"100",step:"1",value:e.silenceThreshold,onChange:W=>n({...e,silenceThreshold:parseInt(W.target.value)}),className:"w-full h-4 md:h-2 bg-slate-900 rounded-lg appearance-none cursor-pointer accent-indigo-500 touch-manipulation"})]}),l.jsx("div",{className:"mt-4",children:l.jsx(K2,{threshold:e.silenceThreshold,language:t,isVisible:c,lowCut:e.visualizerLowCut||0,highCut:e.visualizerHighCut||128,amp:e.visualizerAmp||1,style:e.visualizerStyle,norm:e.visualizerNorm,gravity:e.visualizerGravity,mirror:e.visualizerMirror})})]})]}),l.jsxs("div",{className:"flex flex-col h-full space-y-4 md:space-y-6",children:[l.jsxs("h3",{className:"text-sm font-semibold text-slate-200 flex items-center gap-2 border-b border-slate-800 pb-2",children:[l.jsx(Kf,{className:"w-4 h-4 text-purple-400"}),m.groupModel]}),l.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700/50 relative",children:[l.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 block",children:m.audioModelTitle||"Dictation Model"}),l.jsxs("div",{className:`flex gap-2 mb-4 transition-opacity ${e.isFreeTier?"opacity-50 pointer-events-none":""}`,children:[l.jsxs("button",{onClick:()=>n({...e,audioModel:"gemini-2.5-flash"}),className:`flex-1 flex flex-col items-center justify-center p-3 rounded-lg border transition-all touch-manipulation ${e.audioModel==="gemini-2.5-flash"?"bg-indigo-600/20 border-indigo-500 text-indigo-300":"bg-slate-800 border-slate-700 text-slate-500 hover:bg-slate-700"}`,children:[l.jsx(ei,{className:"w-5 h-5 md:w-4 md:h-4 mb-1"}),l.jsx("span",{className:"text-xs font-semibold",children:m.modelFlash})]}),l.jsxs("button",{onClick:()=>n({...e,audioModel:"gemini-2.5-pro"}),className:`flex-1 flex flex-col items-center justify-center p-3 rounded-lg border transition-all touch-manipulation ${e.audioModel==="gemini-2.5-pro"?"bg-purple-600/20 border-purple-500 text-purple-300":"bg-slate-800 border-slate-700 text-slate-500 hover:bg-slate-700"}`,children:[l.jsx(Kf,{className:"w-5 h-5 md:w-4 md:h-4 mb-1"}),l.jsx("span",{className:"text-xs font-semibold",children:m.modelPro})]})]}),e.isFreeTier&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10",children:l.jsxs("span",{className:"bg-slate-900/90 text-red-400 text-xs px-2 py-1 rounded border border-red-900/50 flex items-center gap-1",children:[l.jsx(rn,{className:"w-3 h-3"}),m.paidFeatureTooltip||"Paid Tier Only"]})}),l.jsxs("div",{className:"pt-4 border-t border-slate-700/50 relative",children:[l.jsxs("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 block flex items-center gap-2",children:[l.jsx(xr,{className:"w-3.5 h-3.5"}),m.ttsVoiceTitle||"TTS Voice"]}),l.jsx("div",{className:`grid grid-cols-2 gap-2 transition-opacity ${e.isFreeTier?"opacity-50 pointer-events-none":""}`,children:["Puck","Charon","Kore","Fenrir","Zephyr"].map(W=>l.jsx("button",{onClick:()=>n({...e,ttsVoice:W}),className:`py-2 px-3 rounded text-xs font-medium border transition-colors ${e.ttsVoice===W?"bg-emerald-600/20 border-emerald-500 text-emerald-300":"bg-slate-800 border-slate-700 text-slate-400 hover:bg-slate-700"}`,children:W},W))})]})]}),l.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700/50",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3 border-b border-slate-700/50 pb-2",children:[l.jsx(t2,{className:"w-3.5 h-3.5 text-slate-400"}),l.jsx("span",{className:"text-xs font-semibold text-slate-300 uppercase tracking-wider",children:m.dictStatus})]}),l.jsxs("div",{className:"flex items-center justify-between mb-3 last:mb-0",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-sm text-slate-300 font-medium",children:m.dictRu}),l.jsxs("span",{className:"text-[10px] text-slate-500 font-mono",children:[p.ruCount," ",m.dictWords]})]}),p.ruLoaded?l.jsxs("div",{className:"flex items-center gap-1.5 text-emerald-400 bg-emerald-950/30 px-2 py-1 rounded border border-emerald-900/50",children:[l.jsx(gr,{className:"w-3.5 h-3.5"}),l.jsx("span",{className:"text-[10px] font-bold",children:"OK"})]}):l.jsxs("div",{className:"flex items-center gap-1.5 text-red-400 bg-red-950/30 px-2 py-1 rounded border border-red-900/50",children:[l.jsx(ot,{className:"w-3.5 h-3.5"}),l.jsx("span",{className:"text-[10px] font-bold uppercase",children:m.dictMissing})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-sm text-slate-300 font-medium",children:m.dictEn}),l.jsxs("span",{className:"text-[10px] text-slate-500 font-mono",children:[p.enCount," ",m.dictWords]})]}),p.enLoaded?l.jsxs("div",{className:"flex items-center gap-1.5 text-emerald-400 bg-emerald-950/30 px-2 py-1 rounded border border-emerald-900/50",children:[l.jsx(gr,{className:"w-3.5 h-3.5"}),l.jsx("span",{className:"text-[10px] font-bold",children:"OK"})]}):l.jsxs("div",{className:"flex items-center gap-1.5 text-red-400 bg-red-950/30 px-2 py-1 rounded border border-red-900/50",children:[l.jsx(ot,{className:"w-3.5 h-3.5"}),l.jsx("span",{className:"text-[10px] font-bold uppercase",children:m.dictMissing})]})]})]}),l.jsx("div",{className:"flex-1"}),l.jsx("div",{className:"space-y-2 mt-auto",children:v!=="none"?l.jsxs("div",{className:"bg-slate-800 p-3 rounded-lg border border-slate-700 animate-in fade-in zoom-in duration-300",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-xs font-bold text-slate-300",children:B()}),l.jsx("button",{onClick:()=>y("none"),className:"text-slate-500 hover:text-white",children:l.jsx(ot,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"password",inputMode:"numeric",value:x,onChange:W=>{S(W.target.value),N("")},placeholder:"****",className:"w-full bg-slate-900 border border-slate-700 rounded px-3 py-2 text-center text-sm font-mono focus:border-indigo-500 focus:outline-none",maxLength:8,autoFocus:!0}),l.jsx("button",{onClick:R,disabled:x.length<3,className:"bg-indigo-600 hover:bg-indigo-500 text-white px-3 py-1 rounded text-xs font-bold disabled:opacity-50 transition-colors",children:"OK"})]}),I&&l.jsx("p",{className:"text-xs text-red-400 mt-1",children:I})]}):l.jsx("div",{className:"space-y-2",children:s?l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>y("verify_change"),className:"flex items-center justify-center gap-2 p-3 md:p-2 w-full rounded-lg bg-slate-800 border border-slate-700 hover:bg-slate-700 hover:border-slate-600 text-slate-400 hover:text-white text-xs transition-colors touch-manipulation",children:[l.jsx(rn,{className:"w-4 h-4"}),m.lockChange]}),l.jsxs("button",{onClick:()=>y("verify_remove"),className:"flex items-center justify-center gap-2 p-3 md:p-2 w-full rounded-lg bg-slate-800 border border-slate-700 hover:bg-red-950/30 hover:border-red-900/50 hover:text-red-400 text-slate-400 text-xs transition-colors touch-manipulation",children:[l.jsx(k2,{className:"w-4 h-4"}),m.lockRemove]})]}):l.jsxs("button",{onClick:()=>y("create"),className:"flex items-center justify-center gap-2 p-3 md:p-2 w-full rounded-lg bg-slate-800 border border-slate-700 hover:bg-slate-700 hover:border-slate-600 text-slate-400 hover:text-white text-xs transition-colors touch-manipulation",children:[l.jsx(L0,{className:"w-4 h-4"}),m.btnCreatePin]})})})]})]})]})},Xf=()=>{const{notifications:e,removeNotification:t}=Ht();return e.length===0?null:l.jsx("div",{className:"fixed top-2 left-1/2 -translate-x-1/2 z-[100] flex flex-col items-center gap-2 pointer-events-none w-full max-w-md",children:e.map(n=>l.jsxs("div",{className:`
            pointer-events-auto flex items-center gap-2 px-4 py-2 rounded-full shadow-2xl border backdrop-blur-md min-w-[240px] max-w-sm
            animate-in slide-in-from-top-2 fade-in duration-300
            ${n.type==="success"?"bg-slate-900/95 border-emerald-500/30 text-emerald-100 shadow-emerald-900/10":""}
            ${n.type==="error"?"bg-slate-900/95 border-red-500/30 text-red-100 shadow-red-900/10":""}
            ${n.type==="info"?"bg-slate-900/95 border-indigo-500/30 text-indigo-100 shadow-indigo-900/10":""}
            ${n.type==="warning"?"bg-slate-900/95 border-amber-500/30 text-amber-100 shadow-amber-900/10":""}
          `,children:[l.jsxs("div",{className:"shrink-0",children:[n.type==="success"&&l.jsx(nu,{className:"w-4 h-4 text-emerald-400"}),n.type==="error"&&l.jsx(A2,{className:"w-4 h-4 text-red-400"}),n.type==="info"&&l.jsx(M0,{className:"w-4 h-4 text-indigo-400"}),n.type==="warning"&&l.jsx(Bb,{className:"w-4 h-4 text-amber-400"})]}),l.jsx("p",{className:"text-xs font-medium flex-1 text-center",children:n.message}),l.jsx("button",{onClick:()=>t(n.id),className:"shrink-0 p-0.5 hover:bg-white/10 rounded-full transition-colors",children:l.jsx(ot,{className:"w-3 h-3 opacity-70"})})]},n.id))})},Y2=({isOpen:e,onClose:t,language:n})=>{const r=Ze(n),[i,s]=w.useState(!1);return w.useEffect(()=>{if(e)s(!0);else{const o=setTimeout(()=>s(!1),300);return()=>clearTimeout(o)}},[e]),l.jsxs("div",{className:`fixed inset-0 z-[60] flex items-center justify-center p-4 transition-all duration-300 ${e?"opacity-100 visible":"opacity-0 invisible pointer-events-none"}`,children:[l.jsx("div",{className:"absolute inset-0 bg-slate-950/80 backdrop-blur-sm transition-opacity duration-300",onClick:t}),l.jsxs("div",{className:`
            relative bg-slate-900 border border-slate-800 rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden 
            transform transition-all duration-300 ease-out
            ${e?"scale-100 translate-y-0 opacity-100":"scale-95 translate-y-4 opacity-0"}
        `,children:[l.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-slate-800 bg-slate-800/50",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(j0,{className:"w-5 h-5 text-indigo-400"}),l.jsx("h2",{className:"text-lg font-bold text-slate-100",children:r.helpModalTitle})]}),l.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-slate-700/50 text-slate-500 hover:text-white transition-colors",children:l.jsx(ot,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"shrink-0 p-3 bg-blue-500/10 rounded-lg h-fit",children:l.jsx(sl,{className:"w-5 h-5 text-blue-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-slate-200 mb-1",children:r.howItWorksTitle}),l.jsx("p",{className:"text-sm text-slate-400 leading-relaxed whitespace-pre-line",children:r.howItWorksDesc})]})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"shrink-0 p-3 bg-indigo-500/10 rounded-lg h-fit",children:l.jsx(al,{className:"w-5 h-5 text-indigo-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-slate-200 mb-1",children:r.helpSection1}),l.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:r.helpDesc1})]})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"shrink-0 p-3 bg-emerald-500/10 rounded-lg h-fit",children:l.jsx(ei,{className:"w-5 h-5 text-emerald-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-slate-200 mb-1",children:r.helpSection2}),l.jsx("p",{className:"text-sm text-slate-400 leading-relaxed whitespace-pre-line",children:r.helpDesc2})]})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"shrink-0 p-3 bg-amber-500/10 rounded-lg h-fit",children:l.jsx(hn,{className:"w-5 h-5 text-amber-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-slate-200 mb-1",children:r.helpSection3}),l.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:r.helpDesc3})]})]})]}),l.jsx("div",{className:"p-4 bg-slate-950/50 border-t border-slate-800 text-center",children:l.jsx("button",{onClick:t,className:"px-6 py-2 bg-slate-800 hover:bg-slate-700 text-slate-200 rounded-lg text-sm font-medium transition-colors",children:r.tooltipClose})})]})]})},Q2=e=>e==="ru"?"    -.  ,  ,  .  Markdown  .":"You are a helpful and friendly AI assistant. Answer concisely and politely. Use Markdown for formatting.",J2=async function*(e,t,n,r,i,s){if(!e)throw new Error("API Key Missing");const o=new ys({apiKey:e}),a=[];for(const c of r){if(c.isTyping||(!c.text||!c.text.trim())&&!c.attachment)continue;const d=c.role,f=c.text?c.text.trim():"",m=[];if(c.attachment&&m.push({inlineData:{mimeType:c.attachment.mimeType,data:c.attachment.data}}),f&&m.push({text:f}),a.length>0&&a[a.length-1].role===d){const p=a[a.length-1];p.parts&&p.parts.push(...m)}else a.push({role:d,parts:m})}a.length>0&&a[0].role==="model"&&a.shift();const u=[];if(s&&u.push({inlineData:{mimeType:s.mimeType,data:s.data}}),i&&u.push({text:i}),a.length>0&&a[a.length-1].role==="user"){const c=a.pop();c&&c.parts&&u.unshift(...c.parts)}try{const d=await o.chats.create({model:t,history:a,config:{systemInstruction:Q2(n),temperature:.7}}).sendMessageStream({message:u});for await(const f of d)f.text&&(yield f.text)}catch(c){throw console.error("Chat Stream Error Details:",c),c}},X2=async(e,t,n,r)=>{var s;if(!e)throw new Error("API Key Missing");const i=new ys({apiKey:e});try{let a=((s=(await i.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[{inlineData:{mimeType:n,data:t}}]},config:{systemInstruction:r==="ru"?`  .  :    . 
 :
1.     , , ,         ( ).
2.   .   '', '', ' '. 
3.  -  .
4.   ,     .`:`You are a transcriber. Your task: convert audio to text.
STRICT RULES:
1. If audio contains only silence, noise, music, breathing, or unclear sounds - return EMPTY STRING (just a space).
2. Do NOT hallucinate text. Do NOT write 'Subtitles', 'Thanks', 'Continued'.
3. Ignore stutters.
4. Return ONLY what was clearly spoken by a human.`,temperature:0}})).text)==null?void 0:s.trim())||"";a=C0(a,r);const u=a.toLowerCase(),c=["","subtitles"," ","to be continued","  ","thanks for watching","copyright","  ","all rights reserved","","translated by","","","the end","transcribed by","audio","sound","","subscribe","","like"];return a.length<50&&c.some(d=>u.includes(d))?(console.warn("Hallucination detected and blocked:",a),""):/^(.{1,3})\1{4,}$/.test(a.replace(/\s/g,""))?"":a}catch(o){return console.error("Chat Transcription Error:",o),""}};function Z2(e){const t=atob(e),n=t.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=t.charCodeAt(i);return r}function ek(e){let t="";const n=e.byteLength;for(let r=0;r<n;r++)t+=String.fromCharCode(e[r]);return btoa(t)}function tk(e){const t=e.length,n=new Int16Array(t);for(let r=0;r<t;r++)n[r]=Math.max(-32768,Math.min(32767,e[r]*32768));return{data:ek(new Uint8Array(n.buffer)),mimeType:"audio/pcm;rate=16000"}}async function nk(e,t,n=24e3,r=1){const i=new Int16Array(e.buffer),s=i.length/r,o=t.createBuffer(r,s,n);for(let a=0;a<r;a++){const u=o.getChannelData(a);for(let c=0;c<s;c++)u[c]=i[c*r+a]/32768}return o}const rk=e=>{const{addNotification:t}=Ht(),[n,r]=w.useState(!1),[i,s]=w.useState(!1),[o,a]=w.useState(null),u=w.useRef(!1),c=w.useRef(null),d=w.useRef(null),f=w.useRef(null),m=w.useRef(null),p=w.useRef(null),k=w.useRef(0),C=w.useRef(new Set),A=w.useRef(new Uint8Array(128)),v=w.useRef(null),y=w.useRef(null),x=w.useRef(null),S=w.useCallback(async()=>{if(r(!1),u.current=!1,s(!1),x.current){try{x.current.close()}catch(N){console.error("Error closing live session",N)}x.current=null,y.current=null}m.current&&(m.current.disconnect(),m.current=null),f.current&&(f.current.disconnect(),f.current=null),c.current&&(c.current.close(),c.current=null),C.current.forEach(N=>{try{N.stop()}catch{}}),C.current.clear(),d.current&&(d.current.close(),d.current=null),v.current&&cancelAnimationFrame(v.current)},[]),I=w.useCallback(async()=>{if(!(n||i||!e)){s(!0),a(null);try{const N=new ys({apiKey:e}),j=await navigator.mediaDevices.getUserMedia({audio:{sampleRate:16e3,channelCount:1,echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}}),E=window.AudioContext||window.webkitAudioContext;c.current=new E({sampleRate:16e3}),f.current=c.current.createMediaStreamSource(j),m.current=c.current.createScriptProcessor(4096,1,1),f.current.connect(m.current),m.current.connect(c.current.destination),d.current=new E({sampleRate:24e3}),k.current=d.current.currentTime,p.current=d.current.createAnalyser(),p.current.fftSize=256,p.current.connect(d.current.destination);const z=()=>{p.current&&p.current.getByteFrequencyData(A.current),v.current=requestAnimationFrame(z)};z();const L=N.live.connect({model:"gemini-2.5-flash-native-audio-preview-12-2025",config:{responseModalities:[Do.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Kore"}}},systemInstruction:"You are a helpful, witty, and concise voice assistant. Keep answers short and conversational."},callbacks:{onopen:()=>{console.log("Gemini Live Connected"),s(!1),r(!0),u.current=!0},onmessage:async D=>{var _,B,U,Z,W,P;if(!u.current)return;const R=(W=(Z=(U=(B=(_=D.serverContent)==null?void 0:_.modelTurn)==null?void 0:B.parts)==null?void 0:U[0])==null?void 0:Z.inlineData)==null?void 0:W.data;if(R&&d.current&&p.current)try{const q=Z2(R),T=await nk(q,d.current),F=d.current.createBufferSource();F.buffer=T,F.connect(p.current);const O=d.current.currentTime;k.current=Math.max(k.current,O),F.start(k.current),k.current+=T.duration,C.current.add(F),F.onended=()=>{C.current.delete(F)}}catch(q){console.error("Error decoding audio chunk",q)}(P=D.serverContent)!=null&&P.interrupted&&(console.log("Interrupted!"),C.current.forEach(q=>q.stop()),C.current.clear(),d.current&&(k.current=d.current.currentTime))},onclose:()=>{console.log("Gemini Live Closed"),S()},onerror:D=>{console.error("Gemini Live Error",D),a("Connection lost"),t("Live Error: Connection lost or API issue","error"),S()}}});y.current=L,L.then(D=>{x.current=D}).catch(D=>{console.error("Session promise failed:",D),a("Failed to connect"),t("Live Connection Failed","error"),S()}),m.current.onaudioprocess=D=>{if(!u.current)return;const R=D.inputBuffer.getChannelData(0),_=tk(R);L.then(B=>{u.current&&B.sendRealtimeInput({media:_})})}}catch(N){console.error("Failed to start Live session",N),a("Microphone access failed or API error."),t("Failed to start Live. Check Mic/API.","error"),s(!1),S()}}},[e,n,i,S,t]);return{isLive:n,isConnecting:i,error:o,startLive:I,stopLive:S,liveVisualizerDataRef:A}},Zf="fasttype_chat_history_v1",ik=(e,t,n=20)=>{const{addNotification:r}=Ht(),[i,s]=w.useState(()=>{try{const O=localStorage.getItem(Zf);return O?JSON.parse(O):[]}catch{return[]}}),[o,a]=w.useState(!1),[u,c]=w.useState(!1),[d,f]=w.useState(""),[m,p]=w.useState(!1),k=w.useRef(0),C=w.useRef(!1),A="gemini-3-flash-preview",{isRecording:v,startRecording:y,stopRecording:x,autoStopCountdown:S,visualizerDataRef:I}=xc(n),{isLive:N,isConnecting:j,startLive:E,stopLive:z,liveVisualizerDataRef:L,error:D}=rk(t);w.useEffect(()=>{localStorage.setItem(Zf,JSON.stringify(i))},[i]);const R=w.useRef(null),_=()=>{var O;(O=R.current)==null||O.scrollIntoView({behavior:"smooth"})};w.useEffect(()=>{_()},[i,o]);const B=async(O,b,H,J)=>{const M=(Date.now()+1).toString();s(se=>[...se,{id:M,role:"model",text:"",timestamp:Date.now(),isTyping:!0}]);let K="";try{const se=J2(t,H,e,J,O,b);for await(const ge of se)K+=ge,s(ye=>ye.map(ee=>ee.id===M?{...ee,text:K}:ee))}catch(se){throw console.error("Chat Stream Error",se),se}s(se=>se.map(ge=>ge.id===M?{...ge,isTyping:!1}:ge)),u&&K&&T(K)},U=async(O,b)=>{if(C.current=!0,v&&await x(),p(!1),k.current=0,!O.trim()&&!b||!t)return;f("");const H={id:Date.now().toString(),role:"user",text:O,timestamp:Date.now(),attachment:b},J=i;s(M=>[...M,H]),a(!0);try{await B(O,b,A,J)}catch(M){console.warn("Model failed:",M),M.message&&(M.message.includes("429")||M.message.includes("403")||M.message.includes("400"))&&r(e==="ru"?" API (  )":"API Error (Quota or Key)","error",5e3),Z(M)}finally{a(!1)}},Z=O=>{let b=e==="ru"?"...":"Error...";if(O.message){const H=O.message.replace(/\[.*?\]/g,"").trim();b+=` (${H.substring(0,50)}...)`}s(H=>H.map(J=>J.isTyping?{...J,text:b,isTyping:!1}:J))},W=async(O,b)=>{if(!C.current){k.current++,p(!0);try{const H=await X2(t,O,b,e);if(C.current)return;H&&H.trim()&&f(J=>{const M=H.trim();if(!M)return J;const K=J.length>0&&!J.endsWith(" ")?" ":"";return J+K+M})}catch(H){console.error("Chat Transcription failed",H)}finally{k.current--,k.current===0&&p(!1)}}},P=async()=>{v?await x():(C.current=!1,await y(W)||(console.warn("Failed to start recording"),r(e==="ru"?" ":"Mic Error","error")))},q=()=>{N||j?z():(v&&(C.current=!0,x()),E())},T=w.useCallback(O=>{if(!window.speechSynthesis)return;window.speechSynthesis.cancel();const b=new SpeechSynthesisUtterance(O);b.lang=e==="ru"?"ru-RU":"en-US",window.speechSynthesis.speak(b)},[e]);return{messages:i,inputText:d,setInputText:f,isLoading:o,activeModel:A,messagesEndRef:R,handleSendMessage:U,toggleVoice:P,isRecording:v,isAnalyzing:m,soundEnabled:u,setSoundEnabled:c,clearChat:()=>{C.current=!0,s([]),f(""),p(!1),v&&x(),window.speechSynthesis.cancel()},autoStopCountdown:S,visualizerDataRef:I,isLive:N,isLiveConnecting:j,liveError:D,toggleLiveMode:q,liveVisualizerDataRef:L}};function sk(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const ok=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,lk=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,ak={};function ep(e,t){return(ak.jsx?lk:ok).test(e)}const uk=/[ \t\n\f\r]/g;function ck(e){return typeof e=="object"?e.type==="text"?tp(e.value):!1:tp(e)}function tp(e){return e.replace(uk,"")===""}class ws{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}ws.prototype.normal={};ws.prototype.property={};ws.prototype.space=void 0;function O0(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new ws(n,r,t)}function lu(e){return e.toLowerCase()}class Pt{constructor(t,n){this.attribute=n,this.property=t}}Pt.prototype.attribute="";Pt.prototype.booleanish=!1;Pt.prototype.boolean=!1;Pt.prototype.commaOrSpaceSeparated=!1;Pt.prototype.commaSeparated=!1;Pt.prototype.defined=!1;Pt.prototype.mustUseProperty=!1;Pt.prototype.number=!1;Pt.prototype.overloadedBoolean=!1;Pt.prototype.property="";Pt.prototype.spaceSeparated=!1;Pt.prototype.space=void 0;let dk=0;const Ee=br(),Je=br(),au=br(),re=br(),Le=br(),$r=br(),Rt=br();function br(){return 2**++dk}const uu=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ee,booleanish:Je,commaOrSpaceSeparated:Rt,commaSeparated:$r,number:re,overloadedBoolean:au,spaceSeparated:Le},Symbol.toStringTag,{value:"Module"})),Gl=Object.keys(uu);class Cc extends Pt{constructor(t,n,r,i){let s=-1;if(super(t,n),np(this,"space",i),typeof r=="number")for(;++s<Gl.length;){const o=Gl[s];np(this,Gl[s],(r&uu[o])===uu[o])}}}Cc.prototype.defined=!0;function np(e,t,n){n&&(e[t]=n)}function ai(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new Cc(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[lu(r)]=r,n[lu(s.attribute)]=r}return new ws(t,n,e.space)}const U0=ai({properties:{ariaActiveDescendant:null,ariaAtomic:Je,ariaAutoComplete:null,ariaBusy:Je,ariaChecked:Je,ariaColCount:re,ariaColIndex:re,ariaColSpan:re,ariaControls:Le,ariaCurrent:null,ariaDescribedBy:Le,ariaDetails:null,ariaDisabled:Je,ariaDropEffect:Le,ariaErrorMessage:null,ariaExpanded:Je,ariaFlowTo:Le,ariaGrabbed:Je,ariaHasPopup:null,ariaHidden:Je,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Le,ariaLevel:re,ariaLive:null,ariaModal:Je,ariaMultiLine:Je,ariaMultiSelectable:Je,ariaOrientation:null,ariaOwns:Le,ariaPlaceholder:null,ariaPosInSet:re,ariaPressed:Je,ariaReadOnly:Je,ariaRelevant:null,ariaRequired:Je,ariaRoleDescription:Le,ariaRowCount:re,ariaRowIndex:re,ariaRowSpan:re,ariaSelected:Je,ariaSetSize:re,ariaSort:null,ariaValueMax:re,ariaValueMin:re,ariaValueNow:re,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function H0(e,t){return t in e?e[t]:t}function V0(e,t){return H0(e,t.toLowerCase())}const fk=ai({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:$r,acceptCharset:Le,accessKey:Le,action:null,allow:null,allowFullScreen:Ee,allowPaymentRequest:Ee,allowUserMedia:Ee,alt:null,as:null,async:Ee,autoCapitalize:null,autoComplete:Le,autoFocus:Ee,autoPlay:Ee,blocking:Le,capture:null,charSet:null,checked:Ee,cite:null,className:Le,cols:re,colSpan:null,content:null,contentEditable:Je,controls:Ee,controlsList:Le,coords:re|$r,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ee,defer:Ee,dir:null,dirName:null,disabled:Ee,download:au,draggable:Je,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ee,formTarget:null,headers:Le,height:re,hidden:au,high:re,href:null,hrefLang:null,htmlFor:Le,httpEquiv:Le,id:null,imageSizes:null,imageSrcSet:null,inert:Ee,inputMode:null,integrity:null,is:null,isMap:Ee,itemId:null,itemProp:Le,itemRef:Le,itemScope:Ee,itemType:Le,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ee,low:re,manifest:null,max:null,maxLength:re,media:null,method:null,min:null,minLength:re,multiple:Ee,muted:Ee,name:null,nonce:null,noModule:Ee,noValidate:Ee,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ee,optimum:re,pattern:null,ping:Le,placeholder:null,playsInline:Ee,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ee,referrerPolicy:null,rel:Le,required:Ee,reversed:Ee,rows:re,rowSpan:re,sandbox:Le,scope:null,scoped:Ee,seamless:Ee,selected:Ee,shadowRootClonable:Ee,shadowRootDelegatesFocus:Ee,shadowRootMode:null,shape:null,size:re,sizes:null,slot:null,span:re,spellCheck:Je,src:null,srcDoc:null,srcLang:null,srcSet:null,start:re,step:null,style:null,tabIndex:re,target:null,title:null,translate:null,type:null,typeMustMatch:Ee,useMap:null,value:Je,width:re,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Le,axis:null,background:null,bgColor:null,border:re,borderColor:null,bottomMargin:re,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ee,declare:Ee,event:null,face:null,frame:null,frameBorder:null,hSpace:re,leftMargin:re,link:null,longDesc:null,lowSrc:null,marginHeight:re,marginWidth:re,noResize:Ee,noHref:Ee,noShade:Ee,noWrap:Ee,object:null,profile:null,prompt:null,rev:null,rightMargin:re,rules:null,scheme:null,scrolling:Je,standby:null,summary:null,text:null,topMargin:re,valueType:null,version:null,vAlign:null,vLink:null,vSpace:re,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ee,disableRemotePlayback:Ee,prefix:null,property:null,results:re,security:null,unselectable:null},space:"html",transform:V0}),pk=ai({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Rt,accentHeight:re,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:re,amplitude:re,arabicForm:null,ascent:re,attributeName:null,attributeType:null,azimuth:re,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:re,by:null,calcMode:null,capHeight:re,className:Le,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:re,diffuseConstant:re,direction:null,display:null,dur:null,divisor:re,dominantBaseline:null,download:Ee,dx:null,dy:null,edgeMode:null,editable:null,elevation:re,enableBackground:null,end:null,event:null,exponent:re,externalResourcesRequired:null,fill:null,fillOpacity:re,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:$r,g2:$r,glyphName:$r,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:re,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:re,horizOriginX:re,horizOriginY:re,id:null,ideographic:re,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:re,k:re,k1:re,k2:re,k3:re,k4:re,kernelMatrix:Rt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:re,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:re,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:re,overlineThickness:re,paintOrder:null,panose1:null,path:null,pathLength:re,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Le,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:re,pointsAtY:re,pointsAtZ:re,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Rt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Rt,rev:Rt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Rt,requiredFeatures:Rt,requiredFonts:Rt,requiredFormats:Rt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:re,specularExponent:re,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:re,strikethroughThickness:re,string:null,stroke:null,strokeDashArray:Rt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:re,strokeOpacity:re,strokeWidth:null,style:null,surfaceScale:re,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Rt,tabIndex:re,tableValues:null,target:null,targetX:re,targetY:re,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Rt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:re,underlineThickness:re,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:re,values:null,vAlphabetic:re,vMathematical:re,vectorEffect:null,vHanging:re,vIdeographic:re,version:null,vertAdvY:re,vertOriginX:re,vertOriginY:re,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:re,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:H0}),B0=ai({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),$0=ai({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:V0}),q0=ai({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),hk={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},mk=/[A-Z]/g,rp=/-[a-z]/g,gk=/^data[-\w.:]+$/i;function xk(e,t){const n=lu(t);let r=t,i=Pt;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&gk.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(rp,vk);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!rp.test(s)){let o=s.replace(mk,yk);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=Cc}return new i(r,t)}function yk(e){return"-"+e.toLowerCase()}function vk(e){return e.charAt(1).toUpperCase()}const wk=O0([U0,fk,B0,$0,q0],"html"),Nc=O0([U0,pk,B0,$0,q0],"svg");function bk(e){return e.join(" ").trim()}var Sc={},ip=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,kk=/\n/g,Ck=/^\s*/,Nk=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Sk=/^:\s*/,Tk=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Ek=/^[;\s]*/,Ak=/^\s+|\s+$/g,Ik=`
`,sp="/",op="*",ir="",jk="comment",Pk="declaration";function Rk(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(k){var C=k.match(kk);C&&(n+=C.length);var A=k.lastIndexOf(Ik);r=~A?k.length-A:r+k.length}function s(){var k={line:n,column:r};return function(C){return C.position=new o(k),c(),C}}function o(k){this.start=k,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function a(k){var C=new Error(t.source+":"+n+":"+r+": "+k);if(C.reason=k,C.filename=t.source,C.line=n,C.column=r,C.source=e,!t.silent)throw C}function u(k){var C=k.exec(e);if(C){var A=C[0];return i(A),e=e.slice(A.length),C}}function c(){u(Ck)}function d(k){var C;for(k=k||[];C=f();)C!==!1&&k.push(C);return k}function f(){var k=s();if(!(sp!=e.charAt(0)||op!=e.charAt(1))){for(var C=2;ir!=e.charAt(C)&&(op!=e.charAt(C)||sp!=e.charAt(C+1));)++C;if(C+=2,ir===e.charAt(C-1))return a("End of comment missing");var A=e.slice(2,C-2);return r+=2,i(A),e=e.slice(C),r+=2,k({type:jk,comment:A})}}function m(){var k=s(),C=u(Nk);if(C){if(f(),!u(Sk))return a("property missing ':'");var A=u(Tk),v=k({type:Pk,property:lp(C[0].replace(ip,ir)),value:A?lp(A[0].replace(ip,ir)):ir});return u(Ek),v}}function p(){var k=[];d(k);for(var C;C=m();)C!==!1&&(k.push(C),d(k));return k}return c(),p()}function lp(e){return e?e.replace(Ak,ir):ir}var Mk=Rk,_k=ao&&ao.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sc,"__esModule",{value:!0});Sc.default=zk;const Dk=_k(Mk);function zk(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,Dk.default)(e),i=typeof t=="function";return r.forEach(s=>{if(s.type!=="declaration")return;const{property:o,value:a}=s;i?t(o,a,s):a&&(n=n||{},n[o]=a)}),n}var ul={};Object.defineProperty(ul,"__esModule",{value:!0});ul.camelCase=void 0;var Lk=/^--[a-zA-Z0-9_-]+$/,Fk=/-([a-z])/g,Ok=/^[^-]+$/,Uk=/^-(webkit|moz|ms|o|khtml)-/,Hk=/^-(ms)-/,Vk=function(e){return!e||Ok.test(e)||Lk.test(e)},Bk=function(e,t){return t.toUpperCase()},ap=function(e,t){return"".concat(t,"-")},$k=function(e,t){return t===void 0&&(t={}),Vk(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Hk,ap):e=e.replace(Uk,ap),e.replace(Fk,Bk))};ul.camelCase=$k;var qk=ao&&ao.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Gk=qk(Sc),Kk=ul;function cu(e,t){var n={};return!e||typeof e!="string"||(0,Gk.default)(e,function(r,i){r&&i&&(n[(0,Kk.camelCase)(r,t)]=i)}),n}cu.default=cu;var Wk=cu;const Yk=yu(Wk),G0=K0("end"),Tc=K0("start");function K0(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Qk(e){const t=Tc(e),n=G0(e);if(t&&n)return{start:t,end:n}}function Li(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?up(e.position):"start"in e||"end"in e?up(e):"line"in e||"column"in e?du(e):""}function du(e){return cp(e&&e.line)+":"+cp(e&&e.column)}function up(e){return du(e&&e.start)+"-"+du(e&&e.end)}function cp(e){return e&&typeof e=="number"?e:1}class pt extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(o=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?s.ruleId=r:(s.source=r.slice(0,u),s.ruleId=r.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){const u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=Li(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}pt.prototype.file="";pt.prototype.name="";pt.prototype.reason="";pt.prototype.message="";pt.prototype.stack="";pt.prototype.column=void 0;pt.prototype.line=void 0;pt.prototype.ancestors=void 0;pt.prototype.cause=void 0;pt.prototype.fatal=void 0;pt.prototype.place=void 0;pt.prototype.ruleId=void 0;pt.prototype.source=void 0;const Ec={}.hasOwnProperty,Jk=new Map,Xk=/[A-Z]/g,Zk=new Set(["table","tbody","thead","tfoot","tr"]),eC=new Set(["td","th"]),W0="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function tC(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=uC(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=aC(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Nc:wk,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=Y0(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function Y0(e,t,n){if(t.type==="element")return nC(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return rC(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return sC(e,t,n);if(t.type==="mdxjsEsm")return iC(e,t);if(t.type==="root")return oC(e,t,n);if(t.type==="text")return lC(e,t)}function nC(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Nc,e.schema=i),e.ancestors.push(t);const s=J0(e,t.tagName,!1),o=cC(e,t);let a=Ic(e,t);return Zk.has(t.tagName)&&(a=a.filter(function(u){return typeof u=="string"?!ck(u):!0})),Q0(e,o,s,t),Ac(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function rC(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}ds(e,t.position)}function iC(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);ds(e,t.position)}function sC(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Nc,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:J0(e,t.name,!0),o=dC(e,t),a=Ic(e,t);return Q0(e,o,s,t),Ac(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function oC(e,t,n){const r={};return Ac(r,Ic(e,t)),e.create(t,e.Fragment,r,n)}function lC(e,t){return t.value}function Q0(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Ac(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function aC(e,t,n){return r;function r(i,s,o,a){const c=Array.isArray(o.children)?n:t;return a?c(s,o,a):c(s,o)}}function uC(e,t){return n;function n(r,i,s,o){const a=Array.isArray(s.children),u=Tc(r);return t(i,s,o,a,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function cC(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&Ec.call(t.properties,i)){const s=fC(e,i,t.properties[i]);if(s){const[o,a]=s;e.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&eC.has(t.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function dC(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else ds(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,s=e.evaluater.evaluateExpression(a.expression)}else ds(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function Ic(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Jk;for(;++r<t.children.length;){const s=t.children[r];let o;if(e.passKeys){const u=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(u){const c=i.get(u)||0;o=u+"-"+c,i.set(u,c+1)}}const a=Y0(e,s,o);a!==void 0&&n.push(a)}return n}function fC(e,t,n){const r=xk(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?sk(n):bk(n)),r.property==="style"){let i=typeof n=="object"?n:pC(e,String(n));return e.stylePropertyNameCase==="css"&&(i=hC(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?hk[r.property]||r.property:r.attribute,n]}}function pC(e,t){try{return Yk(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new pt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=W0+"#cannot-parse-style-attribute",i}}function J0(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,o;for(;++s<i.length;){const a=ep(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=ep(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return Ec.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);ds(e)}function ds(e,t){const n=new pt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=W0+"#cannot-handle-mdx-estrees-without-createevaluater",n}function hC(e){const t={};let n;for(n in e)Ec.call(e,n)&&(t[mC(n)]=e[n]);return t}function mC(e){let t=e.replace(Xk,gC);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function gC(e){return"-"+e.toLowerCase()}const Kl={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},xC={};function yC(e,t){const n=xC,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return X0(e,r,i)}function X0(e,t,n){if(vC(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return dp(e.children,t,n)}return Array.isArray(e)?dp(e,t,n):""}function dp(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=X0(e[i],t,n);return r.join("")}function vC(e){return!!(e&&typeof e=="object")}const fp=document.createElement("i");function jc(e){const t="&"+e+";";fp.innerHTML=t;const n=fp.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function mn(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function $t(e,t){return e.length>0?(mn(e,e.length,0,t),e):t}const pp={}.hasOwnProperty;function wC(e){const t={};let n=-1;for(;++n<e.length;)bC(t,e[n]);return t}function bC(e,t){let n;for(n in t){const i=(pp.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){pp.call(i,o)||(i[o]=[]);const a=s[o];kC(i[o],Array.isArray(a)?a:a?[a]:[])}}}function kC(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);mn(e,0,0,r)}function Z0(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function qr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const dn=er(/[A-Za-z]/),Dt=er(/[\dA-Za-z]/),CC=er(/[#-'*+\--9=?A-Z^-~]/);function fu(e){return e!==null&&(e<32||e===127)}const pu=er(/\d/),NC=er(/[\dA-Fa-f]/),SC=er(/[!-/:-@[-`{-~]/);function Te(e){return e!==null&&e<-2}function jt(e){return e!==null&&(e<0||e===32)}function Re(e){return e===-2||e===-1||e===32}const TC=er(new RegExp("\\p{P}|\\p{S}","u")),EC=er(/\s/);function er(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function ui(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&Dt(e.charCodeAt(n+1))&&Dt(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Oe(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(u){return Re(u)?(e.enter(n),a(u)):t(u)}function a(u){return Re(u)&&s++<i?(e.consume(u),a):(e.exit(n),t(u))}}const AC={tokenize:IC};function IC(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Oe(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return Te(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const jC={tokenize:PC},hp={tokenize:RC};function PC(e){const t=this,n=[];let r=0,i,s,o;return a;function a(x){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,u,c)(x)}return c(x)}function u(x){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&y();const S=t.events.length;let I=S,N;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){N=t.events[I][1].end;break}v(r);let j=S;for(;j<t.events.length;)t.events[j][1].end={...N},j++;return mn(t.events,I+1,0,t.events.slice(S)),t.events.length=j,c(x)}return a(x)}function c(x){if(r===n.length){if(!i)return m(x);if(i.currentConstruct&&i.currentConstruct.concrete)return k(x);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(hp,d,f)(x)}function d(x){return i&&y(),v(r),m(x)}function f(x){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,k(x)}function m(x){return t.containerState={},e.attempt(hp,p,k)(x)}function p(x){return r++,n.push([t.currentConstruct,t.containerState]),m(x)}function k(x){if(x===null){i&&y(),v(0),e.consume(x);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),C(x)}function C(x){if(x===null){A(e.exit("chunkFlow"),!0),v(0),e.consume(x);return}return Te(x)?(e.consume(x),A(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(x),C)}function A(x,S){const I=t.sliceStream(x);if(S&&I.push(null),x.previous=s,s&&(s.next=x),s=x,i.defineSkip(x.start),i.write(I),t.parser.lazy[x.start.line]){let N=i.events.length;for(;N--;)if(i.events[N][1].start.offset<o&&(!i.events[N][1].end||i.events[N][1].end.offset>o))return;const j=t.events.length;let E=j,z,L;for(;E--;)if(t.events[E][0]==="exit"&&t.events[E][1].type==="chunkFlow"){if(z){L=t.events[E][1].end;break}z=!0}for(v(r),N=j;N<t.events.length;)t.events[N][1].end={...L},N++;mn(t.events,E+1,0,t.events.slice(j)),t.events.length=N}}function v(x){let S=n.length;for(;S-- >x;){const I=n[S];t.containerState=I[1],I[0].exit.call(t,e)}n.length=x}function y(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function RC(e,t,n){return Oe(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function mp(e){if(e===null||jt(e)||EC(e))return 1;if(TC(e))return 2}function Pc(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const hu={name:"attention",resolveAll:MC,tokenize:_C};function MC(e,t){let n=-1,r,i,s,o,a,u,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},m={...e[n][1].start};gp(f,-u),gp(m,u),o={type:u>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},a={type:u>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:m},s={type:u>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:u>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},e[r][1].end={...o.start},e[n][1].start={...a.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=$t(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=$t(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),c=$t(c,Pc(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=$t(c,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=$t(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,mn(e,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function _C(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=mp(r);let s;return o;function o(u){return s=u,e.enter("attentionSequence"),a(u)}function a(u){if(u===s)return e.consume(u),a;const c=e.exit("attentionSequence"),d=mp(u),f=!d||d===2&&i||n.includes(u),m=!i||i===2&&d||n.includes(r);return c._open=!!(s===42?f:f&&(i||!m)),c._close=!!(s===42?m:m&&(d||!f)),t(u)}}function gp(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const DC={name:"autolink",tokenize:zC};function zC(e,t,n){let r=0;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(p){return dn(p)?(e.consume(p),o):p===64?n(p):c(p)}function o(p){return p===43||p===45||p===46||Dt(p)?(r=1,a(p)):c(p)}function a(p){return p===58?(e.consume(p),r=0,u):(p===43||p===45||p===46||Dt(p))&&r++<32?(e.consume(p),a):(r=0,c(p))}function u(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||fu(p)?n(p):(e.consume(p),u)}function c(p){return p===64?(e.consume(p),d):CC(p)?(e.consume(p),c):n(p)}function d(p){return Dt(p)?f(p):n(p)}function f(p){return p===46?(e.consume(p),r=0,d):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):m(p)}function m(p){if((p===45||Dt(p))&&r++<63){const k=p===45?m:f;return e.consume(p),k}return n(p)}}const cl={partial:!0,tokenize:LC};function LC(e,t,n){return r;function r(s){return Re(s)?Oe(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||Te(s)?t(s):n(s)}}const eg={continuation:{tokenize:OC},exit:UC,name:"blockQuote",tokenize:FC};function FC(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Re(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function OC(e,t,n){const r=this;return i;function i(o){return Re(o)?Oe(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(eg,t,n)(o)}}function UC(e){e.exit("blockQuote")}const tg={name:"characterEscape",tokenize:HC};function HC(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return SC(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const ng={name:"characterReference",tokenize:VC};function VC(e,t,n){const r=this;let i=0,s,o;return a;function a(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),u}function u(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),s=31,o=Dt,d(f))}function c(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=NC,d):(e.enter("characterReferenceValue"),s=7,o=pu,d(f))}function d(f){if(f===59&&i){const m=e.exit("characterReferenceValue");return o===Dt&&!jc(r.sliceSerialize(m))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&i++<s?(e.consume(f),d):n(f)}}const xp={partial:!0,tokenize:$C},yp={concrete:!0,name:"codeFenced",tokenize:BC};function BC(e,t,n){const r=this,i={partial:!0,tokenize:I};let s=0,o=0,a;return u;function u(N){return c(N)}function c(N){const j=r.events[r.events.length-1];return s=j&&j[1].type==="linePrefix"?j[2].sliceSerialize(j[1],!0).length:0,a=N,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(N)}function d(N){return N===a?(o++,e.consume(N),d):o<3?n(N):(e.exit("codeFencedFenceSequence"),Re(N)?Oe(e,f,"whitespace")(N):f(N))}function f(N){return N===null||Te(N)?(e.exit("codeFencedFence"),r.interrupt?t(N):e.check(xp,C,S)(N)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),m(N))}function m(N){return N===null||Te(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(N)):Re(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Oe(e,p,"whitespace")(N)):N===96&&N===a?n(N):(e.consume(N),m)}function p(N){return N===null||Te(N)?f(N):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),k(N))}function k(N){return N===null||Te(N)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(N)):N===96&&N===a?n(N):(e.consume(N),k)}function C(N){return e.attempt(i,S,A)(N)}function A(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),v}function v(N){return s>0&&Re(N)?Oe(e,y,"linePrefix",s+1)(N):y(N)}function y(N){return N===null||Te(N)?e.check(xp,C,S)(N):(e.enter("codeFlowValue"),x(N))}function x(N){return N===null||Te(N)?(e.exit("codeFlowValue"),y(N)):(e.consume(N),x)}function S(N){return e.exit("codeFenced"),t(N)}function I(N,j,E){let z=0;return L;function L(U){return N.enter("lineEnding"),N.consume(U),N.exit("lineEnding"),D}function D(U){return N.enter("codeFencedFence"),Re(U)?Oe(N,R,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(U):R(U)}function R(U){return U===a?(N.enter("codeFencedFenceSequence"),_(U)):E(U)}function _(U){return U===a?(z++,N.consume(U),_):z>=o?(N.exit("codeFencedFenceSequence"),Re(U)?Oe(N,B,"whitespace")(U):B(U)):E(U)}function B(U){return U===null||Te(U)?(N.exit("codeFencedFence"),j(U)):E(U)}}}function $C(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const Wl={name:"codeIndented",tokenize:GC},qC={partial:!0,tokenize:KC};function GC(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),Oe(e,s,"linePrefix",5)(c)}function s(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?u(c):Te(c)?e.attempt(qC,o,u)(c):(e.enter("codeFlowValue"),a(c))}function a(c){return c===null||Te(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),a)}function u(c){return e.exit("codeIndented"),t(c)}}function KC(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):Te(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):Oe(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):Te(o)?i(o):n(o)}}const WC={name:"codeText",previous:QC,resolve:YC,tokenize:JC};function YC(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function QC(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function JC(e,t,n){let r=0,i,s;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),a(f)}function a(f){return f===96?(e.consume(f),r++,a):(e.exit("codeTextSequence"),u(f))}function u(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),u):f===96?(s=e.enter("codeTextSequence"),i=0,d(f)):Te(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),u):(e.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||Te(f)?(e.exit("codeTextData"),u(f)):(e.consume(f),c)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(s.type="codeTextData",c(f))}}class XC{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&bi(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),bi(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),bi(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);bi(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);bi(this.left,n.reverse())}}}function bi(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function rg(e){const t={};let n=-1,r,i,s,o,a,u,c;const d=new XC(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,ZC(d,n)),n=t[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=d.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},a=d.slice(i,n),a.unshift(r),d.splice(i,n-i+1,a))}}return mn(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function ZC(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,u=[],c={};let d,f,m=-1,p=n,k=0,C=0;const A=[C];for(;p;){for(;e.get(++i)[1]!==p;);s.push(i),p._tokenizer||(d=r.sliceStream(p),p.next||d.push(null),f&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=p,p=p.next}for(p=n;++m<a.length;)a[m][0]==="exit"&&a[m-1][0]==="enter"&&a[m][1].type===a[m-1][1].type&&a[m][1].start.line!==a[m][1].end.line&&(C=m+1,A.push(C),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):A.pop(),m=A.length;m--;){const v=a.slice(A[m],A[m+1]),y=s.pop();u.push([y,y+v.length-1]),e.splice(y,2,v)}for(u.reverse(),m=-1;++m<u.length;)c[k+u[m][0]]=k+u[m][1],k+=u[m][1]-u[m][0]-1;return c}const eN={resolve:nN,tokenize:rN},tN={partial:!0,tokenize:iN};function nN(e){return rg(e),e}function rN(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):Te(a)?e.check(tN,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function iN(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Oe(e,s,"linePrefix")}function s(o){if(o===null||Te(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function ig(e,t,n,r,i,s,o,a,u){const c=u||Number.POSITIVE_INFINITY;let d=0;return f;function f(v){return v===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(v),e.exit(s),m):v===null||v===32||v===41||fu(v)?n(v):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),C(v))}function m(v){return v===62?(e.enter(s),e.consume(v),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===62?(e.exit("chunkString"),e.exit(a),m(v)):v===null||v===60||Te(v)?n(v):(e.consume(v),v===92?k:p)}function k(v){return v===60||v===62||v===92?(e.consume(v),p):p(v)}function C(v){return!d&&(v===null||v===41||jt(v))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(v)):d<c&&v===40?(e.consume(v),d++,C):v===41?(e.consume(v),d--,C):v===null||v===32||v===40||fu(v)?n(v):(e.consume(v),v===92?A:C)}function A(v){return v===40||v===41||v===92?(e.consume(v),C):C(v)}}function sg(e,t,n,r,i,s){const o=this;let a=0,u;return c;function c(p){return e.enter(r),e.enter(i),e.consume(p),e.exit(i),e.enter(s),d}function d(p){return a>999||p===null||p===91||p===93&&!u||p===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(p):p===93?(e.exit(s),e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):Te(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===null||p===91||p===93||Te(p)||a++>999?(e.exit("chunkString"),d(p)):(e.consume(p),u||(u=!Re(p)),p===92?m:f)}function m(p){return p===91||p===92||p===93?(e.consume(p),a++,f):f(p)}}function og(e,t,n,r,i,s){let o;return a;function a(m){return m===34||m===39||m===40?(e.enter(r),e.enter(i),e.consume(m),e.exit(i),o=m===40?41:m,u):n(m)}function u(m){return m===o?(e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):(e.enter(s),c(m))}function c(m){return m===o?(e.exit(s),u(o)):m===null?n(m):Te(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),Oe(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(m))}function d(m){return m===o||m===null||Te(m)?(e.exit("chunkString"),c(m)):(e.consume(m),m===92?f:d)}function f(m){return m===o||m===92?(e.consume(m),d):d(m)}}function Fi(e,t){let n;return r;function r(i){return Te(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Re(i)?Oe(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const sN={name:"definition",tokenize:lN},oN={partial:!0,tokenize:aN};function lN(e,t,n){const r=this;let i;return s;function s(p){return e.enter("definition"),o(p)}function o(p){return sg.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function a(p){return i=qr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),u):n(p)}function u(p){return jt(p)?Fi(e,c)(p):c(p)}function c(p){return ig(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function d(p){return e.attempt(oN,f,f)(p)}function f(p){return Re(p)?Oe(e,m,"whitespace")(p):m(p)}function m(p){return p===null||Te(p)?(e.exit("definition"),r.parser.defined.push(i),t(p)):n(p)}}function aN(e,t,n){return r;function r(a){return jt(a)?Fi(e,i)(a):n(a)}function i(a){return og(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return Re(a)?Oe(e,o,"whitespace")(a):o(a)}function o(a){return a===null||Te(a)?t(a):n(a)}}const uN={name:"hardBreakEscape",tokenize:cN};function cN(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return Te(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const dN={name:"headingAtx",resolve:fN,tokenize:pN};function fN(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},mn(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function pN(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),s(d)}function s(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(e.consume(d),o):d===null||jt(d)?(e.exit("atxHeadingSequence"),a(d)):n(d)}function a(d){return d===35?(e.enter("atxHeadingSequence"),u(d)):d===null||Te(d)?(e.exit("atxHeading"),t(d)):Re(d)?Oe(e,a,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function u(d){return d===35?(e.consume(d),u):(e.exit("atxHeadingSequence"),a(d))}function c(d){return d===null||d===35||jt(d)?(e.exit("atxHeadingText"),a(d)):(e.consume(d),c)}}const hN=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],vp=["pre","script","style","textarea"],mN={concrete:!0,name:"htmlFlow",resolveTo:yN,tokenize:vN},gN={partial:!0,tokenize:bN},xN={partial:!0,tokenize:wN};function yN(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function vN(e,t,n){const r=this;let i,s,o,a,u;return c;function c(b){return d(b)}function d(b){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(b),f}function f(b){return b===33?(e.consume(b),m):b===47?(e.consume(b),s=!0,C):b===63?(e.consume(b),i=3,r.interrupt?t:T):dn(b)?(e.consume(b),o=String.fromCharCode(b),A):n(b)}function m(b){return b===45?(e.consume(b),i=2,p):b===91?(e.consume(b),i=5,a=0,k):dn(b)?(e.consume(b),i=4,r.interrupt?t:T):n(b)}function p(b){return b===45?(e.consume(b),r.interrupt?t:T):n(b)}function k(b){const H="CDATA[";return b===H.charCodeAt(a++)?(e.consume(b),a===H.length?r.interrupt?t:R:k):n(b)}function C(b){return dn(b)?(e.consume(b),o=String.fromCharCode(b),A):n(b)}function A(b){if(b===null||b===47||b===62||jt(b)){const H=b===47,J=o.toLowerCase();return!H&&!s&&vp.includes(J)?(i=1,r.interrupt?t(b):R(b)):hN.includes(o.toLowerCase())?(i=6,H?(e.consume(b),v):r.interrupt?t(b):R(b)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(b):s?y(b):x(b))}return b===45||Dt(b)?(e.consume(b),o+=String.fromCharCode(b),A):n(b)}function v(b){return b===62?(e.consume(b),r.interrupt?t:R):n(b)}function y(b){return Re(b)?(e.consume(b),y):L(b)}function x(b){return b===47?(e.consume(b),L):b===58||b===95||dn(b)?(e.consume(b),S):Re(b)?(e.consume(b),x):L(b)}function S(b){return b===45||b===46||b===58||b===95||Dt(b)?(e.consume(b),S):I(b)}function I(b){return b===61?(e.consume(b),N):Re(b)?(e.consume(b),I):x(b)}function N(b){return b===null||b===60||b===61||b===62||b===96?n(b):b===34||b===39?(e.consume(b),u=b,j):Re(b)?(e.consume(b),N):E(b)}function j(b){return b===u?(e.consume(b),u=null,z):b===null||Te(b)?n(b):(e.consume(b),j)}function E(b){return b===null||b===34||b===39||b===47||b===60||b===61||b===62||b===96||jt(b)?I(b):(e.consume(b),E)}function z(b){return b===47||b===62||Re(b)?x(b):n(b)}function L(b){return b===62?(e.consume(b),D):n(b)}function D(b){return b===null||Te(b)?R(b):Re(b)?(e.consume(b),D):n(b)}function R(b){return b===45&&i===2?(e.consume(b),Z):b===60&&i===1?(e.consume(b),W):b===62&&i===4?(e.consume(b),F):b===63&&i===3?(e.consume(b),T):b===93&&i===5?(e.consume(b),q):Te(b)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(gN,O,_)(b)):b===null||Te(b)?(e.exit("htmlFlowData"),_(b)):(e.consume(b),R)}function _(b){return e.check(xN,B,O)(b)}function B(b){return e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),U}function U(b){return b===null||Te(b)?_(b):(e.enter("htmlFlowData"),R(b))}function Z(b){return b===45?(e.consume(b),T):R(b)}function W(b){return b===47?(e.consume(b),o="",P):R(b)}function P(b){if(b===62){const H=o.toLowerCase();return vp.includes(H)?(e.consume(b),F):R(b)}return dn(b)&&o.length<8?(e.consume(b),o+=String.fromCharCode(b),P):R(b)}function q(b){return b===93?(e.consume(b),T):R(b)}function T(b){return b===62?(e.consume(b),F):b===45&&i===2?(e.consume(b),T):R(b)}function F(b){return b===null||Te(b)?(e.exit("htmlFlowData"),O(b)):(e.consume(b),F)}function O(b){return e.exit("htmlFlow"),t(b)}}function wN(e,t,n){const r=this;return i;function i(o){return Te(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function bN(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(cl,t,n)}}const kN={name:"htmlText",tokenize:CN};function CN(e,t,n){const r=this;let i,s,o;return a;function a(T){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(T),u}function u(T){return T===33?(e.consume(T),c):T===47?(e.consume(T),I):T===63?(e.consume(T),x):dn(T)?(e.consume(T),E):n(T)}function c(T){return T===45?(e.consume(T),d):T===91?(e.consume(T),s=0,k):dn(T)?(e.consume(T),y):n(T)}function d(T){return T===45?(e.consume(T),p):n(T)}function f(T){return T===null?n(T):T===45?(e.consume(T),m):Te(T)?(o=f,W(T)):(e.consume(T),f)}function m(T){return T===45?(e.consume(T),p):f(T)}function p(T){return T===62?Z(T):T===45?m(T):f(T)}function k(T){const F="CDATA[";return T===F.charCodeAt(s++)?(e.consume(T),s===F.length?C:k):n(T)}function C(T){return T===null?n(T):T===93?(e.consume(T),A):Te(T)?(o=C,W(T)):(e.consume(T),C)}function A(T){return T===93?(e.consume(T),v):C(T)}function v(T){return T===62?Z(T):T===93?(e.consume(T),v):C(T)}function y(T){return T===null||T===62?Z(T):Te(T)?(o=y,W(T)):(e.consume(T),y)}function x(T){return T===null?n(T):T===63?(e.consume(T),S):Te(T)?(o=x,W(T)):(e.consume(T),x)}function S(T){return T===62?Z(T):x(T)}function I(T){return dn(T)?(e.consume(T),N):n(T)}function N(T){return T===45||Dt(T)?(e.consume(T),N):j(T)}function j(T){return Te(T)?(o=j,W(T)):Re(T)?(e.consume(T),j):Z(T)}function E(T){return T===45||Dt(T)?(e.consume(T),E):T===47||T===62||jt(T)?z(T):n(T)}function z(T){return T===47?(e.consume(T),Z):T===58||T===95||dn(T)?(e.consume(T),L):Te(T)?(o=z,W(T)):Re(T)?(e.consume(T),z):Z(T)}function L(T){return T===45||T===46||T===58||T===95||Dt(T)?(e.consume(T),L):D(T)}function D(T){return T===61?(e.consume(T),R):Te(T)?(o=D,W(T)):Re(T)?(e.consume(T),D):z(T)}function R(T){return T===null||T===60||T===61||T===62||T===96?n(T):T===34||T===39?(e.consume(T),i=T,_):Te(T)?(o=R,W(T)):Re(T)?(e.consume(T),R):(e.consume(T),B)}function _(T){return T===i?(e.consume(T),i=void 0,U):T===null?n(T):Te(T)?(o=_,W(T)):(e.consume(T),_)}function B(T){return T===null||T===34||T===39||T===60||T===61||T===96?n(T):T===47||T===62||jt(T)?z(T):(e.consume(T),B)}function U(T){return T===47||T===62||jt(T)?z(T):n(T)}function Z(T){return T===62?(e.consume(T),e.exit("htmlTextData"),e.exit("htmlText"),t):n(T)}function W(T){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),P}function P(T){return Re(T)?Oe(e,q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):q(T)}function q(T){return e.enter("htmlTextData"),o(T)}}const Rc={name:"labelEnd",resolveAll:EN,resolveTo:AN,tokenize:IN},NN={tokenize:jN},SN={tokenize:PN},TN={tokenize:RN};function EN(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&mn(e,0,e.length,n),e}function AN(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const u={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[s][1].start},end:{...e[o][1].end}},d={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[o-2][1].start}};return a=[["enter",u,t],["enter",c,t]],a=$t(a,e.slice(s+1,s+r+3)),a=$t(a,[["enter",d,t]]),a=$t(a,Pc(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=$t(a,[["exit",d,t],e[o-2],e[o-1],["exit",c,t]]),a=$t(a,e.slice(o+1)),a=$t(a,[["exit",u,t]]),mn(e,s,e.length,a),e}function IN(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(m){return s?s._inactive?f(m):(o=r.parser.defined.includes(qr(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(m),e.exit("labelMarker"),e.exit("labelEnd"),u):n(m)}function u(m){return m===40?e.attempt(NN,d,o?d:f)(m):m===91?e.attempt(SN,d,o?c:f)(m):o?d(m):f(m)}function c(m){return e.attempt(TN,d,f)(m)}function d(m){return t(m)}function f(m){return s._balanced=!0,n(m)}}function jN(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return jt(f)?Fi(e,s)(f):s(f)}function s(f){return f===41?d(f):ig(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return jt(f)?Fi(e,u)(f):d(f)}function a(f){return n(f)}function u(f){return f===34||f===39||f===40?og(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function c(f){return jt(f)?Fi(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function PN(e,t,n){const r=this;return i;function i(a){return sg.call(r,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(qr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function RN(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const MN={name:"labelStartImage",resolveAll:Rc.resolveAll,tokenize:_N};function _N(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const DN={name:"labelStartLink",resolveAll:Rc.resolveAll,tokenize:zN};function zN(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Yl={name:"lineEnding",tokenize:LN};function LN(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Oe(e,t,"linePrefix")}}const oo={name:"thematicBreak",tokenize:FN};function FN(e,t,n){let r=0,i;return s;function s(c){return e.enter("thematicBreak"),o(c)}function o(c){return i=c,a(c)}function a(c){return c===i?(e.enter("thematicBreakSequence"),u(c)):r>=3&&(c===null||Te(c))?(e.exit("thematicBreak"),t(c)):n(c)}function u(c){return c===i?(e.consume(c),r++,u):(e.exit("thematicBreakSequence"),Re(c)?Oe(e,a,"whitespace")(c):a(c))}}const Ct={continuation:{tokenize:VN},exit:$N,name:"list",tokenize:HN},ON={partial:!0,tokenize:qN},UN={partial:!0,tokenize:BN};function HN(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(p){const k=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(k==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:pu(p)){if(r.containerState.type||(r.containerState.type=k,e.enter(k,{_container:!0})),k==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(oo,n,c)(p):c(p);if(!r.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(p)}return n(p)}function u(p){return pu(p)&&++o<10?(e.consume(p),u):(!r.interrupt||o<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),c(p)):n(p)}function c(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,e.check(cl,r.interrupt?n:d,e.attempt(ON,m,f))}function d(p){return r.containerState.initialBlankLine=!0,s++,m(p)}function f(p){return Re(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),m):n(p)}function m(p){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function VN(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(cl,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Oe(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Re(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(UN,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Oe(e,e.attempt(Ct,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function BN(e,t,n){const r=this;return Oe(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function $N(e){e.exit(this.containerState.type)}function qN(e,t,n){const r=this;return Oe(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Re(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const wp={name:"setextUnderline",resolveTo:GN,tokenize:KN};function GN(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function KN(e,t,n){const r=this;let i;return s;function s(c){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return e.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(e.consume(c),a):(e.exit("setextHeadingLineSequence"),Re(c)?Oe(e,u,"lineSuffix")(c):u(c))}function u(c){return c===null||Te(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const WN={tokenize:YN};function YN(e){const t=this,n=e.attempt(cl,r,e.attempt(this.parser.constructs.flowInitial,i,Oe(e,e.attempt(this.parser.constructs.flow,i,e.attempt(eN,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const QN={resolveAll:ag()},JN=lg("string"),XN=lg("text");function lg(e){return{resolveAll:ag(e==="text"?ZN:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(d){return c(d)?s(d):a(d)}function a(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),u}function u(d){return c(d)?(n.exit("data"),s(d)):(n.consume(d),u)}function c(d){if(d===null)return!0;const f=i[d];let m=-1;if(f)for(;++m<f.length;){const p=f[m];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function ag(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function ZN(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,u;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)u=!0,a++;else if(c!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const c={type:n===e.length||u||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const eS={42:Ct,43:Ct,45:Ct,48:Ct,49:Ct,50:Ct,51:Ct,52:Ct,53:Ct,54:Ct,55:Ct,56:Ct,57:Ct,62:eg},tS={91:sN},nS={[-2]:Wl,[-1]:Wl,32:Wl},rS={35:dN,42:oo,45:[wp,oo],60:mN,61:wp,95:oo,96:yp,126:yp},iS={38:ng,92:tg},sS={[-5]:Yl,[-4]:Yl,[-3]:Yl,33:MN,38:ng,42:hu,60:[DC,kN],91:DN,92:[uN,tg],93:Rc,95:hu,96:WC},oS={null:[hu,QN]},lS={null:[42,95]},aS={null:[]},uS=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:lS,contentInitial:tS,disable:aS,document:eS,flow:rS,flowInitial:nS,insideSpan:oS,string:iS,text:sS},Symbol.toStringTag,{value:"Module"}));function cS(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const u={attempt:j(I),check:j(N),consume:y,enter:x,exit:S,interrupt:j(N,{interrupt:!0})},c={code:null,containerState:{},defineSkip:C,events:[],now:k,parser:e,previous:null,sliceSerialize:m,sliceStream:p,write:f};let d=t.tokenize.call(c,u);return t.resolveAll&&s.push(t),c;function f(D){return o=$t(o,D),A(),o[o.length-1]!==null?[]:(E(t,0),c.events=Pc(s,c.events,c),c.events)}function m(D,R){return fS(p(D),R)}function p(D){return dS(o,D)}function k(){const{_bufferIndex:D,_index:R,line:_,column:B,offset:U}=r;return{_bufferIndex:D,_index:R,line:_,column:B,offset:U}}function C(D){i[D.line]=D.column,L()}function A(){let D;for(;r._index<o.length;){const R=o[r._index];if(typeof R=="string")for(D=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===D&&r._bufferIndex<R.length;)v(R.charCodeAt(r._bufferIndex));else v(R)}}function v(D){d=d(D)}function y(D){Te(D)?(r.line++,r.column=1,r.offset+=D===-3?2:1,L()):D!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=D}function x(D,R){const _=R||{};return _.type=D,_.start=k(),c.events.push(["enter",_,c]),a.push(_),_}function S(D){const R=a.pop();return R.end=k(),c.events.push(["exit",R,c]),R}function I(D,R){E(D,R.from)}function N(D,R){R.restore()}function j(D,R){return _;function _(B,U,Z){let W,P,q,T;return Array.isArray(B)?O(B):"tokenize"in B?O([B]):F(B);function F(M){return K;function K(se){const ge=se!==null&&M[se],ye=se!==null&&M.null,ee=[...Array.isArray(ge)?ge:ge?[ge]:[],...Array.isArray(ye)?ye:ye?[ye]:[]];return O(ee)(se)}}function O(M){return W=M,P=0,M.length===0?Z:b(M[P])}function b(M){return K;function K(se){return T=z(),q=M,M.partial||(c.currentConstruct=M),M.name&&c.parser.constructs.disable.null.includes(M.name)?J():M.tokenize.call(R?Object.assign(Object.create(c),R):c,u,H,J)(se)}}function H(M){return D(q,T),U}function J(M){return T.restore(),++P<W.length?b(W[P]):Z}}}function E(D,R){D.resolveAll&&!s.includes(D)&&s.push(D),D.resolve&&mn(c.events,R,c.events.length-R,D.resolve(c.events.slice(R),c)),D.resolveTo&&(c.events=D.resolveTo(c.events,c))}function z(){const D=k(),R=c.previous,_=c.currentConstruct,B=c.events.length,U=Array.from(a);return{from:B,restore:Z};function Z(){r=D,c.previous=R,c.currentConstruct=_,c.events.length=B,a=U,L()}}function L(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function dS(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function fS(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function pS(e){const r={constructs:wC([uS,...(e||{}).extensions||[]]),content:i(AC),defined:[],document:i(jC),flow:i(WN),lazy:{},string:i(JN),text:i(XN)};return r;function i(s){return o;function o(a){return cS(r,s,a)}}}function hS(e){for(;!rg(e););return e}const bp=/[\0\t\n\r]/g;function mS(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const u=[];let c,d,f,m,p;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),f=0,t="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(bp.lastIndex=f,c=bp.exec(s),m=c&&c.index!==void 0?c.index:s.length,p=s.charCodeAt(m),!c){t=s.slice(f);break}if(p===10&&f===m&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),f<m&&(u.push(s.slice(f,m)),e+=m-f),p){case 0:{u.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,u.push(-2);e++<d;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}f=m+1}return a&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}const gS=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function xS(e){return e.replace(gS,yS)}function yS(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return Z0(n.slice(s?2:1),s?16:10)}return jc(n)||e}const ug={}.hasOwnProperty;function vS(e,t,n){return typeof t!="string"&&(n=t,t=void 0),wS(n)(hS(pS(n).document().write(mS()(e,t,!0))))}function wS(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Q),autolinkProtocol:z,autolinkEmail:z,atxHeading:s(ce),blockQuote:s(ye),characterEscape:z,characterReference:z,codeFenced:s(ee),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(ee,o),codeText:s(Y,o),codeTextData:z,data:z,codeFlowValue:z,definition:s(oe),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(ue),hardBreakEscape:s(de),hardBreakTrailing:s(de),htmlFlow:s(we,o),htmlFlowData:z,htmlText:s(we,o),htmlTextData:z,image:s(Ne),label:o,link:s(Q),listItem:s(G),listItemValue:m,listOrdered:s($,f),listUnordered:s($),paragraph:s(fe),reference:b,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(ce),strong:s(he),thematicBreak:s(ke)},exit:{atxHeading:u(),atxHeadingSequence:I,autolink:u(),autolinkEmail:ge,autolinkProtocol:se,blockQuote:u(),characterEscapeValue:L,characterReferenceMarkerHexadecimal:J,characterReferenceMarkerNumeric:J,characterReferenceValue:M,characterReference:K,codeFenced:u(A),codeFencedFence:C,codeFencedFenceInfo:p,codeFencedFenceMeta:k,codeFlowValue:L,codeIndented:u(v),codeText:u(U),codeTextData:L,data:L,definition:u(),definitionDestinationString:S,definitionLabelString:y,definitionTitleString:x,emphasis:u(),hardBreakEscape:u(R),hardBreakTrailing:u(R),htmlFlow:u(_),htmlFlowData:L,htmlText:u(B),htmlTextData:L,image:u(W),label:q,labelText:P,lineEnding:D,link:u(Z),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:H,resourceDestinationString:T,resourceTitleString:F,resource:O,setextHeading:u(E),setextHeadingLineSequence:j,setextHeadingText:N,strong:u(),thematicBreak:u()}};cg(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(V){let X={type:"root",children:[]};const ae={stack:[X],tokenStack:[],config:t,enter:a,exit:c,buffer:o,resume:d,data:n},pe=[];let le=-1;for(;++le<V.length;)if(V[le][1].type==="listOrdered"||V[le][1].type==="listUnordered")if(V[le][0]==="enter")pe.push(le);else{const ve=pe.pop();le=i(V,ve,le)}for(le=-1;++le<V.length;){const ve=t[V[le][0]];ug.call(ve,V[le][1].type)&&ve[V[le][1].type].call(Object.assign({sliceSerialize:V[le][2].sliceSerialize},ae),V[le][1])}if(ae.tokenStack.length>0){const ve=ae.tokenStack[ae.tokenStack.length-1];(ve[1]||kp).call(ae,void 0,ve[0])}for(X.position={start:In(V.length>0?V[0][1].start:{line:1,column:1,offset:0}),end:In(V.length>0?V[V.length-2][1].end:{line:1,column:1,offset:0})},le=-1;++le<t.transforms.length;)X=t.transforms[le](X)||X;return X}function i(V,X,ae){let pe=X-1,le=-1,ve=!1,Ue,te,Se,ze;for(;++pe<=ae;){const Qe=V[pe];switch(Qe[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Qe[0]==="enter"?le++:le--,ze=void 0;break}case"lineEndingBlank":{Qe[0]==="enter"&&(Ue&&!ze&&!le&&!Se&&(Se=pe),ze=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ze=void 0}if(!le&&Qe[0]==="enter"&&Qe[1].type==="listItemPrefix"||le===-1&&Qe[0]==="exit"&&(Qe[1].type==="listUnordered"||Qe[1].type==="listOrdered")){if(Ue){let ht=pe;for(te=void 0;ht--;){const et=V[ht];if(et[1].type==="lineEnding"||et[1].type==="lineEndingBlank"){if(et[0]==="exit")continue;te&&(V[te][1].type="lineEndingBlank",ve=!0),et[1].type="lineEnding",te=ht}else if(!(et[1].type==="linePrefix"||et[1].type==="blockQuotePrefix"||et[1].type==="blockQuotePrefixWhitespace"||et[1].type==="blockQuoteMarker"||et[1].type==="listItemIndent"))break}Se&&(!te||Se<te)&&(Ue._spread=!0),Ue.end=Object.assign({},te?V[te][1].start:Qe[1].end),V.splice(te||pe,0,["exit",Ue,Qe[2]]),pe++,ae++}if(Qe[1].type==="listItemPrefix"){const ht={type:"listItem",_spread:!1,start:Object.assign({},Qe[1].start),end:void 0};Ue=ht,V.splice(pe,0,["enter",ht,Qe[2]]),pe++,ae++,Se=void 0,ze=!0}}}return V[X][1]._spread=ve,ae}function s(V,X){return ae;function ae(pe){a.call(this,V(pe),pe),X&&X.call(this,pe)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(V,X,ae){this.stack[this.stack.length-1].children.push(V),this.stack.push(V),this.tokenStack.push([X,ae||void 0]),V.position={start:In(X.start),end:void 0}}function u(V){return X;function X(ae){V&&V.call(this,ae),c.call(this,ae)}}function c(V,X){const ae=this.stack.pop(),pe=this.tokenStack.pop();if(pe)pe[0].type!==V.type&&(X?X.call(this,V,pe[0]):(pe[1]||kp).call(this,V,pe[0]));else throw new Error("Cannot close `"+V.type+"` ("+Li({start:V.start,end:V.end})+"): its not open");ae.position.end=In(V.end)}function d(){return yC(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function m(V){if(this.data.expectingFirstListItemValue){const X=this.stack[this.stack.length-2];X.start=Number.parseInt(this.sliceSerialize(V),10),this.data.expectingFirstListItemValue=void 0}}function p(){const V=this.resume(),X=this.stack[this.stack.length-1];X.lang=V}function k(){const V=this.resume(),X=this.stack[this.stack.length-1];X.meta=V}function C(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function A(){const V=this.resume(),X=this.stack[this.stack.length-1];X.value=V.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const V=this.resume(),X=this.stack[this.stack.length-1];X.value=V.replace(/(\r?\n|\r)$/g,"")}function y(V){const X=this.resume(),ae=this.stack[this.stack.length-1];ae.label=X,ae.identifier=qr(this.sliceSerialize(V)).toLowerCase()}function x(){const V=this.resume(),X=this.stack[this.stack.length-1];X.title=V}function S(){const V=this.resume(),X=this.stack[this.stack.length-1];X.url=V}function I(V){const X=this.stack[this.stack.length-1];if(!X.depth){const ae=this.sliceSerialize(V).length;X.depth=ae}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function j(V){const X=this.stack[this.stack.length-1];X.depth=this.sliceSerialize(V).codePointAt(0)===61?1:2}function E(){this.data.setextHeadingSlurpLineEnding=void 0}function z(V){const ae=this.stack[this.stack.length-1].children;let pe=ae[ae.length-1];(!pe||pe.type!=="text")&&(pe=xe(),pe.position={start:In(V.start),end:void 0},ae.push(pe)),this.stack.push(pe)}function L(V){const X=this.stack.pop();X.value+=this.sliceSerialize(V),X.position.end=In(V.end)}function D(V){const X=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ae=X.children[X.children.length-1];ae.position.end=In(V.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(X.type)&&(z.call(this,V),L.call(this,V))}function R(){this.data.atHardBreak=!0}function _(){const V=this.resume(),X=this.stack[this.stack.length-1];X.value=V}function B(){const V=this.resume(),X=this.stack[this.stack.length-1];X.value=V}function U(){const V=this.resume(),X=this.stack[this.stack.length-1];X.value=V}function Z(){const V=this.stack[this.stack.length-1];if(this.data.inReference){const X=this.data.referenceType||"shortcut";V.type+="Reference",V.referenceType=X,delete V.url,delete V.title}else delete V.identifier,delete V.label;this.data.referenceType=void 0}function W(){const V=this.stack[this.stack.length-1];if(this.data.inReference){const X=this.data.referenceType||"shortcut";V.type+="Reference",V.referenceType=X,delete V.url,delete V.title}else delete V.identifier,delete V.label;this.data.referenceType=void 0}function P(V){const X=this.sliceSerialize(V),ae=this.stack[this.stack.length-2];ae.label=xS(X),ae.identifier=qr(X).toLowerCase()}function q(){const V=this.stack[this.stack.length-1],X=this.resume(),ae=this.stack[this.stack.length-1];if(this.data.inReference=!0,ae.type==="link"){const pe=V.children;ae.children=pe}else ae.alt=X}function T(){const V=this.resume(),X=this.stack[this.stack.length-1];X.url=V}function F(){const V=this.resume(),X=this.stack[this.stack.length-1];X.title=V}function O(){this.data.inReference=void 0}function b(){this.data.referenceType="collapsed"}function H(V){const X=this.resume(),ae=this.stack[this.stack.length-1];ae.label=X,ae.identifier=qr(this.sliceSerialize(V)).toLowerCase(),this.data.referenceType="full"}function J(V){this.data.characterReferenceType=V.type}function M(V){const X=this.sliceSerialize(V),ae=this.data.characterReferenceType;let pe;ae?(pe=Z0(X,ae==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):pe=jc(X);const le=this.stack[this.stack.length-1];le.value+=pe}function K(V){const X=this.stack.pop();X.position.end=In(V.end)}function se(V){L.call(this,V);const X=this.stack[this.stack.length-1];X.url=this.sliceSerialize(V)}function ge(V){L.call(this,V);const X=this.stack[this.stack.length-1];X.url="mailto:"+this.sliceSerialize(V)}function ye(){return{type:"blockquote",children:[]}}function ee(){return{type:"code",lang:null,meta:null,value:""}}function Y(){return{type:"inlineCode",value:""}}function oe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ue(){return{type:"emphasis",children:[]}}function ce(){return{type:"heading",depth:0,children:[]}}function de(){return{type:"break"}}function we(){return{type:"html",value:""}}function Ne(){return{type:"image",title:null,url:"",alt:null}}function Q(){return{type:"link",title:null,url:"",children:[]}}function $(V){return{type:"list",ordered:V.type==="listOrdered",start:null,spread:V._spread,children:[]}}function G(V){return{type:"listItem",spread:V._spread,checked:null,children:[]}}function fe(){return{type:"paragraph",children:[]}}function he(){return{type:"strong",children:[]}}function xe(){return{type:"text",value:""}}function ke(){return{type:"thematicBreak"}}}function In(e){return{line:e.line,column:e.column,offset:e.offset}}function cg(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?cg(e,r):bS(e,r)}}function bS(e,t){let n;for(n in t)if(ug.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function kp(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Li({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Li({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Li({start:t.start,end:t.end})+") is still open")}function kS(e){const t=this;t.parser=n;function n(r){return vS(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function CS(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function NS(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function SS(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function TS(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ES(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function AS(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=ui(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let o,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=s+1,a+=1,e.footnoteCounts.set(r,a);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,u);const c={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,c),e.applyData(t,c)}function IS(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function jS(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function dg(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function PS(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return dg(e,t);const i={src:ui(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function RS(e,t){const n={src:ui(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function MS(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function _S(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return dg(e,t);const i={href:ui(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function DS(e,t){const n={href:ui(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function zS(e,t,n){const r=e.all(t),i=n?LS(n):fg(t),s={},o=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const d=r[a];(i||a!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?o.push(...d.children):o.push(d)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,c),e.applyData(t,c)}function LS(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=fg(n[r])}return t}function fg(e){const t=e.spread;return t??e.children.length>1}function FS(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function OS(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function US(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function HS(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function VS(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=Tc(t.children[1]),u=G0(t.children[t.children.length-1]);a&&u&&(o.position={start:a,end:u}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function BS(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let u=-1;const c=[];for(;++u<a;){const f=t.children[u],m={},p=o?o[u]:void 0;p&&(m.align=p);let k={type:"element",tagName:s,properties:m,children:[]};f&&(k.children=e.all(f),e.patch(f,k),k=e.applyData(f,k)),c.push(k)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,d),e.applyData(t,d)}function $S(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Cp=9,Np=32;function qS(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(Sp(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(Sp(t.slice(i),i>0,!1)),s.join("")}function Sp(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===Cp||s===Np;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===Cp||s===Np;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function GS(e,t){const n={type:"text",value:qS(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function KS(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const WS={blockquote:CS,break:NS,code:SS,delete:TS,emphasis:ES,footnoteReference:AS,heading:IS,html:jS,imageReference:PS,image:RS,inlineCode:MS,linkReference:_S,link:DS,listItem:zS,list:FS,paragraph:OS,root:US,strong:HS,table:VS,tableCell:$S,tableRow:BS,text:GS,thematicBreak:KS,toml:Vs,yaml:Vs,definition:Vs,footnoteDefinition:Vs};function Vs(){}const pg=-1,dl=0,Oi=1,Oo=2,Mc=3,_c=4,Dc=5,zc=6,hg=7,mg=8,Tp=typeof self=="object"?self:globalThis,YS=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case dl:case pg:return n(o,i);case Oi:{const a=n([],i);for(const u of o)a.push(r(u));return a}case Oo:{const a=n({},i);for(const[u,c]of o)a[r(u)]=r(c);return a}case Mc:return n(new Date(o),i);case _c:{const{source:a,flags:u}=o;return n(new RegExp(a,u),i)}case Dc:{const a=n(new Map,i);for(const[u,c]of o)a.set(r(u),r(c));return a}case zc:{const a=n(new Set,i);for(const u of o)a.add(r(u));return a}case hg:{const{name:a,message:u}=o;return n(new Tp[a](u),i)}case mg:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new Tp[s](o),i)};return r},Ep=e=>YS(new Map,e)(0),Nr="",{toString:QS}={},{keys:JS}=Object,ki=e=>{const t=typeof e;if(t!=="object"||!e)return[dl,t];const n=QS.call(e).slice(8,-1);switch(n){case"Array":return[Oi,Nr];case"Object":return[Oo,Nr];case"Date":return[Mc,Nr];case"RegExp":return[_c,Nr];case"Map":return[Dc,Nr];case"Set":return[zc,Nr];case"DataView":return[Oi,n]}return n.includes("Array")?[Oi,n]:n.includes("Error")?[hg,n]:[Oo,n]},Bs=([e,t])=>e===dl&&(t==="function"||t==="symbol"),XS=(e,t,n,r)=>{const i=(o,a)=>{const u=r.push(o)-1;return n.set(a,u),u},s=o=>{if(n.has(o))return n.get(o);let[a,u]=ki(o);switch(a){case dl:{let d=o;switch(u){case"bigint":a=mg,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);d=null;break;case"undefined":return i([pg],o)}return i([a,d],o)}case Oi:{if(u){let m=o;return u==="DataView"?m=new Uint8Array(o.buffer):u==="ArrayBuffer"&&(m=new Uint8Array(o)),i([u,[...m]],o)}const d=[],f=i([a,d],o);for(const m of o)d.push(s(m));return f}case Oo:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const d=[],f=i([a,d],o);for(const m of JS(o))(e||!Bs(ki(o[m])))&&d.push([s(m),s(o[m])]);return f}case Mc:return i([a,o.toISOString()],o);case _c:{const{source:d,flags:f}=o;return i([a,{source:d,flags:f}],o)}case Dc:{const d=[],f=i([a,d],o);for(const[m,p]of o)(e||!(Bs(ki(m))||Bs(ki(p))))&&d.push([s(m),s(p)]);return f}case zc:{const d=[],f=i([a,d],o);for(const m of o)(e||!Bs(ki(m)))&&d.push(s(m));return f}}const{message:c}=o;return i([a,{name:u,message:c}],o)};return s},Ap=(e,{json:t,lossy:n}={})=>{const r=[];return XS(!(t||n),!!t,new Map,r)(e),r},Uo=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Ep(Ap(e,t)):structuredClone(e):(e,t)=>Ep(Ap(e,t));function ZS(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function eT(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function tT(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||ZS,r=e.options.footnoteBackLabel||eT,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let u=-1;for(;++u<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[u]);if(!c)continue;const d=e.all(c),f=String(c.identifier).toUpperCase(),m=ui(f.toLowerCase());let p=0;const k=[],C=e.footnoteCounts.get(f);for(;C!==void 0&&++p<=C;){k.length>0&&k.push({type:"text",value:" "});let y=typeof n=="string"?n:n(u,p);typeof y=="string"&&(y={type:"text",value:y}),k.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+m+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,p),className:["data-footnote-backref"]},children:Array.isArray(y)?y:[y]})}const A=d[d.length-1];if(A&&A.type==="element"&&A.tagName==="p"){const y=A.children[A.children.length-1];y&&y.type==="text"?y.value+=" ":A.children.push({type:"text",value:" "}),A.children.push(...k)}else d.push(...k);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+m},children:e.wrap(d,!0)};e.patch(c,v),a.push(v)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Uo(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const gg=function(e){if(e==null)return sT;if(typeof e=="function")return fl(e);if(typeof e=="object")return Array.isArray(e)?nT(e):rT(e);if(typeof e=="string")return iT(e);throw new Error("Expected function, string, or object as test")};function nT(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=gg(e[n]);return fl(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function rT(e){const t=e;return fl(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function iT(e){return fl(t);function t(n){return n&&n.type===e}}function fl(e){return t;function t(n,r,i){return!!(oT(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function sT(){return!0}function oT(e){return e!==null&&typeof e=="object"&&"type"in e}const xg=[],lT=!0,Ip=!1,aT="skip";function uT(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=gg(i),o=r?-1:1;a(e,void 0,[])();function a(u,c,d){const f=u&&typeof u=="object"?u:{};if(typeof f.type=="string"){const p=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(u.type+(p?"<"+p+">":""))+")"})}return m;function m(){let p=xg,k,C,A;if((!t||s(u,c,d[d.length-1]||void 0))&&(p=cT(n(u,d)),p[0]===Ip))return p;if("children"in u&&u.children){const v=u;if(v.children&&p[0]!==aT)for(C=(r?v.children.length:-1)+o,A=d.concat(v);C>-1&&C<v.children.length;){const y=v.children[C];if(k=a(y,C,A)(),k[0]===Ip)return k;C=typeof k[1]=="number"?k[1]:C+o}}return p}}}function cT(e){return Array.isArray(e)?e:typeof e=="number"?[lT,e]:e==null?xg:[e]}function yg(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),uT(e,s,a,i);function a(u,c){const d=c[c.length-1],f=d?d.children.indexOf(u):void 0;return o(u,f,d)}}const mu={}.hasOwnProperty,dT={};function fT(e,t){const n=t||dT,r=new Map,i=new Map,s=new Map,o={...WS,...n.handlers},a={all:c,applyData:hT,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:u,options:n,patch:pT,wrap:gT};return yg(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,m=String(d.identifier).toUpperCase();f.has(m)||f.set(m,d)}}),a;function u(d,f){const m=d.type,p=a.handlers[m];if(mu.call(a.handlers,m)&&p)return p(a,d,f);if(a.options.passThrough&&a.options.passThrough.includes(m)){if("children"in d){const{children:C,...A}=d,v=Uo(A);return v.children=a.all(d),v}return Uo(d)}return(a.options.unknownHandler||mT)(a,d,f)}function c(d){const f=[];if("children"in d){const m=d.children;let p=-1;for(;++p<m.length;){const k=a.one(m[p],d);if(k){if(p&&m[p-1].type==="break"&&(!Array.isArray(k)&&k.type==="text"&&(k.value=jp(k.value)),!Array.isArray(k)&&k.type==="element")){const C=k.children[0];C&&C.type==="text"&&(C.value=jp(C.value))}Array.isArray(k)?f.push(...k):f.push(k)}}}return f}}function pT(e,t){e.position&&(t.position=Qk(e))}function hT(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,Uo(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function mT(e,t){const n=t.data||{},r="value"in t&&!(mu.call(n,"hProperties")||mu.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function gT(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function jp(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Pp(e,t){const n=fT(e,t),r=n.one(e,void 0),i=tT(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function xT(e,t){return e&&"run"in e?async function(n,r){const i=Pp(n,{file:r,...t});await e.run(i,r)}:function(n,r){return Pp(n,{file:r,...e||t})}}function Rp(e){if(e)throw e}var lo=Object.prototype.hasOwnProperty,vg=Object.prototype.toString,Mp=Object.defineProperty,_p=Object.getOwnPropertyDescriptor,Dp=function(t){return typeof Array.isArray=="function"?Array.isArray(t):vg.call(t)==="[object Array]"},zp=function(t){if(!t||vg.call(t)!=="[object Object]")return!1;var n=lo.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&lo.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||lo.call(t,i)},Lp=function(t,n){Mp&&n.name==="__proto__"?Mp(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},Fp=function(t,n){if(n==="__proto__")if(lo.call(t,n)){if(_p)return _p(t,n).value}else return;return t[n]},yT=function e(){var t,n,r,i,s,o,a=arguments[0],u=1,c=arguments.length,d=!1;for(typeof a=="boolean"&&(d=a,a=arguments[1]||{},u=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});u<c;++u)if(t=arguments[u],t!=null)for(n in t)r=Fp(a,n),i=Fp(t,n),a!==i&&(d&&i&&(zp(i)||(s=Dp(i)))?(s?(s=!1,o=r&&Dp(r)?r:[]):o=r&&zp(r)?r:{},Lp(a,{name:n,newValue:e(d,o,i)})):typeof i<"u"&&Lp(a,{name:n,newValue:i}));return a};const Ql=yu(yT);function gu(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function vT(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(u,...c){const d=e[++s];let f=-1;if(u){o(u);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,d?wT(d,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function wT(e,t){let n;return r;function r(...o){const a=e.length>o.length;let u;a&&o.push(i);try{u=e.apply(this,o)}catch(c){const d=c;if(a&&n)throw d;return i(d)}a||(u&&u.then&&typeof u.then=="function"?u.then(s,i):u instanceof Error?i(u):s(u))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}const un={basename:bT,dirname:kT,extname:CT,join:NT,sep:"/"};function bT(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');bs(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function kT(e){if(bs(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function CT(e){bs(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.codePointAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function NT(...e){let t=-1,n;for(;++t<e.length;)bs(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":ST(n)}function ST(e){bs(e);const t=e.codePointAt(0)===47;let n=TT(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function TT(e,t){let n="",r=0,i=-1,s=0,o=-1,a,u;for(;++o<=e.length;){if(o<e.length)a=e.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function bs(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const ET={cwd:AT};function AT(){return"/"}function xu(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function IT(e){if(typeof e=="string")e=new URL(e);else if(!xu(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return jT(e)}function jT(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Jl=["history","path","basename","stem","extname","dirname"];class wg{constructor(t){let n;t?xu(t)?n={path:t}:typeof t=="string"||PT(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":ET.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Jl.length;){const s=Jl[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Jl.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?un.basename(this.path):void 0}set basename(t){Zl(t,"basename"),Xl(t,"basename"),this.path=un.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?un.dirname(this.path):void 0}set dirname(t){Op(this.basename,"dirname"),this.path=un.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?un.extname(this.path):void 0}set extname(t){if(Xl(t,"extname"),Op(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=un.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){xu(t)&&(t=IT(t)),Zl(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?un.basename(this.path,this.extname):void 0}set stem(t){Zl(t,"stem"),Xl(t,"stem"),this.path=un.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new pt(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Xl(e,t){if(e&&e.includes(un.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+un.sep+"`")}function Zl(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Op(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function PT(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const RT=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},MT={}.hasOwnProperty;class Lc extends RT{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=vT()}copy(){const t=new Lc;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Ql(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(na("data",this.frozen),this.namespace[t]=n,this):MT.call(this.namespace,t)&&this.namespace[t]||void 0:t?(na("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=$s(t),r=this.parser||this.Parser;return ea("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),ea("process",this.parser||this.Parser),ta("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=$s(t),u=r.parse(a);r.run(u,a,function(d,f,m){if(d||!f||!m)return c(d);const p=f,k=r.stringify(p,m);zT(k)?m.value=k:m.result=k,c(d,m)});function c(d,f){d||!f?o(d):s?s(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),ea("processSync",this.parser||this.Parser),ta("processSync",this.compiler||this.Compiler),this.process(t,i),Hp("processSync","process",n),r;function i(s,o){n=!0,Rp(s),r=o}}run(t,n,r){Up(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const u=$s(n);i.run(t,u,c);function c(d,f,m){const p=f||t;d?a(d):o?o(p):r(void 0,p,m)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),Hp("runSync","run",r),i;function s(o,a){Rp(o),i=a,r=!0}}stringify(t,n){this.freeze();const r=$s(n),i=this.compiler||this.Compiler;return ta("stringify",i),Up(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(na("use",this.frozen),t!=null)if(typeof t=="function")u(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(c){if(typeof c=="function")u(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...f]=c;u(d,f)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(i.settings=Ql(!0,i.settings,c.settings))}function a(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const f=c[d];s(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function u(c,d){let f=-1,m=-1;for(;++f<r.length;)if(r[f][0]===c){m=f;break}if(m===-1)r.push([c,...d]);else if(d.length>0){let[p,...k]=d;const C=r[m][1];gu(C)&&gu(p)&&(p=Ql(!0,C,p)),r[m]=[c,p,...k]}}}}const _T=new Lc().freeze();function ea(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function ta(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function na(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Up(e){if(!gu(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Hp(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function $s(e){return DT(e)?e:new wg(e)}function DT(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function zT(e){return typeof e=="string"||LT(e)}function LT(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const FT="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Vp=[],Bp={allowDangerousHtml:!0},OT=/^(https?|ircs?|mailto|xmpp)$/i,UT=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function HT(e){const t=VT(e),n=BT(e);return $T(t.runSync(t.parse(n),n),e)}function VT(e){const t=e.rehypePlugins||Vp,n=e.remarkPlugins||Vp,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Bp}:Bp;return _T().use(kS).use(n).use(xT,r).use(t)}function BT(e){const t=e.children||"",n=new wg;return typeof t=="string"&&(n.value=t),n}function $T(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,o=t.skipHtml,a=t.unwrapDisallowed,u=t.urlTransform||qT;for(const d of UT)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+FT+d.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),yg(e,c),tC(e,{Fragment:l.Fragment,components:i,ignoreInvalidStyle:!0,jsx:l.jsx,jsxs:l.jsxs,passKeys:!0,passNode:!0});function c(d,f,m){if(d.type==="raw"&&m&&typeof f=="number")return o?m.children.splice(f,1):m.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let p;for(p in Kl)if(Object.hasOwn(Kl,p)&&Object.hasOwn(d.properties,p)){const k=d.properties[p],C=Kl[p];(C===null||C.includes(d.tagName))&&(d.properties[p]=u(String(k||""),p,d))}}if(d.type==="element"){let p=n?!n.includes(d.tagName):s?s.includes(d.tagName):!1;if(!p&&r&&typeof f=="number"&&(p=!r(d,f,m)),p&&m&&typeof f=="number")return a&&d.children?m.children.splice(f,1,...d.children):m.children.splice(f,1),f}}}function qT(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||OT.test(e.slice(0,t))?e:""}const GT=({message:e})=>{const t=e.role==="user";return l.jsx("div",{className:`flex w-full ${t?"justify-end":"justify-start"} mb-6`,children:l.jsxs("div",{className:`flex max-w-[85%] md:max-w-[75%] ${t?"flex-row-reverse":"flex-row"} gap-4`,children:[l.jsx("div",{className:`shrink-0 w-8 h-8 rounded-full flex items-center justify-center mt-1 shadow-lg select-none ${t?"bg-indigo-600":"bg-slate-700"}`,children:t?l.jsx(E2,{className:"w-5 h-5 text-indigo-100"}):l.jsx(as,{className:"w-5 h-5 text-slate-300"})}),l.jsxs("div",{className:`flex flex-col gap-2 ${t?"items-end":"items-start"}`,children:[e.attachment&&e.attachment.type==="image"&&l.jsx("div",{className:"rounded-xl overflow-hidden border border-slate-700/50 shadow-md max-w-full select-none",children:l.jsx("img",{src:`data:${e.attachment.mimeType};base64,${e.attachment.data}`,alt:"attachment",className:"max-h-[200px] object-cover"})}),(e.text||e.isTyping)&&l.jsx("div",{className:`relative px-5 py-4 rounded-2xl text-sm leading-relaxed shadow-md select-text cursor-text ${t?"bg-indigo-600/20 border border-indigo-500/30 text-indigo-100 rounded-tr-none":"bg-slate-800/80 border border-slate-700/50 text-slate-200 rounded-tl-none"}`,children:e.isTyping&&!e.text?l.jsxs("div",{className:"flex gap-1.5 items-center h-5 px-2 select-none",children:[l.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce [animation-delay:-0.3s]"}),l.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce [animation-delay:-0.15s]"}),l.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce"})]}):l.jsx("div",{className:"markdown-content",children:t?l.jsx("p",{className:"whitespace-pre-wrap",children:e.text}):l.jsx(HT,{components:{h1:({node:n,...r})=>l.jsx("h1",{className:"text-xl font-bold text-white mb-3 mt-4 border-b border-slate-700 pb-2",...r}),h2:({node:n,...r})=>l.jsx("h2",{className:"text-lg font-bold text-indigo-300 mb-2 mt-4",...r}),h3:({node:n,...r})=>l.jsx("h3",{className:"text-base font-bold text-emerald-400 mb-2 mt-3",...r}),strong:({node:n,...r})=>l.jsx("strong",{className:"font-bold text-amber-200",...r}),em:({node:n,...r})=>l.jsx("em",{className:"italic text-slate-300",...r}),ul:({node:n,...r})=>l.jsx("ul",{className:"list-disc pl-5 mb-3 space-y-1.5 marker:text-indigo-500",...r}),ol:({node:n,...r})=>l.jsx("ol",{className:"list-decimal pl-5 mb-3 space-y-1.5 marker:text-indigo-500",...r}),li:({node:n,...r})=>l.jsx("li",{className:"pl-1",...r}),p:({node:n,...r})=>l.jsx("p",{className:"mb-3 last:mb-0",...r}),code:({node:n,inline:r,className:i,children:s,...o})=>r?l.jsx("code",{className:"bg-slate-900/50 text-indigo-200 px-1.5 py-0.5 rounded font-mono text-xs border border-slate-700/50",...o,children:s}):l.jsx("div",{className:"bg-slate-950 rounded-lg border border-slate-800 p-3 my-3 overflow-x-auto",children:l.jsx("code",{className:"font-mono text-xs text-slate-300 block",...o,children:s})}),blockquote:({node:n,...r})=>l.jsx("blockquote",{className:"border-l-4 border-indigo-500/50 pl-4 py-1 my-3 bg-indigo-500/5 rounded-r text-slate-300 italic",...r}),a:({node:n,...r})=>l.jsx("a",{className:"text-indigo-400 hover:text-indigo-300 hover:underline",target:"_blank",rel:"noopener noreferrer",...r})},children:e.text})})})]})]})})},KT=({onSend:e,onRecordToggle:t,isRecording:n,isLoading:r,placeholder:i,value:s,onChange:o,isFreeTier:a=!0})=>{const[u,c]=w.useState(void 0),[d,f]=w.useState(!1),m=w.useRef(null),p=w.useRef(null),k=()=>{!s.trim()&&!u||r||(e(s,u),c(void 0),m.current&&(m.current.style.height="auto"))},C=E=>{E.key==="Enter"&&!E.shiftKey&&(E.preventDefault(),k())},A=E=>{o(E.target.value),E.target.style.height="auto",E.target.style.height=Math.min(E.target.scrollHeight,120)+"px"},v=w.useCallback(E=>{if(E.type.startsWith("text/")||E.name.endsWith(".txt")||E.name.endsWith(".md")||E.name.endsWith(".json")||E.name.endsWith(".js")||E.name.endsWith(".ts")){const z=new FileReader;z.onload=L=>{var R;const D=(R=L.target)==null?void 0:R.result;o(s+(s?`
`:"")+D),m.current&&setTimeout(()=>{m.current&&(m.current.style.height="auto",m.current.style.height=Math.min(m.current.scrollHeight,120)+"px")},10)},z.readAsText(E);return}if(E.type.startsWith("image/")){const z=new FileReader;z.onload=L=>{var _;const R=((_=L.target)==null?void 0:_.result).split(",")[1];c({type:"image",mimeType:E.type,data:R,name:E.name})},z.readAsDataURL(E);return}},[s,o]),y=E=>{E.target.files&&E.target.files[0]&&v(E.target.files[0]),p.current&&(p.current.value="")},x=E=>{E.clipboardData.files&&E.clipboardData.files.length>0&&(E.preventDefault(),v(E.clipboardData.files[0]))},S=E=>{E.preventDefault(),f(!0)},I=E=>{E.preventDefault(),f(!1)},N=E=>{E.preventDefault(),f(!1),E.dataTransfer.files&&E.dataTransfer.files.length>0&&v(E.dataTransfer.files[0])},j=()=>{c(void 0)};return l.jsxs("div",{className:"p-3 md:p-4 bg-slate-900 border-t border-slate-800 shrink-0 relative safe-area-bottom",children:[d&&l.jsxs("div",{className:"absolute inset-0 z-50 bg-indigo-900/90 border-2 border-dashed border-indigo-400 m-2 rounded-xl flex flex-col items-center justify-center text-indigo-200 animate-in fade-in duration-200 pointer-events-none",children:[l.jsx(s2,{className:"w-10 h-10 mb-2"}),l.jsx("p",{className:"font-semibold",children:"Drop file to attach"})]}),l.jsx("input",{type:"file",ref:p,onChange:y,accept:"image/*,.txt,.md,.json,.js,.ts",className:"hidden"}),l.jsxs("div",{className:`relative bg-slate-950 p-2 rounded-xl border transition-all ${d?"border-indigo-500":"border-slate-800 focus-within:border-indigo-500/50"}`,onDragOver:S,onDragLeave:I,onDrop:N,children:[u&&l.jsxs("div",{className:"flex items-center gap-3 p-2 mb-2 bg-slate-900 rounded-lg border border-slate-800 animate-in slide-in-from-bottom-2",children:[l.jsx("div",{className:"w-10 h-10 rounded overflow-hidden bg-slate-800 shrink-0 border border-slate-700",children:l.jsx("img",{src:`data:${u.mimeType};base64,${u.data}`,alt:"preview",className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs font-medium text-slate-200 truncate",children:u.name||"Image"}),l.jsx("p",{className:"text-[10px] text-slate-500 uppercase",children:u.mimeType.split("/")[1]})]}),l.jsx("button",{onClick:j,className:"p-2 hover:bg-slate-800 rounded-full text-slate-500 hover:text-red-400 transition-colors touch-manipulation",children:l.jsx(ot,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"flex items-end gap-2",children:[l.jsx("button",{onClick:()=>{var E;return(E=p.current)==null?void 0:E.click()},disabled:n,className:"shrink-0 p-2.5 md:p-2 rounded-lg text-slate-500 hover:text-indigo-400 hover:bg-slate-900 transition-colors touch-manipulation",title:"Attach image or text file",children:l.jsx(d2,{className:"w-5 h-5"})}),l.jsx("textarea",{ref:m,value:s,onChange:A,onKeyDown:C,onPaste:x,placeholder:i,rows:1,disabled:n,className:"w-full bg-transparent border-none focus:ring-0 resize-none text-slate-200 placeholder:text-slate-600 max-h-[120px] py-2.5 px-0 custom-scrollbar disabled:opacity-50 text-base md:text-sm"}),n&&l.jsxs("div",{className:"flex items-center gap-2 mb-2.5 mr-1 text-red-400 animate-pulse select-none shrink-0 bg-red-950/30 px-2 py-1 rounded-full border border-red-900/50",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500 shadow-[0_0_8px_rgba(239,68,68,0.8)]"}),l.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider hidden sm:block",children:"Recording"})]}),l.jsx("button",{onClick:a?void 0:t,disabled:a,className:`shrink-0 p-2.5 md:p-2 rounded-lg transition-all touch-manipulation ${a?"opacity-50 cursor-not-allowed bg-slate-900 text-slate-600":n?"bg-red-500/20 text-red-400 shadow-[0_0_15px_rgba(239,68,68,0.2)]":"text-slate-500 hover:text-indigo-400 hover:bg-slate-900"}`,title:a?"Paid Tier only":"Record",children:a?l.jsx(rn,{className:"w-4 h-4"}):n?l.jsx(Yn,{className:"w-5 h-5 fill-current"}):l.jsx(hn,{className:"w-5 h-5"})}),l.jsx("button",{onClick:k,disabled:!s.trim()&&!u||r,className:`shrink-0 p-2.5 md:p-2 rounded-lg transition-all touch-manipulation ${(s.trim()||u)&&!r?"bg-indigo-600 text-white shadow-lg":"bg-slate-900 text-slate-600 cursor-not-allowed"}`,children:l.jsx(bc,{className:"w-4 h-4"})})]})]})]})},WT=({language:e,apiKey:t,settings:n,transferRequest:r,onToggleClipboard:i})=>{const s=(n==null?void 0:n.silenceThreshold)||20,o=(n==null?void 0:n.isFreeTier)??!0,a=Ze(e),{messages:u,inputText:c,setInputText:d,isLoading:f,messagesEndRef:m,handleSendMessage:p,toggleVoice:k,isRecording:C,isAnalyzing:A,soundEnabled:v,setSoundEnabled:y,clearChat:x,visualizerDataRef:S,isLive:I,isLiveConnecting:N,liveError:j,toggleLiveMode:E,liveVisualizerDataRef:z}=ik(e,t,s);w.useEffect(()=>{r&&r.target==="chat"&&d(r.text)},[r,d]);const L={placeholder:e==="ru"?"... (Drop file or Paste image)":"Message... (Drop file or Paste image)",emptyTitle:e==="ru"?"  Gemini":"Gemini Chat",emptyDesc:e==="ru"?"    ,    .":"I am ready to help with text, ideas, or image analysis.",liveConnecting:e==="ru"?"  Live...":"Connecting to Live...",liveActive:e==="ru"?"Gemini ":"Gemini is listening",liveEnd:e==="ru"?" ":"End Call",statusListening:a.visListening||"LISTENING",statusAnalyzing:a.visAnalyzing||"ANALYZING"};return l.jsxs("div",{className:"flex flex-col h-full w-full bg-slate-900 overflow-hidden relative select-none",children:[!I&&l.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none opacity-40",children:l.jsx(cs,{visualizerDataRef:S,isRecording:C||A,visualizerStyle:"wave",amp:.8,lowCut:0,highCut:50,rounded:!0,silenceThreshold:s})}),I&&l.jsxs("div",{className:"absolute inset-0 z-50 bg-slate-950 flex flex-col items-center justify-center animate-in fade-in zoom-in duration-300",children:[l.jsx("div",{className:"absolute inset-0 z-0 opacity-60",children:l.jsx(cs,{visualizerDataRef:z,isRecording:!0,visualizerStyle:"circular",amp:1.5,lowCut:5,highCut:100,rounded:!0,norm:!0,gravity:4})}),l.jsxs("div",{className:"z-10 flex flex-col items-center gap-8",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-32 h-32 rounded-full bg-indigo-600/20 flex items-center justify-center animate-pulse",children:l.jsx("div",{className:"w-24 h-24 rounded-full bg-indigo-500/30 flex items-center justify-center",children:l.jsx(as,{className:"w-12 h-12 text-indigo-400"})})}),N&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:"w-full h-full border-4 border-t-indigo-500 border-indigo-900/0 rounded-full animate-spin"})})]}),l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx("h2",{className:"text-2xl font-bold text-white tracking-tight",children:N?L.liveConnecting:L.liveActive}),l.jsx("p",{className:"text-indigo-400 font-mono text-sm animate-pulse",children:"Gemini 2.5 Live"})]}),l.jsxs("button",{onClick:E,className:"mt-8 flex items-center gap-3 px-8 py-4 bg-red-600 hover:bg-red-500 text-white rounded-full font-bold shadow-[0_0_30px_rgba(220,38,38,0.4)] transition-all hover:scale-105 active:scale-95 group",children:[l.jsx(h2,{className:"w-6 h-6 group-hover:shake"}),L.liveEnd]})]})]}),l.jsxs("div",{className:"shrink-0 h-10 flex items-center justify-between px-4 border-b border-slate-800 bg-slate-900/80 backdrop-blur-sm z-10",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`w-2 h-2 rounded-full ${f?"bg-amber-400 animate-pulse":"bg-emerald-500"}`}),l.jsx("span",{className:"text-xs font-medium text-slate-400",children:"Gemini 3 Flash"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ae,{content:o?a.paidFeatureTooltip||"Paid Tier Only":"Live Voice Chat",children:l.jsxs("button",{onClick:o?void 0:E,disabled:N||o,className:`flex items-center gap-2 px-3 py-1 rounded-md transition-all ${o?"bg-slate-800 text-slate-600 cursor-not-allowed opacity-50":N?"bg-indigo-900/50 text-indigo-400":"bg-indigo-600 hover:bg-indigo-500 text-white shadow-lg shadow-indigo-900/20"}`,children:[o?l.jsx(rn,{className:"w-3.5 h-3.5"}):l.jsx(T0,{className:"w-3.5 h-3.5"}),l.jsx("span",{className:"text-xs font-bold uppercase tracking-wider hidden sm:inline",children:"Live"})]})}),l.jsx("div",{className:"w-px h-4 bg-slate-800 mx-1"}),i&&l.jsx("button",{onClick:i,className:"p-1.5 rounded hover:bg-slate-800 text-slate-500 hover:text-white transition-colors",title:a.clipboardTitle||"Clipboard",children:l.jsx(Zr,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>y(!v),className:`p-1.5 rounded transition-colors ${v?"text-indigo-400 bg-indigo-900/20":"text-slate-600 hover:text-slate-400"}`,title:"Toggle Text-to-Speech",children:v?l.jsx(xr,{className:"w-4 h-4"}):l.jsx(kc,{className:"w-4 h-4"})}),l.jsx("button",{onClick:x,className:"p-1.5 rounded hover:bg-slate-800 text-slate-600 hover:text-red-400 transition-colors",title:"Clear Chat",children:l.jsx(on,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 md:p-6 z-10 relative",children:[u.length===0?l.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center opacity-50 space-y-4",children:[l.jsx("div",{className:"w-16 h-16 bg-slate-800 rounded-2xl flex items-center justify-center",children:l.jsx(as,{className:"w-8 h-8 text-indigo-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-300",children:L.emptyTitle}),l.jsx("p",{className:"text-sm text-slate-500 max-w-xs mx-auto mt-2",children:L.emptyDesc})]})]}):u.map(R=>l.jsx(GT,{message:R},R.id)),l.jsx("div",{ref:m})]}),l.jsxs("div",{className:"absolute bottom-20 left-1/2 -translate-x-1/2 z-30 flex flex-col-reverse items-center gap-2 pointer-events-none w-full max-w-md px-4",children:[l.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border shadow-lg backdrop-blur-md transition-all duration-300 ease-out transform ${C?"opacity-100 translate-y-0 scale-100 bg-orange-950/90 border-orange-500/50 text-orange-200 shadow-orange-500/20":"opacity-0 translate-y-4 scale-90 pointer-events-none"}`,children:[l.jsx(hn,{className:"w-4 h-4 text-orange-400 animate-pulse"}),l.jsx("span",{className:"text-xs font-bold tracking-wider",children:L.statusListening})]}),l.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border shadow-lg backdrop-blur-md transition-all duration-300 ease-out transform ${A?"opacity-100 translate-y-0 scale-100 bg-sky-950/90 border-sky-500/50 text-sky-200 shadow-sky-500/20":"opacity-0 translate-y-4 scale-90 pointer-events-none absolute"}`,children:[l.jsx(Sn,{className:"w-4 h-4 text-sky-400 animate-spin"}),l.jsx("span",{className:"text-xs font-bold tracking-wider",children:L.statusAnalyzing})]})]}),l.jsx("div",{className:"z-20 relative",children:l.jsx(KT,{onSend:p,onRecordToggle:k,isRecording:C,isLoading:f,placeholder:L.placeholder,value:c,onChange:d,isFreeTier:o})}),j&&l.jsxs("div",{className:"absolute bottom-20 left-1/2 -translate-x-1/2 bg-red-900/90 text-red-200 px-4 py-2 rounded-lg text-sm border border-red-500/50 shadow-xl z-[60] animate-in slide-in-from-bottom-2",children:["Error: ",j]})]})},$p={ru:"Russian",en:"English","uz-latn":"Uzbek (Latin script)","uz-cyrl":"Uzbek (Cyrillic script)"},YT=async(e,t,n,r)=>{var u;if(!r)return console.error("Translation Error: API Key is missing."),"Error: No API Key.";if(!e||!e.trim())return"";const i=new ys({apiKey:r}),s=$p[t]||t,o=$p[n]||n,a=`You are a professional translator. 
    Your task is to translate text from ${s} to ${o}.
    
    STRICT RULES:
    1. Maintain the original tone, nuance, and formatting.
    2. Return ONLY the translation. Do not add introductory phrases like "Here is the translation".
    3. If the input is technically code or untranslatable, return it as is.
    `;try{return((u=(await i.models.generateContent({model:"gemini-3-flash-preview",contents:e,config:{systemInstruction:a,temperature:.3}})).text)==null?void 0:u.trim())||""}catch(c){console.error("Translation API Error:",c);let d="Error: Could not translate.";return c.message&&c.message.includes("429")?d="Error: Too many requests (429).":c.message&&c.message.includes("API key")&&(d="Error: Invalid API Key."),d}},QT=e=>{const[t,n]=w.useState(""),[r,i]=w.useState(""),[s,o]=w.useState("en"),[a,u]=w.useState("ru"),[c,d]=w.useState(!1),[f,m]=w.useState(!0),p=w.useRef(null),k=w.useCallback(async(N,j,E)=>{if(!N.trim()){i("");return}if(j===E){i(N);return}d(!0);try{const z=await YT(N,j,E,e);i(z)}catch(z){console.error("Translation Hook Error:",z),i("Error: Could not translate.")}finally{d(!1)}},[e]),C=w.useCallback((N,j=!1)=>{if(n(N),p.current&&clearTimeout(p.current),!N.trim()){i("");return}(f||j)&&(p.current=setTimeout(()=>{k(N,s,a)},800))},[f,s,a,k]),A=w.useCallback(()=>{p.current&&clearTimeout(p.current),k(t,s,a)},[t,s,a,k]),v=w.useCallback(()=>{m(N=>!N)},[]),y=w.useCallback(N=>{o(N),f&&t&&k(t,N,a)},[f,t,a,k]),x=w.useCallback(N=>{u(N),f&&t&&k(t,s,N)},[f,t,s,k]),S=w.useCallback(()=>{const N=a,j=s;o(N),u(j);const E=t,z=r;z&&z.trim().length>0?(n(z),k(z,N,j)):k(E,N,j)},[a,s,t,r,k]),I=w.useCallback(()=>{n(""),i("")},[]);return{inputText:t,setInputText:n,outputText:r,sourceLang:s,targetLang:a,isLoading:c,isLive:f,setIsLive:m,handleInputChange:C,triggerTranslation:A,toggleLive:v,changeSourceLang:y,changeTargetLang:x,swapLanguages:S,clearAll:I}},qp=[{code:"ru",label:"Russian",flag:""},{code:"en",label:"English",flag:""},{code:"uz-latn",label:"Uzbek (Lat)",flag:""},{code:"uz-cyrl",label:"Uzbek (Cyr)",flag:""}],JT=({language:e,apiKey:t,transferRequest:n,onToggleClipboard:r})=>{const{inputText:i,setInputText:s,outputText:o,sourceLang:a,targetLang:u,isLoading:c,isLive:d,setIsLive:f,handleInputChange:m,triggerTranslation:p,toggleLive:k,changeSourceLang:C,changeTargetLang:A,swapLanguages:v,clearAll:y}=QT(t),x=Ze(e),{addNotification:S}=Ht(),[I,N]=Ui.useState(!1),[j,E]=Ui.useState(!1),z=w.useRef(0);w.useEffect(()=>{n&&n.target==="translator"&&n.timestamp>z.current&&(z.current=n.timestamp,s(n.text),f(!1))},[n,s,f]);const L=async(_,B)=>{if(_)try{await navigator.clipboard.writeText(_),B?(N(!0),setTimeout(()=>N(!1),2e3)):(E(!0),setTimeout(()=>E(!1),2e3)),S(x.clipboardCopy+"!","success")}catch{S("Failed to copy","error")}},D=({value:_,onChange:B,exclude:U})=>l.jsxs("div",{className:"relative group",children:[l.jsx("select",{value:_,onChange:Z=>B(Z.target.value),className:"appearance-none bg-slate-800 text-slate-200 text-xs font-bold py-2 pl-3 pr-8 rounded-lg border border-slate-700 hover:border-indigo-500 hover:bg-slate-700/50 focus:outline-none focus:ring-1 focus:ring-indigo-500 transition-all cursor-pointer w-[110px] sm:w-[130px]",children:qp.map(Z=>l.jsxs("option",{value:Z.code,className:"bg-slate-800 text-slate-300",children:[Z.flag," ",Z.label]},Z.code))}),l.jsx(rl,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-slate-500 pointer-events-none group-hover:text-indigo-400 transition-colors"})]}),R=_=>{var B;return((B=qp.find(U=>U.code===_))==null?void 0:B.label)||_};return l.jsxs("div",{className:"flex flex-col h-full w-full bg-slate-900 overflow-hidden select-none",children:[l.jsxs("div",{className:"shrink-0 h-16 flex items-center justify-between px-4 md:px-6 border-b border-slate-800 bg-slate-900/80 backdrop-blur-sm z-10",children:[l.jsxs("div",{className:"flex items-center gap-2 text-indigo-400 mr-2 md:mr-0",children:[l.jsx(iu,{className:"w-5 h-5 hidden sm:block"}),l.jsx("span",{className:"font-semibold text-xs sm:text-sm tracking-wide uppercase hidden md:inline",children:x.transTitle})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(D,{value:a,onChange:C}),l.jsx("button",{onClick:v,className:"p-2 rounded-full hover:bg-slate-700 text-slate-400 hover:text-white transition-colors bg-slate-800 border border-slate-700 active:rotate-180 duration-300",title:"Swap Languages",children:l.jsx(Wb,{className:"w-4 h-4"})}),l.jsx(D,{value:u,onChange:A})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ae,{content:d?e==="ru"?"- ":"Live ON":e==="ru"?"-  ()":"Live OFF (Paused)",children:l.jsx("button",{onClick:k,className:`p-2 rounded-lg transition-colors border ${d?"text-amber-400 bg-amber-950/30 border-amber-900/50 hover:bg-amber-900/50":"text-emerald-400 bg-emerald-950/30 border-emerald-900/50 hover:bg-emerald-900/50"}`,children:d?l.jsx(_n,{className:"w-4 h-4"}):l.jsx(ol,{className:"w-4 h-4"})})}),l.jsx("div",{className:"w-px h-6 bg-slate-800 mx-1"}),r&&l.jsx(Ae,{content:x.clipboardTitle||"Clipboard",children:l.jsx("button",{onClick:r,className:"p-2 rounded-lg text-slate-500 hover:text-white hover:bg-slate-800 transition-colors",children:l.jsx(Zr,{className:"w-4 h-4"})})}),l.jsx(Ae,{content:x.transClear,children:l.jsx("button",{onClick:y,disabled:!i,className:"p-2 rounded-lg text-slate-500 hover:text-red-400 hover:bg-slate-800 transition-colors disabled:opacity-30 disabled:hover:bg-transparent disabled:hover:text-slate-500",children:l.jsx(on,{className:"w-4 h-4"})})})]})]}),l.jsxs("div",{className:"flex-1 flex flex-col md:flex-col overflow-hidden",children:[l.jsxs("div",{className:"flex-1 relative border-b border-slate-800/50 bg-slate-900 p-4 md:p-6 group",children:[l.jsx("div",{className:"absolute top-3 left-6 text-[10px] font-bold text-slate-500 uppercase tracking-widest pointer-events-none",children:R(a)}),l.jsx("textarea",{value:i,onChange:_=>m(_.target.value),placeholder:x.transPlaceholder,className:"w-full h-full bg-transparent resize-none focus:outline-none text-slate-200 text-lg md:text-xl leading-relaxed placeholder:text-slate-700 pt-6 custom-scrollbar",spellCheck:!1}),i&&l.jsx("button",{onClick:()=>L(i,!0),className:"absolute top-4 right-16 p-2 rounded-lg bg-slate-800/0 text-slate-600 group-hover:bg-slate-800 group-hover:text-slate-300 transition-all opacity-0 group-hover:opacity-100",title:x.transCopy,children:I?l.jsx(gr,{className:"w-4 h-4 text-emerald-500"}):l.jsx(Wn,{className:"w-4 h-4"})}),l.jsx("div",{className:"absolute bottom-4 right-6",children:l.jsx("button",{onClick:p,disabled:c||!i,className:`
                                p-3 rounded-full shadow-lg transition-all active:scale-95 flex items-center justify-center
                                ${c?"bg-slate-800 cursor-not-allowed text-slate-500":d?"bg-indigo-600 hover:bg-indigo-500 text-white":"bg-amber-600 hover:bg-amber-500 text-white animate-pulse"}
                            `,title:e==="ru"?"":"Translate",children:c?l.jsx(us,{className:"w-5 h-5 animate-spin"}):l.jsx(bc,{className:"w-5 h-5"})})})]}),l.jsxs("div",{className:"flex-1 relative bg-slate-950/30 p-4 md:p-6 group",children:[l.jsxs("div",{className:"absolute top-3 left-6 flex items-center gap-2",children:[l.jsx("span",{className:"text-[10px] font-bold text-indigo-500 uppercase tracking-widest",children:R(u)}),c&&l.jsx(us,{className:"w-3 h-3 text-indigo-500 animate-spin"})]}),l.jsx("textarea",{value:o,readOnly:!0,placeholder:c?x.waveProcessing:d?x.transOutput:e==="ru"?"  ...":"Translation paused...",className:"w-full h-full bg-transparent resize-none focus:outline-none text-indigo-100 text-lg md:text-xl leading-relaxed placeholder:text-slate-700/50 pt-6 custom-scrollbar font-medium"}),o&&l.jsx("button",{onClick:()=>L(o,!1),className:"absolute top-4 right-6 p-2 rounded-lg bg-slate-800/50 text-slate-400 hover:bg-indigo-600 hover:text-white transition-all shadow-lg",title:x.transCopy,children:j?l.jsx(gr,{className:"w-4 h-4 text-white"}):l.jsx(Wn,{className:"w-4 h-4"})})]})]})]})},Gp="fasttype_planner_data",XT=(e,t,n=20)=>{const[r,i]=w.useState([]),[s,o]=w.useState([]),[a,u]=w.useState("note"),[c,d]=w.useState(!1),{isRecording:f,startRecording:m,stopRecording:p,autoStopCountdown:k,visualizerDataRef:C}=xc(n),A=w.useRef(0);w.useEffect(()=>{try{const R=localStorage.getItem(Gp);if(R){const _=JSON.parse(R);i(_.notes||[]),o(_.tasks||[])}}catch(R){console.error("Failed to load planner data",R)}},[]),w.useEffect(()=>{const R={notes:r,tasks:s};localStorage.setItem(Gp,JSON.stringify(R))},[r,s]);const v=w.useCallback((R="",_="")=>{const B=_||`Note ${r.length+1}`,U={id:Date.now().toString()+Math.random(),title:B,content:R,timestamp:Date.now(),color:"yellow"};i(Z=>[U,...Z])},[r.length]),y=w.useCallback((R,_,B)=>{i(U=>U.map(Z=>Z.id===R?{...Z,content:_,title:B??Z.title}:Z))},[]),x=w.useCallback((R,_)=>{i(B=>B.map(U=>U.id===R?{...U,imageData:_}:U))},[]),S=w.useCallback(R=>{i(_=>_.filter(B=>B.id!==R))},[]),I=w.useCallback((R,_)=>{i(B=>B.map(U=>U.id===R?{...U,color:_}:U))},[]),N=w.useCallback(R=>{if(!R.trim())return;const _={id:Date.now().toString()+Math.random(),text:R,completed:!1,timestamp:Date.now()};o(B=>[_,...B])},[]),j=w.useCallback(R=>{o(_=>_.map(B=>B.id===R?{...B,completed:!B.completed}:B))},[]),E=w.useCallback(R=>{o(_=>_.filter(B=>B.id!==R))},[]),z=w.useCallback(()=>{o(R=>R.filter(_=>!_.completed))},[]),L=async(R,_)=>{A.current++,d(!0);try{const B=await eu(R,_,t);if(B&&B.trim()){const U=B.trim(),Z=U.charAt(0).toUpperCase()+U.slice(1);a==="task"?N(Z):v(Z)}}catch(B){console.error("Planner Transcription failed",B)}finally{A.current--,A.current===0&&d(!1)}};return{notes:r,tasks:s,isRecording:f,isAnalyzing:c,dictationMode:a,setDictationMode:u,visualizerDataRef:C,autoStopCountdown:k,addNote:v,updateNote:y,updateNoteImage:x,deleteNote:S,setNoteColor:I,addTask:N,toggleTask:j,deleteTask:E,clearCompletedTasks:z,toggleDictation:async()=>{f?await p():await m(L)}}},Kp={yellow:"bg-yellow-900/40 text-yellow-100 border-yellow-700/50 hover:border-yellow-600",blue:"bg-blue-900/40 text-blue-100 border-blue-700/50 hover:border-blue-600",green:"bg-emerald-900/40 text-emerald-100 border-emerald-700/50 hover:border-emerald-600",purple:"bg-purple-900/40 text-purple-100 border-purple-700/50 hover:border-purple-600",red:"bg-red-900/40 text-red-100 border-red-700/50 hover:border-red-600"},ZT=({note:e,onUpdate:t,onUpdateImage:n,onDelete:r,onColorChange:i,placeholder:s})=>{const{addNotification:o}=Ht(),[a,u]=w.useState(!1),[c,d]=w.useState(!1),f=w.useRef(null),m=S=>{if(S.type.startsWith("image/")){const I=new FileReader;I.onload=N=>{var E;const j=(E=N.target)==null?void 0:E.result;j&&(n(e.id,j),o("Image added to note","success"))},I.readAsDataURL(S)}},p=S=>{S.preventDefault(),S.stopPropagation(),u(!0)},k=S=>{S.preventDefault(),S.stopPropagation(),u(!1)},C=S=>{S.preventDefault(),S.stopPropagation(),u(!1),S.dataTransfer.files&&S.dataTransfer.files.length>0&&m(S.dataTransfer.files[0])},A=S=>{if(S.clipboardData.files&&S.clipboardData.files.length>0){const I=S.clipboardData.files[0];if(I.type.startsWith("image/")){S.preventDefault(),m(I);return}}},v=async()=>{if(e.content)try{if(window.require){const{clipboard:S}=window.require("electron");S.writeText(e.content),o("Note content copied","success");return}await navigator.clipboard.writeText(e.content),o("Note content copied","success")}catch(S){console.error(S),o("Failed to copy","error")}},y=async S=>{if(S.stopPropagation(),!!e.imageData)try{if(window.require){const{clipboard:j,nativeImage:E}=window.require("electron"),z=E.createFromDataURL(e.imageData);j.writeImage(z),o("Image copied","success");return}const N=await(await fetch(e.imageData)).blob();await navigator.clipboard.write([new ClipboardItem({[N.type]:N})]),o("Image copied","success")}catch(I){console.error(I),o("Failed to copy image","error")}},x=async()=>{var S;try{if(window.require){const{clipboard:j,nativeImage:E}=window.require("electron"),z=j.readImage();if(z&&!z.isEmpty()){const D=z.toDataURL();n(e.id,D),o("Image pasted from clipboard","success");return}const L=j.readText();if(L){t(e.id,L),o("Content replaced","success");return}}const I=await navigator.clipboard.read();for(const j of I)if(j.types.some(E=>E.startsWith("image/"))){const E=await j.getType(j.types.find(L=>L.startsWith("image/"))),z=new File([E],"pasted.png",{type:E.type});m(z);return}const N=await navigator.clipboard.readText();N&&(t(e.id,N),o("Content replaced","success"))}catch{(S=f.current)==null||S.focus(),o("Press Ctrl+V to paste","info")}};return l.jsxs(l.Fragment,{children:[c&&e.imageData&&l.jsxs("div",{className:"fixed inset-0 z-[9999] bg-black/90 backdrop-blur-sm flex items-center justify-center p-8 animate-in fade-in duration-200",onClick:()=>d(!1),children:[l.jsx("button",{className:"absolute top-4 right-4 p-2 bg-white/10 hover:bg-white/20 rounded-full text-white transition-colors",onClick:()=>d(!1),children:l.jsx(ot,{className:"w-6 h-6"})}),l.jsx("img",{src:e.imageData,alt:"Full Preview",className:"max-w-full max-h-full object-contain shadow-2xl rounded-md",onClick:S=>S.stopPropagation()})]}),l.jsxs("div",{className:`
                    relative p-3 rounded-xl shadow-lg border transition-all duration-300 flex flex-col gap-2 
                    backdrop-blur-sm select-none group
                    ${e.imageData?"min-h-[280px]":"min-h-[180px]"}
                    ${Kp[e.color]} 
                    ${a?"border-dashed border-white scale-105 bg-opacity-70 z-10":"hover:scale-[1.02] hover:shadow-xl hover:bg-opacity-50"}
                `,onDragOver:p,onDragLeave:k,onDrop:C,children:[a&&l.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/40 rounded-xl",children:l.jsx(R0,{className:"w-12 h-12 text-white animate-bounce"})}),l.jsxs("div",{className:"flex items-center justify-between opacity-60 hover:opacity-100 transition-opacity",children:[l.jsx("input",{type:"text",value:e.title,onChange:S=>t(e.id,e.content,S.target.value),placeholder:e.imageData?"CAPTION / TITLE":"TITLE",className:"bg-transparent border-none focus:outline-none text-xs font-bold uppercase tracking-wider w-full placeholder:text-white/30 text-white/90"}),l.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[l.jsx("button",{onClick:v,className:"p-1.5 rounded-full hover:bg-white/10 transition-colors opacity-0 group-hover:opacity-100",title:"Copy Content (Text)",children:l.jsx(Wn,{className:"w-3 h-3"})}),l.jsx("button",{onClick:x,className:"p-1.5 rounded-full hover:bg-white/10 transition-colors opacity-0 group-hover:opacity-100",title:"Paste & Replace",children:l.jsx(il,{className:"w-3 h-3"})}),l.jsx("div",{className:"w-px h-3 bg-white/20 mx-1"}),l.jsx("button",{onClick:()=>{const S=Object.keys(Kp),I=(S.indexOf(e.color)+1)%S.length;i(e.id,S[I])},className:"p-1.5 rounded-full hover:bg-white/10 transition-colors",title:"Change Color",children:l.jsx(sl,{className:"w-3 h-3"})}),l.jsx("button",{onClick:()=>r(e.id),className:"p-1.5 rounded-full hover:bg-red-500/20 hover:text-red-300 transition-colors",children:l.jsx(on,{className:"w-3 h-3"})})]})]}),e.imageData&&l.jsxs("div",{className:"relative w-full h-40 shrink-0 rounded-lg overflow-hidden bg-black/40 border border-white/10 group-hover:border-white/20 transition-colors flex items-center justify-center cursor-zoom-in",onClick:()=>d(!0),title:"Click to expand",children:[l.jsx("img",{src:e.imageData,alt:"Note Attachment",className:"max-w-full max-h-full object-contain"}),l.jsxs("div",{className:"absolute top-1 right-1 flex gap-1 opacity-0 group-hover:opacity-100 transition-all",children:[l.jsx("button",{onClick:y,className:"p-1.5 bg-black/60 text-white rounded-full hover:bg-indigo-600 backdrop-blur-sm",title:"Copy Image",children:l.jsx(Wn,{className:"w-3 h-3"})}),l.jsx("button",{onClick:S=>{S.stopPropagation(),n(e.id,"")},className:"p-1.5 bg-black/60 text-white rounded-full hover:bg-red-600 backdrop-blur-sm",title:"Remove Image",children:l.jsx(on,{className:"w-3 h-3"})})]})]}),l.jsx("textarea",{ref:f,value:e.content,onChange:S=>t(e.id,S.target.value),onPaste:A,placeholder:e.imageData?"Add a description...":s,className:`w-full bg-transparent resize-none border-none focus:outline-none leading-relaxed font-medium placeholder:text-white/20 custom-scrollbar select-text cursor-text ${e.imageData?"h-auto text-xs min-h-[40px] mt-1":"h-full text-sm"}`,spellCheck:!1}),l.jsx("div",{className:"text-[9px] opacity-40 font-mono text-right mt-auto pt-1",children:new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},eE=({task:e,onToggle:t,onDelete:n})=>l.jsxs("div",{className:`
            group flex items-center gap-3 p-3 rounded-lg border transition-all duration-200 select-none
            ${e.completed?"bg-slate-800/30 border-slate-800 text-slate-500":"bg-slate-800/80 border-slate-700 text-slate-200 hover:border-indigo-500/30"}
        `,children:[l.jsx("button",{onClick:()=>t(e.id),className:`shrink-0 transition-colors ${e.completed?"text-emerald-500":"text-slate-400 hover:text-white"}`,children:e.completed?l.jsx(A0,{className:"w-5 h-5"}):l.jsx(Yn,{className:"w-5 h-5"})}),l.jsx("span",{className:`flex-1 text-sm font-medium break-all ${e.completed?"line-through decoration-slate-600":""}`,children:e.text}),l.jsx("button",{onClick:()=>n(e.id),className:"shrink-0 p-1.5 rounded text-slate-600 hover:text-red-400 hover:bg-slate-700/50 opacity-0 group-hover:opacity-100 transition-all",children:l.jsx(on,{className:"w-4 h-4"})})]}),tE=({language:e,apiKey:t,onToggleClipboard:n,settings:r})=>{const i=Ze(e),{addNotification:s}=Ht(),o=(r==null?void 0:r.isFreeTier)??!0,{notes:a,tasks:u,isRecording:c,isAnalyzing:d,dictationMode:f,setDictationMode:m,visualizerDataRef:p,autoStopCountdown:k,addNote:C,updateNote:A,updateNoteImage:v,deleteNote:y,setNoteColor:x,addTask:S,toggleTask:I,deleteTask:N,clearCompletedTasks:j,toggleDictation:E}=XT(t,e),[z,L]=w.useState(""),D={title:i.planTitle||"Notes & Tasks",newNote:i.planNewNote||"New Note",newTask:i.planNewTask||"New Task",dictateNote:i.planDictateNote||"Dictate Note",dictateTask:i.planDictateTask||"Dictate Task",clearDone:i.planClearDone||"Clear Done",emptyTasks:i.planEmptyTasks||"No tasks for today",emptyNotes:i.planEmptyNotes||"Your notes will appear here",notePlace:i.planNotePlaceholder||"Note content...",taskPlace:i.planTaskPlaceholder||"Add a task...",listening:i.visListening||"LISTENING",analyzing:i.visAnalyzing||"ANALYZING"},R=_=>{_.preventDefault(),z.trim()&&(S(z),L(""))};return l.jsxs("div",{className:"flex flex-col h-full w-full bg-slate-900 overflow-hidden relative select-none",children:[l.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none opacity-30",children:l.jsx(cs,{visualizerDataRef:p,isRecording:c||d,visualizerStyle:"bars",amp:1,lowCut:5,highCut:60,gravity:3,mirror:!0})}),l.jsxs("div",{className:"shrink-0 h-14 flex items-center justify-between px-4 border-b border-slate-800 bg-slate-900/90 backdrop-blur-sm z-20",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs("span",{className:"text-slate-200 font-bold tracking-wide flex items-center gap-2",children:[l.jsx(D0,{className:"w-5 h-5 text-indigo-400"}),D.title]})}),l.jsxs("div",{className:"flex items-center gap-2",children:[n&&l.jsx(Ae,{content:i.clipboardTitle||"Clipboard",side:"bottom",children:l.jsx("button",{onClick:n,className:"p-2 rounded-lg text-slate-500 hover:text-white hover:bg-slate-800 transition-colors",children:l.jsx(Zr,{className:"w-4 h-4"})})}),l.jsx("div",{className:"w-px h-5 bg-slate-700 mx-1"}),l.jsx(Ae,{content:D.clearDone,side:"bottom",children:l.jsx("button",{onClick:j,className:"p-2 rounded-lg text-slate-400 hover:text-red-400 hover:bg-slate-800",children:l.jsx(nu,{className:"w-4 h-4"})})})]})]}),l.jsxs("div",{className:"flex-1 flex overflow-hidden z-10 relative",children:[l.jsx("div",{className:"w-1/2 p-4 overflow-y-auto custom-scrollbar border-r border-slate-800/50 bg-slate-900/50",children:l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 pb-20",children:[l.jsxs("button",{onClick:()=>C(),className:`
                                min-h-[180px] rounded-xl border-2 border-dashed border-slate-700 hover:border-indigo-500/50 bg-slate-800/30 hover:bg-slate-800/60
                                flex flex-col items-center justify-center gap-3 transition-all duration-300 group
                            `,children:[l.jsx("div",{className:"p-3 rounded-full bg-slate-800 group-hover:bg-indigo-600 text-slate-400 group-hover:text-white transition-colors shadow-lg",children:l.jsx(su,{className:"w-6 h-6"})}),l.jsx("span",{className:"text-xs font-bold text-slate-500 group-hover:text-indigo-300 tracking-wider uppercase",children:D.newNote})]}),a.map(_=>l.jsx(ZT,{note:_,onUpdate:A,onUpdateImage:v,onDelete:y,onColorChange:x,placeholder:D.notePlace},_.id))]})}),l.jsxs("div",{className:"w-1/2 flex flex-col bg-slate-900/30",children:[l.jsx("form",{onSubmit:R,className:"p-4 border-b border-slate-800 bg-slate-900/50",children:l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",value:z,onChange:_=>L(_.target.value),placeholder:D.taskPlace,className:"w-full bg-slate-800 text-slate-200 rounded-lg pl-4 pr-10 py-3 text-sm focus:outline-none focus:ring-1 focus:ring-indigo-500 placeholder:text-slate-600"}),l.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 text-slate-400 hover:text-indigo-400 transition-colors",children:l.jsx(su,{className:"w-4 h-4"})})]})}),l.jsx("div",{className:"flex-1 p-4 overflow-y-auto custom-scrollbar pb-20",children:u.length===0?l.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-30 text-slate-400",children:[l.jsx(nu,{className:"w-12 h-12 mb-2"}),l.jsx("span",{className:"text-sm",children:D.emptyTasks})]}):l.jsx("div",{className:"space-y-2",children:u.sort((_,B)=>Number(_.completed)-Number(B.completed)||B.timestamp-_.timestamp).map(_=>l.jsx(eE,{task:_,onToggle:I,onDelete:N},_.id))})})]})]}),l.jsxs("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 z-30 flex flex-col items-center gap-3",children:[(c||d)&&l.jsxs("div",{className:"flex items-center gap-2 animate-in slide-in-from-bottom-2 fade-in",children:[c&&l.jsxs("div",{className:"bg-red-950/80 text-red-400 px-3 py-1 rounded-full text-[10px] font-bold border border-red-500/50 shadow-lg flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),D.listening," ",k!==null&&`(${k})`]}),d&&l.jsxs("div",{className:"bg-sky-950/80 text-sky-400 px-3 py-1 rounded-full text-[10px] font-bold border border-sky-500/50 shadow-lg flex items-center gap-2",children:[l.jsx(us,{className:"w-3 h-3 animate-spin"}),D.analyzing]})]}),l.jsxs("div",{className:"flex items-center p-1 bg-slate-800/90 backdrop-blur border border-slate-700 rounded-full shadow-2xl",children:[l.jsxs("div",{className:"flex bg-slate-900 rounded-full p-1 mr-2",children:[l.jsx("button",{onClick:()=>m("note"),className:`px-3 py-1.5 rounded-full text-xs font-bold transition-all ${f==="note"?"bg-yellow-200 text-yellow-900 shadow-sm":"text-slate-500 hover:text-slate-300"}`,children:"Note"}),l.jsx("button",{onClick:()=>m("task"),className:`px-3 py-1.5 rounded-full text-xs font-bold transition-all ${f==="task"?"bg-indigo-200 text-indigo-900 shadow-sm":"text-slate-500 hover:text-slate-300"}`,children:"Task"})]}),l.jsx(Ae,{content:o?i.paidFeatureTooltip||"Paid Tier Only":"Dictate",children:l.jsx("button",{onClick:o?void 0:E,disabled:d&&!c||o,className:`
                                w-12 h-12 flex items-center justify-center rounded-full transition-all duration-300 shadow-lg border-2
                                ${o?"bg-slate-800 border-slate-700 text-slate-600 cursor-not-allowed opacity-70":c?"bg-red-500 border-red-400 text-white scale-110 shadow-red-500/40":"bg-slate-700 border-slate-600 text-slate-200 hover:bg-slate-600 hover:border-slate-500"}
                            `,children:o?l.jsx(rn,{className:"w-5 h-5"}):c?l.jsx("div",{className:"w-4 h-4 bg-white rounded-sm animate-pulse"}):l.jsx(hn,{className:"w-6 h-6"})})})]})]})]})},ra="fasttype_settings_v1",ia={enabled:!0,debounceMs:700,finalizationTimeout:5e3,miniScripts:!0,fixTypos:!0,fixPunctuation:!0,clipboardEnabled:!0,silenceThreshold:15,audioModel:"gemini-2.5-flash",ttsVoice:"Puck",economyMode:!0,dictionaryCheck:!0,visualizerLowCut:0,visualizerHighCut:128,visualizerAmp:.4,visualizerStyle:"wave",visualizerNorm:!1,visualizerGravity:2,visualizerMirror:!0,developerMode:!1,monochromeMode:!1,voiceControlEnabled:!1,wakeWord:"start recording",isFreeTier:!0},nE=()=>{const[e,t]=w.useState("loading"),[n,r]=w.useState(""),[i,s]=w.useState(""),[o,a]=w.useState(!1),[u,c]=w.useState("editor"),[d,f]=w.useState("ru"),[m,p]=w.useState("idle"),[k,C]=w.useState(!1),[A,v]=w.useState({corrections:0}),[y,x]=w.useState(0),[S,I]=w.useState(!1),[N,j]=w.useState(!1),[E,z]=w.useState(()=>{try{const te=localStorage.getItem(ra);if(te)return{...ia,...JSON.parse(te)}}catch(te){console.warn("Failed to load settings",te)}return ia});w.useEffect(()=>{localStorage.setItem(ra,JSON.stringify(E))},[E]);const[L,D]=w.useState(!1),[R,_]=w.useState(!1),[B,U]=w.useState(!1),[Z,W]=w.useState(!1),[P,q]=w.useState(!1),[T,F]=w.useState(()=>{try{const te=localStorage.getItem("fasttype_clipboard");return te?JSON.parse(te):[]}catch{return[]}}),[O,b]=w.useState([]);w.useEffect(()=>{localStorage.setItem("fasttype_clipboard",JSON.stringify(T))},[T]);const[H,J]=w.useState(null);w.useEffect(()=>{if(window.require)try{const te=window.require("electron");J(te.ipcRenderer)}catch{console.log("Electron not found (likely in browser mode)")}},[]),w.useEffect(()=>{(async()=>{const Se=zb(),ze=new Promise(pl=>setTimeout(pl,2e3)),ht=localStorage.getItem("gemini_api_key")||"";r(ht);const et=localStorage.getItem("fasttype_lock_code");et&&(s(et),a(!0)),await Promise.all([ze,Se]),j(!0),t("welcome")})()},[]);const M=w.useCallback(te=>{localStorage.setItem("gemini_api_key",te),$f(te),c("editor"),p("idle"),t("app")},[]),K=w.useCallback(te=>{localStorage.setItem("gemini_api_key",te),$f(te),r(te)},[]),se=w.useCallback(()=>{i&&a(!0),t("welcome"),D(!1),_(!1),W(!1),U(!1),q(!1),c("editor")},[i]),ge=w.useCallback(te=>{localStorage.setItem("fasttype_lock_code",te),s(te),a(!1)},[]),ye=w.useCallback(()=>{localStorage.removeItem("fasttype_lock_code"),s(""),a(!1)},[]),ee=w.useCallback(te=>te===i,[i]),Y=w.useCallback(()=>(localStorage.removeItem("fasttype_lock_code"),s(""),a(!1),localStorage.removeItem("fasttype_clipboard"),F([]),v({corrections:0}),a(!1),localStorage.removeItem("fasttype_editor_state_v2"),z(ia),localStorage.removeItem(ra),b([]),!0),[]),oe=w.useCallback(te=>te===i?(a(!1),!0):!1,[i]),ue=w.useCallback(()=>{localStorage.removeItem("gemini_api_key"),r(""),D(!1),t("welcome")},[]),ce=w.useCallback(()=>{v(te=>({corrections:te.corrections+1}))},[]),de=w.useCallback(()=>{f(te=>te==="ru"?"uz-latn":te==="uz-latn"?"uz-cyrl":te==="uz-cyrl"?"en":"ru")},[]),we=w.useCallback(()=>{D(te=>!te),_(!1),W(!1),U(!1),q(!1)},[]),Ne=w.useCallback(()=>{_(te=>!te),D(!1),W(!1),U(!1),q(!1)},[]),Q=w.useCallback(()=>{U(te=>!te),_(!1),D(!1),W(!1),q(!1)},[]),$=w.useCallback(()=>{W(te=>!te),D(!1),_(!1),U(!1),q(!1)},[]),G=w.useCallback(()=>{q(te=>!te),D(!1),_(!1),U(!1),W(!1)},[]),fe=w.useCallback(()=>{_(!1),D(!1),W(!1),U(!1),q(!1)},[]),he=w.useCallback(te=>{!E.clipboardEnabled||!te||F(Se=>[{id:Math.random().toString(36).substring(7),text:te,timestamp:Date.now()},...Se].slice(0,50))},[E.clipboardEnabled]),xe=w.useCallback(te=>{F([])},[]),ke=w.useCallback(te=>{b(Se=>[te,...Se].slice(0,20))},[]),V=w.useCallback(te=>{b(Se=>Se.filter(ze=>ze.id!==te))},[]),X=w.useCallback(()=>{b([])},[]),ae=w.useCallback(()=>{x(te=>te+1),z(te=>({...te,enabled:!0,miniScripts:!0,fixTypos:!0,fixPunctuation:!0,dictionaryCheck:!0})),p("idle")},[]),pe=w.useCallback(()=>{z(te=>te.enabled?(p("paused"),{...te,enabled:!1}):(p("idle"),{...te,enabled:!0}))},[]),le=w.useCallback(()=>{z(te=>({...te,isFreeTier:!0,enabled:!0}))},[]),ve=w.useCallback(()=>{const te=!S;I(te),H&&H.send("window-toggle-always-on-top",te)},[S,H]),Ue=w.useCallback(te=>{H&&H.send(`window-${te}`)},[H]);return w.useEffect(()=>{const te=Se=>{if(Se.code==="F1"){Se.preventDefault(),$();return}if(Se.code==="Home"){const ze=Se.target;if(!(ze.tagName==="TEXTAREA"||ze.tagName==="INPUT"||ze.isContentEditable)){Se.preventDefault(),se();return}}if(Se.ctrlKey||Se.metaKey)switch(Se.code){case"Digit1":Se.preventDefault(),c("editor");break;case"Digit2":Se.preventDefault(),c("chat");break;case"Digit3":Se.preventDefault(),c("translator");break;case"Digit4":Se.preventDefault(),c("planner");break}if(Se.altKey)switch(Se.code){case"KeyS":Se.preventDefault(),we();break;case"KeyV":Se.preventDefault(),Ne();break;case"KeyH":Se.preventDefault(),Q();break}};return window.addEventListener("keydown",te),()=>window.removeEventListener("keydown",te)},[we,Ne,$,Q,se]),{state:{appState:e,storedKey:n,language:d,status:m,isGrammarChecking:k,stats:A,settings:E,showSettings:L,showClipboard:R,showHistory:B,showHelp:Z,showAudioArchive:P,clipboardHistory:T,audioArchive:O,resetSignal:y,isLocked:o,hasLock:!!i,currentTab:u,isPinned:S,dictionariesLoaded:N},actions:{setLanguage:f,setStatus:p,setIsGrammarChecking:C,setSettings:z,setAppState:t,handleStartApp:M,handleReturnToWelcome:se,handleResetKey:ue,handleUpdateKey:K,incrementStats:ce,toggleLanguage:de,toggleSettings:we,toggleClipboard:Ne,toggleHistory:Q,toggleHelp:$,toggleAudioArchive:G,closeOverlays:fe,handleClipboardAction:he,handleClearClipboard:xe,handleAddToAudioArchive:ke,handleRemoveFromAudioArchive:V,handleClearAudioArchive:X,handleWindowControl:Ue,handleResetProcessor:ae,handleSetLock:ge,handleRemoveLock:ye,handleUnlock:oe,validatePin:ee,setCurrentTab:c,handleToggleProcessing:pe,handleTogglePin:ve,handleWipeData:Y,handleForceFreeTier:le}}},rE=(e,t,n,r,i)=>{const[s,o]=w.useState("idle"),a=w.useRef(null),u=w.useRef(t),c=w.useRef(null);w.useEffect(()=>{u.current=t,t&&a.current?(console.log("[VoiceControl] Main recording started, aborting listener."),a.current.onend=null,a.current.abort(),o("idle")):!t&&e&&s==="idle"&&d()},[t]);const d=()=>{if(!e||u.current)return;const m=window.SpeechRecognition||window.webkitSpeechRecognition;if(!m){console.warn("[VoiceControl] Speech Recognition not supported in this browser/environment."),o("unsupported");return}try{a.current&&(a.current.onend=null,a.current.abort());const p=new m;p.continuous=!0,p.interimResults=!0,p.maxAlternatives=1;let k="en-US";r==="ru"?k="ru-RU":(r==="uz-latn"||r==="uz-cyrl")&&(k="uz-UZ"),p.lang=k,p.onstart=()=>{console.log("[VoiceControl] Started listening..."),o("listening")},p.onresult=C=>{if(u.current)return;const A=C.results.length,y=C.results[A-1][0].transcript.toLowerCase().trim(),x=n.toLowerCase().trim();if(y.includes(x)){console.log(`[VoiceControl] TRIGGERED! "${y}" matched "${x}"`),o("success"),p.onend=null,p.abort(),i();const S=new Audio("./sounds/misc/mic_on.mp3");S.volume=.5,S.play().catch(()=>{})}},p.onerror=C=>{console.warn("[VoiceControl] Error:",C.error),C.error==="not-allowed"||C.error==="service-not-allowed"?o("error_denied"):C.error==="network"?o("error_network"):C.error==="no-speech"&&o("error_no_speech")},p.onend=()=>{e&&!u.current?s!=="error_denied"&&s!=="error_network"&&(c.current=setTimeout(()=>d(),200)):o("idle")},p.start(),a.current=p}catch(p){console.error("[VoiceControl] Exception:",p),o("unsupported")}},f=()=>{c.current&&clearTimeout(c.current),a.current&&(a.current.onend=null,a.current.abort(),a.current=null),o("idle")};return w.useEffect(()=>(e&&!t?d():f(),()=>{f()}),[e,n,r]),{status:s}};function iE(){const{state:e,actions:t}=nE(),{addNotification:n}=Ht(),r=Ze(e.language),[i,s]=w.useState(!0),[o,a]=w.useState(!1),[u,c]=w.useState(!1);w.useEffect(()=>{e.appState!=="loading"&&(a(!0),setTimeout(()=>{c(!0)},500),setTimeout(()=>{s(!1)},1200))},[e.appState]);const[d,f]=w.useState(!1),[m,p]=w.useState(!1),[k,C]=w.useState(!1);w.useEffect(()=>{e.appState==="app"?requestAnimationFrame(()=>{requestAnimationFrame(()=>{C(!0)})}):C(!1)},[e.appState]);const[A,v]=w.useState(0),y=w.useRef(null),{status:x}=rE(e.settings.voiceControlEnabled&&e.appState==="app",e.status==="recording"||e.status==="transcribing",e.settings.wakeWord||"start recording",e.language,()=>{y.current&&(y.current.toggleRecording(),n(r.vcActivated||"Voice Command","info",1500))}),[S,I]=w.useState(null);w.useEffect(()=>{const b=H=>{var J,M,K,se,ge,ye;if(!(e.appState!=="app"||e.currentTab!=="editor")&&H.altKey&&!H.ctrlKey&&!H.shiftKey)switch(H.code){case"Backquote":H.preventDefault(),(J=y.current)==null||J.switchLayout();break;case"Digit1":H.preventDefault(),(M=y.current)==null||M.cut();break;case"Digit2":H.preventDefault(),(K=y.current)==null||K.copy();break;case"Digit3":H.preventDefault(),(se=y.current)==null||se.paste();break;case"Digit4":H.preventDefault(),(ge=y.current)==null||ge.clearAndPaste();break;case"Digit5":H.preventDefault(),(ye=y.current)==null||ye.clear();break}};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[e.appState,e.currentTab]);const N=w.useCallback(()=>{v(b=>b+1)},[]),j=b=>{p(!0),setTimeout(()=>{t.handleStartApp(b),p(!1)},600)},E=()=>{f(!0),setTimeout(()=>{t.handleReturnToWelcome(),f(!1)},500)},z=w.useCallback(()=>{var b;(b=y.current)==null||b.clear()},[]),L=w.useCallback(()=>{var b;(b=y.current)==null||b.copy()},[]),D=w.useCallback(()=>{var b;(b=y.current)==null||b.paste()},[]),R=w.useCallback(()=>{var b;(b=y.current)==null||b.cut()},[]),_=w.useCallback(()=>{var b;(b=y.current)==null||b.clearAndPaste()},[]),B=w.useCallback(()=>{var b;(b=y.current)==null||b.switchLayout()},[]),U=w.useCallback(()=>{var H;const b=(H=y.current)==null?void 0:H.getText();b&&b.trim()&&(I({text:b,target:"chat",timestamp:Date.now()}),t.setCurrentTab("chat"))},[t]),Z=w.useCallback(()=>{var H;const b=(H=y.current)==null?void 0:H.getText();b&&b.trim()&&(I({text:b,target:"translator",timestamp:Date.now()}),t.setCurrentTab("translator"))},[t]),W=w.useCallback(async()=>{var H;const b=(H=y.current)==null?void 0:H.getText();if(!(!b||!b.trim())){if(e.settings.isFreeTier){n(r.paidFeatureTooltip||"Only for Paid Tier keys","warning");return}t.setStatus("speaking"),n(e.language==="ru"?"...":"Generating Speech...","info");try{const J=await wb(b,e.settings.ttsVoice);J&&t.handleAddToAudioArchive({id:Date.now().toString(),text:b.substring(0,100)+(b.length>100?"...":""),base64Audio:J,voice:e.settings.ttsVoice,timestamp:Date.now()})}catch(J){console.error("Failed to speak",J),n(e.language==="ru"?" ":"Speech generation failed","error")}finally{t.setStatus(e.settings.enabled?"idle":"paused")}}},[e.settings.ttsVoice,e.settings.enabled,e.settings.isFreeTier,t,n,e.language]),P=w.useCallback(()=>{t.handleWipeData(),y.current&&y.current.fullWipe()},[t]),q=w.useCallback(()=>{t.handleForceFreeTier();const b=e.language==="ru"?"  .     (Free).":"Quota exceeded. Switched to Free Mode.";n(b,"warning",6e3)},[t,e.language,n]),F=["editor","chat","translator","planner"].indexOf(e.currentTab),O=b=>{const H=b===F,J="absolute inset-0 w-full h-full flex flex-col transition-[opacity,transform,filter] duration-500 ease-[cubic-bezier(0.25,1,0.5,1)] will-change-transform backface-hidden";return H?`${J} opacity-100 scale-100 blur-0 z-10 pointer-events-auto`:`${J} opacity-0 scale-90 blur-sm z-0 pointer-events-none grayscale brightness-50`};return l.jsxs(l.Fragment,{children:[i&&l.jsx(H2,{isExiting:o}),e.appState==="welcome"&&l.jsxs("div",{className:`fixed inset-0 z-0 w-full h-full transition-all duration-1000 ease-out ${u?"opacity-100 blur-0 scale-100":"opacity-0 blur-lg scale-95"}`,children:[l.jsx(U2,{initialKey:e.storedKey,onStart:j,language:e.language,setLanguage:t.setLanguage,isLocked:e.isLocked,hasLock:e.hasLock,onUnlock:t.handleUnlock,onSetLock:t.handleSetLock,isExiting:m,onWindowControl:t.handleWindowControl,onWipeData:P,settings:e.settings,onUpdateSettings:t.setSettings}),l.jsx(Xf,{})]}),e.appState==="app"&&l.jsxs("div",{className:`fixed inset-0 w-full h-full flex flex-col bg-slate-950 text-slate-200 overflow-hidden transition-[opacity,transform,filter] duration-1000 ease-[cubic-bezier(0.16,1,0.3,1)] supports-[height:100dvh]:h-[100dvh] ${u?d?"opacity-0 scale-90 blur-xl brightness-50":k?"opacity-100 scale-100 blur-0 brightness-100":"opacity-0 scale-95 blur-md brightness-50":"opacity-0 scale-95 blur-md brightness-50"}`,children:[l.jsx(G2,{language:e.language,status:e.status,isGrammarChecking:e.isGrammarChecking,stats:e.stats,settings:e.settings,showClipboard:e.showClipboard,showSettings:e.showSettings,showHistory:e.showHistory,currentTab:e.currentTab,setCurrentTab:t.setCurrentTab,isPinned:e.isPinned,onTogglePin:t.handleTogglePin,onSetLanguage:t.setLanguage,onTogglePause:t.handleToggleProcessing,onToggleClipboard:t.toggleClipboard,onToggleSettings:t.toggleSettings,onToggleHistory:t.toggleHistory,onToggleHelp:t.toggleHelp,onGoHome:E,onWindowControl:t.handleWindowControl,onResetProcessor:t.handleResetProcessor,historyUpdateCount:A,onClearText:z,onCopyText:L,onPasteText:D,onCutText:R,onClearAndPaste:_,onSwitchLayout:B,onUpdateSettings:t.setSettings,onSendToChat:U,onSendToTranslator:Z,onSpeakText:W,onToggleArchive:t.toggleAudioArchive,showArchive:e.showAudioArchive}),l.jsx(Xf,{}),l.jsx(Y2,{isOpen:e.showHelp,onClose:()=>t.toggleHelp(),language:e.language}),l.jsx("div",{className:"relative z-40 w-full h-0",children:l.jsx("div",{className:`absolute top-0 left-0 w-full transform transition-[transform,opacity] duration-500 ease-[cubic-bezier(0.32,0.72,0,1)] ${e.showSettings?"translate-y-0 opacity-100 shadow-2xl pointer-events-auto":"-translate-y-full opacity-0 pointer-events-none"}`,children:l.jsx(W2,{settings:e.settings,language:e.language,onUpdateSettings:t.setSettings,onResetKey:t.handleResetKey,onUpdateApiKey:t.handleUpdateKey,hasLock:e.hasLock,onRemoveLock:t.handleRemoveLock,onSetLock:t.handleSetLock,onClose:t.toggleSettings,isVisible:e.showSettings,onVerifyPin:t.validatePin,voiceStatus:x})})}),l.jsxs("main",{className:"flex-1 relative bg-slate-900 w-full h-full overflow-hidden z-0",children:[l.jsx(V2,{items:e.clipboardHistory,isOpen:e.showClipboard,isEnabled:e.settings.clipboardEnabled,onToggleEnabled:()=>t.setSettings(b=>({...b,clipboardEnabled:!b.clipboardEnabled})),onClose:t.closeOverlays,onClear:t.handleClearClipboard,language:e.language}),l.jsx($2,{items:e.audioArchive,isOpen:e.showAudioArchive,onClose:t.closeOverlays,onRemove:t.handleRemoveFromAudioArchive,onClear:t.handleClearAudioArchive,language:e.language}),l.jsx("div",{className:O(0),children:l.jsx(M2,{ref:y,settings:e.settings,onStatsUpdate:t.incrementStats,language:e.language,status:e.status,onStatusChange:t.setStatus,setIsGrammarChecking:t.setIsGrammarChecking,onClipboardAction:t.handleClipboardAction,resetSignal:e.resetSignal,showHistory:e.showHistory,onToggleHistory:t.toggleHistory,onPauseProcessing:()=>t.setSettings(b=>({...b,enabled:!1})),onToggleProcessing:t.handleToggleProcessing,onInteraction:t.closeOverlays,onHistoryUpdate:N,showClipboard:e.showClipboard,onToggleClipboard:t.toggleClipboard,onQuotaExceeded:q})}),l.jsx("div",{className:O(1),children:l.jsx(WT,{language:e.language,apiKey:e.storedKey,settings:e.settings,transferRequest:S,onToggleClipboard:t.toggleClipboard})}),l.jsx("div",{className:O(2),children:l.jsx(JT,{language:e.language,apiKey:e.storedKey,transferRequest:S,onToggleClipboard:t.toggleClipboard})}),l.jsx("div",{className:O(3),children:l.jsx(tE,{language:e.language,apiKey:e.storedKey,onToggleClipboard:t.toggleClipboard,settings:e.settings})})]}),l.jsxs("footer",{className:"shrink-0 py-1 text-center text-slate-700 text-[10px] bg-slate-900 border-t border-slate-800 select-none z-50 relative",children:[" ",r.footer,e.currentTab==="chat"&&"  Assistant Mode",e.currentTab==="translator"&&"  Translator",e.currentTab==="planner"&&"  Planner"]})]})]})}const bg=document.getElementById("root");if(!bg)throw new Error("Could not find root element to mount to");const sE=sa.createRoot(bg);sE.render(l.jsx(Ui.StrictMode,{children:l.jsx(Ab,{children:l.jsx(iE,{})})}));
